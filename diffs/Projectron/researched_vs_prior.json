{
  "project": "Research Data/Projectron",
  "repo": "Eden-Cohen1/Projectron",
  "prior_commit": "2cddc9edf806a39818e5cdf698fe4dd7ac764931",
  "researched_commit": "b0c6e9a966b61ae3f72057f07e3c20c6cc0d8ebe",
  "compare_url": "https://github.com/Eden-Cohen1/Projectron/compare/2cddc9edf806a39818e5cdf698fe4dd7ac764931...b0c6e9a966b61ae3f72057f07e3c20c6cc0d8ebe",
  "ahead_by": 1,
  "behind_by": 0,
  "changed_files": [
    {
      "path": ".gitignore",
      "status": "modified",
      "additions": 1,
      "deletions": 0,
      "patch": "@@ -3,3 +3,4 @@ __pycache__/\n .env\n .venv/\n _atomic-write*\n+.history\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -3,3 +3,4 @@ __pycache__/\n",
        " .env\n",
        " .venv/\n",
        " _atomic-write*\n",
        "+.history\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": ".history/frontend/src/app/projects/new/page_20250511001153.tsx",
      "status": "added",
      "additions": 158,
      "deletions": 0,
      "patch": "@@ -0,0 +1,158 @@\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import { apiClient } from \"@/lib/api\";\r\n+import { getToken } from \"@/lib/auth\";\r\n+import { Card } from \"@/components/ui/card\";\r\n+import { PlanGenerationInput } from \"@/components/projects/new/types\";\r\n+import { PlanGenerationForm } from \"@/components/projects/new/components/plan-generation-form\";\r\n+import { ClarificationQuestionsSection } from \"@/components/projects/new/components/clarification-questions-section\";\r\n+\r\n+export default function NewProjectPage() {\r\n+  const router = useRouter();\r\n+  const [step, setStep] = useState<\"input\" | \"clarification\" | \"generating\">(\r\n+    \"input\"\r\n+  );\r\n+  const [projectInput, setProjectInput] = useState<PlanGenerationInput | null>(\r\n+    null\r\n+  );\r\n+  const [questions, setQuestions] = useState<string[]>([]);\r\n+  const [answers, setAnswers] = useState<Record<string, string>>({});\r\n+  const [isGeneratingQuestions, setIsGeneratingQuestions] = useState(false);\r\n+  const [isGeneratingPlan, setIsGeneratingPlan] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+\r\n+  // Handle form submission to generate clarification questions\r\n+  const handleGenerateQuestions = async (formData: PlanGenerationInput) => {\r\n+    setIsGeneratingQuestions(true);\r\n+    setError(null);\r\n+\r\n+    try {\r\n+      const token = getToken();\r\n+      if (!token) {\r\n+        throw new Error(\"Not authenticated\");\r\n+      }\r\n+\r\n+      const response = await apiClient<{ questions: string[] }>(\r\n+        \"/plan/clarify\",\r\n+        {\r\n+          method: \"POST\",\r\n+          body: formData,\r\n+          token,\r\n+        }\r\n+      );\r\n+\r\n+      setProjectInput(formData);\r\n+      setQuestions(response.questions);\r\n+      setStep(\"clarification\");\r\n+    } catch (err) {\r\n+      console.error(\"Error generating questions:\", err);\r\n+      setError(\r\n+        err instanceof Error\r\n+          ? err.message\r\n+          : \"Failed to generate questions. Please try again.\"\r\n+      );\r\n+    } finally {\r\n+      setIsGeneratingQuestions(false);\r\n+    }\r\n+  };\r\n+\r\n+  // Handle submission of clarification answers to generate the plan\r\n+  const handleGeneratePlan = async (\r\n+    questionAnswers: Record<string, string>\r\n+  ) => {\r\n+    if (!projectInput) return;\r\n+\r\n+    setIsGeneratingPlan(true);\r\n+    setError(null);\r\n+    setStep(\"generating\");\r\n+\r\n+    try {\r\n+      const token = getToken();\r\n+      if (!token) {\r\n+        throw new Error(\"Not authenticated\");\r\n+      }\r\n+      const requestBody = {\r\n+        name: projectInput.name,\r\n+        description: projectInput.description,\r\n+        tech_stack: projectInput.tech_stack,\r\n+        experience_level: projectInput.experience_level,\r\n+        team_size: projectInput.team_size,\r\n+        time_scale: projectInput.time_scale,\r\n+        custom_hours:\r\n+          projectInput.time_scale === \"custom\"\r\n+            ? projectInput.custom_hours\r\n+            : null,\r\n+        clarification_qa: questionAnswers,\r\n+      };\r\n+      console.log(requestBody);\r\n+      const response = await apiClient<{\r\n+        structured_plan: any;\r\n+        project_id: string;\r\n+      }>(\"/plan/generate-plan\", {\r\n+        method: \"POST\",\r\n+        body: {\r\n+          input_data: { ...projectInput },\r\n+          clarification_qa: questionAnswers,\r\n+        },\r\n+        token,\r\n+      });\r\n+\r\n+      // Redirect to the newly created project\r\n+      router.push(`/projects/${response.project_id}`);\r\n+    } catch (err) {\r\n+      console.error(\"Error generating plan:\", err);\r\n+      setError(\r\n+        err instanceof Error\r\n+          ? err.message\r\n+          : \"Failed to generate plan. Please try again.\"\r\n+      );\r\n+      setStep(\"clarification\"); // Stay on the clarification step\r\n+    } finally {\r\n+      setIsGeneratingPlan(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"container max-w-4xl mx-auto py-8 px-4\">\r\n+      <h1 className=\"text-3xl font-bold mb-8 text-center\">\r\n+        Create New Project\r\n+      </h1>\r\n+\r\n+      {error && (\r\n+        <div className=\"bg-red-950/30 border border-red-500/50 text-red-400 px-4 py-3 rounded-md mb-6\">\r\n+          {error}\r\n+        </div>\r\n+      )}\r\n+\r\n+      <Card className=\"border border-divider bg-secondary-background p-6\">\r\n+        {step === \"input\" && (\r\n+          <PlanGenerationForm\r\n+            onSubmit={handleGenerateQuestions}\r\n+            isLoading={isGeneratingQuestions}\r\n+          />\r\n+        )}\r\n+\r\n+        {step === \"clarification\" && (\r\n+          <ClarificationQuestionsSection\r\n+            questions={questions}\r\n+            onSubmit={handleGeneratePlan}\r\n+            isLoading={isGeneratingPlan}\r\n+          />\r\n+        )}\r\n+\r\n+        {step === \"generating\" && (\r\n+          <div className=\"flex flex-col items-center justify-center py-16\">\r\n+            <div className=\"w-16 h-16 border-4 border-t-primary-cta rounded-full animate-spin mb-4\"></div>\r\n+            <p className=\"text-lg\">Generating your project plan...</p>\r\n+            <p className=\"text-sm text-secondary-text mt-2\">\r\n+              This may take a minute or two. We're crafting a comprehensive\r\n+              project plan for you.\r\n+            </p>\r\n+          </div>\r\n+        )}\r\n+      </Card>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -0,0 +1,158 @@\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+import { apiClient } from \"@/lib/api\";\r\n",
        "+import { getToken } from \"@/lib/auth\";\r\n",
        "+import { Card } from \"@/components/ui/card\";\r\n",
        "+import { PlanGenerationInput } from \"@/components/projects/new/types\";\r\n",
        "+import { PlanGenerationForm } from \"@/components/projects/new/components/plan-generation-form\";\r\n",
        "+import { ClarificationQuestionsSection } from \"@/components/projects/new/components/clarification-questions-section\";\r\n",
        "+\r\n",
        "+export default function NewProjectPage() {\r\n",
        "+  const router = useRouter();\r\n",
        "+  const [step, setStep] = useState<\"input\" | \"clarification\" | \"generating\">(\r\n",
        "+    \"input\"\r\n",
        "+  );\r\n",
        "+  const [projectInput, setProjectInput] = useState<PlanGenerationInput | null>(\r\n",
        "+    null\r\n",
        "+  );\r\n",
        "+  const [questions, setQuestions] = useState<string[]>([]);\r\n",
        "+  const [answers, setAnswers] = useState<Record<string, string>>({});\r\n",
        "+  const [isGeneratingQuestions, setIsGeneratingQuestions] = useState(false);\r\n",
        "+  const [isGeneratingPlan, setIsGeneratingPlan] = useState(false);\r\n",
        "+  const [error, setError] = useState<string | null>(null);\r\n",
        "+\r\n",
        "+  // Handle form submission to generate clarification questions\r\n",
        "+  const handleGenerateQuestions = async (formData: PlanGenerationInput) => {\r\n",
        "+    setIsGeneratingQuestions(true);\r\n",
        "+    setError(null);\r\n",
        "+\r\n",
        "+    try {\r\n",
        "+      const token = getToken();\r\n",
        "+      if (!token) {\r\n",
        "+        throw new Error(\"Not authenticated\");\r\n",
        "+      }\r\n",
        "+\r\n",
        "+      const response = await apiClient<{ questions: string[] }>(\r\n",
        "+        \"/plan/clarify\",\r\n",
        "+        {\r\n",
        "+          method: \"POST\",\r\n",
        "+          body: formData,\r\n",
        "+          token,\r\n",
        "+        }\r\n",
        "+      );\r\n",
        "+\r\n",
        "+      setProjectInput(formData);\r\n",
        "+      setQuestions(response.questions);\r\n",
        "+      setStep(\"clarification\");\r\n",
        "+    } catch (err) {\r\n",
        "+      console.error(\"Error generating questions:\", err);\r\n",
        "+      setError(\r\n",
        "+        err instanceof Error\r\n",
        "+          ? err.message\r\n",
        "+          : \"Failed to generate questions. Please try again.\"\r\n",
        "+      );\r\n",
        "+    } finally {\r\n",
        "+      setIsGeneratingQuestions(false);\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle submission of clarification answers to generate the plan\r\n",
        "+  const handleGeneratePlan = async (\r\n",
        "+    questionAnswers: Record<string, string>\r\n",
        "+  ) => {\r\n",
        "+    if (!projectInput) return;\r\n",
        "+\r\n",
        "+    setIsGeneratingPlan(true);\r\n",
        "+    setError(null);\r\n",
        "+    setStep(\"generating\");\r\n",
        "+\r\n",
        "+    try {\r\n",
        "+      const token = getToken();\r\n",
        "+      if (!token) {\r\n",
        "+        throw new Error(\"Not authenticated\");\r\n",
        "+      }\r\n",
        "+      const requestBody = {\r\n",
        "+        name: projectInput.name,\r\n",
        "+        description: projectInput.description,\r\n",
        "+        tech_stack: projectInput.tech_stack,\r\n",
        "+        experience_level: projectInput.experience_level,\r\n",
        "+        team_size: projectInput.team_size,\r\n",
        "+        time_scale: projectInput.time_scale,\r\n",
        "+        custom_hours:\r\n",
        "+          projectInput.time_scale === \"custom\"\r\n",
        "+            ? projectInput.custom_hours\r\n",
        "+            : null,\r\n",
        "+        clarification_qa: questionAnswers,\r\n",
        "+      };\r\n",
        "+      console.log(requestBody);\r\n",
        "+      const response = await apiClient<{\r\n",
        "+        structured_plan: any;\r\n",
        "+        project_id: string;\r\n",
        "+      }>(\"/plan/generate-plan\", {\r\n",
        "+        method: \"POST\",\r\n",
        "+        body: {\r\n",
        "+          input_data: { ...projectInput },\r\n",
        "+          clarification_qa: questionAnswers,\r\n",
        "+        },\r\n",
        "+        token,\r\n",
        "+      });\r\n",
        "+\r\n",
        "+      // Redirect to the newly created project\r\n",
        "+      router.push(`/projects/${response.project_id}`);\r\n",
        "+    } catch (err) {\r\n",
        "+      console.error(\"Error generating plan:\", err);\r\n",
        "+      setError(\r\n",
        "+        err instanceof Error\r\n",
        "+          ? err.message\r\n",
        "+          : \"Failed to generate plan. Please try again.\"\r\n",
        "+      );\r\n",
        "+      setStep(\"clarification\"); // Stay on the clarification step\r\n",
        "+    } finally {\r\n",
        "+      setIsGeneratingPlan(false);\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"container max-w-4xl mx-auto py-8 px-4\">\r\n",
        "+      <h1 className=\"text-3xl font-bold mb-8 text-center\">\r\n",
        "+        Create New Project\r\n",
        "+      </h1>\r\n",
        "+\r\n",
        "+      {error && (\r\n",
        "+        <div className=\"bg-red-950/30 border border-red-500/50 text-red-400 px-4 py-3 rounded-md mb-6\">\r\n",
        "+          {error}\r\n",
        "+        </div>\r\n",
        "+      )}\r\n",
        "+\r\n",
        "+      <Card className=\"border border-divider bg-secondary-background p-6\">\r\n",
        "+        {step === \"input\" && (\r\n",
        "+          <PlanGenerationForm\r\n",
        "+            onSubmit={handleGenerateQuestions}\r\n",
        "+            isLoading={isGeneratingQuestions}\r\n",
        "+          />\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {step === \"clarification\" && (\r\n",
        "+          <ClarificationQuestionsSection\r\n",
        "+            questions={questions}\r\n",
        "+            onSubmit={handleGeneratePlan}\r\n",
        "+            isLoading={isGeneratingPlan}\r\n",
        "+          />\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {step === \"generating\" && (\r\n",
        "+          <div className=\"flex flex-col items-center justify-center py-16\">\r\n",
        "+            <div className=\"w-16 h-16 border-4 border-t-primary-cta rounded-full animate-spin mb-4\"></div>\r\n",
        "+            <p className=\"text-lg\">Generating your project plan...</p>\r\n",
        "+            <p className=\"text-sm text-secondary-text mt-2\">\r\n",
        "+              This may take a minute or two. We're crafting a comprehensive\r\n",
        "+              project plan for you.\r\n",
        "+            </p>\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+      </Card>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": ".history/frontend/src/app/projects/new/page_20250511002420.tsx",
      "status": "added",
      "additions": 158,
      "deletions": 0,
      "patch": "@@ -0,0 +1,158 @@\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import { apiClient } from \"@/lib/api\";\r\n+import { getToken } from \"@/lib/auth\";\r\n+import { Card } from \"@/components/ui/card\";\r\n+import { PlanGenerationInput } from \"@/components/projects/new/types\";\r\n+import { PlanGenerationForm } from \"@/components/projects/new/components/plan-generation-form\";\r\n+import { ClarificationQuestionsSection } from \"@/components/projects/new/components/clarification-questions-section\";\r\n+\r\n+export default function NewProjectPage() {\r\n+  const router = useRouter();\r\n+  const [step, setStep] = useState<\"input\" | \"clarification\" | \"generating\">(\r\n+    \"input\"\r\n+  );\r\n+  const [projectInput, setProjectInput] = useState<PlanGenerationInput | null>(\r\n+    null\r\n+  );\r\n+  const [questions, setQuestions] = useState<string[]>([]);\r\n+  const [answers, setAnswers] = useState<Record<string, string>>({});\r\n+  const [isGeneratingQuestions, setIsGeneratingQuestions] = useState(false);\r\n+  const [isGeneratingPlan, setIsGeneratingPlan] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+\r\n+  // Handle form submission to generate clarification questions\r\n+  const handleGenerateQuestions = async (formData: PlanGenerationInput) => {\r\n+    setIsGeneratingQuestions(true);\r\n+    setError(null);\r\n+\r\n+    try {\r\n+      const token = getToken();\r\n+      if (!token) {\r\n+        throw new Error(\"Not authenticated\");\r\n+      }\r\n+\r\n+      const response = await apiClient<{ questions: string[] }>(\r\n+        \"/plan/clarify\",\r\n+        {\r\n+          method: \"POST\",\r\n+          body: formData,\r\n+          token,\r\n+        }\r\n+      );\r\n+\r\n+      setProjectInput(formData);\r\n+      setQuestions(response.questions);\r\n+      setStep(\"clarification\");\r\n+    } catch (err) {\r\n+      console.error(\"Error generating questions:\", err);\r\n+      setError(\r\n+        err instanceof Error\r\n+          ? err.message\r\n+          : \"Failed to generate questions. Please try again.\"\r\n+      );\r\n+    } finally {\r\n+      setIsGeneratingQuestions(false);\r\n+    }\r\n+  };\r\n+\r\n+  // Handle submission of clarification answers to generate the plan\r\n+  const handleGeneratePlan = async (\r\n+    questionAnswers: Record<string, string>\r\n+  ) => {\r\n+    if (!projectInput) return;\r\n+\r\n+    setIsGeneratingPlan(true);\r\n+    setError(null);\r\n+    setStep(\"generating\");\r\n+\r\n+    try {\r\n+      const token = getToken();\r\n+      if (!token) {\r\n+        throw new Error(\"Not authenticated\");\r\n+      }\r\n+      const requestBody = {\r\n+        name: projectInput.name,\r\n+        description: projectInput.description,\r\n+        tech_stack: projectInput.tech_stack,\r\n+        experience_level: projectInput.experience_level,\r\n+        team_size: projectInput.team_size,\r\n+        time_scale: projectInput.time_scale,\r\n+        custom_hours:\r\n+          projectInput.time_scale === \"custom\"\r\n+            ? projectInput.custom_hours\r\n+            : null,\r\n+        clarification_qa: questionAnswers,\r\n+      };\r\n+      console.log(requestBody);\r\n+      const response = await apiClient<{\r\n+        structured_plan: any;\r\n+        project_id: string;\r\n+      }>(\"/plan/generate-plan\", {\r\n+        method: \"POST\",\r\n+        body: {\r\n+          input_data: { ...projectInput },\r\n+          clarification_qa: questionAnswers,\r\n+        },\r\n+        token,\r\n+      });\r\n+\r\n+      // Redirect to the newly created project\r\n+      router.push(`/projects/${response.project_id}`);\r\n+    } catch (err) {\r\n+      console.error(\"Error generating plan:\", err);\r\n+      setError(\r\n+        err instanceof Error\r\n+          ? err.message\r\n+          : \"Failed to generate plan. Please try again.\"\r\n+      );\r\n+      setStep(\"clarification\"); // Stay on the clarification step\r\n+    } finally {\r\n+      setIsGeneratingPlan(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"container max-w-4xl mx-auto py-8 px-4\">\r\n+      <h1 className=\"text-3xl font-bold mb-8 text-center\">\r\n+        Create New Project\r\n+      </h1>\r\n+\r\n+      {error && (\r\n+        <div className=\"bg-red-950/30 border border-red-500/50 text-red-400 px-4 py-3 rounded-md mb-6\">\r\n+          {error}\r\n+        </div>\r\n+      )}\r\n+\r\n+      <Card className=\"border border-divider bg-secondary-background p-6\">\r\n+        {step === \"input\" && (\r\n+          <PlanGenerationForm\r\n+            onSubmit={handleGenerateQuestions}\r\n+            isLoading={isGeneratingQuestions}\r\n+          />\r\n+        )}\r\n+\r\n+        {step === \"clarification\" && (\r\n+          <ClarificationQuestionsSection\r\n+            questions={questions}\r\n+            onSubmit={handleGeneratePlan}\r\n+            isLoading={isGeneratingPlan}\r\n+          />\r\n+        )}\r\n+\r\n+        {step === \"generating\" && (\r\n+          <div className=\"flex flex-col items-center justify-center py-16\">\r\n+            <div className=\"w-16 h-16 border-4 border-t-primary-cta rounded-full animate-spin mb-4\"></div>\r\n+            <p className=\"text-lg\">Generating your project plan...</p>\r\n+            <p className=\"text-sm text-secondary-text mt-2\">\r\n+              This may take a minute or two. We're crafting a comprehensive\r\n+              project plan for you.\r\n+            </p>\r\n+          </div>\r\n+        )}\r\n+      </Card>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -0,0 +1,158 @@\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+import { apiClient } from \"@/lib/api\";\r\n",
        "+import { getToken } from \"@/lib/auth\";\r\n",
        "+import { Card } from \"@/components/ui/card\";\r\n",
        "+import { PlanGenerationInput } from \"@/components/projects/new/types\";\r\n",
        "+import { PlanGenerationForm } from \"@/components/projects/new/components/plan-generation-form\";\r\n",
        "+import { ClarificationQuestionsSection } from \"@/components/projects/new/components/clarification-questions-section\";\r\n",
        "+\r\n",
        "+export default function NewProjectPage() {\r\n",
        "+  const router = useRouter();\r\n",
        "+  const [step, setStep] = useState<\"input\" | \"clarification\" | \"generating\">(\r\n",
        "+    \"input\"\r\n",
        "+  );\r\n",
        "+  const [projectInput, setProjectInput] = useState<PlanGenerationInput | null>(\r\n",
        "+    null\r\n",
        "+  );\r\n",
        "+  const [questions, setQuestions] = useState<string[]>([]);\r\n",
        "+  const [answers, setAnswers] = useState<Record<string, string>>({});\r\n",
        "+  const [isGeneratingQuestions, setIsGeneratingQuestions] = useState(false);\r\n",
        "+  const [isGeneratingPlan, setIsGeneratingPlan] = useState(false);\r\n",
        "+  const [error, setError] = useState<string | null>(null);\r\n",
        "+\r\n",
        "+  // Handle form submission to generate clarification questions\r\n",
        "+  const handleGenerateQuestions = async (formData: PlanGenerationInput) => {\r\n",
        "+    setIsGeneratingQuestions(true);\r\n",
        "+    setError(null);\r\n",
        "+\r\n",
        "+    try {\r\n",
        "+      const token = getToken();\r\n",
        "+      if (!token) {\r\n",
        "+        throw new Error(\"Not authenticated\");\r\n",
        "+      }\r\n",
        "+\r\n",
        "+      const response = await apiClient<{ questions: string[] }>(\r\n",
        "+        \"/plan/clarify\",\r\n",
        "+        {\r\n",
        "+          method: \"POST\",\r\n",
        "+          body: formData,\r\n",
        "+          token,\r\n",
        "+        }\r\n",
        "+      );\r\n",
        "+\r\n",
        "+      setProjectInput(formData);\r\n",
        "+      setQuestions(response.questions);\r\n",
        "+      setStep(\"clarification\");\r\n",
        "+    } catch (err) {\r\n",
        "+      console.error(\"Error generating questions:\", err);\r\n",
        "+      setError(\r\n",
        "+        err instanceof Error\r\n",
        "+          ? err.message\r\n",
        "+          : \"Failed to generate questions. Please try again.\"\r\n",
        "+      );\r\n",
        "+    } finally {\r\n",
        "+      setIsGeneratingQuestions(false);\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle submission of clarification answers to generate the plan\r\n",
        "+  const handleGeneratePlan = async (\r\n",
        "+    questionAnswers: Record<string, string>\r\n",
        "+  ) => {\r\n",
        "+    if (!projectInput) return;\r\n",
        "+\r\n",
        "+    setIsGeneratingPlan(true);\r\n",
        "+    setError(null);\r\n",
        "+    setStep(\"generating\");\r\n",
        "+\r\n",
        "+    try {\r\n",
        "+      const token = getToken();\r\n",
        "+      if (!token) {\r\n",
        "+        throw new Error(\"Not authenticated\");\r\n",
        "+      }\r\n",
        "+      const requestBody = {\r\n",
        "+        name: projectInput.name,\r\n",
        "+        description: projectInput.description,\r\n",
        "+        tech_stack: projectInput.tech_stack,\r\n",
        "+        experience_level: projectInput.experience_level,\r\n",
        "+        team_size: projectInput.team_size,\r\n",
        "+        time_scale: projectInput.time_scale,\r\n",
        "+        custom_hours:\r\n",
        "+          projectInput.time_scale === \"custom\"\r\n",
        "+            ? projectInput.custom_hours\r\n",
        "+            : null,\r\n",
        "+        clarification_qa: questionAnswers,\r\n",
        "+      };\r\n",
        "+      console.log(requestBody);\r\n",
        "+      const response = await apiClient<{\r\n",
        "+        structured_plan: any;\r\n",
        "+        project_id: string;\r\n",
        "+      }>(\"/plan/generate-plan\", {\r\n",
        "+        method: \"POST\",\r\n",
        "+        body: {\r\n",
        "+          input_data: { ...projectInput },\r\n",
        "+          clarification_qa: questionAnswers,\r\n",
        "+        },\r\n",
        "+        token,\r\n",
        "+      });\r\n",
        "+\r\n",
        "+      // Redirect to the newly created project\r\n",
        "+      router.push(`/projects/${response.project_id}`);\r\n",
        "+    } catch (err) {\r\n",
        "+      console.error(\"Error generating plan:\", err);\r\n",
        "+      setError(\r\n",
        "+        err instanceof Error\r\n",
        "+          ? err.message\r\n",
        "+          : \"Failed to generate plan. Please try again.\"\r\n",
        "+      );\r\n",
        "+      setStep(\"clarification\"); // Stay on the clarification step\r\n",
        "+    } finally {\r\n",
        "+      setIsGeneratingPlan(false);\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"container max-w-4xl mx-auto py-8 px-4\">\r\n",
        "+      <h1 className=\"text-3xl font-bold mb-8 text-center\">\r\n",
        "+        Create New Project\r\n",
        "+      </h1>\r\n",
        "+\r\n",
        "+      {error && (\r\n",
        "+        <div className=\"bg-red-950/30 border border-red-500/50 text-red-400 px-4 py-3 rounded-md mb-6\">\r\n",
        "+          {error}\r\n",
        "+        </div>\r\n",
        "+      )}\r\n",
        "+\r\n",
        "+      <Card className=\"border border-divider bg-secondary-background p-6\">\r\n",
        "+        {step === \"input\" && (\r\n",
        "+          <PlanGenerationForm\r\n",
        "+            onSubmit={handleGenerateQuestions}\r\n",
        "+            isLoading={isGeneratingQuestions}\r\n",
        "+          />\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {step === \"clarification\" && (\r\n",
        "+          <ClarificationQuestionsSection\r\n",
        "+            questions={questions}\r\n",
        "+            onSubmit={handleGeneratePlan}\r\n",
        "+            isLoading={isGeneratingPlan}\r\n",
        "+          />\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {step === \"generating\" && (\r\n",
        "+          <div className=\"flex flex-col items-center justify-center py-16\">\r\n",
        "+            <div className=\"w-16 h-16 border-4 border-t-primary-cta rounded-full animate-spin mb-4\"></div>\r\n",
        "+            <p className=\"text-lg\">Generating your project plan...</p>\r\n",
        "+            <p className=\"text-sm text-secondary-text mt-2\">\r\n",
        "+              This may take a minute or two. We're crafting a comprehensive\r\n",
        "+              project plan for you.\r\n",
        "+            </p>\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+      </Card>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": ".history/frontend/src/app/projects/page_20250511000503.tsx",
      "status": "modified",
      "additions": 177,
      "deletions": 177,
      "patch": "@@ -1,177 +1,177 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import { useAuth } from \"@/contexts/auth-context\";\n-import { getProjects } from \"@/lib/projects\";\n-import { ProjectListItem } from \"@/types\";\n-import { ProjectsList } from \"@/components/projects/projects-list\";\n-import { SearchProjects } from \"@/components/projects/search-projects\";\n-import { Button } from \"@/components/ui/button\";\n-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n-import Link from \"next/link\";\n-import { Skeleton } from \"@/components/ui/skeleton\";\n-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { capitalizeWords } from \"@/lib/utils\";\n-import { AppLayout } from \"@/components/layout/app-layout\";\n-import { useRouter } from \"next/navigation\";\n-\n-// Loading skeleton for projects grid\n-function ProjectsLoadingSkeleton() {\n-  return (\n-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n-      {Array.from({ length: 6 }).map((_, i) => (\n-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n-      ))}\n-    </div>\n-  );\n-}\n-\n-export default function ProjectsPage() {\n-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n-    []\n-  );\n-  const [isLoading, setIsLoading] = useState(true);\n-  const [error, setError] = useState<string | null>(null);\n-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n-  const router = useRouter();\n-  // Fetch projects on component mount\n-  useEffect(() => {\n-    async function fetchProjects() {\n-      if (authLoading) return;\n-      if (!isAuthenticated) {\n-        console.log(\"User not authenticated, redirecting to login...\");\n-        router.push(\"/auth/login\");\n-        return;\n-      }\n-\n-      try {\n-        setIsLoading(true);\n-        const projectsData = await getProjects();\n-        console.log(projectsData);\n-        setProjects(projectsData);\n-        setFilteredProjects(projectsData);\n-      } catch (err) {\n-        console.error(\"Failed to fetch projects:\", err);\n-        setError(\"Failed to load projects. Please try again later.\");\n-      } finally {\n-        setIsLoading(false);\n-      }\n-    }\n-\n-    fetchProjects();\n-  }, [isAuthenticated, authLoading]);\n-\n-  // Apply filters and search\n-  useEffect(() => {\n-    let result = [...projects];\n-\n-    // Apply status filter if not \"all\"\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  }, [projects, statusFilter]);\n-\n-  // Handle search functionality\n-  const handleSearch = (query: string) => {\n-    if (!query.trim()) {\n-      // Just apply status filter\n-      let result = [...projects];\n-      if (statusFilter !== \"all\") {\n-        result = result.filter((project) => project.status === statusFilter);\n-      }\n-      setFilteredProjects(result);\n-      return;\n-    }\n-\n-    // Apply both search and status filter\n-    let result = projects.filter(\n-      (project) =>\n-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n-        project.description.toLowerCase().includes(query.toLowerCase())\n-    );\n-\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  };\n-\n-  const handleStatusFilterChange = (value: string) => {\n-    setStatusFilter(value);\n-  };\n-\n-  return (\n-    <AppLayout>\n-<<<<<<< HEAD\n-      <div className=\"container mx-auto px-4 py-8\">\n-=======\n-      <div className=\"container mx-auto px-2 py-8\">\n->>>>>>> recovery-branch\n-        <div className=\"mb-8\">\n-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n-          {user && (\n-            <p className=\"text-secondary-text\">\n-              Welcome back, {capitalizeWords(user.full_name)}\n-            </p>\n-          )}\n-        </div>\n-\n-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n-            <div className=\"w-full sm:w-64\">\n-              <SearchProjects onSearch={handleSearch} />\n-            </div>\n-\n-            <Select\n-              value={statusFilter}\n-              onValueChange={handleStatusFilterChange}\n-            >\n-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n-                <SelectValue placeholder=\"Filter by status\" />\n-              </SelectTrigger>\n-              <SelectContent className=\"bg-secondary-background border-divider\">\n-                <SelectItem value=\"all\">All Projects</SelectItem>\n-                <SelectItem value=\"draft\">Draft</SelectItem>\n-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n-                <SelectItem value=\"completed\">Completed</SelectItem>\n-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n-              </SelectContent>\n-            </Select>\n-          </div>\n-\n-          <Link href=\"/projects/new\">\n-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n-              New Project\n-            </Button>\n-          </Link>\n-        </div>\n-\n-        {error && (\n-          <Alert variant=\"destructive\" className=\"mb-6\">\n-            <AlertCircle className=\"h-4 w-4\" />\n-            <AlertDescription>{error}</AlertDescription>\n-          </Alert>\n-        )}\n-\n-        {isLoading ? (\n-          <ProjectsLoadingSkeleton />\n-        ) : (\n-          <ProjectsList projects={filteredProjects} />\n-        )}\n-      </div>\n-    </AppLayout>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import { getProjects } from \"@/lib/projects\";\r\n+import { ProjectListItem } from \"@/types\";\r\n+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n+import Link from \"next/link\";\r\n+import { Skeleton } from \"@/components/ui/skeleton\";\r\n+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { capitalizeWords } from \"@/lib/utils\";\r\n+import { AppLayout } from \"@/components/layout/app-layout\";\r\n+import { useRouter } from \"next/navigation\";\r\n+\r\n+// Loading skeleton for projects grid\r\n+function ProjectsLoadingSkeleton() {\r\n+  return (\r\n+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n+      {Array.from({ length: 6 }).map((_, i) => (\r\n+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n+      ))}\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function ProjectsPage() {\r\n+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n+    []\r\n+  );\r\n+  const [isLoading, setIsLoading] = useState(true);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n+  const router = useRouter();\r\n+  // Fetch projects on component mount\r\n+  useEffect(() => {\r\n+    async function fetchProjects() {\r\n+      if (authLoading) return;\r\n+      if (!isAuthenticated) {\r\n+        console.log(\"User not authenticated, redirecting to login...\");\r\n+        router.push(\"/auth/login\");\r\n+        return;\r\n+      }\r\n+\r\n+      try {\r\n+        setIsLoading(true);\r\n+        const projectsData = await getProjects();\r\n+        console.log(projectsData);\r\n+        setProjects(projectsData);\r\n+        setFilteredProjects(projectsData);\r\n+      } catch (err) {\r\n+        console.error(\"Failed to fetch projects:\", err);\r\n+        setError(\"Failed to load projects. Please try again later.\");\r\n+      } finally {\r\n+        setIsLoading(false);\r\n+      }\r\n+    }\r\n+\r\n+    fetchProjects();\r\n+  }, [isAuthenticated, authLoading]);\r\n+\r\n+  // Apply filters and search\r\n+  useEffect(() => {\r\n+    let result = [...projects];\r\n+\r\n+    // Apply status filter if not \"all\"\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  }, [projects, statusFilter]);\r\n+\r\n+  // Handle search functionality\r\n+  const handleSearch = (query: string) => {\r\n+    if (!query.trim()) {\r\n+      // Just apply status filter\r\n+      let result = [...projects];\r\n+      if (statusFilter !== \"all\") {\r\n+        result = result.filter((project) => project.status === statusFilter);\r\n+      }\r\n+      setFilteredProjects(result);\r\n+      return;\r\n+    }\r\n+\r\n+    // Apply both search and status filter\r\n+    let result = projects.filter(\r\n+      (project) =>\r\n+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n+        project.description.toLowerCase().includes(query.toLowerCase())\r\n+    );\r\n+\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  };\r\n+\r\n+  const handleStatusFilterChange = (value: string) => {\r\n+    setStatusFilter(value);\r\n+  };\r\n+\r\n+  return (\r\n+    <AppLayout>\r\n+<<<<<<< HEAD\r\n+      <div className=\"container mx-auto px-4 py-8\">\r\n+=======\r\n+      <div className=\"container mx-auto px-2 py-8\">\r\n+>>>>>>> recovery-branch\r\n+        <div className=\"mb-8\">\r\n+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n+          {user && (\r\n+            <p className=\"text-secondary-text\">\r\n+              Welcome back, {capitalizeWords(user.full_name)}\r\n+            </p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n+            <div className=\"w-full sm:w-64\">\r\n+              <SearchProjects onSearch={handleSearch} />\r\n+            </div>\r\n+\r\n+            <Select\r\n+              value={statusFilter}\r\n+              onValueChange={handleStatusFilterChange}\r\n+            >\r\n+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n+                <SelectValue placeholder=\"Filter by status\" />\r\n+              </SelectTrigger>\r\n+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n+              </SelectContent>\r\n+            </Select>\r\n+          </div>\r\n+\r\n+          <Link href=\"/projects/new\">\r\n+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n+              New Project\r\n+            </Button>\r\n+          </Link>\r\n+        </div>\r\n+\r\n+        {error && (\r\n+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n+            <AlertCircle className=\"h-4 w-4\" />\r\n+            <AlertDescription>{error}</AlertDescription>\r\n+          </Alert>\r\n+        )}\r\n+\r\n+        {isLoading ? (\r\n+          <ProjectsLoadingSkeleton />\r\n+        ) : (\r\n+          <ProjectsList projects={filteredProjects} />\r\n+        )}\r\n+      </div>\r\n+    </AppLayout>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,177 +1,177 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import { getProjects } from \"@/lib/projects\";\n",
        "-import { ProjectListItem } from \"@/types\";\n",
        "-import { ProjectsList } from \"@/components/projects/projects-list\";\n",
        "-import { SearchProjects } from \"@/components/projects/search-projects\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n",
        "-import Link from \"next/link\";\n",
        "-import { Skeleton } from \"@/components/ui/skeleton\";\n",
        "-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { capitalizeWords } from \"@/lib/utils\";\n",
        "-import { AppLayout } from \"@/components/layout/app-layout\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-\n",
        "-// Loading skeleton for projects grid\n",
        "-function ProjectsLoadingSkeleton() {\n",
        "-  return (\n",
        "-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n",
        "-      {Array.from({ length: 6 }).map((_, i) => (\n",
        "-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n",
        "-      ))}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-export default function ProjectsPage() {\n",
        "-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n",
        "-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n",
        "-    []\n",
        "-  );\n",
        "-  const [isLoading, setIsLoading] = useState(true);\n",
        "-  const [error, setError] = useState<string | null>(null);\n",
        "-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n",
        "-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n",
        "-  const router = useRouter();\n",
        "-  // Fetch projects on component mount\n",
        "-  useEffect(() => {\n",
        "-    async function fetchProjects() {\n",
        "-      if (authLoading) return;\n",
        "-      if (!isAuthenticated) {\n",
        "-        console.log(\"User not authenticated, redirecting to login...\");\n",
        "-        router.push(\"/auth/login\");\n",
        "-        return;\n",
        "-      }\n",
        "-\n",
        "-      try {\n",
        "-        setIsLoading(true);\n",
        "-        const projectsData = await getProjects();\n",
        "-        console.log(projectsData);\n",
        "-        setProjects(projectsData);\n",
        "-        setFilteredProjects(projectsData);\n",
        "-      } catch (err) {\n",
        "-        console.error(\"Failed to fetch projects:\", err);\n",
        "-        setError(\"Failed to load projects. Please try again later.\");\n",
        "-      } finally {\n",
        "-        setIsLoading(false);\n",
        "-      }\n",
        "-    }\n",
        "-\n",
        "-    fetchProjects();\n",
        "-  }, [isAuthenticated, authLoading]);\n",
        "-\n",
        "-  // Apply filters and search\n",
        "-  useEffect(() => {\n",
        "-    let result = [...projects];\n",
        "-\n",
        "-    // Apply status filter if not \"all\"\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  }, [projects, statusFilter]);\n",
        "-\n",
        "-  // Handle search functionality\n",
        "-  const handleSearch = (query: string) => {\n",
        "-    if (!query.trim()) {\n",
        "-      // Just apply status filter\n",
        "-      let result = [...projects];\n",
        "-      if (statusFilter !== \"all\") {\n",
        "-        result = result.filter((project) => project.status === statusFilter);\n",
        "-      }\n",
        "-      setFilteredProjects(result);\n",
        "-      return;\n",
        "-    }\n",
        "-\n",
        "-    // Apply both search and status filter\n",
        "-    let result = projects.filter(\n",
        "-      (project) =>\n",
        "-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n",
        "-        project.description.toLowerCase().includes(query.toLowerCase())\n",
        "-    );\n",
        "-\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  };\n",
        "-\n",
        "-  const handleStatusFilterChange = (value: string) => {\n",
        "-    setStatusFilter(value);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <AppLayout>\n",
        "-<<<<<<< HEAD\n",
        "-      <div className=\"container mx-auto px-4 py-8\">\n",
        "-=======\n",
        "-      <div className=\"container mx-auto px-2 py-8\">\n",
        "->>>>>>> recovery-branch\n",
        "-        <div className=\"mb-8\">\n",
        "-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n",
        "-          {user && (\n",
        "-            <p className=\"text-secondary-text\">\n",
        "-              Welcome back, {capitalizeWords(user.full_name)}\n",
        "-            </p>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n",
        "-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n",
        "-            <div className=\"w-full sm:w-64\">\n",
        "-              <SearchProjects onSearch={handleSearch} />\n",
        "-            </div>\n",
        "-\n",
        "-            <Select\n",
        "-              value={statusFilter}\n",
        "-              onValueChange={handleStatusFilterChange}\n",
        "-            >\n",
        "-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n",
        "-                <SelectValue placeholder=\"Filter by status\" />\n",
        "-              </SelectTrigger>\n",
        "-              <SelectContent className=\"bg-secondary-background border-divider\">\n",
        "-                <SelectItem value=\"all\">All Projects</SelectItem>\n",
        "-                <SelectItem value=\"draft\">Draft</SelectItem>\n",
        "-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n",
        "-                <SelectItem value=\"completed\">Completed</SelectItem>\n",
        "-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n",
        "-              </SelectContent>\n",
        "-            </Select>\n",
        "-          </div>\n",
        "-\n",
        "-          <Link href=\"/projects/new\">\n",
        "-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n",
        "-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n",
        "-              New Project\n",
        "-            </Button>\n",
        "-          </Link>\n",
        "-        </div>\n",
        "-\n",
        "-        {error && (\n",
        "-          <Alert variant=\"destructive\" className=\"mb-6\">\n",
        "-            <AlertCircle className=\"h-4 w-4\" />\n",
        "-            <AlertDescription>{error}</AlertDescription>\n",
        "-          </Alert>\n",
        "-        )}\n",
        "-\n",
        "-        {isLoading ? (\n",
        "-          <ProjectsLoadingSkeleton />\n",
        "-        ) : (\n",
        "-          <ProjectsList projects={filteredProjects} />\n",
        "-        )}\n",
        "-      </div>\n",
        "-    </AppLayout>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import { getProjects } from \"@/lib/projects\";\r\n",
        "+import { ProjectListItem } from \"@/types\";\r\n",
        "+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n",
        "+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import { Skeleton } from \"@/components/ui/skeleton\";\r\n",
        "+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { capitalizeWords } from \"@/lib/utils\";\r\n",
        "+import { AppLayout } from \"@/components/layout/app-layout\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+\r\n",
        "+// Loading skeleton for projects grid\r\n",
        "+function ProjectsLoadingSkeleton() {\r\n",
        "+  return (\r\n",
        "+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n",
        "+      {Array.from({ length: 6 }).map((_, i) => (\r\n",
        "+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n",
        "+      ))}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+export default function ProjectsPage() {\r\n",
        "+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n",
        "+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n",
        "+    []\r\n",
        "+  );\r\n",
        "+  const [isLoading, setIsLoading] = useState(true);\r\n",
        "+  const [error, setError] = useState<string | null>(null);\r\n",
        "+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n",
        "+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n",
        "+  const router = useRouter();\r\n",
        "+  // Fetch projects on component mount\r\n",
        "+  useEffect(() => {\r\n",
        "+    async function fetchProjects() {\r\n",
        "+      if (authLoading) return;\r\n",
        "+      if (!isAuthenticated) {\r\n",
        "+        console.log(\"User not authenticated, redirecting to login...\");\r\n",
        "+        router.push(\"/auth/login\");\r\n",
        "+        return;\r\n",
        "+      }\r\n",
        "+\r\n",
        "+      try {\r\n",
        "+        setIsLoading(true);\r\n",
        "+        const projectsData = await getProjects();\r\n",
        "+        console.log(projectsData);\r\n",
        "+        setProjects(projectsData);\r\n",
        "+        setFilteredProjects(projectsData);\r\n",
        "+      } catch (err) {\r\n",
        "+        console.error(\"Failed to fetch projects:\", err);\r\n",
        "+        setError(\"Failed to load projects. Please try again later.\");\r\n",
        "+      } finally {\r\n",
        "+        setIsLoading(false);\r\n",
        "+      }\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    fetchProjects();\r\n",
        "+  }, [isAuthenticated, authLoading]);\r\n",
        "+\r\n",
        "+  // Apply filters and search\r\n",
        "+  useEffect(() => {\r\n",
        "+    let result = [...projects];\r\n",
        "+\r\n",
        "+    // Apply status filter if not \"all\"\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  }, [projects, statusFilter]);\r\n",
        "+\r\n",
        "+  // Handle search functionality\r\n",
        "+  const handleSearch = (query: string) => {\r\n",
        "+    if (!query.trim()) {\r\n",
        "+      // Just apply status filter\r\n",
        "+      let result = [...projects];\r\n",
        "+      if (statusFilter !== \"all\") {\r\n",
        "+        result = result.filter((project) => project.status === statusFilter);\r\n",
        "+      }\r\n",
        "+      setFilteredProjects(result);\r\n",
        "+      return;\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    // Apply both search and status filter\r\n",
        "+    let result = projects.filter(\r\n",
        "+      (project) =>\r\n",
        "+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n",
        "+        project.description.toLowerCase().includes(query.toLowerCase())\r\n",
        "+    );\r\n",
        "+\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  const handleStatusFilterChange = (value: string) => {\r\n",
        "+    setStatusFilter(value);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <AppLayout>\r\n",
        "+<<<<<<< HEAD\r\n",
        "+      <div className=\"container mx-auto px-4 py-8\">\r\n",
        "+=======\r\n",
        "+      <div className=\"container mx-auto px-2 py-8\">\r\n",
        "+>>>>>>> recovery-branch\r\n",
        "+        <div className=\"mb-8\">\r\n",
        "+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n",
        "+          {user && (\r\n",
        "+            <p className=\"text-secondary-text\">\r\n",
        "+              Welcome back, {capitalizeWords(user.full_name)}\r\n",
        "+            </p>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n",
        "+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n",
        "+            <div className=\"w-full sm:w-64\">\r\n",
        "+              <SearchProjects onSearch={handleSearch} />\r\n",
        "+            </div>\r\n",
        "+\r\n",
        "+            <Select\r\n",
        "+              value={statusFilter}\r\n",
        "+              onValueChange={handleStatusFilterChange}\r\n",
        "+            >\r\n",
        "+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n",
        "+                <SelectValue placeholder=\"Filter by status\" />\r\n",
        "+              </SelectTrigger>\r\n",
        "+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n",
        "+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n",
        "+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n",
        "+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n",
        "+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n",
        "+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n",
        "+              </SelectContent>\r\n",
        "+            </Select>\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <Link href=\"/projects/new\">\r\n",
        "+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n",
        "+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n",
        "+              New Project\r\n",
        "+            </Button>\r\n",
        "+          </Link>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {error && (\r\n",
        "+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n",
        "+            <AlertCircle className=\"h-4 w-4\" />\r\n",
        "+            <AlertDescription>{error}</AlertDescription>\r\n",
        "+          </Alert>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {isLoading ? (\r\n",
        "+          <ProjectsLoadingSkeleton />\r\n",
        "+        ) : (\r\n",
        "+          <ProjectsList projects={filteredProjects} />\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+    </AppLayout>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": ".history/frontend/src/app/projects/page_20250511000621.tsx",
      "status": "modified",
      "additions": 173,
      "deletions": 173,
      "patch": "@@ -1,173 +1,173 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import { useAuth } from \"@/contexts/auth-context\";\n-import { getProjects } from \"@/lib/projects\";\n-import { ProjectListItem } from \"@/types\";\n-import { ProjectsList } from \"@/components/projects/projects-list\";\n-import { SearchProjects } from \"@/components/projects/search-projects\";\n-import { Button } from \"@/components/ui/button\";\n-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n-import Link from \"next/link\";\n-import { Skeleton } from \"@/components/ui/skeleton\";\n-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { capitalizeWords } from \"@/lib/utils\";\n-import { AppLayout } from \"@/components/layout/app-layout\";\n-import { useRouter } from \"next/navigation\";\n-\n-// Loading skeleton for projects grid\n-function ProjectsLoadingSkeleton() {\n-  return (\n-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n-      {Array.from({ length: 6 }).map((_, i) => (\n-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n-      ))}\n-    </div>\n-  );\n-}\n-\n-export default function ProjectsPage() {\n-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n-    []\n-  );\n-  const [isLoading, setIsLoading] = useState(true);\n-  const [error, setError] = useState<string | null>(null);\n-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n-  const router = useRouter();\n-  // Fetch projects on component mount\n-  useEffect(() => {\n-    async function fetchProjects() {\n-      if (authLoading) return;\n-      if (!isAuthenticated) {\n-        console.log(\"User not authenticated, redirecting to login...\");\n-        router.push(\"/auth/login\");\n-        return;\n-      }\n-\n-      try {\n-        setIsLoading(true);\n-        const projectsData = await getProjects();\n-        console.log(projectsData);\n-        setProjects(projectsData);\n-        setFilteredProjects(projectsData);\n-      } catch (err) {\n-        console.error(\"Failed to fetch projects:\", err);\n-        setError(\"Failed to load projects. Please try again later.\");\n-      } finally {\n-        setIsLoading(false);\n-      }\n-    }\n-\n-    fetchProjects();\n-  }, [isAuthenticated, authLoading]);\n-\n-  // Apply filters and search\n-  useEffect(() => {\n-    let result = [...projects];\n-\n-    // Apply status filter if not \"all\"\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  }, [projects, statusFilter]);\n-\n-  // Handle search functionality\n-  const handleSearch = (query: string) => {\n-    if (!query.trim()) {\n-      // Just apply status filter\n-      let result = [...projects];\n-      if (statusFilter !== \"all\") {\n-        result = result.filter((project) => project.status === statusFilter);\n-      }\n-      setFilteredProjects(result);\n-      return;\n-    }\n-\n-    // Apply both search and status filter\n-    let result = projects.filter(\n-      (project) =>\n-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n-        project.description.toLowerCase().includes(query.toLowerCase())\n-    );\n-\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  };\n-\n-  const handleStatusFilterChange = (value: string) => {\n-    setStatusFilter(value);\n-  };\n-\n-  return (\n-    <AppLayout>\n-      <div className=\"container mx-auto px-4 py-8\">\n-        <div className=\"mb-8\">\n-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n-          {user && (\n-            <p className=\"text-secondary-text\">\n-              Welcome back, {capitalizeWords(user.full_name)}\n-            </p>\n-          )}\n-        </div>\n-\n-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n-            <div className=\"w-full sm:w-64\">\n-              <SearchProjects onSearch={handleSearch} />\n-            </div>\n-\n-            <Select\n-              value={statusFilter}\n-              onValueChange={handleStatusFilterChange}\n-            >\n-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n-                <SelectValue placeholder=\"Filter by status\" />\n-              </SelectTrigger>\n-              <SelectContent className=\"bg-secondary-background border-divider\">\n-                <SelectItem value=\"all\">All Projects</SelectItem>\n-                <SelectItem value=\"draft\">Draft</SelectItem>\n-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n-                <SelectItem value=\"completed\">Completed</SelectItem>\n-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n-              </SelectContent>\n-            </Select>\n-          </div>\n-\n-          <Link href=\"/projects/new\">\n-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n-              New Project\n-            </Button>\n-          </Link>\n-        </div>\n-\n-        {error && (\n-          <Alert variant=\"destructive\" className=\"mb-6\">\n-            <AlertCircle className=\"h-4 w-4\" />\n-            <AlertDescription>{error}</AlertDescription>\n-          </Alert>\n-        )}\n-\n-        {isLoading ? (\n-          <ProjectsLoadingSkeleton />\n-        ) : (\n-          <ProjectsList projects={filteredProjects} />\n-        )}\n-      </div>\n-    </AppLayout>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import { getProjects } from \"@/lib/projects\";\r\n+import { ProjectListItem } from \"@/types\";\r\n+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n+import Link from \"next/link\";\r\n+import { Skeleton } from \"@/components/ui/skeleton\";\r\n+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { capitalizeWords } from \"@/lib/utils\";\r\n+import { AppLayout } from \"@/components/layout/app-layout\";\r\n+import { useRouter } from \"next/navigation\";\r\n+\r\n+// Loading skeleton for projects grid\r\n+function ProjectsLoadingSkeleton() {\r\n+  return (\r\n+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n+      {Array.from({ length: 6 }).map((_, i) => (\r\n+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n+      ))}\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function ProjectsPage() {\r\n+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n+    []\r\n+  );\r\n+  const [isLoading, setIsLoading] = useState(true);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n+  const router = useRouter();\r\n+  // Fetch projects on component mount\r\n+  useEffect(() => {\r\n+    async function fetchProjects() {\r\n+      if (authLoading) return;\r\n+      if (!isAuthenticated) {\r\n+        console.log(\"User not authenticated, redirecting to login...\");\r\n+        router.push(\"/auth/login\");\r\n+        return;\r\n+      }\r\n+\r\n+      try {\r\n+        setIsLoading(true);\r\n+        const projectsData = await getProjects();\r\n+        console.log(projectsData);\r\n+        setProjects(projectsData);\r\n+        setFilteredProjects(projectsData);\r\n+      } catch (err) {\r\n+        console.error(\"Failed to fetch projects:\", err);\r\n+        setError(\"Failed to load projects. Please try again later.\");\r\n+      } finally {\r\n+        setIsLoading(false);\r\n+      }\r\n+    }\r\n+\r\n+    fetchProjects();\r\n+  }, [isAuthenticated, authLoading]);\r\n+\r\n+  // Apply filters and search\r\n+  useEffect(() => {\r\n+    let result = [...projects];\r\n+\r\n+    // Apply status filter if not \"all\"\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  }, [projects, statusFilter]);\r\n+\r\n+  // Handle search functionality\r\n+  const handleSearch = (query: string) => {\r\n+    if (!query.trim()) {\r\n+      // Just apply status filter\r\n+      let result = [...projects];\r\n+      if (statusFilter !== \"all\") {\r\n+        result = result.filter((project) => project.status === statusFilter);\r\n+      }\r\n+      setFilteredProjects(result);\r\n+      return;\r\n+    }\r\n+\r\n+    // Apply both search and status filter\r\n+    let result = projects.filter(\r\n+      (project) =>\r\n+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n+        project.description.toLowerCase().includes(query.toLowerCase())\r\n+    );\r\n+\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  };\r\n+\r\n+  const handleStatusFilterChange = (value: string) => {\r\n+    setStatusFilter(value);\r\n+  };\r\n+\r\n+  return (\r\n+    <AppLayout>\r\n+      <div className=\"container mx-auto px-4 py-8\">\r\n+        <div className=\"mb-8\">\r\n+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n+          {user && (\r\n+            <p className=\"text-secondary-text\">\r\n+              Welcome back, {capitalizeWords(user.full_name)}\r\n+            </p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n+            <div className=\"w-full sm:w-64\">\r\n+              <SearchProjects onSearch={handleSearch} />\r\n+            </div>\r\n+\r\n+            <Select\r\n+              value={statusFilter}\r\n+              onValueChange={handleStatusFilterChange}\r\n+            >\r\n+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n+                <SelectValue placeholder=\"Filter by status\" />\r\n+              </SelectTrigger>\r\n+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n+              </SelectContent>\r\n+            </Select>\r\n+          </div>\r\n+\r\n+          <Link href=\"/projects/new\">\r\n+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n+              New Project\r\n+            </Button>\r\n+          </Link>\r\n+        </div>\r\n+\r\n+        {error && (\r\n+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n+            <AlertCircle className=\"h-4 w-4\" />\r\n+            <AlertDescription>{error}</AlertDescription>\r\n+          </Alert>\r\n+        )}\r\n+\r\n+        {isLoading ? (\r\n+          <ProjectsLoadingSkeleton />\r\n+        ) : (\r\n+          <ProjectsList projects={filteredProjects} />\r\n+        )}\r\n+      </div>\r\n+    </AppLayout>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,173 +1,173 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import { getProjects } from \"@/lib/projects\";\n",
        "-import { ProjectListItem } from \"@/types\";\n",
        "-import { ProjectsList } from \"@/components/projects/projects-list\";\n",
        "-import { SearchProjects } from \"@/components/projects/search-projects\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n",
        "-import Link from \"next/link\";\n",
        "-import { Skeleton } from \"@/components/ui/skeleton\";\n",
        "-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { capitalizeWords } from \"@/lib/utils\";\n",
        "-import { AppLayout } from \"@/components/layout/app-layout\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-\n",
        "-// Loading skeleton for projects grid\n",
        "-function ProjectsLoadingSkeleton() {\n",
        "-  return (\n",
        "-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n",
        "-      {Array.from({ length: 6 }).map((_, i) => (\n",
        "-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n",
        "-      ))}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-export default function ProjectsPage() {\n",
        "-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n",
        "-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n",
        "-    []\n",
        "-  );\n",
        "-  const [isLoading, setIsLoading] = useState(true);\n",
        "-  const [error, setError] = useState<string | null>(null);\n",
        "-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n",
        "-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n",
        "-  const router = useRouter();\n",
        "-  // Fetch projects on component mount\n",
        "-  useEffect(() => {\n",
        "-    async function fetchProjects() {\n",
        "-      if (authLoading) return;\n",
        "-      if (!isAuthenticated) {\n",
        "-        console.log(\"User not authenticated, redirecting to login...\");\n",
        "-        router.push(\"/auth/login\");\n",
        "-        return;\n",
        "-      }\n",
        "-\n",
        "-      try {\n",
        "-        setIsLoading(true);\n",
        "-        const projectsData = await getProjects();\n",
        "-        console.log(projectsData);\n",
        "-        setProjects(projectsData);\n",
        "-        setFilteredProjects(projectsData);\n",
        "-      } catch (err) {\n",
        "-        console.error(\"Failed to fetch projects:\", err);\n",
        "-        setError(\"Failed to load projects. Please try again later.\");\n",
        "-      } finally {\n",
        "-        setIsLoading(false);\n",
        "-      }\n",
        "-    }\n",
        "-\n",
        "-    fetchProjects();\n",
        "-  }, [isAuthenticated, authLoading]);\n",
        "-\n",
        "-  // Apply filters and search\n",
        "-  useEffect(() => {\n",
        "-    let result = [...projects];\n",
        "-\n",
        "-    // Apply status filter if not \"all\"\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  }, [projects, statusFilter]);\n",
        "-\n",
        "-  // Handle search functionality\n",
        "-  const handleSearch = (query: string) => {\n",
        "-    if (!query.trim()) {\n",
        "-      // Just apply status filter\n",
        "-      let result = [...projects];\n",
        "-      if (statusFilter !== \"all\") {\n",
        "-        result = result.filter((project) => project.status === statusFilter);\n",
        "-      }\n",
        "-      setFilteredProjects(result);\n",
        "-      return;\n",
        "-    }\n",
        "-\n",
        "-    // Apply both search and status filter\n",
        "-    let result = projects.filter(\n",
        "-      (project) =>\n",
        "-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n",
        "-        project.description.toLowerCase().includes(query.toLowerCase())\n",
        "-    );\n",
        "-\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  };\n",
        "-\n",
        "-  const handleStatusFilterChange = (value: string) => {\n",
        "-    setStatusFilter(value);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <AppLayout>\n",
        "-      <div className=\"container mx-auto px-4 py-8\">\n",
        "-        <div className=\"mb-8\">\n",
        "-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n",
        "-          {user && (\n",
        "-            <p className=\"text-secondary-text\">\n",
        "-              Welcome back, {capitalizeWords(user.full_name)}\n",
        "-            </p>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n",
        "-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n",
        "-            <div className=\"w-full sm:w-64\">\n",
        "-              <SearchProjects onSearch={handleSearch} />\n",
        "-            </div>\n",
        "-\n",
        "-            <Select\n",
        "-              value={statusFilter}\n",
        "-              onValueChange={handleStatusFilterChange}\n",
        "-            >\n",
        "-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n",
        "-                <SelectValue placeholder=\"Filter by status\" />\n",
        "-              </SelectTrigger>\n",
        "-              <SelectContent className=\"bg-secondary-background border-divider\">\n",
        "-                <SelectItem value=\"all\">All Projects</SelectItem>\n",
        "-                <SelectItem value=\"draft\">Draft</SelectItem>\n",
        "-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n",
        "-                <SelectItem value=\"completed\">Completed</SelectItem>\n",
        "-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n",
        "-              </SelectContent>\n",
        "-            </Select>\n",
        "-          </div>\n",
        "-\n",
        "-          <Link href=\"/projects/new\">\n",
        "-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n",
        "-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n",
        "-              New Project\n",
        "-            </Button>\n",
        "-          </Link>\n",
        "-        </div>\n",
        "-\n",
        "-        {error && (\n",
        "-          <Alert variant=\"destructive\" className=\"mb-6\">\n",
        "-            <AlertCircle className=\"h-4 w-4\" />\n",
        "-            <AlertDescription>{error}</AlertDescription>\n",
        "-          </Alert>\n",
        "-        )}\n",
        "-\n",
        "-        {isLoading ? (\n",
        "-          <ProjectsLoadingSkeleton />\n",
        "-        ) : (\n",
        "-          <ProjectsList projects={filteredProjects} />\n",
        "-        )}\n",
        "-      </div>\n",
        "-    </AppLayout>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import { getProjects } from \"@/lib/projects\";\r\n",
        "+import { ProjectListItem } from \"@/types\";\r\n",
        "+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n",
        "+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import { Skeleton } from \"@/components/ui/skeleton\";\r\n",
        "+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { capitalizeWords } from \"@/lib/utils\";\r\n",
        "+import { AppLayout } from \"@/components/layout/app-layout\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+\r\n",
        "+// Loading skeleton for projects grid\r\n",
        "+function ProjectsLoadingSkeleton() {\r\n",
        "+  return (\r\n",
        "+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n",
        "+      {Array.from({ length: 6 }).map((_, i) => (\r\n",
        "+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n",
        "+      ))}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+export default function ProjectsPage() {\r\n",
        "+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n",
        "+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n",
        "+    []\r\n",
        "+  );\r\n",
        "+  const [isLoading, setIsLoading] = useState(true);\r\n",
        "+  const [error, setError] = useState<string | null>(null);\r\n",
        "+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n",
        "+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n",
        "+  const router = useRouter();\r\n",
        "+  // Fetch projects on component mount\r\n",
        "+  useEffect(() => {\r\n",
        "+    async function fetchProjects() {\r\n",
        "+      if (authLoading) return;\r\n",
        "+      if (!isAuthenticated) {\r\n",
        "+        console.log(\"User not authenticated, redirecting to login...\");\r\n",
        "+        router.push(\"/auth/login\");\r\n",
        "+        return;\r\n",
        "+      }\r\n",
        "+\r\n",
        "+      try {\r\n",
        "+        setIsLoading(true);\r\n",
        "+        const projectsData = await getProjects();\r\n",
        "+        console.log(projectsData);\r\n",
        "+        setProjects(projectsData);\r\n",
        "+        setFilteredProjects(projectsData);\r\n",
        "+      } catch (err) {\r\n",
        "+        console.error(\"Failed to fetch projects:\", err);\r\n",
        "+        setError(\"Failed to load projects. Please try again later.\");\r\n",
        "+      } finally {\r\n",
        "+        setIsLoading(false);\r\n",
        "+      }\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    fetchProjects();\r\n",
        "+  }, [isAuthenticated, authLoading]);\r\n",
        "+\r\n",
        "+  // Apply filters and search\r\n",
        "+  useEffect(() => {\r\n",
        "+    let result = [...projects];\r\n",
        "+\r\n",
        "+    // Apply status filter if not \"all\"\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  }, [projects, statusFilter]);\r\n",
        "+\r\n",
        "+  // Handle search functionality\r\n",
        "+  const handleSearch = (query: string) => {\r\n",
        "+    if (!query.trim()) {\r\n",
        "+      // Just apply status filter\r\n",
        "+      let result = [...projects];\r\n",
        "+      if (statusFilter !== \"all\") {\r\n",
        "+        result = result.filter((project) => project.status === statusFilter);\r\n",
        "+      }\r\n",
        "+      setFilteredProjects(result);\r\n",
        "+      return;\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    // Apply both search and status filter\r\n",
        "+    let result = projects.filter(\r\n",
        "+      (project) =>\r\n",
        "+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n",
        "+        project.description.toLowerCase().includes(query.toLowerCase())\r\n",
        "+    );\r\n",
        "+\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  const handleStatusFilterChange = (value: string) => {\r\n",
        "+    setStatusFilter(value);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <AppLayout>\r\n",
        "+      <div className=\"container mx-auto px-4 py-8\">\r\n",
        "+        <div className=\"mb-8\">\r\n",
        "+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n",
        "+          {user && (\r\n",
        "+            <p className=\"text-secondary-text\">\r\n",
        "+              Welcome back, {capitalizeWords(user.full_name)}\r\n",
        "+            </p>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n",
        "+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n",
        "+            <div className=\"w-full sm:w-64\">\r\n",
        "+              <SearchProjects onSearch={handleSearch} />\r\n",
        "+            </div>\r\n",
        "+\r\n",
        "+            <Select\r\n",
        "+              value={statusFilter}\r\n",
        "+              onValueChange={handleStatusFilterChange}\r\n",
        "+            >\r\n",
        "+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n",
        "+                <SelectValue placeholder=\"Filter by status\" />\r\n",
        "+              </SelectTrigger>\r\n",
        "+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n",
        "+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n",
        "+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n",
        "+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n",
        "+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n",
        "+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n",
        "+              </SelectContent>\r\n",
        "+            </Select>\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <Link href=\"/projects/new\">\r\n",
        "+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n",
        "+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n",
        "+              New Project\r\n",
        "+            </Button>\r\n",
        "+          </Link>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {error && (\r\n",
        "+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n",
        "+            <AlertCircle className=\"h-4 w-4\" />\r\n",
        "+            <AlertDescription>{error}</AlertDescription>\r\n",
        "+          </Alert>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {isLoading ? (\r\n",
        "+          <ProjectsLoadingSkeleton />\r\n",
        "+        ) : (\r\n",
        "+          <ProjectsList projects={filteredProjects} />\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+    </AppLayout>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": ".history/frontend/src/app/projects/page_20250511000623.tsx",
      "status": "modified",
      "additions": 173,
      "deletions": 173,
      "patch": "@@ -1,173 +1,173 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import { useAuth } from \"@/contexts/auth-context\";\n-import { getProjects } from \"@/lib/projects\";\n-import { ProjectListItem } from \"@/types\";\n-import { ProjectsList } from \"@/components/projects/projects-list\";\n-import { SearchProjects } from \"@/components/projects/search-projects\";\n-import { Button } from \"@/components/ui/button\";\n-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n-import Link from \"next/link\";\n-import { Skeleton } from \"@/components/ui/skeleton\";\n-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { capitalizeWords } from \"@/lib/utils\";\n-import { AppLayout } from \"@/components/layout/app-layout\";\n-import { useRouter } from \"next/navigation\";\n-\n-// Loading skeleton for projects grid\n-function ProjectsLoadingSkeleton() {\n-  return (\n-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n-      {Array.from({ length: 6 }).map((_, i) => (\n-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n-      ))}\n-    </div>\n-  );\n-}\n-\n-export default function ProjectsPage() {\n-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n-    []\n-  );\n-  const [isLoading, setIsLoading] = useState(true);\n-  const [error, setError] = useState<string | null>(null);\n-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n-  const router = useRouter();\n-  // Fetch projects on component mount\n-  useEffect(() => {\n-    async function fetchProjects() {\n-      if (authLoading) return;\n-      if (!isAuthenticated) {\n-        console.log(\"User not authenticated, redirecting to login...\");\n-        router.push(\"/auth/login\");\n-        return;\n-      }\n-\n-      try {\n-        setIsLoading(true);\n-        const projectsData = await getProjects();\n-        console.log(projectsData);\n-        setProjects(projectsData);\n-        setFilteredProjects(projectsData);\n-      } catch (err) {\n-        console.error(\"Failed to fetch projects:\", err);\n-        setError(\"Failed to load projects. Please try again later.\");\n-      } finally {\n-        setIsLoading(false);\n-      }\n-    }\n-\n-    fetchProjects();\n-  }, [isAuthenticated, authLoading]);\n-\n-  // Apply filters and search\n-  useEffect(() => {\n-    let result = [...projects];\n-\n-    // Apply status filter if not \"all\"\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  }, [projects, statusFilter]);\n-\n-  // Handle search functionality\n-  const handleSearch = (query: string) => {\n-    if (!query.trim()) {\n-      // Just apply status filter\n-      let result = [...projects];\n-      if (statusFilter !== \"all\") {\n-        result = result.filter((project) => project.status === statusFilter);\n-      }\n-      setFilteredProjects(result);\n-      return;\n-    }\n-\n-    // Apply both search and status filter\n-    let result = projects.filter(\n-      (project) =>\n-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n-        project.description.toLowerCase().includes(query.toLowerCase())\n-    );\n-\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  };\n-\n-  const handleStatusFilterChange = (value: string) => {\n-    setStatusFilter(value);\n-  };\n-\n-  return (\n-    <AppLayout>\n-      <div className=\"container mx-auto px-4 py-8\">\n-        <div className=\"mb-8\">\n-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n-          {user && (\n-            <p className=\"text-secondary-text\">\n-              Welcome back, {capitalizeWords(user.full_name)}\n-            </p>\n-          )}\n-        </div>\n-\n-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n-            <div className=\"w-full sm:w-64\">\n-              <SearchProjects onSearch={handleSearch} />\n-            </div>\n-\n-            <Select\n-              value={statusFilter}\n-              onValueChange={handleStatusFilterChange}\n-            >\n-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n-                <SelectValue placeholder=\"Filter by status\" />\n-              </SelectTrigger>\n-              <SelectContent className=\"bg-secondary-background border-divider\">\n-                <SelectItem value=\"all\">All Projects</SelectItem>\n-                <SelectItem value=\"draft\">Draft</SelectItem>\n-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n-                <SelectItem value=\"completed\">Completed</SelectItem>\n-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n-              </SelectContent>\n-            </Select>\n-          </div>\n-\n-          <Link href=\"/projects/new\">\n-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n-              New Project\n-            </Button>\n-          </Link>\n-        </div>\n-\n-        {error && (\n-          <Alert variant=\"destructive\" className=\"mb-6\">\n-            <AlertCircle className=\"h-4 w-4\" />\n-            <AlertDescription>{error}</AlertDescription>\n-          </Alert>\n-        )}\n-\n-        {isLoading ? (\n-          <ProjectsLoadingSkeleton />\n-        ) : (\n-          <ProjectsList projects={filteredProjects} />\n-        )}\n-      </div>\n-    </AppLayout>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import { getProjects } from \"@/lib/projects\";\r\n+import { ProjectListItem } from \"@/types\";\r\n+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n+import Link from \"next/link\";\r\n+import { Skeleton } from \"@/components/ui/skeleton\";\r\n+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { capitalizeWords } from \"@/lib/utils\";\r\n+import { AppLayout } from \"@/components/layout/app-layout\";\r\n+import { useRouter } from \"next/navigation\";\r\n+\r\n+// Loading skeleton for projects grid\r\n+function ProjectsLoadingSkeleton() {\r\n+  return (\r\n+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n+      {Array.from({ length: 6 }).map((_, i) => (\r\n+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n+      ))}\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function ProjectsPage() {\r\n+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n+    []\r\n+  );\r\n+  const [isLoading, setIsLoading] = useState(true);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n+  const router = useRouter();\r\n+  // Fetch projects on component mount\r\n+  useEffect(() => {\r\n+    async function fetchProjects() {\r\n+      if (authLoading) return;\r\n+      if (!isAuthenticated) {\r\n+        console.log(\"User not authenticated, redirecting to login...\");\r\n+        router.push(\"/auth/login\");\r\n+        return;\r\n+      }\r\n+\r\n+      try {\r\n+        setIsLoading(true);\r\n+        const projectsData = await getProjects();\r\n+        console.log(projectsData);\r\n+        setProjects(projectsData);\r\n+        setFilteredProjects(projectsData);\r\n+      } catch (err) {\r\n+        console.error(\"Failed to fetch projects:\", err);\r\n+        setError(\"Failed to load projects. Please try again later.\");\r\n+      } finally {\r\n+        setIsLoading(false);\r\n+      }\r\n+    }\r\n+\r\n+    fetchProjects();\r\n+  }, [isAuthenticated, authLoading]);\r\n+\r\n+  // Apply filters and search\r\n+  useEffect(() => {\r\n+    let result = [...projects];\r\n+\r\n+    // Apply status filter if not \"all\"\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  }, [projects, statusFilter]);\r\n+\r\n+  // Handle search functionality\r\n+  const handleSearch = (query: string) => {\r\n+    if (!query.trim()) {\r\n+      // Just apply status filter\r\n+      let result = [...projects];\r\n+      if (statusFilter !== \"all\") {\r\n+        result = result.filter((project) => project.status === statusFilter);\r\n+      }\r\n+      setFilteredProjects(result);\r\n+      return;\r\n+    }\r\n+\r\n+    // Apply both search and status filter\r\n+    let result = projects.filter(\r\n+      (project) =>\r\n+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n+        project.description.toLowerCase().includes(query.toLowerCase())\r\n+    );\r\n+\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  };\r\n+\r\n+  const handleStatusFilterChange = (value: string) => {\r\n+    setStatusFilter(value);\r\n+  };\r\n+\r\n+  return (\r\n+    <AppLayout>\r\n+      <div className=\"container mx-auto px-4 py-8\">\r\n+        <div className=\"mb-8\">\r\n+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n+          {user && (\r\n+            <p className=\"text-secondary-text\">\r\n+              Welcome back, {capitalizeWords(user.full_name)}\r\n+            </p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n+            <div className=\"w-full sm:w-64\">\r\n+              <SearchProjects onSearch={handleSearch} />\r\n+            </div>\r\n+\r\n+            <Select\r\n+              value={statusFilter}\r\n+              onValueChange={handleStatusFilterChange}\r\n+            >\r\n+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n+                <SelectValue placeholder=\"Filter by status\" />\r\n+              </SelectTrigger>\r\n+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n+              </SelectContent>\r\n+            </Select>\r\n+          </div>\r\n+\r\n+          <Link href=\"/projects/new\">\r\n+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n+              New Project\r\n+            </Button>\r\n+          </Link>\r\n+        </div>\r\n+\r\n+        {error && (\r\n+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n+            <AlertCircle className=\"h-4 w-4\" />\r\n+            <AlertDescription>{error}</AlertDescription>\r\n+          </Alert>\r\n+        )}\r\n+\r\n+        {isLoading ? (\r\n+          <ProjectsLoadingSkeleton />\r\n+        ) : (\r\n+          <ProjectsList projects={filteredProjects} />\r\n+        )}\r\n+      </div>\r\n+    </AppLayout>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,173 +1,173 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import { getProjects } from \"@/lib/projects\";\n",
        "-import { ProjectListItem } from \"@/types\";\n",
        "-import { ProjectsList } from \"@/components/projects/projects-list\";\n",
        "-import { SearchProjects } from \"@/components/projects/search-projects\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n",
        "-import Link from \"next/link\";\n",
        "-import { Skeleton } from \"@/components/ui/skeleton\";\n",
        "-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { capitalizeWords } from \"@/lib/utils\";\n",
        "-import { AppLayout } from \"@/components/layout/app-layout\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-\n",
        "-// Loading skeleton for projects grid\n",
        "-function ProjectsLoadingSkeleton() {\n",
        "-  return (\n",
        "-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n",
        "-      {Array.from({ length: 6 }).map((_, i) => (\n",
        "-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n",
        "-      ))}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-export default function ProjectsPage() {\n",
        "-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n",
        "-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n",
        "-    []\n",
        "-  );\n",
        "-  const [isLoading, setIsLoading] = useState(true);\n",
        "-  const [error, setError] = useState<string | null>(null);\n",
        "-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n",
        "-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n",
        "-  const router = useRouter();\n",
        "-  // Fetch projects on component mount\n",
        "-  useEffect(() => {\n",
        "-    async function fetchProjects() {\n",
        "-      if (authLoading) return;\n",
        "-      if (!isAuthenticated) {\n",
        "-        console.log(\"User not authenticated, redirecting to login...\");\n",
        "-        router.push(\"/auth/login\");\n",
        "-        return;\n",
        "-      }\n",
        "-\n",
        "-      try {\n",
        "-        setIsLoading(true);\n",
        "-        const projectsData = await getProjects();\n",
        "-        console.log(projectsData);\n",
        "-        setProjects(projectsData);\n",
        "-        setFilteredProjects(projectsData);\n",
        "-      } catch (err) {\n",
        "-        console.error(\"Failed to fetch projects:\", err);\n",
        "-        setError(\"Failed to load projects. Please try again later.\");\n",
        "-      } finally {\n",
        "-        setIsLoading(false);\n",
        "-      }\n",
        "-    }\n",
        "-\n",
        "-    fetchProjects();\n",
        "-  }, [isAuthenticated, authLoading]);\n",
        "-\n",
        "-  // Apply filters and search\n",
        "-  useEffect(() => {\n",
        "-    let result = [...projects];\n",
        "-\n",
        "-    // Apply status filter if not \"all\"\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  }, [projects, statusFilter]);\n",
        "-\n",
        "-  // Handle search functionality\n",
        "-  const handleSearch = (query: string) => {\n",
        "-    if (!query.trim()) {\n",
        "-      // Just apply status filter\n",
        "-      let result = [...projects];\n",
        "-      if (statusFilter !== \"all\") {\n",
        "-        result = result.filter((project) => project.status === statusFilter);\n",
        "-      }\n",
        "-      setFilteredProjects(result);\n",
        "-      return;\n",
        "-    }\n",
        "-\n",
        "-    // Apply both search and status filter\n",
        "-    let result = projects.filter(\n",
        "-      (project) =>\n",
        "-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n",
        "-        project.description.toLowerCase().includes(query.toLowerCase())\n",
        "-    );\n",
        "-\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  };\n",
        "-\n",
        "-  const handleStatusFilterChange = (value: string) => {\n",
        "-    setStatusFilter(value);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <AppLayout>\n",
        "-      <div className=\"container mx-auto px-4 py-8\">\n",
        "-        <div className=\"mb-8\">\n",
        "-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n",
        "-          {user && (\n",
        "-            <p className=\"text-secondary-text\">\n",
        "-              Welcome back, {capitalizeWords(user.full_name)}\n",
        "-            </p>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n",
        "-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n",
        "-            <div className=\"w-full sm:w-64\">\n",
        "-              <SearchProjects onSearch={handleSearch} />\n",
        "-            </div>\n",
        "-\n",
        "-            <Select\n",
        "-              value={statusFilter}\n",
        "-              onValueChange={handleStatusFilterChange}\n",
        "-            >\n",
        "-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n",
        "-                <SelectValue placeholder=\"Filter by status\" />\n",
        "-              </SelectTrigger>\n",
        "-              <SelectContent className=\"bg-secondary-background border-divider\">\n",
        "-                <SelectItem value=\"all\">All Projects</SelectItem>\n",
        "-                <SelectItem value=\"draft\">Draft</SelectItem>\n",
        "-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n",
        "-                <SelectItem value=\"completed\">Completed</SelectItem>\n",
        "-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n",
        "-              </SelectContent>\n",
        "-            </Select>\n",
        "-          </div>\n",
        "-\n",
        "-          <Link href=\"/projects/new\">\n",
        "-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n",
        "-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n",
        "-              New Project\n",
        "-            </Button>\n",
        "-          </Link>\n",
        "-        </div>\n",
        "-\n",
        "-        {error && (\n",
        "-          <Alert variant=\"destructive\" className=\"mb-6\">\n",
        "-            <AlertCircle className=\"h-4 w-4\" />\n",
        "-            <AlertDescription>{error}</AlertDescription>\n",
        "-          </Alert>\n",
        "-        )}\n",
        "-\n",
        "-        {isLoading ? (\n",
        "-          <ProjectsLoadingSkeleton />\n",
        "-        ) : (\n",
        "-          <ProjectsList projects={filteredProjects} />\n",
        "-        )}\n",
        "-      </div>\n",
        "-    </AppLayout>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import { getProjects } from \"@/lib/projects\";\r\n",
        "+import { ProjectListItem } from \"@/types\";\r\n",
        "+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n",
        "+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import { Skeleton } from \"@/components/ui/skeleton\";\r\n",
        "+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { capitalizeWords } from \"@/lib/utils\";\r\n",
        "+import { AppLayout } from \"@/components/layout/app-layout\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+\r\n",
        "+// Loading skeleton for projects grid\r\n",
        "+function ProjectsLoadingSkeleton() {\r\n",
        "+  return (\r\n",
        "+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n",
        "+      {Array.from({ length: 6 }).map((_, i) => (\r\n",
        "+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n",
        "+      ))}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+export default function ProjectsPage() {\r\n",
        "+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n",
        "+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n",
        "+    []\r\n",
        "+  );\r\n",
        "+  const [isLoading, setIsLoading] = useState(true);\r\n",
        "+  const [error, setError] = useState<string | null>(null);\r\n",
        "+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n",
        "+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n",
        "+  const router = useRouter();\r\n",
        "+  // Fetch projects on component mount\r\n",
        "+  useEffect(() => {\r\n",
        "+    async function fetchProjects() {\r\n",
        "+      if (authLoading) return;\r\n",
        "+      if (!isAuthenticated) {\r\n",
        "+        console.log(\"User not authenticated, redirecting to login...\");\r\n",
        "+        router.push(\"/auth/login\");\r\n",
        "+        return;\r\n",
        "+      }\r\n",
        "+\r\n",
        "+      try {\r\n",
        "+        setIsLoading(true);\r\n",
        "+        const projectsData = await getProjects();\r\n",
        "+        console.log(projectsData);\r\n",
        "+        setProjects(projectsData);\r\n",
        "+        setFilteredProjects(projectsData);\r\n",
        "+      } catch (err) {\r\n",
        "+        console.error(\"Failed to fetch projects:\", err);\r\n",
        "+        setError(\"Failed to load projects. Please try again later.\");\r\n",
        "+      } finally {\r\n",
        "+        setIsLoading(false);\r\n",
        "+      }\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    fetchProjects();\r\n",
        "+  }, [isAuthenticated, authLoading]);\r\n",
        "+\r\n",
        "+  // Apply filters and search\r\n",
        "+  useEffect(() => {\r\n",
        "+    let result = [...projects];\r\n",
        "+\r\n",
        "+    // Apply status filter if not \"all\"\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  }, [projects, statusFilter]);\r\n",
        "+\r\n",
        "+  // Handle search functionality\r\n",
        "+  const handleSearch = (query: string) => {\r\n",
        "+    if (!query.trim()) {\r\n",
        "+      // Just apply status filter\r\n",
        "+      let result = [...projects];\r\n",
        "+      if (statusFilter !== \"all\") {\r\n",
        "+        result = result.filter((project) => project.status === statusFilter);\r\n",
        "+      }\r\n",
        "+      setFilteredProjects(result);\r\n",
        "+      return;\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    // Apply both search and status filter\r\n",
        "+    let result = projects.filter(\r\n",
        "+      (project) =>\r\n",
        "+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n",
        "+        project.description.toLowerCase().includes(query.toLowerCase())\r\n",
        "+    );\r\n",
        "+\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  const handleStatusFilterChange = (value: string) => {\r\n",
        "+    setStatusFilter(value);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <AppLayout>\r\n",
        "+      <div className=\"container mx-auto px-4 py-8\">\r\n",
        "+        <div className=\"mb-8\">\r\n",
        "+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n",
        "+          {user && (\r\n",
        "+            <p className=\"text-secondary-text\">\r\n",
        "+              Welcome back, {capitalizeWords(user.full_name)}\r\n",
        "+            </p>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n",
        "+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n",
        "+            <div className=\"w-full sm:w-64\">\r\n",
        "+              <SearchProjects onSearch={handleSearch} />\r\n",
        "+            </div>\r\n",
        "+\r\n",
        "+            <Select\r\n",
        "+              value={statusFilter}\r\n",
        "+              onValueChange={handleStatusFilterChange}\r\n",
        "+            >\r\n",
        "+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n",
        "+                <SelectValue placeholder=\"Filter by status\" />\r\n",
        "+              </SelectTrigger>\r\n",
        "+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n",
        "+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n",
        "+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n",
        "+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n",
        "+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n",
        "+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n",
        "+              </SelectContent>\r\n",
        "+            </Select>\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <Link href=\"/projects/new\">\r\n",
        "+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n",
        "+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n",
        "+              New Project\r\n",
        "+            </Button>\r\n",
        "+          </Link>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {error && (\r\n",
        "+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n",
        "+            <AlertCircle className=\"h-4 w-4\" />\r\n",
        "+            <AlertDescription>{error}</AlertDescription>\r\n",
        "+          </Alert>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {isLoading ? (\r\n",
        "+          <ProjectsLoadingSkeleton />\r\n",
        "+        ) : (\r\n",
        "+          <ProjectsList projects={filteredProjects} />\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+    </AppLayout>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": ".history/frontend/src/app/projects/page_20250511000626.tsx",
      "status": "modified",
      "additions": 173,
      "deletions": 173,
      "patch": "@@ -1,173 +1,173 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import { useAuth } from \"@/contexts/auth-context\";\n-import { getProjects } from \"@/lib/projects\";\n-import { ProjectListItem } from \"@/types\";\n-import { ProjectsList } from \"@/components/projects/projects-list\";\n-import { SearchProjects } from \"@/components/projects/search-projects\";\n-import { Button } from \"@/components/ui/button\";\n-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n-import Link from \"next/link\";\n-import { Skeleton } from \"@/components/ui/skeleton\";\n-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { capitalizeWords } from \"@/lib/utils\";\n-import { AppLayout } from \"@/components/layout/app-layout\";\n-import { useRouter } from \"next/navigation\";\n-\n-// Loading skeleton for projects grid\n-function ProjectsLoadingSkeleton() {\n-  return (\n-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n-      {Array.from({ length: 6 }).map((_, i) => (\n-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n-      ))}\n-    </div>\n-  );\n-}\n-\n-export default function ProjectsPage() {\n-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n-    []\n-  );\n-  const [isLoading, setIsLoading] = useState(true);\n-  const [error, setError] = useState<string | null>(null);\n-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n-  const router = useRouter();\n-  // Fetch projects on component mount\n-  useEffect(() => {\n-    async function fetchProjects() {\n-      if (authLoading) return;\n-      if (!isAuthenticated) {\n-        console.log(\"User not authenticated, redirecting to login...\");\n-        router.push(\"/auth/login\");\n-        return;\n-      }\n-\n-      try {\n-        setIsLoading(true);\n-        const projectsData = await getProjects();\n-        console.log(projectsData);\n-        setProjects(projectsData);\n-        setFilteredProjects(projectsData);\n-      } catch (err) {\n-        console.error(\"Failed to fetch projects:\", err);\n-        setError(\"Failed to load projects. Please try again later.\");\n-      } finally {\n-        setIsLoading(false);\n-      }\n-    }\n-\n-    fetchProjects();\n-  }, [isAuthenticated, authLoading]);\n-\n-  // Apply filters and search\n-  useEffect(() => {\n-    let result = [...projects];\n-\n-    // Apply status filter if not \"all\"\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  }, [projects, statusFilter]);\n-\n-  // Handle search functionality\n-  const handleSearch = (query: string) => {\n-    if (!query.trim()) {\n-      // Just apply status filter\n-      let result = [...projects];\n-      if (statusFilter !== \"all\") {\n-        result = result.filter((project) => project.status === statusFilter);\n-      }\n-      setFilteredProjects(result);\n-      return;\n-    }\n-\n-    // Apply both search and status filter\n-    let result = projects.filter(\n-      (project) =>\n-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n-        project.description.toLowerCase().includes(query.toLowerCase())\n-    );\n-\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  };\n-\n-  const handleStatusFilterChange = (value: string) => {\n-    setStatusFilter(value);\n-  };\n-\n-  return (\n-    <AppLayout>\n-      <div className=\"container mx-auto px-4 py-8\">\n-        <div className=\"mb-8\">\n-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n-          {user && (\n-            <p className=\"text-secondary-text\">\n-              Welcome back, {capitalizeWords(user.full_name)}\n-            </p>\n-          )}\n-        </div>\n-\n-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n-            <div className=\"w-full sm:w-64\">\n-              <SearchProjects onSearch={handleSearch} />\n-            </div>\n-\n-            <Select\n-              value={statusFilter}\n-              onValueChange={handleStatusFilterChange}\n-            >\n-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n-                <SelectValue placeholder=\"Filter by status\" />\n-              </SelectTrigger>\n-              <SelectContent className=\"bg-secondary-background border-divider\">\n-                <SelectItem value=\"all\">All Projects</SelectItem>\n-                <SelectItem value=\"draft\">Draft</SelectItem>\n-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n-                <SelectItem value=\"completed\">Completed</SelectItem>\n-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n-              </SelectContent>\n-            </Select>\n-          </div>\n-\n-          <Link href=\"/projects/new\">\n-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n-              New Project\n-            </Button>\n-          </Link>\n-        </div>\n-\n-        {error && (\n-          <Alert variant=\"destructive\" className=\"mb-6\">\n-            <AlertCircle className=\"h-4 w-4\" />\n-            <AlertDescription>{error}</AlertDescription>\n-          </Alert>\n-        )}\n-\n-        {isLoading ? (\n-          <ProjectsLoadingSkeleton />\n-        ) : (\n-          <ProjectsList projects={filteredProjects} />\n-        )}\n-      </div>\n-    </AppLayout>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import { getProjects } from \"@/lib/projects\";\r\n+import { ProjectListItem } from \"@/types\";\r\n+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n+import Link from \"next/link\";\r\n+import { Skeleton } from \"@/components/ui/skeleton\";\r\n+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { capitalizeWords } from \"@/lib/utils\";\r\n+import { AppLayout } from \"@/components/layout/app-layout\";\r\n+import { useRouter } from \"next/navigation\";\r\n+\r\n+// Loading skeleton for projects grid\r\n+function ProjectsLoadingSkeleton() {\r\n+  return (\r\n+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n+      {Array.from({ length: 6 }).map((_, i) => (\r\n+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n+      ))}\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function ProjectsPage() {\r\n+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n+    []\r\n+  );\r\n+  const [isLoading, setIsLoading] = useState(true);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n+  const router = useRouter();\r\n+  // Fetch projects on component mount\r\n+  useEffect(() => {\r\n+    async function fetchProjects() {\r\n+      if (authLoading) return;\r\n+      if (!isAuthenticated) {\r\n+        console.log(\"User not authenticated, redirecting to login...\");\r\n+        router.push(\"/auth/login\");\r\n+        return;\r\n+      }\r\n+\r\n+      try {\r\n+        setIsLoading(true);\r\n+        const projectsData = await getProjects();\r\n+        console.log(projectsData);\r\n+        setProjects(projectsData);\r\n+        setFilteredProjects(projectsData);\r\n+      } catch (err) {\r\n+        console.error(\"Failed to fetch projects:\", err);\r\n+        setError(\"Failed to load projects. Please try again later.\");\r\n+      } finally {\r\n+        setIsLoading(false);\r\n+      }\r\n+    }\r\n+\r\n+    fetchProjects();\r\n+  }, [isAuthenticated, authLoading]);\r\n+\r\n+  // Apply filters and search\r\n+  useEffect(() => {\r\n+    let result = [...projects];\r\n+\r\n+    // Apply status filter if not \"all\"\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  }, [projects, statusFilter]);\r\n+\r\n+  // Handle search functionality\r\n+  const handleSearch = (query: string) => {\r\n+    if (!query.trim()) {\r\n+      // Just apply status filter\r\n+      let result = [...projects];\r\n+      if (statusFilter !== \"all\") {\r\n+        result = result.filter((project) => project.status === statusFilter);\r\n+      }\r\n+      setFilteredProjects(result);\r\n+      return;\r\n+    }\r\n+\r\n+    // Apply both search and status filter\r\n+    let result = projects.filter(\r\n+      (project) =>\r\n+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n+        project.description.toLowerCase().includes(query.toLowerCase())\r\n+    );\r\n+\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  };\r\n+\r\n+  const handleStatusFilterChange = (value: string) => {\r\n+    setStatusFilter(value);\r\n+  };\r\n+\r\n+  return (\r\n+    <AppLayout>\r\n+      <div className=\"container mx-auto px-4 py-8\">\r\n+        <div className=\"mb-8\">\r\n+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n+          {user && (\r\n+            <p className=\"text-secondary-text\">\r\n+              Welcome back, {capitalizeWords(user.full_name)}\r\n+            </p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n+            <div className=\"w-full sm:w-64\">\r\n+              <SearchProjects onSearch={handleSearch} />\r\n+            </div>\r\n+\r\n+            <Select\r\n+              value={statusFilter}\r\n+              onValueChange={handleStatusFilterChange}\r\n+            >\r\n+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n+                <SelectValue placeholder=\"Filter by status\" />\r\n+              </SelectTrigger>\r\n+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n+              </SelectContent>\r\n+            </Select>\r\n+          </div>\r\n+\r\n+          <Link href=\"/projects/new\">\r\n+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n+              New Project\r\n+            </Button>\r\n+          </Link>\r\n+        </div>\r\n+\r\n+        {error && (\r\n+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n+            <AlertCircle className=\"h-4 w-4\" />\r\n+            <AlertDescription>{error}</AlertDescription>\r\n+          </Alert>\r\n+        )}\r\n+\r\n+        {isLoading ? (\r\n+          <ProjectsLoadingSkeleton />\r\n+        ) : (\r\n+          <ProjectsList projects={filteredProjects} />\r\n+        )}\r\n+      </div>\r\n+    </AppLayout>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,173 +1,173 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import { getProjects } from \"@/lib/projects\";\n",
        "-import { ProjectListItem } from \"@/types\";\n",
        "-import { ProjectsList } from \"@/components/projects/projects-list\";\n",
        "-import { SearchProjects } from \"@/components/projects/search-projects\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n",
        "-import Link from \"next/link\";\n",
        "-import { Skeleton } from \"@/components/ui/skeleton\";\n",
        "-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { capitalizeWords } from \"@/lib/utils\";\n",
        "-import { AppLayout } from \"@/components/layout/app-layout\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-\n",
        "-// Loading skeleton for projects grid\n",
        "-function ProjectsLoadingSkeleton() {\n",
        "-  return (\n",
        "-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n",
        "-      {Array.from({ length: 6 }).map((_, i) => (\n",
        "-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n",
        "-      ))}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-export default function ProjectsPage() {\n",
        "-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n",
        "-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n",
        "-    []\n",
        "-  );\n",
        "-  const [isLoading, setIsLoading] = useState(true);\n",
        "-  const [error, setError] = useState<string | null>(null);\n",
        "-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n",
        "-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n",
        "-  const router = useRouter();\n",
        "-  // Fetch projects on component mount\n",
        "-  useEffect(() => {\n",
        "-    async function fetchProjects() {\n",
        "-      if (authLoading) return;\n",
        "-      if (!isAuthenticated) {\n",
        "-        console.log(\"User not authenticated, redirecting to login...\");\n",
        "-        router.push(\"/auth/login\");\n",
        "-        return;\n",
        "-      }\n",
        "-\n",
        "-      try {\n",
        "-        setIsLoading(true);\n",
        "-        const projectsData = await getProjects();\n",
        "-        console.log(projectsData);\n",
        "-        setProjects(projectsData);\n",
        "-        setFilteredProjects(projectsData);\n",
        "-      } catch (err) {\n",
        "-        console.error(\"Failed to fetch projects:\", err);\n",
        "-        setError(\"Failed to load projects. Please try again later.\");\n",
        "-      } finally {\n",
        "-        setIsLoading(false);\n",
        "-      }\n",
        "-    }\n",
        "-\n",
        "-    fetchProjects();\n",
        "-  }, [isAuthenticated, authLoading]);\n",
        "-\n",
        "-  // Apply filters and search\n",
        "-  useEffect(() => {\n",
        "-    let result = [...projects];\n",
        "-\n",
        "-    // Apply status filter if not \"all\"\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  }, [projects, statusFilter]);\n",
        "-\n",
        "-  // Handle search functionality\n",
        "-  const handleSearch = (query: string) => {\n",
        "-    if (!query.trim()) {\n",
        "-      // Just apply status filter\n",
        "-      let result = [...projects];\n",
        "-      if (statusFilter !== \"all\") {\n",
        "-        result = result.filter((project) => project.status === statusFilter);\n",
        "-      }\n",
        "-      setFilteredProjects(result);\n",
        "-      return;\n",
        "-    }\n",
        "-\n",
        "-    // Apply both search and status filter\n",
        "-    let result = projects.filter(\n",
        "-      (project) =>\n",
        "-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n",
        "-        project.description.toLowerCase().includes(query.toLowerCase())\n",
        "-    );\n",
        "-\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  };\n",
        "-\n",
        "-  const handleStatusFilterChange = (value: string) => {\n",
        "-    setStatusFilter(value);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <AppLayout>\n",
        "-      <div className=\"container mx-auto px-4 py-8\">\n",
        "-        <div className=\"mb-8\">\n",
        "-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n",
        "-          {user && (\n",
        "-            <p className=\"text-secondary-text\">\n",
        "-              Welcome back, {capitalizeWords(user.full_name)}\n",
        "-            </p>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n",
        "-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n",
        "-            <div className=\"w-full sm:w-64\">\n",
        "-              <SearchProjects onSearch={handleSearch} />\n",
        "-            </div>\n",
        "-\n",
        "-            <Select\n",
        "-              value={statusFilter}\n",
        "-              onValueChange={handleStatusFilterChange}\n",
        "-            >\n",
        "-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n",
        "-                <SelectValue placeholder=\"Filter by status\" />\n",
        "-              </SelectTrigger>\n",
        "-              <SelectContent className=\"bg-secondary-background border-divider\">\n",
        "-                <SelectItem value=\"all\">All Projects</SelectItem>\n",
        "-                <SelectItem value=\"draft\">Draft</SelectItem>\n",
        "-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n",
        "-                <SelectItem value=\"completed\">Completed</SelectItem>\n",
        "-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n",
        "-              </SelectContent>\n",
        "-            </Select>\n",
        "-          </div>\n",
        "-\n",
        "-          <Link href=\"/projects/new\">\n",
        "-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n",
        "-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n",
        "-              New Project\n",
        "-            </Button>\n",
        "-          </Link>\n",
        "-        </div>\n",
        "-\n",
        "-        {error && (\n",
        "-          <Alert variant=\"destructive\" className=\"mb-6\">\n",
        "-            <AlertCircle className=\"h-4 w-4\" />\n",
        "-            <AlertDescription>{error}</AlertDescription>\n",
        "-          </Alert>\n",
        "-        )}\n",
        "-\n",
        "-        {isLoading ? (\n",
        "-          <ProjectsLoadingSkeleton />\n",
        "-        ) : (\n",
        "-          <ProjectsList projects={filteredProjects} />\n",
        "-        )}\n",
        "-      </div>\n",
        "-    </AppLayout>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import { getProjects } from \"@/lib/projects\";\r\n",
        "+import { ProjectListItem } from \"@/types\";\r\n",
        "+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n",
        "+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import { Skeleton } from \"@/components/ui/skeleton\";\r\n",
        "+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { capitalizeWords } from \"@/lib/utils\";\r\n",
        "+import { AppLayout } from \"@/components/layout/app-layout\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+\r\n",
        "+// Loading skeleton for projects grid\r\n",
        "+function ProjectsLoadingSkeleton() {\r\n",
        "+  return (\r\n",
        "+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n",
        "+      {Array.from({ length: 6 }).map((_, i) => (\r\n",
        "+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n",
        "+      ))}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+export default function ProjectsPage() {\r\n",
        "+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n",
        "+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n",
        "+    []\r\n",
        "+  );\r\n",
        "+  const [isLoading, setIsLoading] = useState(true);\r\n",
        "+  const [error, setError] = useState<string | null>(null);\r\n",
        "+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n",
        "+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n",
        "+  const router = useRouter();\r\n",
        "+  // Fetch projects on component mount\r\n",
        "+  useEffect(() => {\r\n",
        "+    async function fetchProjects() {\r\n",
        "+      if (authLoading) return;\r\n",
        "+      if (!isAuthenticated) {\r\n",
        "+        console.log(\"User not authenticated, redirecting to login...\");\r\n",
        "+        router.push(\"/auth/login\");\r\n",
        "+        return;\r\n",
        "+      }\r\n",
        "+\r\n",
        "+      try {\r\n",
        "+        setIsLoading(true);\r\n",
        "+        const projectsData = await getProjects();\r\n",
        "+        console.log(projectsData);\r\n",
        "+        setProjects(projectsData);\r\n",
        "+        setFilteredProjects(projectsData);\r\n",
        "+      } catch (err) {\r\n",
        "+        console.error(\"Failed to fetch projects:\", err);\r\n",
        "+        setError(\"Failed to load projects. Please try again later.\");\r\n",
        "+      } finally {\r\n",
        "+        setIsLoading(false);\r\n",
        "+      }\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    fetchProjects();\r\n",
        "+  }, [isAuthenticated, authLoading]);\r\n",
        "+\r\n",
        "+  // Apply filters and search\r\n",
        "+  useEffect(() => {\r\n",
        "+    let result = [...projects];\r\n",
        "+\r\n",
        "+    // Apply status filter if not \"all\"\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  }, [projects, statusFilter]);\r\n",
        "+\r\n",
        "+  // Handle search functionality\r\n",
        "+  const handleSearch = (query: string) => {\r\n",
        "+    if (!query.trim()) {\r\n",
        "+      // Just apply status filter\r\n",
        "+      let result = [...projects];\r\n",
        "+      if (statusFilter !== \"all\") {\r\n",
        "+        result = result.filter((project) => project.status === statusFilter);\r\n",
        "+      }\r\n",
        "+      setFilteredProjects(result);\r\n",
        "+      return;\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    // Apply both search and status filter\r\n",
        "+    let result = projects.filter(\r\n",
        "+      (project) =>\r\n",
        "+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n",
        "+        project.description.toLowerCase().includes(query.toLowerCase())\r\n",
        "+    );\r\n",
        "+\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  const handleStatusFilterChange = (value: string) => {\r\n",
        "+    setStatusFilter(value);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <AppLayout>\r\n",
        "+      <div className=\"container mx-auto px-4 py-8\">\r\n",
        "+        <div className=\"mb-8\">\r\n",
        "+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n",
        "+          {user && (\r\n",
        "+            <p className=\"text-secondary-text\">\r\n",
        "+              Welcome back, {capitalizeWords(user.full_name)}\r\n",
        "+            </p>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n",
        "+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n",
        "+            <div className=\"w-full sm:w-64\">\r\n",
        "+              <SearchProjects onSearch={handleSearch} />\r\n",
        "+            </div>\r\n",
        "+\r\n",
        "+            <Select\r\n",
        "+              value={statusFilter}\r\n",
        "+              onValueChange={handleStatusFilterChange}\r\n",
        "+            >\r\n",
        "+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n",
        "+                <SelectValue placeholder=\"Filter by status\" />\r\n",
        "+              </SelectTrigger>\r\n",
        "+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n",
        "+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n",
        "+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n",
        "+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n",
        "+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n",
        "+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n",
        "+              </SelectContent>\r\n",
        "+            </Select>\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <Link href=\"/projects/new\">\r\n",
        "+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n",
        "+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n",
        "+              New Project\r\n",
        "+            </Button>\r\n",
        "+          </Link>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {error && (\r\n",
        "+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n",
        "+            <AlertCircle className=\"h-4 w-4\" />\r\n",
        "+            <AlertDescription>{error}</AlertDescription>\r\n",
        "+          </Alert>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {isLoading ? (\r\n",
        "+          <ProjectsLoadingSkeleton />\r\n",
        "+        ) : (\r\n",
        "+          <ProjectsList projects={filteredProjects} />\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+    </AppLayout>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": ".history/frontend/src/app/projects/page_20250511000634.tsx",
      "status": "modified",
      "additions": 173,
      "deletions": 173,
      "patch": "@@ -1,173 +1,173 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import { useAuth } from \"@/contexts/auth-context\";\n-import { getProjects } from \"@/lib/projects\";\n-import { ProjectListItem } from \"@/types\";\n-import { ProjectsList } from \"@/components/projects/projects-list\";\n-import { SearchProjects } from \"@/components/projects/search-projects\";\n-import { Button } from \"@/components/ui/button\";\n-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n-import Link from \"next/link\";\n-import { Skeleton } from \"@/components/ui/skeleton\";\n-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { capitalizeWords } from \"@/lib/utils\";\n-import { AppLayout } from \"@/components/layout/app-layout\";\n-import { useRouter } from \"next/navigation\";\n-\n-// Loading skeleton for projects grid\n-function ProjectsLoadingSkeleton() {\n-  return (\n-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n-      {Array.from({ length: 6 }).map((_, i) => (\n-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n-      ))}\n-    </div>\n-  );\n-}\n-\n-export default function ProjectsPage() {\n-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n-    []\n-  );\n-  const [isLoading, setIsLoading] = useState(true);\n-  const [error, setError] = useState<string | null>(null);\n-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n-  const router = useRouter();\n-  // Fetch projects on component mount\n-  useEffect(() => {\n-    async function fetchProjects() {\n-      if (authLoading) return;\n-      if (!isAuthenticated) {\n-        console.log(\"User not authenticated, redirecting to login...\");\n-        router.push(\"/auth/login\");\n-        return;\n-      }\n-\n-      try {\n-        setIsLoading(true);\n-        const projectsData = await getProjects();\n-        console.log(projectsData);\n-        setProjects(projectsData);\n-        setFilteredProjects(projectsData);\n-      } catch (err) {\n-        console.error(\"Failed to fetch projects:\", err);\n-        setError(\"Failed to load projects. Please try again later.\");\n-      } finally {\n-        setIsLoading(false);\n-      }\n-    }\n-\n-    fetchProjects();\n-  }, [isAuthenticated, authLoading]);\n-\n-  // Apply filters and search\n-  useEffect(() => {\n-    let result = [...projects];\n-\n-    // Apply status filter if not \"all\"\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  }, [projects, statusFilter]);\n-\n-  // Handle search functionality\n-  const handleSearch = (query: string) => {\n-    if (!query.trim()) {\n-      // Just apply status filter\n-      let result = [...projects];\n-      if (statusFilter !== \"all\") {\n-        result = result.filter((project) => project.status === statusFilter);\n-      }\n-      setFilteredProjects(result);\n-      return;\n-    }\n-\n-    // Apply both search and status filter\n-    let result = projects.filter(\n-      (project) =>\n-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n-        project.description.toLowerCase().includes(query.toLowerCase())\n-    );\n-\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  };\n-\n-  const handleStatusFilterChange = (value: string) => {\n-    setStatusFilter(value);\n-  };\n-\n-  return (\n-    <AppLayout>\n-      <div className=\"container mx-auto px-4 py-8\">\n-        <div className=\"mb-8\">\n-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n-          {user && (\n-            <p className=\"text-secondary-text\">\n-              Welcome back, {capitalizeWords(user.full_name)}\n-            </p>\n-          )}\n-        </div>\n-\n-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n-            <div className=\"w-full sm:w-64\">\n-              <SearchProjects onSearch={handleSearch} />\n-            </div>\n-\n-            <Select\n-              value={statusFilter}\n-              onValueChange={handleStatusFilterChange}\n-            >\n-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n-                <SelectValue placeholder=\"Filter by status\" />\n-              </SelectTrigger>\n-              <SelectContent className=\"bg-secondary-background border-divider\">\n-                <SelectItem value=\"all\">All Projects</SelectItem>\n-                <SelectItem value=\"draft\">Draft</SelectItem>\n-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n-                <SelectItem value=\"completed\">Completed</SelectItem>\n-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n-              </SelectContent>\n-            </Select>\n-          </div>\n-\n-          <Link href=\"/projects/new\">\n-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n-              New Project\n-            </Button>\n-          </Link>\n-        </div>\n-\n-        {error && (\n-          <Alert variant=\"destructive\" className=\"mb-6\">\n-            <AlertCircle className=\"h-4 w-4\" />\n-            <AlertDescription>{error}</AlertDescription>\n-          </Alert>\n-        )}\n-\n-        {isLoading ? (\n-          <ProjectsLoadingSkeleton />\n-        ) : (\n-          <ProjectsList projects={filteredProjects} />\n-        )}\n-      </div>\n-    </AppLayout>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import { getProjects } from \"@/lib/projects\";\r\n+import { ProjectListItem } from \"@/types\";\r\n+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n+import Link from \"next/link\";\r\n+import { Skeleton } from \"@/components/ui/skeleton\";\r\n+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { capitalizeWords } from \"@/lib/utils\";\r\n+import { AppLayout } from \"@/components/layout/app-layout\";\r\n+import { useRouter } from \"next/navigation\";\r\n+\r\n+// Loading skeleton for projects grid\r\n+function ProjectsLoadingSkeleton() {\r\n+  return (\r\n+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n+      {Array.from({ length: 6 }).map((_, i) => (\r\n+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n+      ))}\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function ProjectsPage() {\r\n+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n+    []\r\n+  );\r\n+  const [isLoading, setIsLoading] = useState(true);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n+  const router = useRouter();\r\n+  // Fetch projects on component mount\r\n+  useEffect(() => {\r\n+    async function fetchProjects() {\r\n+      if (authLoading) return;\r\n+      if (!isAuthenticated) {\r\n+        console.log(\"User not authenticated, redirecting to login...\");\r\n+        router.push(\"/auth/login\");\r\n+        return;\r\n+      }\r\n+\r\n+      try {\r\n+        setIsLoading(true);\r\n+        const projectsData = await getProjects();\r\n+        console.log(projectsData);\r\n+        setProjects(projectsData);\r\n+        setFilteredProjects(projectsData);\r\n+      } catch (err) {\r\n+        console.error(\"Failed to fetch projects:\", err);\r\n+        setError(\"Failed to load projects. Please try again later.\");\r\n+      } finally {\r\n+        setIsLoading(false);\r\n+      }\r\n+    }\r\n+\r\n+    fetchProjects();\r\n+  }, [isAuthenticated, authLoading]);\r\n+\r\n+  // Apply filters and search\r\n+  useEffect(() => {\r\n+    let result = [...projects];\r\n+\r\n+    // Apply status filter if not \"all\"\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  }, [projects, statusFilter]);\r\n+\r\n+  // Handle search functionality\r\n+  const handleSearch = (query: string) => {\r\n+    if (!query.trim()) {\r\n+      // Just apply status filter\r\n+      let result = [...projects];\r\n+      if (statusFilter !== \"all\") {\r\n+        result = result.filter((project) => project.status === statusFilter);\r\n+      }\r\n+      setFilteredProjects(result);\r\n+      return;\r\n+    }\r\n+\r\n+    // Apply both search and status filter\r\n+    let result = projects.filter(\r\n+      (project) =>\r\n+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n+        project.description.toLowerCase().includes(query.toLowerCase())\r\n+    );\r\n+\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  };\r\n+\r\n+  const handleStatusFilterChange = (value: string) => {\r\n+    setStatusFilter(value);\r\n+  };\r\n+\r\n+  return (\r\n+    <AppLayout>\r\n+      <div className=\"container mx-auto px-4 py-8\">\r\n+        <div className=\"mb-8\">\r\n+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n+          {user && (\r\n+            <p className=\"text-secondary-text\">\r\n+              Welcome back, {capitalizeWords(user.full_name)}\r\n+            </p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n+            <div className=\"w-full sm:w-64\">\r\n+              <SearchProjects onSearch={handleSearch} />\r\n+            </div>\r\n+\r\n+            <Select\r\n+              value={statusFilter}\r\n+              onValueChange={handleStatusFilterChange}\r\n+            >\r\n+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n+                <SelectValue placeholder=\"Filter by status\" />\r\n+              </SelectTrigger>\r\n+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n+              </SelectContent>\r\n+            </Select>\r\n+          </div>\r\n+\r\n+          <Link href=\"/projects/new\">\r\n+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n+              New Project\r\n+            </Button>\r\n+          </Link>\r\n+        </div>\r\n+\r\n+        {error && (\r\n+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n+            <AlertCircle className=\"h-4 w-4\" />\r\n+            <AlertDescription>{error}</AlertDescription>\r\n+          </Alert>\r\n+        )}\r\n+\r\n+        {isLoading ? (\r\n+          <ProjectsLoadingSkeleton />\r\n+        ) : (\r\n+          <ProjectsList projects={filteredProjects} />\r\n+        )}\r\n+      </div>\r\n+    </AppLayout>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,173 +1,173 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import { getProjects } from \"@/lib/projects\";\n",
        "-import { ProjectListItem } from \"@/types\";\n",
        "-import { ProjectsList } from \"@/components/projects/projects-list\";\n",
        "-import { SearchProjects } from \"@/components/projects/search-projects\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n",
        "-import Link from \"next/link\";\n",
        "-import { Skeleton } from \"@/components/ui/skeleton\";\n",
        "-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { capitalizeWords } from \"@/lib/utils\";\n",
        "-import { AppLayout } from \"@/components/layout/app-layout\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-\n",
        "-// Loading skeleton for projects grid\n",
        "-function ProjectsLoadingSkeleton() {\n",
        "-  return (\n",
        "-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n",
        "-      {Array.from({ length: 6 }).map((_, i) => (\n",
        "-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n",
        "-      ))}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-export default function ProjectsPage() {\n",
        "-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n",
        "-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n",
        "-    []\n",
        "-  );\n",
        "-  const [isLoading, setIsLoading] = useState(true);\n",
        "-  const [error, setError] = useState<string | null>(null);\n",
        "-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n",
        "-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n",
        "-  const router = useRouter();\n",
        "-  // Fetch projects on component mount\n",
        "-  useEffect(() => {\n",
        "-    async function fetchProjects() {\n",
        "-      if (authLoading) return;\n",
        "-      if (!isAuthenticated) {\n",
        "-        console.log(\"User not authenticated, redirecting to login...\");\n",
        "-        router.push(\"/auth/login\");\n",
        "-        return;\n",
        "-      }\n",
        "-\n",
        "-      try {\n",
        "-        setIsLoading(true);\n",
        "-        const projectsData = await getProjects();\n",
        "-        console.log(projectsData);\n",
        "-        setProjects(projectsData);\n",
        "-        setFilteredProjects(projectsData);\n",
        "-      } catch (err) {\n",
        "-        console.error(\"Failed to fetch projects:\", err);\n",
        "-        setError(\"Failed to load projects. Please try again later.\");\n",
        "-      } finally {\n",
        "-        setIsLoading(false);\n",
        "-      }\n",
        "-    }\n",
        "-\n",
        "-    fetchProjects();\n",
        "-  }, [isAuthenticated, authLoading]);\n",
        "-\n",
        "-  // Apply filters and search\n",
        "-  useEffect(() => {\n",
        "-    let result = [...projects];\n",
        "-\n",
        "-    // Apply status filter if not \"all\"\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  }, [projects, statusFilter]);\n",
        "-\n",
        "-  // Handle search functionality\n",
        "-  const handleSearch = (query: string) => {\n",
        "-    if (!query.trim()) {\n",
        "-      // Just apply status filter\n",
        "-      let result = [...projects];\n",
        "-      if (statusFilter !== \"all\") {\n",
        "-        result = result.filter((project) => project.status === statusFilter);\n",
        "-      }\n",
        "-      setFilteredProjects(result);\n",
        "-      return;\n",
        "-    }\n",
        "-\n",
        "-    // Apply both search and status filter\n",
        "-    let result = projects.filter(\n",
        "-      (project) =>\n",
        "-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n",
        "-        project.description.toLowerCase().includes(query.toLowerCase())\n",
        "-    );\n",
        "-\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  };\n",
        "-\n",
        "-  const handleStatusFilterChange = (value: string) => {\n",
        "-    setStatusFilter(value);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <AppLayout>\n",
        "-      <div className=\"container mx-auto px-4 py-8\">\n",
        "-        <div className=\"mb-8\">\n",
        "-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n",
        "-          {user && (\n",
        "-            <p className=\"text-secondary-text\">\n",
        "-              Welcome back, {capitalizeWords(user.full_name)}\n",
        "-            </p>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n",
        "-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n",
        "-            <div className=\"w-full sm:w-64\">\n",
        "-              <SearchProjects onSearch={handleSearch} />\n",
        "-            </div>\n",
        "-\n",
        "-            <Select\n",
        "-              value={statusFilter}\n",
        "-              onValueChange={handleStatusFilterChange}\n",
        "-            >\n",
        "-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n",
        "-                <SelectValue placeholder=\"Filter by status\" />\n",
        "-              </SelectTrigger>\n",
        "-              <SelectContent className=\"bg-secondary-background border-divider\">\n",
        "-                <SelectItem value=\"all\">All Projects</SelectItem>\n",
        "-                <SelectItem value=\"draft\">Draft</SelectItem>\n",
        "-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n",
        "-                <SelectItem value=\"completed\">Completed</SelectItem>\n",
        "-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n",
        "-              </SelectContent>\n",
        "-            </Select>\n",
        "-          </div>\n",
        "-\n",
        "-          <Link href=\"/projects/new\">\n",
        "-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n",
        "-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n",
        "-              New Project\n",
        "-            </Button>\n",
        "-          </Link>\n",
        "-        </div>\n",
        "-\n",
        "-        {error && (\n",
        "-          <Alert variant=\"destructive\" className=\"mb-6\">\n",
        "-            <AlertCircle className=\"h-4 w-4\" />\n",
        "-            <AlertDescription>{error}</AlertDescription>\n",
        "-          </Alert>\n",
        "-        )}\n",
        "-\n",
        "-        {isLoading ? (\n",
        "-          <ProjectsLoadingSkeleton />\n",
        "-        ) : (\n",
        "-          <ProjectsList projects={filteredProjects} />\n",
        "-        )}\n",
        "-      </div>\n",
        "-    </AppLayout>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import { getProjects } from \"@/lib/projects\";\r\n",
        "+import { ProjectListItem } from \"@/types\";\r\n",
        "+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n",
        "+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import { Skeleton } from \"@/components/ui/skeleton\";\r\n",
        "+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { capitalizeWords } from \"@/lib/utils\";\r\n",
        "+import { AppLayout } from \"@/components/layout/app-layout\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+\r\n",
        "+// Loading skeleton for projects grid\r\n",
        "+function ProjectsLoadingSkeleton() {\r\n",
        "+  return (\r\n",
        "+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n",
        "+      {Array.from({ length: 6 }).map((_, i) => (\r\n",
        "+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n",
        "+      ))}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+export default function ProjectsPage() {\r\n",
        "+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n",
        "+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n",
        "+    []\r\n",
        "+  );\r\n",
        "+  const [isLoading, setIsLoading] = useState(true);\r\n",
        "+  const [error, setError] = useState<string | null>(null);\r\n",
        "+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n",
        "+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n",
        "+  const router = useRouter();\r\n",
        "+  // Fetch projects on component mount\r\n",
        "+  useEffect(() => {\r\n",
        "+    async function fetchProjects() {\r\n",
        "+      if (authLoading) return;\r\n",
        "+      if (!isAuthenticated) {\r\n",
        "+        console.log(\"User not authenticated, redirecting to login...\");\r\n",
        "+        router.push(\"/auth/login\");\r\n",
        "+        return;\r\n",
        "+      }\r\n",
        "+\r\n",
        "+      try {\r\n",
        "+        setIsLoading(true);\r\n",
        "+        const projectsData = await getProjects();\r\n",
        "+        console.log(projectsData);\r\n",
        "+        setProjects(projectsData);\r\n",
        "+        setFilteredProjects(projectsData);\r\n",
        "+      } catch (err) {\r\n",
        "+        console.error(\"Failed to fetch projects:\", err);\r\n",
        "+        setError(\"Failed to load projects. Please try again later.\");\r\n",
        "+      } finally {\r\n",
        "+        setIsLoading(false);\r\n",
        "+      }\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    fetchProjects();\r\n",
        "+  }, [isAuthenticated, authLoading]);\r\n",
        "+\r\n",
        "+  // Apply filters and search\r\n",
        "+  useEffect(() => {\r\n",
        "+    let result = [...projects];\r\n",
        "+\r\n",
        "+    // Apply status filter if not \"all\"\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  }, [projects, statusFilter]);\r\n",
        "+\r\n",
        "+  // Handle search functionality\r\n",
        "+  const handleSearch = (query: string) => {\r\n",
        "+    if (!query.trim()) {\r\n",
        "+      // Just apply status filter\r\n",
        "+      let result = [...projects];\r\n",
        "+      if (statusFilter !== \"all\") {\r\n",
        "+        result = result.filter((project) => project.status === statusFilter);\r\n",
        "+      }\r\n",
        "+      setFilteredProjects(result);\r\n",
        "+      return;\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    // Apply both search and status filter\r\n",
        "+    let result = projects.filter(\r\n",
        "+      (project) =>\r\n",
        "+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n",
        "+        project.description.toLowerCase().includes(query.toLowerCase())\r\n",
        "+    );\r\n",
        "+\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  const handleStatusFilterChange = (value: string) => {\r\n",
        "+    setStatusFilter(value);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <AppLayout>\r\n",
        "+      <div className=\"container mx-auto px-4 py-8\">\r\n",
        "+        <div className=\"mb-8\">\r\n",
        "+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n",
        "+          {user && (\r\n",
        "+            <p className=\"text-secondary-text\">\r\n",
        "+              Welcome back, {capitalizeWords(user.full_name)}\r\n",
        "+            </p>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n",
        "+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n",
        "+            <div className=\"w-full sm:w-64\">\r\n",
        "+              <SearchProjects onSearch={handleSearch} />\r\n",
        "+            </div>\r\n",
        "+\r\n",
        "+            <Select\r\n",
        "+              value={statusFilter}\r\n",
        "+              onValueChange={handleStatusFilterChange}\r\n",
        "+            >\r\n",
        "+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n",
        "+                <SelectValue placeholder=\"Filter by status\" />\r\n",
        "+              </SelectTrigger>\r\n",
        "+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n",
        "+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n",
        "+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n",
        "+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n",
        "+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n",
        "+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n",
        "+              </SelectContent>\r\n",
        "+            </Select>\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <Link href=\"/projects/new\">\r\n",
        "+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n",
        "+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n",
        "+              New Project\r\n",
        "+            </Button>\r\n",
        "+          </Link>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {error && (\r\n",
        "+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n",
        "+            <AlertCircle className=\"h-4 w-4\" />\r\n",
        "+            <AlertDescription>{error}</AlertDescription>\r\n",
        "+          </Alert>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {isLoading ? (\r\n",
        "+          <ProjectsLoadingSkeleton />\r\n",
        "+        ) : (\r\n",
        "+          <ProjectsList projects={filteredProjects} />\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+    </AppLayout>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": ".history/frontend/src/app/projects/page_20250511000649.tsx",
      "status": "modified",
      "additions": 347,
      "deletions": 347,
      "patch": "@@ -1,347 +1,347 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import { useAuth } from \"@/contexts/auth-context\";\n-import { getProjects } from \"@/lib/projects\";\n-import { ProjectListItem } from \"@/types\";\n-import { ProjectsList } from \"@/components/projects/projects-list\";\n-import { SearchProjects } from \"@/components/projects/search-projects\";\n-import { Button } from \"@/components/ui/button\";\n-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n-import Link from \"next/link\";\n-import { Skeleton } from \"@/components/ui/skeleton\";\n-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { capitalizeWords } from \"@/lib/utils\";\n-import { AppLayout } from \"@/components/layout/app-layout\";\n-import { useRouter } from \"next/navigation\";\n-\n-// Loading skeleton for projects grid\n-function ProjectsLoadingSkeleton() {\n-  return (\n-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n-      {Array.from({ length: 6 }).map((_, i) => (\n-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n-      ))}\n-    </div>\n-  );\n-}\n-\n-export default function ProjectsPage() {\n-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n-    []\n-  );\n-  const [isLoading, setIsLoading] = useState(true);\n-  const [error, setError] = useState<string | null>(null);\n-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n-  const router = useRouter();\n-  // Fetch projects on component mount\n-  useEffect(() => {\n-    async function fetchProjects() {\n-      if (authLoading) return;\n-      if (!isAuthenticated) {\n-        console.log(\"User not authenticated, redirecting to login...\");\n-        router.push(\"/auth/login\");\n-        return;\n-      }\n-\n-      try {\n-        setIsLoading(true);\n-        const projectsData = await getProjects();\n-        console.log(projectsData);\n-        setProjects(projectsData);\n-        setFilteredProjects(projectsData);\n-      } catch (err) {\n-        console.error(\"Failed to fetch projects:\", err);\n-        setError(\"Failed to load projects. Please try again later.\");\n-      } finally {\n-        setIsLoading(false);\n-      }\n-    }\n-\n-    fetchProjects();\n-  }, [isAuthenticated, authLoading]);\n-\n-  // Apply filters and search\n-  useEffect(() => {\n-    let result = [...projects];\n-\n-    // Apply status filter if not \"all\"\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  }, [projects, statusFilter]);\n-\n-  // Handle search functionality\n-  const handleSearch = (query: string) => {\n-    if (!query.trim()) {\n-      // Just apply status filter\n-      let result = [...projects];\n-      if (statusFilter !== \"all\") {\n-        result = result.filter((project) => project.status === statusFilter);\n-      }\n-      setFilteredProjects(result);\n-      return;\n-    }\n-\n-    // Apply both search and status filter\n-    let result = projects.filter(\n-      (project) =>\n-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n-        project.description.toLowerCase().includes(query.toLowerCase())\n-    );\n-\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  };\n-\n-  const handleStatusFilterChange = (value: string) => {\n-    setStatusFilter(value);\n-  };\n-\n-  return (\n-    <AppLayout>\n-      <div className=\"container mx-auto px-4 py-8\">\n-        <div className=\"mb-8\">\n-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n-          {user && (\n-            <p className=\"text-secondary-text\">\n-              Welcome back, {capitalizeWords(user.full_name)}\n-            </p>\n-          )}\n-        </div>\n-\n-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n-            <div className=\"w-full sm:w-64\">\n-              <SearchProjects onSearch={handleSearch} />\n-            </div>\n-\n-            <Select\n-              value={statusFilter}\n-              onValueChange={handleStatusFilterChange}\n-            >\n-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n-                <SelectValue placeholder=\"Filter by status\" />\n-              </SelectTrigger>\n-              <SelectContent className=\"bg-secondary-background border-divider\">\n-                <SelectItem value=\"all\">All Projects</SelectItem>\n-                <SelectItem value=\"draft\">Draft</SelectItem>\n-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n-                <SelectItem value=\"completed\">Completed</SelectItem>\n-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n-              </SelectContent>\n-            </Select>\n-          </div>\n-\n-          <Link href=\"/projects/new\">\n-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n-              New Project\n-            </Button>\n-          </Link>\n-        </div>\n-\n-        {error && (\n-          <Alert variant=\"destructive\" className=\"mb-6\">\n-            <AlertCircle className=\"h-4 w-4\" />\n-            <AlertDescription>{error}</AlertDescription>\n-          </Alert>\n-        )}\n-\n-        {isLoading ? (\n-          <ProjectsLoadingSkeleton />\n-        ) : (\n-          <ProjectsList projects={filteredProjects} />\n-        )}\n-      </div>\n-    </AppLayout>\n-  );\n-}\n-\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import { useAuth } from \"@/contexts/auth-context\";\n-import { getProjects } from \"@/lib/projects\";\n-import { ProjectListItem } from \"@/types\";\n-import { ProjectsList } from \"@/components/projects/projects-list\";\n-import { SearchProjects } from \"@/components/projects/search-projects\";\n-import { Button } from \"@/components/ui/button\";\n-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n-import Link from \"next/link\";\n-import { Skeleton } from \"@/components/ui/skeleton\";\n-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { capitalizeWords } from \"@/lib/utils\";\n-import { AppLayout } from \"@/components/layout/app-layout\";\n-import { useRouter } from \"next/navigation\";\n-\n-// Loading skeleton for projects grid\n-function ProjectsLoadingSkeleton() {\n-  return (\n-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n-      {Array.from({ length: 6 }).map((_, i) => (\n-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n-      ))}\n-    </div>\n-  );\n-}\n-\n-export default function ProjectsPage() {\n-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n-    []\n-  );\n-  const [isLoading, setIsLoading] = useState(true);\n-  const [error, setError] = useState<string | null>(null);\n-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n-  const router = useRouter();\n-  // Fetch projects on component mount\n-  useEffect(() => {\n-    async function fetchProjects() {\n-      if (authLoading) return;\n-      if (!isAuthenticated) {\n-        console.log(\"User not authenticated, redirecting to login...\");\n-        router.push(\"/auth/login\");\n-        return;\n-      }\n-\n-      try {\n-        setIsLoading(true);\n-        const projectsData = await getProjects();\n-        console.log(projectsData);\n-        setProjects(projectsData);\n-        setFilteredProjects(projectsData);\n-      } catch (err) {\n-        console.error(\"Failed to fetch projects:\", err);\n-        setError(\"Failed to load projects. Please try again later.\");\n-      } finally {\n-        setIsLoading(false);\n-      }\n-    }\n-\n-    fetchProjects();\n-  }, [isAuthenticated, authLoading]);\n-\n-  // Apply filters and search\n-  useEffect(() => {\n-    let result = [...projects];\n-\n-    // Apply status filter if not \"all\"\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  }, [projects, statusFilter]);\n-\n-  // Handle search functionality\n-  const handleSearch = (query: string) => {\n-    if (!query.trim()) {\n-      // Just apply status filter\n-      let result = [...projects];\n-      if (statusFilter !== \"all\") {\n-        result = result.filter((project) => project.status === statusFilter);\n-      }\n-      setFilteredProjects(result);\n-      return;\n-    }\n-\n-    // Apply both search and status filter\n-    let result = projects.filter(\n-      (project) =>\n-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n-        project.description.toLowerCase().includes(query.toLowerCase())\n-    );\n-\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  };\n-\n-  const handleStatusFilterChange = (value: string) => {\n-    setStatusFilter(value);\n-  };\n-\n-  return (\n-    <AppLayout>\n-      <div className=\"container mx-auto px-2 py-8\">\n-        <div className=\"mb-8\">\n-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n-          {user && (\n-            <p className=\"text-secondary-text\">\n-              Welcome back, {capitalizeWords(user.full_name)}\n-            </p>\n-          )}\n-        </div>\n-\n-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n-            <div className=\"w-full sm:w-64\">\n-              <SearchProjects onSearch={handleSearch} />\n-            </div>\n-\n-            <Select\n-              value={statusFilter}\n-              onValueChange={handleStatusFilterChange}\n-            >\n-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n-                <SelectValue placeholder=\"Filter by status\" />\n-              </SelectTrigger>\n-              <SelectContent className=\"bg-secondary-background border-divider\">\n-                <SelectItem value=\"all\">All Projects</SelectItem>\n-                <SelectItem value=\"draft\">Draft</SelectItem>\n-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n-                <SelectItem value=\"completed\">Completed</SelectItem>\n-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n-              </SelectContent>\n-            </Select>\n-          </div>\n-\n-          <Link href=\"/projects/new\">\n-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n-              New Project\n-            </Button>\n-          </Link>\n-        </div>\n-\n-        {error && (\n-          <Alert variant=\"destructive\" className=\"mb-6\">\n-            <AlertCircle className=\"h-4 w-4\" />\n-            <AlertDescription>{error}</AlertDescription>\n-          </Alert>\n-        )}\n-\n-        {isLoading ? (\n-          <ProjectsLoadingSkeleton />\n-        ) : (\n-          <ProjectsList projects={filteredProjects} />\n-        )}\n-      </div>\n-    </AppLayout>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import { getProjects } from \"@/lib/projects\";\r\n+import { ProjectListItem } from \"@/types\";\r\n+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n+import Link from \"next/link\";\r\n+import { Skeleton } from \"@/components/ui/skeleton\";\r\n+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { capitalizeWords } from \"@/lib/utils\";\r\n+import { AppLayout } from \"@/components/layout/app-layout\";\r\n+import { useRouter } from \"next/navigation\";\r\n+\r\n+// Loading skeleton for projects grid\r\n+function ProjectsLoadingSkeleton() {\r\n+  return (\r\n+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n+      {Array.from({ length: 6 }).map((_, i) => (\r\n+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n+      ))}\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function ProjectsPage() {\r\n+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n+    []\r\n+  );\r\n+  const [isLoading, setIsLoading] = useState(true);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n+  const router = useRouter();\r\n+  // Fetch projects on component mount\r\n+  useEffect(() => {\r\n+    async function fetchProjects() {\r\n+      if (authLoading) return;\r\n+      if (!isAuthenticated) {\r\n+        console.log(\"User not authenticated, redirecting to login...\");\r\n+        router.push(\"/auth/login\");\r\n+        return;\r\n+      }\r\n+\r\n+      try {\r\n+        setIsLoading(true);\r\n+        const projectsData = await getProjects();\r\n+        console.log(projectsData);\r\n+        setProjects(projectsData);\r\n+        setFilteredProjects(projectsData);\r\n+      } catch (err) {\r\n+        console.error(\"Failed to fetch projects:\", err);\r\n+        setError(\"Failed to load projects. Please try again later.\");\r\n+      } finally {\r\n+        setIsLoading(false);\r\n+      }\r\n+    }\r\n+\r\n+    fetchProjects();\r\n+  }, [isAuthenticated, authLoading]);\r\n+\r\n+  // Apply filters and search\r\n+  useEffect(() => {\r\n+    let result = [...projects];\r\n+\r\n+    // Apply status filter if not \"all\"\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  }, [projects, statusFilter]);\r\n+\r\n+  // Handle search functionality\r\n+  const handleSearch = (query: string) => {\r\n+    if (!query.trim()) {\r\n+      // Just apply status filter\r\n+      let result = [...projects];\r\n+      if (statusFilter !== \"all\") {\r\n+        result = result.filter((project) => project.status === statusFilter);\r\n+      }\r\n+      setFilteredProjects(result);\r\n+      return;\r\n+    }\r\n+\r\n+    // Apply both search and status filter\r\n+    let result = projects.filter(\r\n+      (project) =>\r\n+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n+        project.description.toLowerCase().includes(query.toLowerCase())\r\n+    );\r\n+\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  };\r\n+\r\n+  const handleStatusFilterChange = (value: string) => {\r\n+    setStatusFilter(value);\r\n+  };\r\n+\r\n+  return (\r\n+    <AppLayout>\r\n+      <div className=\"container mx-auto px-4 py-8\">\r\n+        <div className=\"mb-8\">\r\n+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n+          {user && (\r\n+            <p className=\"text-secondary-text\">\r\n+              Welcome back, {capitalizeWords(user.full_name)}\r\n+            </p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n+            <div className=\"w-full sm:w-64\">\r\n+              <SearchProjects onSearch={handleSearch} />\r\n+            </div>\r\n+\r\n+            <Select\r\n+              value={statusFilter}\r\n+              onValueChange={handleStatusFilterChange}\r\n+            >\r\n+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n+                <SelectValue placeholder=\"Filter by status\" />\r\n+              </SelectTrigger>\r\n+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n+              </SelectContent>\r\n+            </Select>\r\n+          </div>\r\n+\r\n+          <Link href=\"/projects/new\">\r\n+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n+              New Project\r\n+            </Button>\r\n+          </Link>\r\n+        </div>\r\n+\r\n+        {error && (\r\n+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n+            <AlertCircle className=\"h-4 w-4\" />\r\n+            <AlertDescription>{error}</AlertDescription>\r\n+          </Alert>\r\n+        )}\r\n+\r\n+        {isLoading ? (\r\n+          <ProjectsLoadingSkeleton />\r\n+        ) : (\r\n+          <ProjectsList projects={filteredProjects} />\r\n+        )}\r\n+      </div>\r\n+    </AppLayout>\r\n+  );\r\n+}\r\n+\r\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import { getProjects } from \"@/lib/projects\";\r\n+import { ProjectListItem } from \"@/types\";\r\n+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n+import Link from \"next/link\";\r\n+import { Skeleton } from \"@/components/ui/skeleton\";\r\n+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { capitalizeWords } from \"@/lib/utils\";\r\n+import { AppLayout } from \"@/components/layout/app-layout\";\r\n+import { useRouter } from \"next/navigation\";\r\n+\r\n+// Loading skeleton for projects grid\r\n+function ProjectsLoadingSkeleton() {\r\n+  return (\r\n+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n+      {Array.from({ length: 6 }).map((_, i) => (\r\n+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n+      ))}\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function ProjectsPage() {\r\n+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n+    []\r\n+  );\r\n+  const [isLoading, setIsLoading] = useState(true);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n+  const router = useRouter();\r\n+  // Fetch projects on component mount\r\n+  useEffect(() => {\r\n+    async function fetchProjects() {\r\n+      if (authLoading) return;\r\n+      if (!isAuthenticated) {\r\n+        console.log(\"User not authenticated, redirecting to login...\");\r\n+        router.push(\"/auth/login\");\r\n+        return;\r\n+      }\r\n+\r\n+      try {\r\n+        setIsLoading(true);\r\n+        const projectsData = await getProjects();\r\n+        console.log(projectsData);\r\n+        setProjects(projectsData);\r\n+        setFilteredProjects(projectsData);\r\n+      } catch (err) {\r\n+        console.error(\"Failed to fetch projects:\", err);\r\n+        setError(\"Failed to load projects. Please try again later.\");\r\n+      } finally {\r\n+        setIsLoading(false);\r\n+      }\r\n+    }\r\n+\r\n+    fetchProjects();\r\n+  }, [isAuthenticated, authLoading]);\r\n+\r\n+  // Apply filters and search\r\n+  useEffect(() => {\r\n+    let result = [...projects];\r\n+\r\n+    // Apply status filter if not \"all\"\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  }, [projects, statusFilter]);\r\n+\r\n+  // Handle search functionality\r\n+  const handleSearch = (query: string) => {\r\n+    if (!query.trim()) {\r\n+      // Just apply status filter\r\n+      let result = [...projects];\r\n+      if (statusFilter !== \"all\") {\r\n+        result = result.filter((project) => project.status === statusFilter);\r\n+      }\r\n+      setFilteredProjects(result);\r\n+      return;\r\n+    }\r\n+\r\n+    // Apply both search and status filter\r\n+    let result = projects.filter(\r\n+      (project) =>\r\n+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n+        project.description.toLowerCase().includes(query.toLowerCase())\r\n+    );\r\n+\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  };\r\n+\r\n+  const handleStatusFilterChange = (value: string) => {\r\n+    setStatusFilter(value);\r\n+  };\r\n+\r\n+  return (\r\n+    <AppLayout>\r\n+      <div className=\"container mx-auto px-2 py-8\">\r\n+        <div className=\"mb-8\">\r\n+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n+          {user && (\r\n+            <p className=\"text-secondary-text\">\r\n+              Welcome back, {capitalizeWords(user.full_name)}\r\n+            </p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n+            <div className=\"w-full sm:w-64\">\r\n+              <SearchProjects onSearch={handleSearch} />\r\n+            </div>\r\n+\r\n+            <Select\r\n+              value={statusFilter}\r\n+              onValueChange={handleStatusFilterChange}\r\n+            >\r\n+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n+                <SelectValue placeholder=\"Filter by status\" />\r\n+              </SelectTrigger>\r\n+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n+              </SelectContent>\r\n+            </Select>\r\n+          </div>\r\n+\r\n+          <Link href=\"/projects/new\">\r\n+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n+              New Project\r\n+            </Button>\r\n+          </Link>\r\n+        </div>\r\n+\r\n+        {error && (\r\n+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n+            <AlertCircle className=\"h-4 w-4\" />\r\n+            <AlertDescription>{error}</AlertDescription>\r\n+          </Alert>\r\n+        )}\r\n+\r\n+        {isLoading ? (\r\n+          <ProjectsLoadingSkeleton />\r\n+        ) : (\r\n+          <ProjectsList projects={filteredProjects} />\r\n+        )}\r\n+      </div>\r\n+    </AppLayout>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,347 +1,347 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import { getProjects } from \"@/lib/projects\";\n",
        "-import { ProjectListItem } from \"@/types\";\n",
        "-import { ProjectsList } from \"@/components/projects/projects-list\";\n",
        "-import { SearchProjects } from \"@/components/projects/search-projects\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n",
        "-import Link from \"next/link\";\n",
        "-import { Skeleton } from \"@/components/ui/skeleton\";\n",
        "-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { capitalizeWords } from \"@/lib/utils\";\n",
        "-import { AppLayout } from \"@/components/layout/app-layout\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-\n",
        "-// Loading skeleton for projects grid\n",
        "-function ProjectsLoadingSkeleton() {\n",
        "-  return (\n",
        "-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n",
        "-      {Array.from({ length: 6 }).map((_, i) => (\n",
        "-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n",
        "-      ))}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-export default function ProjectsPage() {\n",
        "-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n",
        "-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n",
        "-    []\n",
        "-  );\n",
        "-  const [isLoading, setIsLoading] = useState(true);\n",
        "-  const [error, setError] = useState<string | null>(null);\n",
        "-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n",
        "-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n",
        "-  const router = useRouter();\n",
        "-  // Fetch projects on component mount\n",
        "-  useEffect(() => {\n",
        "-    async function fetchProjects() {\n",
        "-      if (authLoading) return;\n",
        "-      if (!isAuthenticated) {\n",
        "-        console.log(\"User not authenticated, redirecting to login...\");\n",
        "-        router.push(\"/auth/login\");\n",
        "-        return;\n",
        "-      }\n",
        "-\n",
        "-      try {\n",
        "-        setIsLoading(true);\n",
        "-        const projectsData = await getProjects();\n",
        "-        console.log(projectsData);\n",
        "-        setProjects(projectsData);\n",
        "-        setFilteredProjects(projectsData);\n",
        "-      } catch (err) {\n",
        "-        console.error(\"Failed to fetch projects:\", err);\n",
        "-        setError(\"Failed to load projects. Please try again later.\");\n",
        "-      } finally {\n",
        "-        setIsLoading(false);\n",
        "-      }\n",
        "-    }\n",
        "-\n",
        "-    fetchProjects();\n",
        "-  }, [isAuthenticated, authLoading]);\n",
        "-\n",
        "-  // Apply filters and search\n",
        "-  useEffect(() => {\n",
        "-    let result = [...projects];\n",
        "-\n",
        "-    // Apply status filter if not \"all\"\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  }, [projects, statusFilter]);\n",
        "-\n",
        "-  // Handle search functionality\n",
        "-  const handleSearch = (query: string) => {\n",
        "-    if (!query.trim()) {\n",
        "-      // Just apply status filter\n",
        "-      let result = [...projects];\n",
        "-      if (statusFilter !== \"all\") {\n",
        "-        result = result.filter((project) => project.status === statusFilter);\n",
        "-      }\n",
        "-      setFilteredProjects(result);\n",
        "-      return;\n",
        "-    }\n",
        "-\n",
        "-    // Apply both search and status filter\n",
        "-    let result = projects.filter(\n",
        "-      (project) =>\n",
        "-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n",
        "-        project.description.toLowerCase().includes(query.toLowerCase())\n",
        "-    );\n",
        "-\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  };\n",
        "-\n",
        "-  const handleStatusFilterChange = (value: string) => {\n",
        "-    setStatusFilter(value);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <AppLayout>\n",
        "-      <div className=\"container mx-auto px-4 py-8\">\n",
        "-        <div className=\"mb-8\">\n",
        "-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n",
        "-          {user && (\n",
        "-            <p className=\"text-secondary-text\">\n",
        "-              Welcome back, {capitalizeWords(user.full_name)}\n",
        "-            </p>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n",
        "-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n",
        "-            <div className=\"w-full sm:w-64\">\n",
        "-              <SearchProjects onSearch={handleSearch} />\n",
        "-            </div>\n",
        "-\n",
        "-            <Select\n",
        "-              value={statusFilter}\n",
        "-              onValueChange={handleStatusFilterChange}\n",
        "-            >\n",
        "-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n",
        "-                <SelectValue placeholder=\"Filter by status\" />\n",
        "-              </SelectTrigger>\n",
        "-              <SelectContent className=\"bg-secondary-background border-divider\">\n",
        "-                <SelectItem value=\"all\">All Projects</SelectItem>\n",
        "-                <SelectItem value=\"draft\">Draft</SelectItem>\n",
        "-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n",
        "-                <SelectItem value=\"completed\">Completed</SelectItem>\n",
        "-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n",
        "-              </SelectContent>\n",
        "-            </Select>\n",
        "-          </div>\n",
        "-\n",
        "-          <Link href=\"/projects/new\">\n",
        "-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n",
        "-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n",
        "-              New Project\n",
        "-            </Button>\n",
        "-          </Link>\n",
        "-        </div>\n",
        "-\n",
        "-        {error && (\n",
        "-          <Alert variant=\"destructive\" className=\"mb-6\">\n",
        "-            <AlertCircle className=\"h-4 w-4\" />\n",
        "-            <AlertDescription>{error}</AlertDescription>\n",
        "-          </Alert>\n",
        "-        )}\n",
        "-\n",
        "-        {isLoading ? (\n",
        "-          <ProjectsLoadingSkeleton />\n",
        "-        ) : (\n",
        "-          <ProjectsList projects={filteredProjects} />\n",
        "-        )}\n",
        "-      </div>\n",
        "-    </AppLayout>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import { getProjects } from \"@/lib/projects\";\n",
        "-import { ProjectListItem } from \"@/types\";\n",
        "-import { ProjectsList } from \"@/components/projects/projects-list\";\n",
        "-import { SearchProjects } from \"@/components/projects/search-projects\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n",
        "-import Link from \"next/link\";\n",
        "-import { Skeleton } from \"@/components/ui/skeleton\";\n",
        "-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { capitalizeWords } from \"@/lib/utils\";\n",
        "-import { AppLayout } from \"@/components/layout/app-layout\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-\n",
        "-// Loading skeleton for projects grid\n",
        "-function ProjectsLoadingSkeleton() {\n",
        "-  return (\n",
        "-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n",
        "-      {Array.from({ length: 6 }).map((_, i) => (\n",
        "-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n",
        "-      ))}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-export default function ProjectsPage() {\n",
        "-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n",
        "-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n",
        "-    []\n",
        "-  );\n",
        "-  const [isLoading, setIsLoading] = useState(true);\n",
        "-  const [error, setError] = useState<string | null>(null);\n",
        "-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n",
        "-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n",
        "-  const router = useRouter();\n",
        "-  // Fetch projects on component mount\n",
        "-  useEffect(() => {\n",
        "-    async function fetchProjects() {\n",
        "-      if (authLoading) return;\n",
        "-      if (!isAuthenticated) {\n",
        "-        console.log(\"User not authenticated, redirecting to login...\");\n",
        "-        router.push(\"/auth/login\");\n",
        "-        return;\n",
        "-      }\n",
        "-\n",
        "-      try {\n",
        "-        setIsLoading(true);\n",
        "-        const projectsData = await getProjects();\n",
        "-        console.log(projectsData);\n",
        "-        setProjects(projectsData);\n",
        "-        setFilteredProjects(projectsData);\n",
        "-      } catch (err) {\n",
        "-        console.error(\"Failed to fetch projects:\", err);\n",
        "-        setError(\"Failed to load projects. Please try again later.\");\n",
        "-      } finally {\n",
        "-        setIsLoading(false);\n",
        "-      }\n",
        "-    }\n",
        "-\n",
        "-    fetchProjects();\n",
        "-  }, [isAuthenticated, authLoading]);\n",
        "-\n",
        "-  // Apply filters and search\n",
        "-  useEffect(() => {\n",
        "-    let result = [...projects];\n",
        "-\n",
        "-    // Apply status filter if not \"all\"\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  }, [projects, statusFilter]);\n",
        "-\n",
        "-  // Handle search functionality\n",
        "-  const handleSearch = (query: string) => {\n",
        "-    if (!query.trim()) {\n",
        "-      // Just apply status filter\n",
        "-      let result = [...projects];\n",
        "-      if (statusFilter !== \"all\") {\n",
        "-        result = result.filter((project) => project.status === statusFilter);\n",
        "-      }\n",
        "-      setFilteredProjects(result);\n",
        "-      return;\n",
        "-    }\n",
        "-\n",
        "-    // Apply both search and status filter\n",
        "-    let result = projects.filter(\n",
        "-      (project) =>\n",
        "-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n",
        "-        project.description.toLowerCase().includes(query.toLowerCase())\n",
        "-    );\n",
        "-\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  };\n",
        "-\n",
        "-  const handleStatusFilterChange = (value: string) => {\n",
        "-    setStatusFilter(value);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <AppLayout>\n",
        "-      <div className=\"container mx-auto px-2 py-8\">\n",
        "-        <div className=\"mb-8\">\n",
        "-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n",
        "-          {user && (\n",
        "-            <p className=\"text-secondary-text\">\n",
        "-              Welcome back, {capitalizeWords(user.full_name)}\n",
        "-            </p>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n",
        "-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n",
        "-            <div className=\"w-full sm:w-64\">\n",
        "-              <SearchProjects onSearch={handleSearch} />\n",
        "-            </div>\n",
        "-\n",
        "-            <Select\n",
        "-              value={statusFilter}\n",
        "-              onValueChange={handleStatusFilterChange}\n",
        "-            >\n",
        "-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n",
        "-                <SelectValue placeholder=\"Filter by status\" />\n",
        "-              </SelectTrigger>\n",
        "-              <SelectContent className=\"bg-secondary-background border-divider\">\n",
        "-                <SelectItem value=\"all\">All Projects</SelectItem>\n",
        "-                <SelectItem value=\"draft\">Draft</SelectItem>\n",
        "-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n",
        "-                <SelectItem value=\"completed\">Completed</SelectItem>\n",
        "-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n",
        "-              </SelectContent>\n",
        "-            </Select>\n",
        "-          </div>\n",
        "-\n",
        "-          <Link href=\"/projects/new\">\n",
        "-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n",
        "-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n",
        "-              New Project\n",
        "-            </Button>\n",
        "-          </Link>\n",
        "-        </div>\n",
        "-\n",
        "-        {error && (\n",
        "-          <Alert variant=\"destructive\" className=\"mb-6\">\n",
        "-            <AlertCircle className=\"h-4 w-4\" />\n",
        "-            <AlertDescription>{error}</AlertDescription>\n",
        "-          </Alert>\n",
        "-        )}\n",
        "-\n",
        "-        {isLoading ? (\n",
        "-          <ProjectsLoadingSkeleton />\n",
        "-        ) : (\n",
        "-          <ProjectsList projects={filteredProjects} />\n",
        "-        )}\n",
        "-      </div>\n",
        "-    </AppLayout>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import { getProjects } from \"@/lib/projects\";\r\n",
        "+import { ProjectListItem } from \"@/types\";\r\n",
        "+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n",
        "+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import { Skeleton } from \"@/components/ui/skeleton\";\r\n",
        "+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { capitalizeWords } from \"@/lib/utils\";\r\n",
        "+import { AppLayout } from \"@/components/layout/app-layout\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+\r\n",
        "+// Loading skeleton for projects grid\r\n",
        "+function ProjectsLoadingSkeleton() {\r\n",
        "+  return (\r\n",
        "+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n",
        "+      {Array.from({ length: 6 }).map((_, i) => (\r\n",
        "+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n",
        "+      ))}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+export default function ProjectsPage() {\r\n",
        "+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n",
        "+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n",
        "+    []\r\n",
        "+  );\r\n",
        "+  const [isLoading, setIsLoading] = useState(true);\r\n",
        "+  const [error, setError] = useState<string | null>(null);\r\n",
        "+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n",
        "+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n",
        "+  const router = useRouter();\r\n",
        "+  // Fetch projects on component mount\r\n",
        "+  useEffect(() => {\r\n",
        "+    async function fetchProjects() {\r\n",
        "+      if (authLoading) return;\r\n",
        "+      if (!isAuthenticated) {\r\n",
        "+        console.log(\"User not authenticated, redirecting to login...\");\r\n",
        "+        router.push(\"/auth/login\");\r\n",
        "+        return;\r\n",
        "+      }\r\n",
        "+\r\n",
        "+      try {\r\n",
        "+        setIsLoading(true);\r\n",
        "+        const projectsData = await getProjects();\r\n",
        "+        console.log(projectsData);\r\n",
        "+        setProjects(projectsData);\r\n",
        "+        setFilteredProjects(projectsData);\r\n",
        "+      } catch (err) {\r\n",
        "+        console.error(\"Failed to fetch projects:\", err);\r\n",
        "+        setError(\"Failed to load projects. Please try again later.\");\r\n",
        "+      } finally {\r\n",
        "+        setIsLoading(false);\r\n",
        "+      }\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    fetchProjects();\r\n",
        "+  }, [isAuthenticated, authLoading]);\r\n",
        "+\r\n",
        "+  // Apply filters and search\r\n",
        "+  useEffect(() => {\r\n",
        "+    let result = [...projects];\r\n",
        "+\r\n",
        "+    // Apply status filter if not \"all\"\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  }, [projects, statusFilter]);\r\n",
        "+\r\n",
        "+  // Handle search functionality\r\n",
        "+  const handleSearch = (query: string) => {\r\n",
        "+    if (!query.trim()) {\r\n",
        "+      // Just apply status filter\r\n",
        "+      let result = [...projects];\r\n",
        "+      if (statusFilter !== \"all\") {\r\n",
        "+        result = result.filter((project) => project.status === statusFilter);\r\n",
        "+      }\r\n",
        "+      setFilteredProjects(result);\r\n",
        "+      return;\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    // Apply both search and status filter\r\n",
        "+    let result = projects.filter(\r\n",
        "+      (project) =>\r\n",
        "+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n",
        "+        project.description.toLowerCase().includes(query.toLowerCase())\r\n",
        "+    );\r\n",
        "+\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  const handleStatusFilterChange = (value: string) => {\r\n",
        "+    setStatusFilter(value);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <AppLayout>\r\n",
        "+      <div className=\"container mx-auto px-4 py-8\">\r\n",
        "+        <div className=\"mb-8\">\r\n",
        "+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n",
        "+          {user && (\r\n",
        "+            <p className=\"text-secondary-text\">\r\n",
        "+              Welcome back, {capitalizeWords(user.full_name)}\r\n",
        "+            </p>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n",
        "+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n",
        "+            <div className=\"w-full sm:w-64\">\r\n",
        "+              <SearchProjects onSearch={handleSearch} />\r\n",
        "+            </div>\r\n",
        "+\r\n",
        "+            <Select\r\n",
        "+              value={statusFilter}\r\n",
        "+              onValueChange={handleStatusFilterChange}\r\n",
        "+            >\r\n",
        "+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n",
        "+                <SelectValue placeholder=\"Filter by status\" />\r\n",
        "+              </SelectTrigger>\r\n",
        "+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n",
        "+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n",
        "+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n",
        "+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n",
        "+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n",
        "+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n",
        "+              </SelectContent>\r\n",
        "+            </Select>\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <Link href=\"/projects/new\">\r\n",
        "+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n",
        "+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n",
        "+              New Project\r\n",
        "+            </Button>\r\n",
        "+          </Link>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {error && (\r\n",
        "+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n",
        "+            <AlertCircle className=\"h-4 w-4\" />\r\n",
        "+            <AlertDescription>{error}</AlertDescription>\r\n",
        "+          </Alert>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {isLoading ? (\r\n",
        "+          <ProjectsLoadingSkeleton />\r\n",
        "+        ) : (\r\n",
        "+          <ProjectsList projects={filteredProjects} />\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+    </AppLayout>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import { getProjects } from \"@/lib/projects\";\r\n",
        "+import { ProjectListItem } from \"@/types\";\r\n",
        "+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n",
        "+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import { Skeleton } from \"@/components/ui/skeleton\";\r\n",
        "+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { capitalizeWords } from \"@/lib/utils\";\r\n",
        "+import { AppLayout } from \"@/components/layout/app-layout\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+\r\n",
        "+// Loading skeleton for projects grid\r\n",
        "+function ProjectsLoadingSkeleton() {\r\n",
        "+  return (\r\n",
        "+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n",
        "+      {Array.from({ length: 6 }).map((_, i) => (\r\n",
        "+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n",
        "+      ))}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+export default function ProjectsPage() {\r\n",
        "+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n",
        "+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n",
        "+    []\r\n",
        "+  );\r\n",
        "+  const [isLoading, setIsLoading] = useState(true);\r\n",
        "+  const [error, setError] = useState<string | null>(null);\r\n",
        "+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n",
        "+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n",
        "+  const router = useRouter();\r\n",
        "+  // Fetch projects on component mount\r\n",
        "+  useEffect(() => {\r\n",
        "+    async function fetchProjects() {\r\n",
        "+      if (authLoading) return;\r\n",
        "+      if (!isAuthenticated) {\r\n",
        "+        console.log(\"User not authenticated, redirecting to login...\");\r\n",
        "+        router.push(\"/auth/login\");\r\n",
        "+        return;\r\n",
        "+      }\r\n",
        "+\r\n",
        "+      try {\r\n",
        "+        setIsLoading(true);\r\n",
        "+        const projectsData = await getProjects();\r\n",
        "+        console.log(projectsData);\r\n",
        "+        setProjects(projectsData);\r\n",
        "+        setFilteredProjects(projectsData);\r\n",
        "+      } catch (err) {\r\n",
        "+        console.error(\"Failed to fetch projects:\", err);\r\n",
        "+        setError(\"Failed to load projects. Please try again later.\");\r\n",
        "+      } finally {\r\n",
        "+        setIsLoading(false);\r\n",
        "+      }\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    fetchProjects();\r\n",
        "+  }, [isAuthenticated, authLoading]);\r\n",
        "+\r\n",
        "+  // Apply filters and search\r\n",
        "+  useEffect(() => {\r\n",
        "+    let result = [...projects];\r\n",
        "+\r\n",
        "+    // Apply status filter if not \"all\"\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  }, [projects, statusFilter]);\r\n",
        "+\r\n",
        "+  // Handle search functionality\r\n",
        "+  const handleSearch = (query: string) => {\r\n",
        "+    if (!query.trim()) {\r\n",
        "+      // Just apply status filter\r\n",
        "+      let result = [...projects];\r\n",
        "+      if (statusFilter !== \"all\") {\r\n",
        "+        result = result.filter((project) => project.status === statusFilter);\r\n",
        "+      }\r\n",
        "+      setFilteredProjects(result);\r\n",
        "+      return;\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    // Apply both search and status filter\r\n",
        "+    let result = projects.filter(\r\n",
        "+      (project) =>\r\n",
        "+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n",
        "+        project.description.toLowerCase().includes(query.toLowerCase())\r\n",
        "+    );\r\n",
        "+\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  const handleStatusFilterChange = (value: string) => {\r\n",
        "+    setStatusFilter(value);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <AppLayout>\r\n",
        "+      <div className=\"container mx-auto px-2 py-8\">\r\n",
        "+        <div className=\"mb-8\">\r\n",
        "+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n",
        "+          {user && (\r\n",
        "+            <p className=\"text-secondary-text\">\r\n",
        "+              Welcome back, {capitalizeWords(user.full_name)}\r\n",
        "+            </p>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n",
        "+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n",
        "+            <div className=\"w-full sm:w-64\">\r\n",
        "+              <SearchProjects onSearch={handleSearch} />\r\n",
        "+            </div>\r\n",
        "+\r\n",
        "+            <Select\r\n",
        "+              value={statusFilter}\r\n",
        "+              onValueChange={handleStatusFilterChange}\r\n",
        "+            >\r\n",
        "+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n",
        "+                <SelectValue placeholder=\"Filter by status\" />\r\n",
        "+              </SelectTrigger>\r\n",
        "+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n",
        "+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n",
        "+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n",
        "+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n",
        "+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n",
        "+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n",
        "+              </SelectContent>\r\n",
        "+            </Select>\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <Link href=\"/projects/new\">\r\n",
        "+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n",
        "+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n",
        "+              New Project\r\n",
        "+            </Button>\r\n",
        "+          </Link>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {error && (\r\n",
        "+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n",
        "+            <AlertCircle className=\"h-4 w-4\" />\r\n",
        "+            <AlertDescription>{error}</AlertDescription>\r\n",
        "+          </Alert>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {isLoading ? (\r\n",
        "+          <ProjectsLoadingSkeleton />\r\n",
        "+        ) : (\r\n",
        "+          <ProjectsList projects={filteredProjects} />\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+    </AppLayout>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": ".vscode/settings.json",
      "status": "modified",
      "additions": 21,
      "deletions": 21,
      "patch": "@@ -1,23 +1,23 @@\n {\n-    \"python.analysis.extraPaths\": [\n-        \"/mnt/c/Users/eden7/Projectron\",\n-        \"./backend\",\n-        \"./backend\",\n-        \"./backend\",\n-        \"./backend\",\n-        \"./backend\",\n-        \"./backend\",\n-        \"./backend\",\n-        \"./backend\",\n-        \"./backend\",\n-        \"./backend\",\n-        \"./backend\",\n-        \"./backend\",\n-        \"./backend\",\n-        \"./backend\",\n-        \"./backend\"\n-    ],\n-    \"css.validate\": false,\n-    \"scss.validate\": false\n+  \"python.analysis.extraPaths\": [\n+    \"/mnt/c/Users/eden7/Projectron\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\",\n+    \"./backend\"\n+  ],\n+  \"css.validate\": false,\n+  \"scss.validate\": false\n }\n-",
      "patch_lines": [
        "@@ -1,23 +1,23 @@\n",
        " {\n",
        "-    \"python.analysis.extraPaths\": [\n",
        "-        \"/mnt/c/Users/eden7/Projectron\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\",\n",
        "-        \"./backend\"\n",
        "-    ],\n",
        "-    \"css.validate\": false,\n",
        "-    \"scss.validate\": false\n",
        "+  \"python.analysis.extraPaths\": [\n",
        "+    \"/mnt/c/Users/eden7/Projectron\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\",\n",
        "+    \"./backend\"\n",
        "+  ],\n",
        "+  \"css.validate\": false,\n",
        "+  \"scss.validate\": false\n",
        " }\n",
        "-\n"
      ]
    },
    {
      "path": "Dockerfile",
      "status": "removed",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "README.md",
      "status": "modified",
      "additions": 74,
      "deletions": 74,
      "patch": "@@ -1,74 +1,74 @@\n-# Projectron\n-\n-[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)\n-\n-Projectron is an innovative project planning tool designed for solo developers. It leverages artificial intelligence to transform high-level project descriptions into comprehensive, actionable development plans with minimal effort.\n-\n-## \ud83d\ude80 Features\n-\n-- **AI-Powered Planning**: Transform brief project descriptions into complete development roadmaps\n-- **Technical Documentation**: Auto-generate architecture diagrams, API specs, and database schemas\n-- **Implementation Guide**: Get milestone-based development plans with task breakdowns\n-- **Progress Tracking**: Monitor your development journey with visual progress indicators\n-- **Context-Aware Assistant**: Get intelligent suggestions and answers based on your specific project\n-\n-## \ud83e\udde0 Perfect for Solo Developers\n-\n-- **Reduced Planning Time**: Cut planning from days to minutes with AI assistance\n-- **Consistent Documentation**: Maintain professional documentation without the overhead\n-- **Technical Decision Support**: Get AI recommendations for architecture and technology choices\n-- **Focus on Coding**: Spend less time planning and more time building\n-- **Built-In Expertise**: Leverage the context-aware assistant that understands your specific project details\n-\n-## \ud83d\udee0\ufe0f Tech Stack\n-\n-- **Frontend**: Next.js, React, TypeScript, Tailwind CSS, Shadcn\n-- **Backend**: FastAPI, Pydantic, LangChain\n-- **Database**: MongoDB\n-- **Containerization**: Docker\n-\n-## \ud83d\udd27 Installation\n-\n-```bash\n-# Clone the repository\n-git clone https://github.com/yourusername/projectron.git\n-cd projectron\n-\n-# Start with Docker\n-docker-compose up -d\n-\n-# Access at http://localhost:3000\n-```\n-\n-## \ud83d\udcdd Core Workflows\n-\n-### Project Generation\n-\n-1. **Describe Your Project**: Input a high-level description of what you want to build\n-2. **Answer Clarifying Questions**: Refine requirements through targeted questions\n-3. **Review & Customize**: Adjust the AI-generated plan to match your vision\n-4. **Engage with Assistant**: Get help from the context-aware AI assistant throughout development\n-\n-### Project Workspace\n-\n-Your project includes seven integrated sections:\n-\n-1. **High-level Plan**: Strategic overview and approach recommendations\n-2. **Architecture Design**: Component relationships and technology recommendations\n-3. **API Endpoints**: Interface documentation with endpoints and response formats\n-4. **Data Models**: Database schema definitions and field specifications\n-5. **UI Components**: Interface component specifications and user interactions\n-6. **Implementation Plan**: Structured tasks with effort estimates\n-7. **Technical Diagrams**: Visual representations of your system design\n-\n-## \ud83d\udcdc License\n-\n-This project is licensed under the MIT License - see the LICENSE file for details.\n-\n-## \ud83d\ude4f Acknowledgements\n-\n-- [Next.js](https://nextjs.org/)\n-- [React](https://reactjs.org/)\n-- [Tailwind CSS](https://tailwindcss.com/)\n-- [FastAPI](https://fastapi.tiangolo.com/)\n-- [MongoDB](https://www.mongodb.com/)\n+# Projectron\r\n+\r\n+[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)\r\n+\r\n+Projectron is an innovative project planning tool designed for solo developers. It leverages artificial intelligence to transform high-level project descriptions into comprehensive, actionable development plans with minimal effort.\r\n+\r\n+## \ud83d\ude80 Features\r\n+\r\n+- **AI-Powered Planning**: Transform brief project descriptions into complete development roadmaps\r\n+- **Technical Documentation**: Auto-generate architecture diagrams, API specs, and database schemas\r\n+- **Implementation Guide**: Get milestone-based development plans with task breakdowns\r\n+- **Progress Tracking**: Monitor your development journey with visual progress indicators\r\n+- **Context-Aware Assistant**: Get intelligent suggestions and answers based on your specific project\r\n+\r\n+## \ud83e\udde0 Perfect for Solo Developers\r\n+\r\n+- **Reduced Planning Time**: Cut planning from days to minutes with AI assistance\r\n+- **Consistent Documentation**: Maintain professional documentation without the overhead\r\n+- **Technical Decision Support**: Get AI recommendations for architecture and technology choices\r\n+- **Focus on Coding**: Spend less time planning and more time building\r\n+- **Built-In Expertise**: Leverage the context-aware assistant that understands your specific project details\r\n+\r\n+## \ud83d\udee0\ufe0f Tech Stack\r\n+\r\n+- **Frontend**: Next.js, React, TypeScript, Tailwind CSS, Shadcn\r\n+- **Backend**: FastAPI, Pydantic, LangChain\r\n+- **Database**: MongoDB\r\n+- **Containerization**: Docker\r\n+\r\n+## \ud83d\udd27 Installation\r\n+\r\n+```bash\r\n+# Clone the repository\r\n+git clone https://github.com/yourusername/projectron.git\r\n+cd projectron\r\n+\r\n+# Start with Docker\r\n+docker-compose up -d\r\n+\r\n+# Access at http://localhost:3000\r\n+```\r\n+\r\n+## \ud83d\udcdd Core Workflows\r\n+\r\n+### Project Generation\r\n+\r\n+1. **Describe Your Project**: Input a high-level description of what you want to build\r\n+2. **Answer Clarifying Questions**: Refine requirements through targeted questions\r\n+3. **Review & Customize**: Adjust the AI-generated plan to match your vision\r\n+4. **Engage with Assistant**: Get help from the context-aware AI assistant throughout development\r\n+\r\n+### Project Workspace\r\n+\r\n+Your project includes seven integrated sections:\r\n+\r\n+1. **High-level Plan**: Strategic overview and approach recommendations\r\n+2. **Architecture Design**: Component relationships and technology recommendations\r\n+3. **API Endpoints**: Interface documentation with endpoints and response formats\r\n+4. **Data Models**: Database schema definitions and field specifications\r\n+5. **UI Components**: Interface component specifications and user interactions\r\n+6. **Implementation Plan**: Structured tasks with effort estimates\r\n+7. **Technical Diagrams**: Visual representations of your system design\r\n+\r\n+## \ud83d\udcdc License\r\n+\r\n+This project is licensed under the MIT License - see the LICENSE file for details.\r\n+\r\n+## \ud83d\ude4f Acknowledgements\r\n+\r\n+- [Next.js](https://nextjs.org/)\r\n+- [React](https://reactjs.org/)\r\n+- [Tailwind CSS](https://tailwindcss.com/)\r\n+- [FastAPI](https://fastapi.tiangolo.com/)\r\n+- [MongoDB](https://www.mongodb.com/)\r",
      "patch_lines": [
        "@@ -1,74 +1,74 @@\n",
        "-# Projectron\n",
        "-\n",
        "-[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)\n",
        "-\n",
        "-Projectron is an innovative project planning tool designed for solo developers. It leverages artificial intelligence to transform high-level project descriptions into comprehensive, actionable development plans with minimal effort.\n",
        "-\n",
        "-## \ud83d\ude80 Features\n",
        "-\n",
        "-- **AI-Powered Planning**: Transform brief project descriptions into complete development roadmaps\n",
        "-- **Technical Documentation**: Auto-generate architecture diagrams, API specs, and database schemas\n",
        "-- **Implementation Guide**: Get milestone-based development plans with task breakdowns\n",
        "-- **Progress Tracking**: Monitor your development journey with visual progress indicators\n",
        "-- **Context-Aware Assistant**: Get intelligent suggestions and answers based on your specific project\n",
        "-\n",
        "-## \ud83e\udde0 Perfect for Solo Developers\n",
        "-\n",
        "-- **Reduced Planning Time**: Cut planning from days to minutes with AI assistance\n",
        "-- **Consistent Documentation**: Maintain professional documentation without the overhead\n",
        "-- **Technical Decision Support**: Get AI recommendations for architecture and technology choices\n",
        "-- **Focus on Coding**: Spend less time planning and more time building\n",
        "-- **Built-In Expertise**: Leverage the context-aware assistant that understands your specific project details\n",
        "-\n",
        "-## \ud83d\udee0\ufe0f Tech Stack\n",
        "-\n",
        "-- **Frontend**: Next.js, React, TypeScript, Tailwind CSS, Shadcn\n",
        "-- **Backend**: FastAPI, Pydantic, LangChain\n",
        "-- **Database**: MongoDB\n",
        "-- **Containerization**: Docker\n",
        "-\n",
        "-## \ud83d\udd27 Installation\n",
        "-\n",
        "-```bash\n",
        "-# Clone the repository\n",
        "-git clone https://github.com/yourusername/projectron.git\n",
        "-cd projectron\n",
        "-\n",
        "-# Start with Docker\n",
        "-docker-compose up -d\n",
        "-\n",
        "-# Access at http://localhost:3000\n",
        "-```\n",
        "-\n",
        "-## \ud83d\udcdd Core Workflows\n",
        "-\n",
        "-### Project Generation\n",
        "-\n",
        "-1. **Describe Your Project**: Input a high-level description of what you want to build\n",
        "-2. **Answer Clarifying Questions**: Refine requirements through targeted questions\n",
        "-3. **Review & Customize**: Adjust the AI-generated plan to match your vision\n",
        "-4. **Engage with Assistant**: Get help from the context-aware AI assistant throughout development\n",
        "-\n",
        "-### Project Workspace\n",
        "-\n",
        "-Your project includes seven integrated sections:\n",
        "-\n",
        "-1. **High-level Plan**: Strategic overview and approach recommendations\n",
        "-2. **Architecture Design**: Component relationships and technology recommendations\n",
        "-3. **API Endpoints**: Interface documentation with endpoints and response formats\n",
        "-4. **Data Models**: Database schema definitions and field specifications\n",
        "-5. **UI Components**: Interface component specifications and user interactions\n",
        "-6. **Implementation Plan**: Structured tasks with effort estimates\n",
        "-7. **Technical Diagrams**: Visual representations of your system design\n",
        "-\n",
        "-## \ud83d\udcdc License\n",
        "-\n",
        "-This project is licensed under the MIT License - see the LICENSE file for details.\n",
        "-\n",
        "-## \ud83d\ude4f Acknowledgements\n",
        "-\n",
        "-- [Next.js](https://nextjs.org/)\n",
        "-- [React](https://reactjs.org/)\n",
        "-- [Tailwind CSS](https://tailwindcss.com/)\n",
        "-- [FastAPI](https://fastapi.tiangolo.com/)\n",
        "-- [MongoDB](https://www.mongodb.com/)\n",
        "+# Projectron\r\n",
        "+\r\n",
        "+[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)\r\n",
        "+\r\n",
        "+Projectron is an innovative project planning tool designed for solo developers. It leverages artificial intelligence to transform high-level project descriptions into comprehensive, actionable development plans with minimal effort.\r\n",
        "+\r\n",
        "+## \ud83d\ude80 Features\r\n",
        "+\r\n",
        "+- **AI-Powered Planning**: Transform brief project descriptions into complete development roadmaps\r\n",
        "+- **Technical Documentation**: Auto-generate architecture diagrams, API specs, and database schemas\r\n",
        "+- **Implementation Guide**: Get milestone-based development plans with task breakdowns\r\n",
        "+- **Progress Tracking**: Monitor your development journey with visual progress indicators\r\n",
        "+- **Context-Aware Assistant**: Get intelligent suggestions and answers based on your specific project\r\n",
        "+\r\n",
        "+## \ud83e\udde0 Perfect for Solo Developers\r\n",
        "+\r\n",
        "+- **Reduced Planning Time**: Cut planning from days to minutes with AI assistance\r\n",
        "+- **Consistent Documentation**: Maintain professional documentation without the overhead\r\n",
        "+- **Technical Decision Support**: Get AI recommendations for architecture and technology choices\r\n",
        "+- **Focus on Coding**: Spend less time planning and more time building\r\n",
        "+- **Built-In Expertise**: Leverage the context-aware assistant that understands your specific project details\r\n",
        "+\r\n",
        "+## \ud83d\udee0\ufe0f Tech Stack\r\n",
        "+\r\n",
        "+- **Frontend**: Next.js, React, TypeScript, Tailwind CSS, Shadcn\r\n",
        "+- **Backend**: FastAPI, Pydantic, LangChain\r\n",
        "+- **Database**: MongoDB\r\n",
        "+- **Containerization**: Docker\r\n",
        "+\r\n",
        "+## \ud83d\udd27 Installation\r\n",
        "+\r\n",
        "+```bash\r\n",
        "+# Clone the repository\r\n",
        "+git clone https://github.com/yourusername/projectron.git\r\n",
        "+cd projectron\r\n",
        "+\r\n",
        "+# Start with Docker\r\n",
        "+docker-compose up -d\r\n",
        "+\r\n",
        "+# Access at http://localhost:3000\r\n",
        "+```\r\n",
        "+\r\n",
        "+## \ud83d\udcdd Core Workflows\r\n",
        "+\r\n",
        "+### Project Generation\r\n",
        "+\r\n",
        "+1. **Describe Your Project**: Input a high-level description of what you want to build\r\n",
        "+2. **Answer Clarifying Questions**: Refine requirements through targeted questions\r\n",
        "+3. **Review & Customize**: Adjust the AI-generated plan to match your vision\r\n",
        "+4. **Engage with Assistant**: Get help from the context-aware AI assistant throughout development\r\n",
        "+\r\n",
        "+### Project Workspace\r\n",
        "+\r\n",
        "+Your project includes seven integrated sections:\r\n",
        "+\r\n",
        "+1. **High-level Plan**: Strategic overview and approach recommendations\r\n",
        "+2. **Architecture Design**: Component relationships and technology recommendations\r\n",
        "+3. **API Endpoints**: Interface documentation with endpoints and response formats\r\n",
        "+4. **Data Models**: Database schema definitions and field specifications\r\n",
        "+5. **UI Components**: Interface component specifications and user interactions\r\n",
        "+6. **Implementation Plan**: Structured tasks with effort estimates\r\n",
        "+7. **Technical Diagrams**: Visual representations of your system design\r\n",
        "+\r\n",
        "+## \ud83d\udcdc License\r\n",
        "+\r\n",
        "+This project is licensed under the MIT License - see the LICENSE file for details.\r\n",
        "+\r\n",
        "+## \ud83d\ude4f Acknowledgements\r\n",
        "+\r\n",
        "+- [Next.js](https://nextjs.org/)\r\n",
        "+- [React](https://reactjs.org/)\r\n",
        "+- [Tailwind CSS](https://tailwindcss.com/)\r\n",
        "+- [FastAPI](https://fastapi.tiangolo.com/)\r\n",
        "+- [MongoDB](https://www.mongodb.com/)\r\n"
      ]
    },
    {
      "path": "backend/app/api/api_router.py",
      "status": "modified",
      "additions": 17,
      "deletions": 17,
      "patch": "@@ -1,17 +1,17 @@\n-from fastapi import APIRouter\n-\n-from app.api.endpoints import auth, plan, projects, diagrams\n-\n-api_router = APIRouter()\n-\n-# Auth routes\n-api_router.include_router(auth.router, prefix=\"/auth\", tags=[\"authentication\"])\n-\n-# Project routes\n-api_router.include_router(projects.router, prefix=\"/projects\", tags=[\"projects\"])\n-\n-# Plan routes\n-api_router.include_router(plan.router, prefix=\"/plan\", tags=[\"plan\"])\n-\n-# Diagram routes\n-api_router.include_router(diagrams.router, prefix=\"/diagrams\", tags=[\"diagrams\"])\n+from fastapi import APIRouter\r\n+\r\n+from app.api.endpoints import auth, plan, projects, diagrams\r\n+\r\n+api_router = APIRouter()\r\n+\r\n+# Auth routes\r\n+api_router.include_router(auth.router, prefix=\"/auth\", tags=[\"authentication\"])\r\n+\r\n+# Project routes\r\n+api_router.include_router(projects.router, prefix=\"/projects\", tags=[\"projects\"])\r\n+\r\n+# Plan routes\r\n+api_router.include_router(plan.router, prefix=\"/plan\", tags=[\"plan\"])\r\n+\r\n+# Diagram routes\r\n+api_router.include_router(diagrams.router, prefix=\"/diagrams\", tags=[\"diagrams\"])\r",
      "patch_lines": [
        "@@ -1,17 +1,17 @@\n",
        "-from fastapi import APIRouter\n",
        "-\n",
        "-from app.api.endpoints import auth, plan, projects, diagrams\n",
        "-\n",
        "-api_router = APIRouter()\n",
        "-\n",
        "-# Auth routes\n",
        "-api_router.include_router(auth.router, prefix=\"/auth\", tags=[\"authentication\"])\n",
        "-\n",
        "-# Project routes\n",
        "-api_router.include_router(projects.router, prefix=\"/projects\", tags=[\"projects\"])\n",
        "-\n",
        "-# Plan routes\n",
        "-api_router.include_router(plan.router, prefix=\"/plan\", tags=[\"plan\"])\n",
        "-\n",
        "-# Diagram routes\n",
        "-api_router.include_router(diagrams.router, prefix=\"/diagrams\", tags=[\"diagrams\"])\n",
        "+from fastapi import APIRouter\r\n",
        "+\r\n",
        "+from app.api.endpoints import auth, plan, projects, diagrams\r\n",
        "+\r\n",
        "+api_router = APIRouter()\r\n",
        "+\r\n",
        "+# Auth routes\r\n",
        "+api_router.include_router(auth.router, prefix=\"/auth\", tags=[\"authentication\"])\r\n",
        "+\r\n",
        "+# Project routes\r\n",
        "+api_router.include_router(projects.router, prefix=\"/projects\", tags=[\"projects\"])\r\n",
        "+\r\n",
        "+# Plan routes\r\n",
        "+api_router.include_router(plan.router, prefix=\"/plan\", tags=[\"plan\"])\r\n",
        "+\r\n",
        "+# Diagram routes\r\n",
        "+api_router.include_router(diagrams.router, prefix=\"/diagrams\", tags=[\"diagrams\"])\r\n"
      ]
    },
    {
      "path": "backend/app/api/endpoints/diagrams.py",
      "status": "modified",
      "additions": 1,
      "deletions": 1,
      "patch": "@@ -56,7 +56,7 @@ async def create_sequence_diagram(\n         if not project:\n             raise HTTPException(status_code=404, detail=\"Project not found\")\n         # Create the LLM with the configured settings\n-        llm = create_llm(temperature=settings.DIAGRAM_TEMPERATURE)\n+        llm = create_llm(temperature=settings.DIAGRAM_TEMPERATURE, model='gpt-4.1-mini')\n         \n         # Generate the sequence diagram\n         plan = project.description + \"\\n\" + compact_json(project.technical_architecture)",
      "patch_lines": [
        "@@ -56,7 +56,7 @@ async def create_sequence_diagram(\n",
        "         if not project:\n",
        "             raise HTTPException(status_code=404, detail=\"Project not found\")\n",
        "         # Create the LLM with the configured settings\n",
        "-        llm = create_llm(temperature=settings.DIAGRAM_TEMPERATURE)\n",
        "+        llm = create_llm(temperature=settings.DIAGRAM_TEMPERATURE, model='gpt-4.1-mini')\n",
        "         \n",
        "         # Generate the sequence diagram\n",
        "         plan = project.description + \"\\n\" + compact_json(project.technical_architecture)\n"
      ]
    },
    {
      "path": "backend/app/api/endpoints/plan.py",
      "status": "modified",
      "additions": 47,
      "deletions": 113,
      "patch": "@@ -1,113 +1,47 @@\n-from bson import ObjectId\n-from fastapi import APIRouter, HTTPException, Depends, status\n-from typing import Dict, Any\n-from app.pydantic_models.project_http_models import ClarificationResponse, PlanGeneratioResponse, PlanGenerationInput, PlanRefinementInput\n-from app.db.models.project import Project\n-from app.services.ai.project_ai_service import ProjectAIService\n-from app.db.models.auth import User\n-from app.api.deps import get_current_user\n-from app.utils.serializers import create_or_update_project_from_plan\n-\n-router = APIRouter()\n-ai_service = ProjectAIService()\n-\n-\n-@router.post(\"/clarify\", response_model=ClarificationResponse)\n-async def generate_clarification_questions(\n-    input_data: PlanGenerationInput,\n-    current_user: User = Depends(get_current_user)\n-):\n-    \"\"\"Generate clarification questions for a project description\"\"\"\n-    try:\n-        questions = await ai_service.generate_clarification_questions(project_info=input_data)\n-        return questions\n-    except Exception as e:\n-        raise HTTPException(\n-            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\n-            detail=f\"Failed to generate clarification questions: {str(e)}\"\n-        )\n-\n-@router.post(\"/generate-plan\", response_model=PlanGeneratioResponse)\n-async def generate_project_plan(\n-    input_data: PlanGenerationInput,\n-    clarification_qa: Dict[str, str] = {},\n-    current_user: User = Depends(get_current_user)\n-):\n-    \"\"\"Generate a complete project plan based on description and answers to clarification questions\"\"\"\n-    try:\n-        plan = await ai_service.generate_project_plan(project_info=input_data, clarification_qa=clarification_qa)\n-        project_id = await create_or_update_project_from_plan(project_data=plan.get(\"structured_plan\", {}), input_data=input_data.model_dump() ,current_user=current_user)\n-        return {\"structured_plan\": plan.get(\"structured_plan\"), \"project_id\": project_id}\n-    \n-    except Exception as e:\n-        print(\"Error in generate_project_plan:\", str(e))\n-        raise HTTPException(\n-            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\n-            detail=f\"Failed to generate project plan: {str(e)}\"\n-        )\n-\n-@router.post(\"/refine-plan\", response_model=Dict[str, Any])\n-async def refine_project_plan(\n-    input_data: PlanRefinementInput,\n-    current_user: User = Depends(get_current_user)\n-):\n-    \"\"\"Refine an existing project plan based on feedback\"\"\"\n-    try:\n-        # Validate project ID and get project\n-        project = Project.objects(id=input_data.project_id).first()\n-        \n-        if not project:\n-            raise HTTPException(\n-                status_code=status.HTTP_404_NOT_FOUND,\n-                detail=f\"Project with ID {input_data.project_id} not found\"\n-            )\n-        \n-        # Ensure user has access to this project\n-        if str(project.owner_id.id) != str(current_user.id):\n-            # Check if user is a collaborator\n-            is_collaborator = False\n-            if hasattr(project, 'collaborator_ids'):\n-                is_collaborator = any(str(collab.id) == str(current_user.id) for collab in project.collaborator_ids)\n-            \n-            if not is_collaborator:\n-                raise HTTPException(\n-                    status_code=status.HTTP_403_FORBIDDEN,\n-                    detail=\"You don't have permission to modify this project\"\n-                )\n-        \n-        # Construct the current plan from the project's fields\n-        current_plan = {\n-            \"name\": project.name,\n-            \"description\": project.description,\n-            \"status\": project.status,\n-            \"tech_stack\": project.tech_stack,\n-            \"experience_level\": project.experience_level,\n-            \"team_size\": project.team_size,\n-            \"high_level_plan\": project.high_level_plan,\n-            \"technical_architecture\": project.technical_architecture,\n-            \"api_endpoints\": project.api_endpoints,\n-            \"data_models\": project.data_models,\n-            \"ui_components\": project.ui_components,\n-            \"implementation_plan\": project.implementation_plan.get(\"milestones\", []),\n-        }\n-\n-        # Generate refined plan\n-        refined_plan = await ai_service.refine_project_plan(\n-            current_plan=current_plan,\n-            feedback=input_data.feedback\n-        )\n-        \n-        # Generate a new textual plan\n-        textual_plan = await ai_service._generate_text_plan(refined_plan)\n-        \n-        # Update project with refined plan\n-        await create_or_update_project_from_plan(refined_plan, textual_plan, current_user, existing_project_id=str(project.id))\n-        \n-        return refined_plan\n-    except HTTPException as e:\n-        raise e\n-    except Exception as e:\n-        raise HTTPException(\n-            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\n-            detail=f\"Failed to refine project plan: {str(e)}\"\n-        )\n+from bson import ObjectId\r\n+from fastapi import APIRouter, HTTPException, Depends, status\r\n+from typing import Dict, Any\r\n+from app.pydantic_models.project_http_models import ClarificationResponse, PlanGeneratioResponse, PlanGenerationInput, PlanRefinementInput\r\n+from app.db.models.project import Project\r\n+from app.services.ai.ai_plan_service import generate_clarifying_questions, generate_plan\r\n+from app.db.models.auth import User\r\n+from app.api.deps import get_current_user\r\n+from app.utils.serializers import create_or_update_project_from_plan\r\n+\r\n+router = APIRouter()\r\n+\r\n+\r\n+@router.post(\"/clarify\", response_model=ClarificationResponse)\r\n+async def generate_clarification_questions(\r\n+    input_data: PlanGenerationInput,\r\n+    current_user: User = Depends(get_current_user)\r\n+):\r\n+    \"\"\"Generate clarification questions for a project description\"\"\"\r\n+    try:\r\n+        questions = generate_clarifying_questions(project_info=input_data)\r\n+        return questions\r\n+    except Exception as e:\r\n+        raise HTTPException(\r\n+            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\r\n+            detail=f\"Failed to generate clarification questions: {str(e)}\"\r\n+        )\r\n+\r\n+@router.post(\"/generate-plan\", response_model=PlanGeneratioResponse)\r\n+async def generate_project_plan(\r\n+    input_data: PlanGenerationInput,\r\n+    clarification_qa: Dict[str, str] = {},\r\n+    current_user: User = Depends(get_current_user)\r\n+):\r\n+    \"\"\"Generate a complete project plan based on description and answers to clarification questions\"\"\"\r\n+    try:\r\n+        plan = await generate_plan(clarification_qa, project_info=input_data, user_id=current_user.id)\r\n+        project_id = await create_or_update_project_from_plan(project_data=plan ,current_user=current_user)\r\n+        return {\"structured_plan\": plan, \"project_id\": project_id}\r\n+    \r\n+    except Exception as e:\r\n+        print(\"Error in generate_project_plan:\", str(e))\r\n+        raise HTTPException(\r\n+            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\r\n+            detail=f\"Failed to generate project plan: {str(e)}\"\r\n+        )\r\n+\r",
      "patch_lines": [
        "@@ -1,113 +1,47 @@\n",
        "-from bson import ObjectId\n",
        "-from fastapi import APIRouter, HTTPException, Depends, status\n",
        "-from typing import Dict, Any\n",
        "-from app.pydantic_models.project_http_models import ClarificationResponse, PlanGeneratioResponse, PlanGenerationInput, PlanRefinementInput\n",
        "-from app.db.models.project import Project\n",
        "-from app.services.ai.project_ai_service import ProjectAIService\n",
        "-from app.db.models.auth import User\n",
        "-from app.api.deps import get_current_user\n",
        "-from app.utils.serializers import create_or_update_project_from_plan\n",
        "-\n",
        "-router = APIRouter()\n",
        "-ai_service = ProjectAIService()\n",
        "-\n",
        "-\n",
        "-@router.post(\"/clarify\", response_model=ClarificationResponse)\n",
        "-async def generate_clarification_questions(\n",
        "-    input_data: PlanGenerationInput,\n",
        "-    current_user: User = Depends(get_current_user)\n",
        "-):\n",
        "-    \"\"\"Generate clarification questions for a project description\"\"\"\n",
        "-    try:\n",
        "-        questions = await ai_service.generate_clarification_questions(project_info=input_data)\n",
        "-        return questions\n",
        "-    except Exception as e:\n",
        "-        raise HTTPException(\n",
        "-            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\n",
        "-            detail=f\"Failed to generate clarification questions: {str(e)}\"\n",
        "-        )\n",
        "-\n",
        "-@router.post(\"/generate-plan\", response_model=PlanGeneratioResponse)\n",
        "-async def generate_project_plan(\n",
        "-    input_data: PlanGenerationInput,\n",
        "-    clarification_qa: Dict[str, str] = {},\n",
        "-    current_user: User = Depends(get_current_user)\n",
        "-):\n",
        "-    \"\"\"Generate a complete project plan based on description and answers to clarification questions\"\"\"\n",
        "-    try:\n",
        "-        plan = await ai_service.generate_project_plan(project_info=input_data, clarification_qa=clarification_qa)\n",
        "-        project_id = await create_or_update_project_from_plan(project_data=plan.get(\"structured_plan\", {}), input_data=input_data.model_dump() ,current_user=current_user)\n",
        "-        return {\"structured_plan\": plan.get(\"structured_plan\"), \"project_id\": project_id}\n",
        "-    \n",
        "-    except Exception as e:\n",
        "-        print(\"Error in generate_project_plan:\", str(e))\n",
        "-        raise HTTPException(\n",
        "-            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\n",
        "-            detail=f\"Failed to generate project plan: {str(e)}\"\n",
        "-        )\n",
        "-\n",
        "-@router.post(\"/refine-plan\", response_model=Dict[str, Any])\n",
        "-async def refine_project_plan(\n",
        "-    input_data: PlanRefinementInput,\n",
        "-    current_user: User = Depends(get_current_user)\n",
        "-):\n",
        "-    \"\"\"Refine an existing project plan based on feedback\"\"\"\n",
        "-    try:\n",
        "-        # Validate project ID and get project\n",
        "-        project = Project.objects(id=input_data.project_id).first()\n",
        "-        \n",
        "-        if not project:\n",
        "-            raise HTTPException(\n",
        "-                status_code=status.HTTP_404_NOT_FOUND,\n",
        "-                detail=f\"Project with ID {input_data.project_id} not found\"\n",
        "-            )\n",
        "-        \n",
        "-        # Ensure user has access to this project\n",
        "-        if str(project.owner_id.id) != str(current_user.id):\n",
        "-            # Check if user is a collaborator\n",
        "-            is_collaborator = False\n",
        "-            if hasattr(project, 'collaborator_ids'):\n",
        "-                is_collaborator = any(str(collab.id) == str(current_user.id) for collab in project.collaborator_ids)\n",
        "-            \n",
        "-            if not is_collaborator:\n",
        "-                raise HTTPException(\n",
        "-                    status_code=status.HTTP_403_FORBIDDEN,\n",
        "-                    detail=\"You don't have permission to modify this project\"\n",
        "-                )\n",
        "-        \n",
        "-        # Construct the current plan from the project's fields\n",
        "-        current_plan = {\n",
        "-            \"name\": project.name,\n",
        "-            \"description\": project.description,\n",
        "-            \"status\": project.status,\n",
        "-            \"tech_stack\": project.tech_stack,\n",
        "-            \"experience_level\": project.experience_level,\n",
        "-            \"team_size\": project.team_size,\n",
        "-            \"high_level_plan\": project.high_level_plan,\n",
        "-            \"technical_architecture\": project.technical_architecture,\n",
        "-            \"api_endpoints\": project.api_endpoints,\n",
        "-            \"data_models\": project.data_models,\n",
        "-            \"ui_components\": project.ui_components,\n",
        "-            \"implementation_plan\": project.implementation_plan.get(\"milestones\", []),\n",
        "-        }\n",
        "-\n",
        "-        # Generate refined plan\n",
        "-        refined_plan = await ai_service.refine_project_plan(\n",
        "-            current_plan=current_plan,\n",
        "-            feedback=input_data.feedback\n",
        "-        )\n",
        "-        \n",
        "-        # Generate a new textual plan\n",
        "-        textual_plan = await ai_service._generate_text_plan(refined_plan)\n",
        "-        \n",
        "-        # Update project with refined plan\n",
        "-        await create_or_update_project_from_plan(refined_plan, textual_plan, current_user, existing_project_id=str(project.id))\n",
        "-        \n",
        "-        return refined_plan\n",
        "-    except HTTPException as e:\n",
        "-        raise e\n",
        "-    except Exception as e:\n",
        "-        raise HTTPException(\n",
        "-            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\n",
        "-            detail=f\"Failed to refine project plan: {str(e)}\"\n",
        "-        )\n",
        "+from bson import ObjectId\r\n",
        "+from fastapi import APIRouter, HTTPException, Depends, status\r\n",
        "+from typing import Dict, Any\r\n",
        "+from app.pydantic_models.project_http_models import ClarificationResponse, PlanGeneratioResponse, PlanGenerationInput, PlanRefinementInput\r\n",
        "+from app.db.models.project import Project\r\n",
        "+from app.services.ai.ai_plan_service import generate_clarifying_questions, generate_plan\r\n",
        "+from app.db.models.auth import User\r\n",
        "+from app.api.deps import get_current_user\r\n",
        "+from app.utils.serializers import create_or_update_project_from_plan\r\n",
        "+\r\n",
        "+router = APIRouter()\r\n",
        "+\r\n",
        "+\r\n",
        "+@router.post(\"/clarify\", response_model=ClarificationResponse)\r\n",
        "+async def generate_clarification_questions(\r\n",
        "+    input_data: PlanGenerationInput,\r\n",
        "+    current_user: User = Depends(get_current_user)\r\n",
        "+):\r\n",
        "+    \"\"\"Generate clarification questions for a project description\"\"\"\r\n",
        "+    try:\r\n",
        "+        questions = generate_clarifying_questions(project_info=input_data)\r\n",
        "+        return questions\r\n",
        "+    except Exception as e:\r\n",
        "+        raise HTTPException(\r\n",
        "+            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\r\n",
        "+            detail=f\"Failed to generate clarification questions: {str(e)}\"\r\n",
        "+        )\r\n",
        "+\r\n",
        "+@router.post(\"/generate-plan\", response_model=PlanGeneratioResponse)\r\n",
        "+async def generate_project_plan(\r\n",
        "+    input_data: PlanGenerationInput,\r\n",
        "+    clarification_qa: Dict[str, str] = {},\r\n",
        "+    current_user: User = Depends(get_current_user)\r\n",
        "+):\r\n",
        "+    \"\"\"Generate a complete project plan based on description and answers to clarification questions\"\"\"\r\n",
        "+    try:\r\n",
        "+        plan = await generate_plan(clarification_qa, project_info=input_data, user_id=current_user.id)\r\n",
        "+        project_id = await create_or_update_project_from_plan(project_data=plan ,current_user=current_user)\r\n",
        "+        return {\"structured_plan\": plan, \"project_id\": project_id}\r\n",
        "+    \r\n",
        "+    except Exception as e:\r\n",
        "+        print(\"Error in generate_project_plan:\", str(e))\r\n",
        "+        raise HTTPException(\r\n",
        "+            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\r\n",
        "+            detail=f\"Failed to generate project plan: {str(e)}\"\r\n",
        "+        )\r\n",
        "+\r\n"
      ]
    },
    {
      "path": "backend/app/api/endpoints/projects.py",
      "status": "modified",
      "additions": 140,
      "deletions": 140,
      "patch": "@@ -1,140 +1,140 @@\n-from bson import ObjectId\n-from fastapi import APIRouter, Depends, HTTPException, status\n-from typing import List, Optional\n-from datetime import datetime, timezone\n-from mongoengine.queryset.visitor import Q\n-from app.api.deps import get_current_user\n-from app.db.models.auth import User\n-from app.db.models.project import Project\n-from app.utils.mongo_encoder import serialize_mongodb_doc\n-from mongoengine.errors import DoesNotExist, InvalidQueryError\n-\n-from app.utils.serializers import calculate_plan_metrics, get_structured_project\n-\n-router = APIRouter()\n-\n-@router.get(\"/\", response_description=\"List all projects\")\n-async def list_projects(current_user: User = Depends(get_current_user)):\n-    \"\"\"\n-    Retrieve all projects for the authenticated user.\n-    Includes projects where user is either owner or collaborator.\n-    \"\"\"\n-    # Query projects where user is owner or collaborator\n-    projects = Project.objects(Q(owner_id=current_user.id) | Q(collaborator_ids=current_user.id))\n-    # Convert projects to dictionaries without nested data\n-    result = []\n-    for project in projects:\n-        metrics = calculate_plan_metrics(project.implementation_plan.get(\"milestones\", []))\n-        # Only include needed fields\n-        project_dict = {\n-            'id': str(project.id),\n-            'name': project.name,\n-            'description': project.description,\n-            'status': project.status,\n-            'created_at': project.created_at,\n-            'updated_at': project.updated_at,\n-            'owner_id': str(project.owner_id.id) if project.owner_id else None,\n-            'collaborator_ids': [str(collab_id) for collab_id in project.collaborator_ids] if project.collaborator_ids else [],\n-            'milestone_count': metrics[\"milestone_count\"],\n-            'task_count': metrics[\"task_count\"],\n-            'subtask_count': metrics[\"subtask_count\"],\n-            'completion_percentage': metrics[\"completion_percentage\"],\n-        }     \n-        \n-        result.append(project_dict)\n-    \n-    return serialize_mongodb_doc(result)\n-    \n-\n-@router.get(\"/{project_id}\", response_description=\"Get a complete project with all details\")\n-async def get_complete_project(project_id: str, current_user: User = Depends(get_current_user)):\n-    \"\"\"\n-    Retrieve a project by ID with all nested details (milestones, tasks, subtasks).\n-    This provides the complete project structure for detailed views.\n-    \"\"\"\n-    try:\n-        # Use the reusable function to get the structured project\n-        return await get_structured_project(project_id, current_user)\n-        \n-    except ValueError as e:\n-        raise HTTPException(\n-            status_code=status.HTTP_400_BAD_REQUEST,\n-            detail=str(e)\n-        )\n-    except DoesNotExist as e:\n-        raise HTTPException(\n-            status_code=status.HTTP_404_NOT_FOUND,\n-            detail=str(e)\n-        )\n-    except PermissionError as e:\n-        raise HTTPException(\n-            status_code=status.HTTP_403_FORBIDDEN,\n-            detail=str(e)\n-        )\n-    except Exception as e:\n-        raise HTTPException(\n-            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\n-            detail=f\"Error retrieving project details: {str(e)}\"\n-        )\n-\n-\n-@router.put(\"/{project_id}\", response_description=\"Update a project\")\n-async def update_project(project_id: str, project_data: dict, current_user: User = Depends(get_current_user)):\n-    \"\"\"\n-    Update all project information.\n-    \"\"\"\n-    try:\n-        project = Project.objects.get(id=project_id)\n-    except:\n-        raise HTTPException(\n-            status_code=status.HTTP_404_NOT_FOUND,\n-            detail=f\"Project with ID {project_id} not found\"\n-        )\n-    \n-    # Check if user has access to update the project\n-    if project.owner_id.id != current_user.id:\n-        raise HTTPException(\n-            status_code=status.HTTP_403_FORBIDDEN,\n-            detail=\"Not authorized to update this project\"\n-        )\n-    \n-    for key, value in project_data.items():\n-        if key in ['id','_id', 'owner_id']:\n-            continue\n-        if hasattr(project, key):\n-            setattr(project, key, value)\n-    \n-    project.updated_at = datetime.now(tz=timezone.utc)\n-\n-    project.save()\n-\n-    # Return the updated project\n-    project_dict = project.to_mongo().to_dict()\n-    \n-    return serialize_mongodb_doc(project_dict)\n-\n-@router.delete(\"/{project_id}\", response_description=\"Delete a project\")\n-async def delete_project(project_id: str, current_user: User = Depends(get_current_user)):\n-    \"\"\"\n-    Delete a project and all its nested milestones, tasks, and subtasks.\n-    \"\"\"\n-    try:\n-        project = Project.objects.get(id=project_id)\n-    except:\n-        raise HTTPException(\n-            status_code=status.HTTP_404_NOT_FOUND,\n-            detail=f\"Project with ID {project_id} not found\"\n-        )\n-    \n-    # Check if user has access to delete the project\n-    if project.owner_id.id != current_user.id:\n-        raise HTTPException(\n-            status_code=status.HTTP_403_FORBIDDEN,\n-            detail=\"Not authorized to delete this project\"\n-        )\n-    \n-    # Delete the project\n-    project.delete()\n-    \n-    return {\"message\": \"Project deleted successfully\"}\n-\n+from bson import ObjectId\r\n+from fastapi import APIRouter, Depends, HTTPException, status\r\n+from typing import List, Optional\r\n+from datetime import datetime, timezone\r\n+from mongoengine.queryset.visitor import Q\r\n+from app.api.deps import get_current_user\r\n+from app.db.models.auth import User\r\n+from app.db.models.project import Project\r\n+from app.utils.mongo_encoder import serialize_mongodb_doc\r\n+from mongoengine.errors import DoesNotExist, InvalidQueryError\r\n+\r\n+from app.utils.serializers import calculate_plan_metrics, get_structured_project\r\n+\r\n+router = APIRouter()\r\n+\r\n+@router.get(\"/\", response_description=\"List all projects\")\r\n+async def list_projects(current_user: User = Depends(get_current_user)):\r\n+    \"\"\"\r\n+    Retrieve all projects for the authenticated user.\r\n+    Includes projects where user is either owner or collaborator.\r\n+    \"\"\"\r\n+    # Query projects where user is owner or collaborator\r\n+    projects = Project.objects(Q(owner_id=current_user.id) | Q(collaborator_ids=current_user.id))\r\n+    # Convert projects to dictionaries without nested data\r\n+    result = []\r\n+    for project in projects:\r\n+        metrics = calculate_plan_metrics(project.implementation_plan.get(\"milestones\", []))\r\n+        # Only include needed fields\r\n+        project_dict = {\r\n+            'id': str(project.id),\r\n+            'name': project.name,\r\n+            'description': project.description,\r\n+            'status': project.status,\r\n+            'created_at': project.created_at,\r\n+            'updated_at': project.updated_at,\r\n+            'owner_id': str(project.owner_id.id) if project.owner_id else None,\r\n+            'collaborator_ids': [str(collab_id) for collab_id in project.collaborator_ids] if project.collaborator_ids else [],\r\n+            'milestone_count': metrics[\"milestone_count\"],\r\n+            'task_count': metrics[\"task_count\"],\r\n+            'subtask_count': metrics[\"subtask_count\"],\r\n+            'completion_percentage': metrics[\"completion_percentage\"],\r\n+        }     \r\n+        \r\n+        result.append(project_dict)\r\n+    \r\n+    return serialize_mongodb_doc(result)\r\n+    \r\n+\r\n+@router.get(\"/{project_id}\", response_description=\"Get a complete project with all details\")\r\n+async def get_complete_project(project_id: str, current_user: User = Depends(get_current_user)):\r\n+    \"\"\"\r\n+    Retrieve a project by ID with all nested details (milestones, tasks, subtasks).\r\n+    This provides the complete project structure for detailed views.\r\n+    \"\"\"\r\n+    try:\r\n+        # Use the reusable function to get the structured project\r\n+        return await get_structured_project(project_id, current_user)\r\n+        \r\n+    except ValueError as e:\r\n+        raise HTTPException(\r\n+            status_code=status.HTTP_400_BAD_REQUEST,\r\n+            detail=str(e)\r\n+        )\r\n+    except DoesNotExist as e:\r\n+        raise HTTPException(\r\n+            status_code=status.HTTP_404_NOT_FOUND,\r\n+            detail=str(e)\r\n+        )\r\n+    except PermissionError as e:\r\n+        raise HTTPException(\r\n+            status_code=status.HTTP_403_FORBIDDEN,\r\n+            detail=str(e)\r\n+        )\r\n+    except Exception as e:\r\n+        raise HTTPException(\r\n+            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\r\n+            detail=f\"Error retrieving project details: {str(e)}\"\r\n+        )\r\n+\r\n+\r\n+@router.put(\"/{project_id}\", response_description=\"Update a project\")\r\n+async def update_project(project_id: str, project_data: dict, current_user: User = Depends(get_current_user)):\r\n+    \"\"\"\r\n+    Update all project information.\r\n+    \"\"\"\r\n+    try:\r\n+        project = Project.objects.get(id=project_id)\r\n+    except:\r\n+        raise HTTPException(\r\n+            status_code=status.HTTP_404_NOT_FOUND,\r\n+            detail=f\"Project with ID {project_id} not found\"\r\n+        )\r\n+    \r\n+    # Check if user has access to update the project\r\n+    if project.owner_id.id != current_user.id:\r\n+        raise HTTPException(\r\n+            status_code=status.HTTP_403_FORBIDDEN,\r\n+            detail=\"Not authorized to update this project\"\r\n+        )\r\n+    \r\n+    for key, value in project_data.items():\r\n+        if key in ['id','_id', 'owner_id', 'created_at']:\r\n+            continue\r\n+        if hasattr(project, key):\r\n+            setattr(project, key, value)\r\n+    \r\n+    project.updated_at = datetime.now(tz=timezone.utc)\r\n+\r\n+    project.save()\r\n+\r\n+    # Return the updated project\r\n+    project_dict = project.to_mongo().to_dict()\r\n+    \r\n+    return serialize_mongodb_doc(project_dict)\r\n+\r\n+@router.delete(\"/{project_id}\", response_description=\"Delete a project\")\r\n+async def delete_project(project_id: str, current_user: User = Depends(get_current_user)):\r\n+    \"\"\"\r\n+    Delete a project and all its nested milestones, tasks, and subtasks.\r\n+    \"\"\"\r\n+    try:\r\n+        project = Project.objects.get(id=project_id)\r\n+    except:\r\n+        raise HTTPException(\r\n+            status_code=status.HTTP_404_NOT_FOUND,\r\n+            detail=f\"Project with ID {project_id} not found\"\r\n+        )\r\n+    \r\n+    # Check if user has access to delete the project\r\n+    if project.owner_id.id != current_user.id:\r\n+        raise HTTPException(\r\n+            status_code=status.HTTP_403_FORBIDDEN,\r\n+            detail=\"Not authorized to delete this project\"\r\n+        )\r\n+    \r\n+    # Delete the project\r\n+    project.delete()\r\n+    \r\n+    return {\"message\": \"Project deleted successfully\"}\r\n+\r",
      "patch_lines": [
        "@@ -1,140 +1,140 @@\n",
        "-from bson import ObjectId\n",
        "-from fastapi import APIRouter, Depends, HTTPException, status\n",
        "-from typing import List, Optional\n",
        "-from datetime import datetime, timezone\n",
        "-from mongoengine.queryset.visitor import Q\n",
        "-from app.api.deps import get_current_user\n",
        "-from app.db.models.auth import User\n",
        "-from app.db.models.project import Project\n",
        "-from app.utils.mongo_encoder import serialize_mongodb_doc\n",
        "-from mongoengine.errors import DoesNotExist, InvalidQueryError\n",
        "-\n",
        "-from app.utils.serializers import calculate_plan_metrics, get_structured_project\n",
        "-\n",
        "-router = APIRouter()\n",
        "-\n",
        "-@router.get(\"/\", response_description=\"List all projects\")\n",
        "-async def list_projects(current_user: User = Depends(get_current_user)):\n",
        "-    \"\"\"\n",
        "-    Retrieve all projects for the authenticated user.\n",
        "-    Includes projects where user is either owner or collaborator.\n",
        "-    \"\"\"\n",
        "-    # Query projects where user is owner or collaborator\n",
        "-    projects = Project.objects(Q(owner_id=current_user.id) | Q(collaborator_ids=current_user.id))\n",
        "-    # Convert projects to dictionaries without nested data\n",
        "-    result = []\n",
        "-    for project in projects:\n",
        "-        metrics = calculate_plan_metrics(project.implementation_plan.get(\"milestones\", []))\n",
        "-        # Only include needed fields\n",
        "-        project_dict = {\n",
        "-            'id': str(project.id),\n",
        "-            'name': project.name,\n",
        "-            'description': project.description,\n",
        "-            'status': project.status,\n",
        "-            'created_at': project.created_at,\n",
        "-            'updated_at': project.updated_at,\n",
        "-            'owner_id': str(project.owner_id.id) if project.owner_id else None,\n",
        "-            'collaborator_ids': [str(collab_id) for collab_id in project.collaborator_ids] if project.collaborator_ids else [],\n",
        "-            'milestone_count': metrics[\"milestone_count\"],\n",
        "-            'task_count': metrics[\"task_count\"],\n",
        "-            'subtask_count': metrics[\"subtask_count\"],\n",
        "-            'completion_percentage': metrics[\"completion_percentage\"],\n",
        "-        }     \n",
        "-        \n",
        "-        result.append(project_dict)\n",
        "-    \n",
        "-    return serialize_mongodb_doc(result)\n",
        "-    \n",
        "-\n",
        "-@router.get(\"/{project_id}\", response_description=\"Get a complete project with all details\")\n",
        "-async def get_complete_project(project_id: str, current_user: User = Depends(get_current_user)):\n",
        "-    \"\"\"\n",
        "-    Retrieve a project by ID with all nested details (milestones, tasks, subtasks).\n",
        "-    This provides the complete project structure for detailed views.\n",
        "-    \"\"\"\n",
        "-    try:\n",
        "-        # Use the reusable function to get the structured project\n",
        "-        return await get_structured_project(project_id, current_user)\n",
        "-        \n",
        "-    except ValueError as e:\n",
        "-        raise HTTPException(\n",
        "-            status_code=status.HTTP_400_BAD_REQUEST,\n",
        "-            detail=str(e)\n",
        "-        )\n",
        "-    except DoesNotExist as e:\n",
        "-        raise HTTPException(\n",
        "-            status_code=status.HTTP_404_NOT_FOUND,\n",
        "-            detail=str(e)\n",
        "-        )\n",
        "-    except PermissionError as e:\n",
        "-        raise HTTPException(\n",
        "-            status_code=status.HTTP_403_FORBIDDEN,\n",
        "-            detail=str(e)\n",
        "-        )\n",
        "-    except Exception as e:\n",
        "-        raise HTTPException(\n",
        "-            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\n",
        "-            detail=f\"Error retrieving project details: {str(e)}\"\n",
        "-        )\n",
        "-\n",
        "-\n",
        "-@router.put(\"/{project_id}\", response_description=\"Update a project\")\n",
        "-async def update_project(project_id: str, project_data: dict, current_user: User = Depends(get_current_user)):\n",
        "-    \"\"\"\n",
        "-    Update all project information.\n",
        "-    \"\"\"\n",
        "-    try:\n",
        "-        project = Project.objects.get(id=project_id)\n",
        "-    except:\n",
        "-        raise HTTPException(\n",
        "-            status_code=status.HTTP_404_NOT_FOUND,\n",
        "-            detail=f\"Project with ID {project_id} not found\"\n",
        "-        )\n",
        "-    \n",
        "-    # Check if user has access to update the project\n",
        "-    if project.owner_id.id != current_user.id:\n",
        "-        raise HTTPException(\n",
        "-            status_code=status.HTTP_403_FORBIDDEN,\n",
        "-            detail=\"Not authorized to update this project\"\n",
        "-        )\n",
        "-    \n",
        "-    for key, value in project_data.items():\n",
        "-        if key in ['id','_id', 'owner_id']:\n",
        "-            continue\n",
        "-        if hasattr(project, key):\n",
        "-            setattr(project, key, value)\n",
        "-    \n",
        "-    project.updated_at = datetime.now(tz=timezone.utc)\n",
        "-\n",
        "-    project.save()\n",
        "-\n",
        "-    # Return the updated project\n",
        "-    project_dict = project.to_mongo().to_dict()\n",
        "-    \n",
        "-    return serialize_mongodb_doc(project_dict)\n",
        "-\n",
        "-@router.delete(\"/{project_id}\", response_description=\"Delete a project\")\n",
        "-async def delete_project(project_id: str, current_user: User = Depends(get_current_user)):\n",
        "-    \"\"\"\n",
        "-    Delete a project and all its nested milestones, tasks, and subtasks.\n",
        "-    \"\"\"\n",
        "-    try:\n",
        "-        project = Project.objects.get(id=project_id)\n",
        "-    except:\n",
        "-        raise HTTPException(\n",
        "-            status_code=status.HTTP_404_NOT_FOUND,\n",
        "-            detail=f\"Project with ID {project_id} not found\"\n",
        "-        )\n",
        "-    \n",
        "-    # Check if user has access to delete the project\n",
        "-    if project.owner_id.id != current_user.id:\n",
        "-        raise HTTPException(\n",
        "-            status_code=status.HTTP_403_FORBIDDEN,\n",
        "-            detail=\"Not authorized to delete this project\"\n",
        "-        )\n",
        "-    \n",
        "-    # Delete the project\n",
        "-    project.delete()\n",
        "-    \n",
        "-    return {\"message\": \"Project deleted successfully\"}\n",
        "-\n",
        "+from bson import ObjectId\r\n",
        "+from fastapi import APIRouter, Depends, HTTPException, status\r\n",
        "+from typing import List, Optional\r\n",
        "+from datetime import datetime, timezone\r\n",
        "+from mongoengine.queryset.visitor import Q\r\n",
        "+from app.api.deps import get_current_user\r\n",
        "+from app.db.models.auth import User\r\n",
        "+from app.db.models.project import Project\r\n",
        "+from app.utils.mongo_encoder import serialize_mongodb_doc\r\n",
        "+from mongoengine.errors import DoesNotExist, InvalidQueryError\r\n",
        "+\r\n",
        "+from app.utils.serializers import calculate_plan_metrics, get_structured_project\r\n",
        "+\r\n",
        "+router = APIRouter()\r\n",
        "+\r\n",
        "+@router.get(\"/\", response_description=\"List all projects\")\r\n",
        "+async def list_projects(current_user: User = Depends(get_current_user)):\r\n",
        "+    \"\"\"\r\n",
        "+    Retrieve all projects for the authenticated user.\r\n",
        "+    Includes projects where user is either owner or collaborator.\r\n",
        "+    \"\"\"\r\n",
        "+    # Query projects where user is owner or collaborator\r\n",
        "+    projects = Project.objects(Q(owner_id=current_user.id) | Q(collaborator_ids=current_user.id))\r\n",
        "+    # Convert projects to dictionaries without nested data\r\n",
        "+    result = []\r\n",
        "+    for project in projects:\r\n",
        "+        metrics = calculate_plan_metrics(project.implementation_plan.get(\"milestones\", []))\r\n",
        "+        # Only include needed fields\r\n",
        "+        project_dict = {\r\n",
        "+            'id': str(project.id),\r\n",
        "+            'name': project.name,\r\n",
        "+            'description': project.description,\r\n",
        "+            'status': project.status,\r\n",
        "+            'created_at': project.created_at,\r\n",
        "+            'updated_at': project.updated_at,\r\n",
        "+            'owner_id': str(project.owner_id.id) if project.owner_id else None,\r\n",
        "+            'collaborator_ids': [str(collab_id) for collab_id in project.collaborator_ids] if project.collaborator_ids else [],\r\n",
        "+            'milestone_count': metrics[\"milestone_count\"],\r\n",
        "+            'task_count': metrics[\"task_count\"],\r\n",
        "+            'subtask_count': metrics[\"subtask_count\"],\r\n",
        "+            'completion_percentage': metrics[\"completion_percentage\"],\r\n",
        "+        }     \r\n",
        "+        \r\n",
        "+        result.append(project_dict)\r\n",
        "+    \r\n",
        "+    return serialize_mongodb_doc(result)\r\n",
        "+    \r\n",
        "+\r\n",
        "+@router.get(\"/{project_id}\", response_description=\"Get a complete project with all details\")\r\n",
        "+async def get_complete_project(project_id: str, current_user: User = Depends(get_current_user)):\r\n",
        "+    \"\"\"\r\n",
        "+    Retrieve a project by ID with all nested details (milestones, tasks, subtasks).\r\n",
        "+    This provides the complete project structure for detailed views.\r\n",
        "+    \"\"\"\r\n",
        "+    try:\r\n",
        "+        # Use the reusable function to get the structured project\r\n",
        "+        return await get_structured_project(project_id, current_user)\r\n",
        "+        \r\n",
        "+    except ValueError as e:\r\n",
        "+        raise HTTPException(\r\n",
        "+            status_code=status.HTTP_400_BAD_REQUEST,\r\n",
        "+            detail=str(e)\r\n",
        "+        )\r\n",
        "+    except DoesNotExist as e:\r\n",
        "+        raise HTTPException(\r\n",
        "+            status_code=status.HTTP_404_NOT_FOUND,\r\n",
        "+            detail=str(e)\r\n",
        "+        )\r\n",
        "+    except PermissionError as e:\r\n",
        "+        raise HTTPException(\r\n",
        "+            status_code=status.HTTP_403_FORBIDDEN,\r\n",
        "+            detail=str(e)\r\n",
        "+        )\r\n",
        "+    except Exception as e:\r\n",
        "+        raise HTTPException(\r\n",
        "+            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\r\n",
        "+            detail=f\"Error retrieving project details: {str(e)}\"\r\n",
        "+        )\r\n",
        "+\r\n",
        "+\r\n",
        "+@router.put(\"/{project_id}\", response_description=\"Update a project\")\r\n",
        "+async def update_project(project_id: str, project_data: dict, current_user: User = Depends(get_current_user)):\r\n",
        "+    \"\"\"\r\n",
        "+    Update all project information.\r\n",
        "+    \"\"\"\r\n",
        "+    try:\r\n",
        "+        project = Project.objects.get(id=project_id)\r\n",
        "+    except:\r\n",
        "+        raise HTTPException(\r\n",
        "+            status_code=status.HTTP_404_NOT_FOUND,\r\n",
        "+            detail=f\"Project with ID {project_id} not found\"\r\n",
        "+        )\r\n",
        "+    \r\n",
        "+    # Check if user has access to update the project\r\n",
        "+    if project.owner_id.id != current_user.id:\r\n",
        "+        raise HTTPException(\r\n",
        "+            status_code=status.HTTP_403_FORBIDDEN,\r\n",
        "+            detail=\"Not authorized to update this project\"\r\n",
        "+        )\r\n",
        "+    \r\n",
        "+    for key, value in project_data.items():\r\n",
        "+        if key in ['id','_id', 'owner_id', 'created_at']:\r\n",
        "+            continue\r\n",
        "+        if hasattr(project, key):\r\n",
        "+            setattr(project, key, value)\r\n",
        "+    \r\n",
        "+    project.updated_at = datetime.now(tz=timezone.utc)\r\n",
        "+\r\n",
        "+    project.save()\r\n",
        "+\r\n",
        "+    # Return the updated project\r\n",
        "+    project_dict = project.to_mongo().to_dict()\r\n",
        "+    \r\n",
        "+    return serialize_mongodb_doc(project_dict)\r\n",
        "+\r\n",
        "+@router.delete(\"/{project_id}\", response_description=\"Delete a project\")\r\n",
        "+async def delete_project(project_id: str, current_user: User = Depends(get_current_user)):\r\n",
        "+    \"\"\"\r\n",
        "+    Delete a project and all its nested milestones, tasks, and subtasks.\r\n",
        "+    \"\"\"\r\n",
        "+    try:\r\n",
        "+        project = Project.objects.get(id=project_id)\r\n",
        "+    except:\r\n",
        "+        raise HTTPException(\r\n",
        "+            status_code=status.HTTP_404_NOT_FOUND,\r\n",
        "+            detail=f\"Project with ID {project_id} not found\"\r\n",
        "+        )\r\n",
        "+    \r\n",
        "+    # Check if user has access to delete the project\r\n",
        "+    if project.owner_id.id != current_user.id:\r\n",
        "+        raise HTTPException(\r\n",
        "+            status_code=status.HTTP_403_FORBIDDEN,\r\n",
        "+            detail=\"Not authorized to delete this project\"\r\n",
        "+        )\r\n",
        "+    \r\n",
        "+    # Delete the project\r\n",
        "+    project.delete()\r\n",
        "+    \r\n",
        "+    return {\"message\": \"Project deleted successfully\"}\r\n",
        "+\r\n"
      ]
    },
    {
      "path": "backend/app/core/config.py",
      "status": "modified",
      "additions": 67,
      "deletions": 67,
      "patch": "@@ -1,67 +1,67 @@\n-import os\n-from typing import Optional, Dict, Any, List, Union\n-from pydantic import AnyHttpUrl, field_validator\n-from dotenv import load_dotenv\n-from pydantic_settings import BaseSettings\n-from functools import lru_cache\n-\n-# Load environment variables from .env file\n-load_dotenv()\n-class Settings(BaseSettings):\n-    \"\"\"Application settings.\"\"\"    \n-\n-    PROJECT_NAME: str = \"Projectron\"\n-    API_V1_STR: str = \"/api/endpoints\"\n-\n-    FRONTEND_URL: str = os.getenv(\"FRONTEND_URL\", \"http://localhost:3000\")\n-\n-    CORS_ORIGINS: List[Union[str, AnyHttpUrl]] = [\n-        \"http://localhost:3000\",  # Frontend DEV URL\n-        FRONTEND_URL,  # Frontend URL from environment variable\n-        \"http://localhost:8000\",  # Backend URL\n-    ]\n-\n-    # MongoDB\n-    MONGODB_URI: str = os.getenv(\"MONGODB_URI\", \"mongodb://localhost:27017\")\n-    MONGODB_DB_NAME: str = \"projectron\"\n-    \n-    # JWT\n-    SECRET_KEY: str = os.getenv(\"SECRET_KEY\", \"your-secret-key-for-jwt\")\n-    ALGORITHM: str = \"HS256\"\n-    ACCESS_TOKEN_EXPIRE_MINUTES: int = 48 * 60\n-    \n-    # EMAIL SERVICE\n-    SMTP_SERVER: str = os.getenv(\"SMTP_SERVER\", \"smtp.gmail.com\")\n-    SMTP_PORT: int = int(os.getenv(\"SMTP_PORT\", 587))\n-    SMTP_USER: str = os.getenv(\"SMTP_USER\", \"travel7450@gmail.com\")\n-    SMTP_PASSWORD: str = os.getenv(\"SMTP_PASSWORD\", \"rmcx lfdo olyb dhdm\")\n-    \n-    # OPENAI SERVICE\n-    AI_MODEL_STRONG: str = \"gpt-4.1-mini\"\n-    AI_MODEL_FAST: str = \"gpt-4.1-nano\"\n-\n-    DIAGRAM_TEMPERATURE: float = 0.2\n-    openai_api_key: str = \"\"\n-\n-    # ANTHROPIC SERVICE\n-    ANTHROPIC_API_KEY: str = os.getenv(\"ANTHROPIC_API_KEY\", \"your-anthropic-api-key\")\n-    # AI_MODEL_NAME: str = \"claude-3-opus-20240229\"\n-\n-    # SELENIUM\n-    # Settings related to the Sequence Diagram Generator\n-    SELENIUM_URL: str = \"http://localhost:4444\"  # URL of the Selenium standalone Chrome instance\n-    SEQUENCE_DIAGRAM_SITE_URL: str = \"https://sequencediagram.org\"  # URL of sequencediagram.org \n-    SELENIUM_TIMEOUT: int = 30  # Timeout in seconds for Selenium operations\n-    MAX_DIAGRAM_ITERATIONS: int = 3  # Maximum number of iterations for diagram generation\n-    \n-    ENVIRONMENT: str = \"development\"  # \"development\", \"staging\", \"production\"\n-    ENABLE_MERMAID_CLI_VALIDATION: bool = True\n-\n-    model_config = {\n-        \"env_file\": \".env\",\n-        \"extra\": \"ignore\"  # Allow extra fields in environment variables\n-    }\n-\n-@lru_cache()\n-def get_settings() -> Settings:\n-    return Settings()\n+import os\r\n+from typing import Optional, Dict, Any, List, Union\r\n+from pydantic import AnyHttpUrl, field_validator\r\n+from dotenv import load_dotenv\r\n+from pydantic_settings import BaseSettings\r\n+from functools import lru_cache\r\n+\r\n+# Load environment variables from .env file\r\n+load_dotenv()\r\n+class Settings(BaseSettings):\r\n+    \"\"\"Application settings.\"\"\"    \r\n+\r\n+    PROJECT_NAME: str = \"Projectron\"\r\n+    API_V1_STR: str = \"/api/endpoints\"\r\n+\r\n+    FRONTEND_URL: str = \"http://localhost:3000\" #os.getenv(\"FRONTEND_URL\", \"http://localhost:3000\")\r\n+\r\n+    CORS_ORIGINS: List[Union[str, AnyHttpUrl]] = [\r\n+        \"http://localhost:3000\",  # Frontend DEV URL\r\n+        FRONTEND_URL,  # Frontend URL from environment variable\r\n+        \"http://localhost:8000\",  # Backend URL\r\n+    ]\r\n+\r\n+    # MongoDB\r\n+    MONGODB_URI: str #= os.getenv(\"MONGODB_URI\", \"mongodb://localhost:27017\")\r\n+    MONGODB_DB_NAME: str = \"projectron\"\r\n+    \r\n+    # JWT\r\n+    SECRET_KEY: str #= os.getenv(\"SECRET_KEY\", \"your-secret-key-for-jwt\")\r\n+    ALGORITHM: str = \"HS256\"\r\n+    ACCESS_TOKEN_EXPIRE_MINUTES: int = 48 * 60\r\n+    \r\n+    # EMAIL SERVICE\r\n+    SMTP_SERVER: str = \"smtp.gmail.com\"\r\n+    SMTP_PORT: int =  587\r\n+    SMTP_USER: str #= os.getenv(\"SMTP_USER\", \"travel7450@gmail.com\")\r\n+    SMTP_PASSWORD: str #= os.getenv(\"SMTP_PASSWORD\", \"rmcx lfdo olyb dhdm\")\r\n+    \r\n+    # OPENAI SERVICE\r\n+    AI_MODEL_STRONG: str = \"gpt-4o-mini\"\r\n+    AI_MODEL_FAST: str = \"gpt-4.1-nano\"\r\n+\r\n+    DIAGRAM_TEMPERATURE: float = 0.2\r\n+    openai_api_key: str = \"\"\r\n+\r\n+    # ANTHROPIC SERVICE\r\n+    ANTHROPIC_API_KEY: str #= os.getenv(\"ANTHROPIC_API_KEY\", \"your-anthropic-api-key\")\r\n+    # AI_MODEL_NAME: str = \"claude-3-opus-20240229\"\r\n+\r\n+    # SELENIUM\r\n+    # Settings related to the Sequence Diagram Generator\r\n+    SELENIUM_URL: str = \"http://localhost:4444\"  # URL of the Selenium standalone Chrome instance\r\n+    SEQUENCE_DIAGRAM_SITE_URL: str = \"https://sequencediagram.org\"  # URL of sequencediagram.org \r\n+    SELENIUM_TIMEOUT: int = 30  # Timeout in seconds for Selenium operations\r\n+    MAX_DIAGRAM_ITERATIONS: int = 3  # Maximum number of iterations for diagram generation\r\n+    \r\n+    ENVIRONMENT: str = \"development\"  # \"development\", \"staging\", \"production\"\r\n+    ENABLE_MERMAID_CLI_VALIDATION: bool = True\r\n+\r\n+    model_config = {\r\n+        \"env_file\": \".env\",\r\n+        \"extra\": \"ignore\"  # Allow extra fields in environment variables\r\n+    }\r\n+\r\n+@lru_cache()\r\n+def get_settings() -> Settings:\r\n+    return Settings()\r",
      "patch_lines": [
        "@@ -1,67 +1,67 @@\n",
        "-import os\n",
        "-from typing import Optional, Dict, Any, List, Union\n",
        "-from pydantic import AnyHttpUrl, field_validator\n",
        "-from dotenv import load_dotenv\n",
        "-from pydantic_settings import BaseSettings\n",
        "-from functools import lru_cache\n",
        "-\n",
        "-# Load environment variables from .env file\n",
        "-load_dotenv()\n",
        "-class Settings(BaseSettings):\n",
        "-    \"\"\"Application settings.\"\"\"    \n",
        "-\n",
        "-    PROJECT_NAME: str = \"Projectron\"\n",
        "-    API_V1_STR: str = \"/api/endpoints\"\n",
        "-\n",
        "-    FRONTEND_URL: str = os.getenv(\"FRONTEND_URL\", \"http://localhost:3000\")\n",
        "-\n",
        "-    CORS_ORIGINS: List[Union[str, AnyHttpUrl]] = [\n",
        "-        \"http://localhost:3000\",  # Frontend DEV URL\n",
        "-        FRONTEND_URL,  # Frontend URL from environment variable\n",
        "-        \"http://localhost:8000\",  # Backend URL\n",
        "-    ]\n",
        "-\n",
        "-    # MongoDB\n",
        "-    MONGODB_URI: str = os.getenv(\"MONGODB_URI\", \"mongodb://localhost:27017\")\n",
        "-    MONGODB_DB_NAME: str = \"projectron\"\n",
        "-    \n",
        "-    # JWT\n",
        "-    SECRET_KEY: str = os.getenv(\"SECRET_KEY\", \"your-secret-key-for-jwt\")\n",
        "-    ALGORITHM: str = \"HS256\"\n",
        "-    ACCESS_TOKEN_EXPIRE_MINUTES: int = 48 * 60\n",
        "-    \n",
        "-    # EMAIL SERVICE\n",
        "-    SMTP_SERVER: str = os.getenv(\"SMTP_SERVER\", \"smtp.gmail.com\")\n",
        "-    SMTP_PORT: int = int(os.getenv(\"SMTP_PORT\", 587))\n",
        "-    SMTP_USER: str = os.getenv(\"SMTP_USER\", \"travel7450@gmail.com\")\n",
        "-    SMTP_PASSWORD: str = os.getenv(\"SMTP_PASSWORD\", \"rmcx lfdo olyb dhdm\")\n",
        "-    \n",
        "-    # OPENAI SERVICE\n",
        "-    AI_MODEL_STRONG: str = \"gpt-4.1-mini\"\n",
        "-    AI_MODEL_FAST: str = \"gpt-4.1-nano\"\n",
        "-\n",
        "-    DIAGRAM_TEMPERATURE: float = 0.2\n",
        "-    openai_api_key: str = \"\"\n",
        "-\n",
        "-    # ANTHROPIC SERVICE\n",
        "-    ANTHROPIC_API_KEY: str = os.getenv(\"ANTHROPIC_API_KEY\", \"your-anthropic-api-key\")\n",
        "-    # AI_MODEL_NAME: str = \"claude-3-opus-20240229\"\n",
        "-\n",
        "-    # SELENIUM\n",
        "-    # Settings related to the Sequence Diagram Generator\n",
        "-    SELENIUM_URL: str = \"http://localhost:4444\"  # URL of the Selenium standalone Chrome instance\n",
        "-    SEQUENCE_DIAGRAM_SITE_URL: str = \"https://sequencediagram.org\"  # URL of sequencediagram.org \n",
        "-    SELENIUM_TIMEOUT: int = 30  # Timeout in seconds for Selenium operations\n",
        "-    MAX_DIAGRAM_ITERATIONS: int = 3  # Maximum number of iterations for diagram generation\n",
        "-    \n",
        "-    ENVIRONMENT: str = \"development\"  # \"development\", \"staging\", \"production\"\n",
        "-    ENABLE_MERMAID_CLI_VALIDATION: bool = True\n",
        "-\n",
        "-    model_config = {\n",
        "-        \"env_file\": \".env\",\n",
        "-        \"extra\": \"ignore\"  # Allow extra fields in environment variables\n",
        "-    }\n",
        "-\n",
        "-@lru_cache()\n",
        "-def get_settings() -> Settings:\n",
        "-    return Settings()\n",
        "+import os\r\n",
        "+from typing import Optional, Dict, Any, List, Union\r\n",
        "+from pydantic import AnyHttpUrl, field_validator\r\n",
        "+from dotenv import load_dotenv\r\n",
        "+from pydantic_settings import BaseSettings\r\n",
        "+from functools import lru_cache\r\n",
        "+\r\n",
        "+# Load environment variables from .env file\r\n",
        "+load_dotenv()\r\n",
        "+class Settings(BaseSettings):\r\n",
        "+    \"\"\"Application settings.\"\"\"    \r\n",
        "+\r\n",
        "+    PROJECT_NAME: str = \"Projectron\"\r\n",
        "+    API_V1_STR: str = \"/api/endpoints\"\r\n",
        "+\r\n",
        "+    FRONTEND_URL: str = \"http://localhost:3000\" #os.getenv(\"FRONTEND_URL\", \"http://localhost:3000\")\r\n",
        "+\r\n",
        "+    CORS_ORIGINS: List[Union[str, AnyHttpUrl]] = [\r\n",
        "+        \"http://localhost:3000\",  # Frontend DEV URL\r\n",
        "+        FRONTEND_URL,  # Frontend URL from environment variable\r\n",
        "+        \"http://localhost:8000\",  # Backend URL\r\n",
        "+    ]\r\n",
        "+\r\n",
        "+    # MongoDB\r\n",
        "+    MONGODB_URI: str #= os.getenv(\"MONGODB_URI\", \"mongodb://localhost:27017\")\r\n",
        "+    MONGODB_DB_NAME: str = \"projectron\"\r\n",
        "+    \r\n",
        "+    # JWT\r\n",
        "+    SECRET_KEY: str #= os.getenv(\"SECRET_KEY\", \"your-secret-key-for-jwt\")\r\n",
        "+    ALGORITHM: str = \"HS256\"\r\n",
        "+    ACCESS_TOKEN_EXPIRE_MINUTES: int = 48 * 60\r\n",
        "+    \r\n",
        "+    # EMAIL SERVICE\r\n",
        "+    SMTP_SERVER: str = \"smtp.gmail.com\"\r\n",
        "+    SMTP_PORT: int =  587\r\n",
        "+    SMTP_USER: str #= os.getenv(\"SMTP_USER\", \"travel7450@gmail.com\")\r\n",
        "+    SMTP_PASSWORD: str #= os.getenv(\"SMTP_PASSWORD\", \"rmcx lfdo olyb dhdm\")\r\n",
        "+    \r\n",
        "+    # OPENAI SERVICE\r\n",
        "+    AI_MODEL_STRONG: str = \"gpt-4o-mini\"\r\n",
        "+    AI_MODEL_FAST: str = \"gpt-4.1-nano\"\r\n",
        "+\r\n",
        "+    DIAGRAM_TEMPERATURE: float = 0.2\r\n",
        "+    openai_api_key: str = \"\"\r\n",
        "+\r\n",
        "+    # ANTHROPIC SERVICE\r\n",
        "+    ANTHROPIC_API_KEY: str #= os.getenv(\"ANTHROPIC_API_KEY\", \"your-anthropic-api-key\")\r\n",
        "+    # AI_MODEL_NAME: str = \"claude-3-opus-20240229\"\r\n",
        "+\r\n",
        "+    # SELENIUM\r\n",
        "+    # Settings related to the Sequence Diagram Generator\r\n",
        "+    SELENIUM_URL: str = \"http://localhost:4444\"  # URL of the Selenium standalone Chrome instance\r\n",
        "+    SEQUENCE_DIAGRAM_SITE_URL: str = \"https://sequencediagram.org\"  # URL of sequencediagram.org \r\n",
        "+    SELENIUM_TIMEOUT: int = 30  # Timeout in seconds for Selenium operations\r\n",
        "+    MAX_DIAGRAM_ITERATIONS: int = 3  # Maximum number of iterations for diagram generation\r\n",
        "+    \r\n",
        "+    ENVIRONMENT: str = \"development\"  # \"development\", \"staging\", \"production\"\r\n",
        "+    ENABLE_MERMAID_CLI_VALIDATION: bool = True\r\n",
        "+\r\n",
        "+    model_config = {\r\n",
        "+        \"env_file\": \".env\",\r\n",
        "+        \"extra\": \"ignore\"  # Allow extra fields in environment variables\r\n",
        "+    }\r\n",
        "+\r\n",
        "+@lru_cache()\r\n",
        "+def get_settings() -> Settings:\r\n",
        "+    return Settings()\r\n"
      ]
    },
    {
      "path": "backend/app/db/models/__init__.py",
      "status": "modified",
      "additions": 6,
      "deletions": 6,
      "patch": "@@ -1,7 +1,7 @@\n-from .auth import User\n-from .project import Project\n-\n-__all__ = [\n-    'User', \n-    'Project'\n+from .auth import User\r\n+from .project import Project\r\n+\r\n+__all__ = [\r\n+    'User', \r\n+    'Project'\r\n ]\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,7 +1,7 @@\n",
        "-from .auth import User\n",
        "-from .project import Project\n",
        "-\n",
        "-__all__ = [\n",
        "-    'User', \n",
        "-    'Project'\n",
        "+from .auth import User\r\n",
        "+from .project import Project\r\n",
        "+\r\n",
        "+__all__ = [\r\n",
        "+    'User', \r\n",
        "+    'Project'\r\n",
        " ]\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "backend/app/db/models/project.py",
      "status": "modified",
      "additions": 45,
      "deletions": 45,
      "patch": "@@ -1,45 +1,45 @@\n-from mongoengine import (\n-    Document, StringField, DateTimeField, ReferenceField, ListField,\n-    DictField, IntField, CASCADE, NULLIFY\n-)\n-from datetime import datetime, timezone\n-from .auth import User\n-\n-\n-class Project(Document):\n-    name              = StringField(required=True)\n-    description       = StringField(default=\"\")\n-    tech_stack        = ListField(StringField(), default=[])\n-    experience_level  = StringField(choices=(\"junior\", \"mid\", \"senior\"), default=\"junior\")\n-    team_size         = IntField(min_value=1, default=1)\n-    status            = StringField(choices=(\"draft\", \"active\", \"completed\"), default=\"draft\")\n-\n-    owner_id          = ReferenceField(User, required=True, reverse_delete_rule=CASCADE)\n-    collaborator_ids  = ListField(ReferenceField(User))\n-\n-    # plan & diagrams\n-    implementation_plan  = DictField(default={})\n-    high_level_plan      = DictField(default={})\n-    technical_architecture = DictField(default={})\n-    api_endpoints          = DictField(default={})\n-    data_models            = DictField(default={})\n-    ui_components          = DictField(default={})\n-    class_diagram_json   = DictField(default={})\n-    class_diagram_svg    = StringField(default=\"\")\n-    activity_diagram_json= DictField(default={})\n-    activity_diagram_svg = StringField(default=\"\")\n-    sequence_diagram_source_code = StringField(default=\"\")\n-    sequence_diagram_svg         = StringField(default=\"\")\n-\n-    created_at         = DateTimeField(default=lambda: datetime.now(tz=timezone.utc))\n-    updated_at         = DateTimeField(default=lambda: datetime.now(tz=timezone.utc))\n-    extra_meta         = DictField(default={})                   \n-\n-    meta = {\n-        \"collection\": \"projects\",\n-        \"indexes\": [\n-            {\"fields\": [\"owner_id\", \"name\"], \"unique\": True}\n-        ]\n-    }\n-\n-\n+from mongoengine import (\r\n+    Document, StringField, DateTimeField, ReferenceField, ListField,\r\n+    DictField, IntField, CASCADE, NULLIFY\r\n+)\r\n+from datetime import datetime, timezone\r\n+from .auth import User\r\n+\r\n+\r\n+class Project(Document):\r\n+    name              = StringField(required=True)\r\n+    description       = StringField(default=\"\")\r\n+    tech_stack        = ListField(StringField(), default=[])\r\n+    experience_level  = StringField(choices=(\"junior\", \"mid\", \"senior\"), default=\"junior\")\r\n+    team_size         = IntField(min_value=1, default=1)\r\n+    status            = StringField(choices=(\"draft\", \"active\", \"completed\"), default=\"draft\")\r\n+\r\n+    owner_id          = ReferenceField(User, required=True, reverse_delete_rule=CASCADE)\r\n+    collaborator_ids  = ListField(ReferenceField(User))\r\n+\r\n+    # plan & diagrams\r\n+    implementation_plan  = DictField(default={})\r\n+    high_level_plan      = DictField(default={})\r\n+    technical_architecture = DictField(default={})\r\n+    api_endpoints          = DictField(default={})\r\n+    data_models            = DictField(default={})\r\n+    ui_components          = DictField(default={})\r\n+    class_diagram_json   = DictField(default={})\r\n+    class_diagram_svg    = StringField(default=\"\")\r\n+    activity_diagram_json= DictField(default={})\r\n+    activity_diagram_svg = StringField(default=\"\")\r\n+    sequence_diagram_source_code = StringField(default=\"\")\r\n+    sequence_diagram_svg         = StringField(default=\"\")\r\n+\r\n+    created_at         = DateTimeField(default=lambda: datetime.now(tz=timezone.utc))\r\n+    updated_at         = DateTimeField(default=lambda: datetime.now(tz=timezone.utc))\r\n+    extra_meta         = DictField(default={})                   \r\n+\r\n+    meta = {\r\n+        \"collection\": \"projects\",\r\n+        \"indexes\": [\r\n+            {\"fields\": [\"owner_id\", \"name\"], \"unique\": True}\r\n+        ]\r\n+    }\r\n+\r\n+\r",
      "patch_lines": [
        "@@ -1,45 +1,45 @@\n",
        "-from mongoengine import (\n",
        "-    Document, StringField, DateTimeField, ReferenceField, ListField,\n",
        "-    DictField, IntField, CASCADE, NULLIFY\n",
        "-)\n",
        "-from datetime import datetime, timezone\n",
        "-from .auth import User\n",
        "-\n",
        "-\n",
        "-class Project(Document):\n",
        "-    name              = StringField(required=True)\n",
        "-    description       = StringField(default=\"\")\n",
        "-    tech_stack        = ListField(StringField(), default=[])\n",
        "-    experience_level  = StringField(choices=(\"junior\", \"mid\", \"senior\"), default=\"junior\")\n",
        "-    team_size         = IntField(min_value=1, default=1)\n",
        "-    status            = StringField(choices=(\"draft\", \"active\", \"completed\"), default=\"draft\")\n",
        "-\n",
        "-    owner_id          = ReferenceField(User, required=True, reverse_delete_rule=CASCADE)\n",
        "-    collaborator_ids  = ListField(ReferenceField(User))\n",
        "-\n",
        "-    # plan & diagrams\n",
        "-    implementation_plan  = DictField(default={})\n",
        "-    high_level_plan      = DictField(default={})\n",
        "-    technical_architecture = DictField(default={})\n",
        "-    api_endpoints          = DictField(default={})\n",
        "-    data_models            = DictField(default={})\n",
        "-    ui_components          = DictField(default={})\n",
        "-    class_diagram_json   = DictField(default={})\n",
        "-    class_diagram_svg    = StringField(default=\"\")\n",
        "-    activity_diagram_json= DictField(default={})\n",
        "-    activity_diagram_svg = StringField(default=\"\")\n",
        "-    sequence_diagram_source_code = StringField(default=\"\")\n",
        "-    sequence_diagram_svg         = StringField(default=\"\")\n",
        "-\n",
        "-    created_at         = DateTimeField(default=lambda: datetime.now(tz=timezone.utc))\n",
        "-    updated_at         = DateTimeField(default=lambda: datetime.now(tz=timezone.utc))\n",
        "-    extra_meta         = DictField(default={})                   \n",
        "-\n",
        "-    meta = {\n",
        "-        \"collection\": \"projects\",\n",
        "-        \"indexes\": [\n",
        "-            {\"fields\": [\"owner_id\", \"name\"], \"unique\": True}\n",
        "-        ]\n",
        "-    }\n",
        "-\n",
        "-\n",
        "+from mongoengine import (\r\n",
        "+    Document, StringField, DateTimeField, ReferenceField, ListField,\r\n",
        "+    DictField, IntField, CASCADE, NULLIFY\r\n",
        "+)\r\n",
        "+from datetime import datetime, timezone\r\n",
        "+from .auth import User\r\n",
        "+\r\n",
        "+\r\n",
        "+class Project(Document):\r\n",
        "+    name              = StringField(required=True)\r\n",
        "+    description       = StringField(default=\"\")\r\n",
        "+    tech_stack        = ListField(StringField(), default=[])\r\n",
        "+    experience_level  = StringField(choices=(\"junior\", \"mid\", \"senior\"), default=\"junior\")\r\n",
        "+    team_size         = IntField(min_value=1, default=1)\r\n",
        "+    status            = StringField(choices=(\"draft\", \"active\", \"completed\"), default=\"draft\")\r\n",
        "+\r\n",
        "+    owner_id          = ReferenceField(User, required=True, reverse_delete_rule=CASCADE)\r\n",
        "+    collaborator_ids  = ListField(ReferenceField(User))\r\n",
        "+\r\n",
        "+    # plan & diagrams\r\n",
        "+    implementation_plan  = DictField(default={})\r\n",
        "+    high_level_plan      = DictField(default={})\r\n",
        "+    technical_architecture = DictField(default={})\r\n",
        "+    api_endpoints          = DictField(default={})\r\n",
        "+    data_models            = DictField(default={})\r\n",
        "+    ui_components          = DictField(default={})\r\n",
        "+    class_diagram_json   = DictField(default={})\r\n",
        "+    class_diagram_svg    = StringField(default=\"\")\r\n",
        "+    activity_diagram_json= DictField(default={})\r\n",
        "+    activity_diagram_svg = StringField(default=\"\")\r\n",
        "+    sequence_diagram_source_code = StringField(default=\"\")\r\n",
        "+    sequence_diagram_svg         = StringField(default=\"\")\r\n",
        "+\r\n",
        "+    created_at         = DateTimeField(default=lambda: datetime.now(tz=timezone.utc))\r\n",
        "+    updated_at         = DateTimeField(default=lambda: datetime.now(tz=timezone.utc))\r\n",
        "+    extra_meta         = DictField(default={})                   \r\n",
        "+\r\n",
        "+    meta = {\r\n",
        "+        \"collection\": \"projects\",\r\n",
        "+        \"indexes\": [\r\n",
        "+            {\"fields\": [\"owner_id\", \"name\"], \"unique\": True}\r\n",
        "+        ]\r\n",
        "+    }\r\n",
        "+\r\n",
        "+\r\n"
      ]
    },
    {
      "path": "backend/app/pydantic_models/ai_plan_models.py",
      "status": "modified",
      "additions": 296,
      "deletions": 198,
      "patch": "@@ -1,198 +1,296 @@\n-from typing import List, Dict, Any, Optional, Union\n-from pydantic import BaseModel, Field\n-\n-# High-Level Plan Models\n-class Risk(BaseModel):\n-    description: str\n-    impact: str\n-    mitigation: str\n-\n-class TargetUser(BaseModel):\n-    type: str\n-    needs: List[str]\n-    pain_points: List[str]\n-\n-class Scope(BaseModel):\n-    in_scope: List[str]\n-    out_of_scope: List[str]\n-\n-class HighLevelPlan(BaseModel):\n-    name: str\n-    description: str\n-    vision: str\n-    business_objectives: List[str]\n-    target_users: List[TargetUser]\n-    core_features: List[str]\n-    scope: Scope\n-    success_criteria: List[str]\n-    constraints: List[str]\n-    assumptions: List[str]\n-    risks: List[Risk]\n-    tech_stack: List[str]\n-    status: str = \"draft\"\n-\n-# Technical Architecture Models\n-class SystemComponent(BaseModel):\n-    name: str\n-    type: str\n-    description: str\n-    technologies: List[str]\n-    responsibilities: List[str]\n-\n-class CommunicationPattern(BaseModel):\n-    source: str\n-    target: str\n-    protocol: str\n-    pattern: str\n-    description: str\n-\n-class ArchitecturePattern(BaseModel):\n-    name: str\n-    description: str\n-\n-class Infrastructure(BaseModel):\n-    hosting: str\n-    services: List[str]\n-    ci_cd: str\n-\n-class TechnicalArchitecture(BaseModel):\n-    architecture_overview: str\n-    architecture_diagram_description: str\n-    system_components: List[SystemComponent]\n-    communication_patterns: List[CommunicationPattern]\n-    architecture_patterns: List[ArchitecturePattern]\n-    infrastructure: Infrastructure\n-\n-# API Endpoints Models\n-class QueryParam(BaseModel):\n-    name: str\n-    type: str\n-    required: bool\n-    description: str\n-\n-class RequestBody(BaseModel):\n-    type: str\n-    schema_data: Dict[str, Any]\n-\n-class Request(BaseModel):\n-    query_params: Optional[List[QueryParam]] = Field(default_factory=list)\n-    body: Optional[RequestBody] = None\n-\n-class ResponseError(BaseModel):\n-    status: int\n-    description: str\n-\n-class ResponseSuccess(BaseModel):\n-    status: int\n-    content_type: str\n-    schema_data: Dict[str, Any]\n-\n-class Response(BaseModel):\n-    success: ResponseSuccess\n-    errors: List[ResponseError]\n-\n-class Endpoint(BaseModel):\n-    name: str\n-    method: str\n-    path: str\n-    description: str\n-    authentication_required: bool\n-    request: Request\n-    response: Response\n-\n-class Resource(BaseModel):\n-    name: str\n-    description: str\n-    endpoints: List[Endpoint]\n-\n-class Authentication(BaseModel):\n-    type: str\n-    description: str\n-\n-class APIEndpoints(BaseModel):\n-    api_design_principles: List[str]\n-    base_url: str\n-    authentication: Authentication\n-    resources: List[Resource]\n-\n-# Data Models Models\n-class Property(BaseModel):\n-    name: str\n-    type: str\n-    description: str\n-    required: bool\n-\n-class Entity(BaseModel):\n-    name: str\n-    description: str\n-    properties: List[Property]\n-\n-class Relationship(BaseModel):\n-    source_entity: str\n-    target_entity: str\n-    type: str\n-    description: str\n-\n-class DataModels(BaseModel):\n-    entities: List[Entity]\n-    relationships: List[Relationship]\n-\n-# UI Components Models\n-class Component(BaseModel):\n-    name: str\n-    type: str\n-    description: str\n-    functionality: str\n-    api_endpoints: List[str]\n-    data_displayed: List[str]\n-\n-class Screen(BaseModel):\n-    name: str\n-    description: str\n-    route: str\n-    user_types: List[str]\n-    components: List[Component]\n-\n-class UIComponents(BaseModel):\n-    screens: List[Screen]\n-\n-# Detailed Implementation Plan Models\n-class Subtask(BaseModel):\n-    name: str\n-    status: str = \"not_started\"\n-    description: str\n-\n-class Task(BaseModel):\n-    name: str\n-    description: str\n-    status: str = \"not_started\"\n-    priority: str\n-    estimated_hours: int = Field(..., ge=1, le=300)\n-    dependencies: List[str] = Field(default_factory=list)\n-    components_affected: List[str] = Field(default_factory=list)\n-    apis_affected: List[str] = Field(default_factory=list)\n-    subtasks: List[Subtask]\n-\n-class Milestone(BaseModel):\n-    name: str\n-    description: str\n-    status: str = \"not_started\"\n-    due_date_offset: int\n-    tasks: List[Task]\n-\n-class DetailedImplementationPlan(BaseModel):\n-    milestones: List[Milestone]\n-\n-# Comprehensive Project Plan Model\n-class ComprehensiveProjectPlan(BaseModel):\n-    name: str\n-    description: str\n-    status: str = \"draft\"\n-    tech_stack: List[str]\n-    experience_level: str\n-    high_level_plan: Dict[str, Any]\n-    technical_architecture: Dict[str, Any]\n-    api_endpoints: Dict[str, Any]\n-    data_models: Dict[str, Any]\n-    ui_components: Dict[str, Any]\n-    implementation_plan: Dict[str, Any]\n\\ No newline at end of file\n+from typing import List, Dict, Any, Optional, Union\r\n+from pydantic import BaseModel, Field\r\n+\r\n+class ClarificationQuestions(BaseModel):\r\n+    questions: List[str]\r\n+    \r\n+# High-Level Plan Models\r\n+class Risk(BaseModel):\r\n+    description: str\r\n+    impact: str\r\n+    mitigation: str\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class TargetUser(BaseModel):\r\n+    type: str\r\n+    needs: List[str]\r\n+    pain_points: List[str]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class Scope(BaseModel):\r\n+    in_scope: List[str]\r\n+    out_of_scope: List[str]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class HighLevelPlan(BaseModel):\r\n+    name: str\r\n+    description: str\r\n+    vision: str\r\n+    business_objectives: List[str]\r\n+    target_users: List[TargetUser]\r\n+    core_features: List[str]\r\n+    scope: Scope\r\n+    success_criteria: List[str]\r\n+    constraints: List[str]\r\n+    assumptions: List[str]\r\n+    risks: List[Risk]\r\n+    tech_stack: List[str]\r\n+    status: str\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+# Technical Architecture Models\r\n+class SystemComponent(BaseModel):\r\n+    name: str\r\n+    type: str\r\n+    description: str\r\n+    technologies: List[str]\r\n+    responsibilities: List[str]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class CommunicationPattern(BaseModel):\r\n+    source: str\r\n+    target: str\r\n+    protocol: str\r\n+    pattern: str\r\n+    description: str\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class ArchitecturePattern(BaseModel):\r\n+    name: str\r\n+    description: str\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class Infrastructure(BaseModel):\r\n+    hosting: str\r\n+    services: List[str]\r\n+    ci_cd: str\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class TechnicalArchitecture(BaseModel):\r\n+    architecture_overview: str\r\n+    architecture_diagram_description: str\r\n+    system_components: List[SystemComponent]\r\n+    communication_patterns: List[CommunicationPattern]\r\n+    architecture_patterns: List[ArchitecturePattern]\r\n+    infrastructure: Infrastructure\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+# API Endpoints Models\r\n+class QueryParam(BaseModel):\r\n+    name: str\r\n+    type: str\r\n+    required: bool\r\n+    description: str\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class JSONSchemaObject(BaseModel):\r\n+    \"\"\"Holds an arbitrary JSON schema definition.\"\"\"\r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class RequestBody(BaseModel):\r\n+    type: str\r\n+    schema_data: JSONSchemaObject\r\n+\r\n+\r\n+class Request(BaseModel):\r\n+    query_params: Optional[List[QueryParam]] = Field(default_factory=list)\r\n+    body: Optional[RequestBody]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class ResponseError(BaseModel):\r\n+    status: int\r\n+    description: str\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+\r\n+class ResponseSuccess(BaseModel):\r\n+    status: int\r\n+    content_type: str\r\n+    schema_data: JSONSchemaObject     \r\n+\r\n+\r\n+class Response(BaseModel):\r\n+    success: ResponseSuccess\r\n+    errors: List[ResponseError]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class Endpoint(BaseModel):\r\n+    name: str\r\n+    method: str\r\n+    path: str\r\n+    description: str\r\n+    authentication_required: bool\r\n+    request: Request\r\n+    response: Response\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class Resource(BaseModel):\r\n+    name: str\r\n+    description: str\r\n+    endpoints: List[Endpoint]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class Authentication(BaseModel):\r\n+    type: str\r\n+    description: str\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class APIEndpoints(BaseModel):\r\n+    api_design_principles: List[str]\r\n+    base_url: str\r\n+    authentication: Authentication\r\n+    resources: List[Resource]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+# Data Models Models\r\n+class Property(BaseModel):\r\n+    name: str\r\n+    type: str\r\n+    description: str\r\n+    required: bool\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class Entity(BaseModel):\r\n+    name: str\r\n+    description: str\r\n+    properties: List[Property]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class Relationship(BaseModel):\r\n+    source_entity: str\r\n+    target_entity: str\r\n+    type: str\r\n+    description: str\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class DataModels(BaseModel):\r\n+    entities: List[Entity]\r\n+    relationships: List[Relationship]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+# UI Components Models\r\n+class Component(BaseModel):\r\n+    name: str\r\n+    type: str\r\n+    description: str\r\n+    functionality: str\r\n+    api_endpoints: List[str]\r\n+    data_displayed: List[str]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class Screen(BaseModel):\r\n+    name: str\r\n+    description: str\r\n+    route: str\r\n+    user_types: List[str]\r\n+    components: List[Component]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class UIComponents(BaseModel):\r\n+    screens: List[Screen]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+# Detailed Implementation Plan Models\r\n+class Subtask(BaseModel):\r\n+    name: str\r\n+    status: str\r\n+    description: str\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class Task(BaseModel):\r\n+    name: str\r\n+    description: str\r\n+    status: str\r\n+    priority: str\r\n+    estimated_hours: int\r\n+    dependencies: List[str] = Field(default_factory=list)\r\n+    components_affected: List[str] = Field(default_factory=list)\r\n+    apis_affected: List[str] = Field(default_factory=list)\r\n+    subtasks: List[Subtask]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class Milestone(BaseModel):\r\n+    name: str\r\n+    description: str\r\n+    status: str\r\n+    due_date_offset: int\r\n+    tasks: List[Task]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+class DetailedImplementationPlan(BaseModel):\r\n+    milestones: List[Milestone]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\r\n+\r\n+# Comprehensive Project Plan Model\r\n+class ComprehensiveProjectPlan(BaseModel):\r\n+    name: str\r\n+    description: str\r\n+    status: str\r\n+    tech_stack: List[str]\r\n+    experience_level: str\r\n+    high_level_plan: Dict[str, Any]\r\n+    technical_architecture: Dict[str, Any]\r\n+    api_endpoints: Dict[str, Any]\r\n+    data_models: Dict[str, Any]\r\n+    ui_components: Dict[str, Any]\r\n+    implementation_plan: Dict[str, Any]\r\n+    \r\n+    class Config:\r\n+        extra = \"forbid\"\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,198 +1,296 @@\n",
        "-from typing import List, Dict, Any, Optional, Union\n",
        "-from pydantic import BaseModel, Field\n",
        "-\n",
        "-# High-Level Plan Models\n",
        "-class Risk(BaseModel):\n",
        "-    description: str\n",
        "-    impact: str\n",
        "-    mitigation: str\n",
        "-\n",
        "-class TargetUser(BaseModel):\n",
        "-    type: str\n",
        "-    needs: List[str]\n",
        "-    pain_points: List[str]\n",
        "-\n",
        "-class Scope(BaseModel):\n",
        "-    in_scope: List[str]\n",
        "-    out_of_scope: List[str]\n",
        "-\n",
        "-class HighLevelPlan(BaseModel):\n",
        "-    name: str\n",
        "-    description: str\n",
        "-    vision: str\n",
        "-    business_objectives: List[str]\n",
        "-    target_users: List[TargetUser]\n",
        "-    core_features: List[str]\n",
        "-    scope: Scope\n",
        "-    success_criteria: List[str]\n",
        "-    constraints: List[str]\n",
        "-    assumptions: List[str]\n",
        "-    risks: List[Risk]\n",
        "-    tech_stack: List[str]\n",
        "-    status: str = \"draft\"\n",
        "-\n",
        "-# Technical Architecture Models\n",
        "-class SystemComponent(BaseModel):\n",
        "-    name: str\n",
        "-    type: str\n",
        "-    description: str\n",
        "-    technologies: List[str]\n",
        "-    responsibilities: List[str]\n",
        "-\n",
        "-class CommunicationPattern(BaseModel):\n",
        "-    source: str\n",
        "-    target: str\n",
        "-    protocol: str\n",
        "-    pattern: str\n",
        "-    description: str\n",
        "-\n",
        "-class ArchitecturePattern(BaseModel):\n",
        "-    name: str\n",
        "-    description: str\n",
        "-\n",
        "-class Infrastructure(BaseModel):\n",
        "-    hosting: str\n",
        "-    services: List[str]\n",
        "-    ci_cd: str\n",
        "-\n",
        "-class TechnicalArchitecture(BaseModel):\n",
        "-    architecture_overview: str\n",
        "-    architecture_diagram_description: str\n",
        "-    system_components: List[SystemComponent]\n",
        "-    communication_patterns: List[CommunicationPattern]\n",
        "-    architecture_patterns: List[ArchitecturePattern]\n",
        "-    infrastructure: Infrastructure\n",
        "-\n",
        "-# API Endpoints Models\n",
        "-class QueryParam(BaseModel):\n",
        "-    name: str\n",
        "-    type: str\n",
        "-    required: bool\n",
        "-    description: str\n",
        "-\n",
        "-class RequestBody(BaseModel):\n",
        "-    type: str\n",
        "-    schema_data: Dict[str, Any]\n",
        "-\n",
        "-class Request(BaseModel):\n",
        "-    query_params: Optional[List[QueryParam]] = Field(default_factory=list)\n",
        "-    body: Optional[RequestBody] = None\n",
        "-\n",
        "-class ResponseError(BaseModel):\n",
        "-    status: int\n",
        "-    description: str\n",
        "-\n",
        "-class ResponseSuccess(BaseModel):\n",
        "-    status: int\n",
        "-    content_type: str\n",
        "-    schema_data: Dict[str, Any]\n",
        "-\n",
        "-class Response(BaseModel):\n",
        "-    success: ResponseSuccess\n",
        "-    errors: List[ResponseError]\n",
        "-\n",
        "-class Endpoint(BaseModel):\n",
        "-    name: str\n",
        "-    method: str\n",
        "-    path: str\n",
        "-    description: str\n",
        "-    authentication_required: bool\n",
        "-    request: Request\n",
        "-    response: Response\n",
        "-\n",
        "-class Resource(BaseModel):\n",
        "-    name: str\n",
        "-    description: str\n",
        "-    endpoints: List[Endpoint]\n",
        "-\n",
        "-class Authentication(BaseModel):\n",
        "-    type: str\n",
        "-    description: str\n",
        "-\n",
        "-class APIEndpoints(BaseModel):\n",
        "-    api_design_principles: List[str]\n",
        "-    base_url: str\n",
        "-    authentication: Authentication\n",
        "-    resources: List[Resource]\n",
        "-\n",
        "-# Data Models Models\n",
        "-class Property(BaseModel):\n",
        "-    name: str\n",
        "-    type: str\n",
        "-    description: str\n",
        "-    required: bool\n",
        "-\n",
        "-class Entity(BaseModel):\n",
        "-    name: str\n",
        "-    description: str\n",
        "-    properties: List[Property]\n",
        "-\n",
        "-class Relationship(BaseModel):\n",
        "-    source_entity: str\n",
        "-    target_entity: str\n",
        "-    type: str\n",
        "-    description: str\n",
        "-\n",
        "-class DataModels(BaseModel):\n",
        "-    entities: List[Entity]\n",
        "-    relationships: List[Relationship]\n",
        "-\n",
        "-# UI Components Models\n",
        "-class Component(BaseModel):\n",
        "-    name: str\n",
        "-    type: str\n",
        "-    description: str\n",
        "-    functionality: str\n",
        "-    api_endpoints: List[str]\n",
        "-    data_displayed: List[str]\n",
        "-\n",
        "-class Screen(BaseModel):\n",
        "-    name: str\n",
        "-    description: str\n",
        "-    route: str\n",
        "-    user_types: List[str]\n",
        "-    components: List[Component]\n",
        "-\n",
        "-class UIComponents(BaseModel):\n",
        "-    screens: List[Screen]\n",
        "-\n",
        "-# Detailed Implementation Plan Models\n",
        "-class Subtask(BaseModel):\n",
        "-    name: str\n",
        "-    status: str = \"not_started\"\n",
        "-    description: str\n",
        "-\n",
        "-class Task(BaseModel):\n",
        "-    name: str\n",
        "-    description: str\n",
        "-    status: str = \"not_started\"\n",
        "-    priority: str\n",
        "-    estimated_hours: int = Field(..., ge=1, le=300)\n",
        "-    dependencies: List[str] = Field(default_factory=list)\n",
        "-    components_affected: List[str] = Field(default_factory=list)\n",
        "-    apis_affected: List[str] = Field(default_factory=list)\n",
        "-    subtasks: List[Subtask]\n",
        "-\n",
        "-class Milestone(BaseModel):\n",
        "-    name: str\n",
        "-    description: str\n",
        "-    status: str = \"not_started\"\n",
        "-    due_date_offset: int\n",
        "-    tasks: List[Task]\n",
        "-\n",
        "-class DetailedImplementationPlan(BaseModel):\n",
        "-    milestones: List[Milestone]\n",
        "-\n",
        "-# Comprehensive Project Plan Model\n",
        "-class ComprehensiveProjectPlan(BaseModel):\n",
        "-    name: str\n",
        "-    description: str\n",
        "-    status: str = \"draft\"\n",
        "-    tech_stack: List[str]\n",
        "-    experience_level: str\n",
        "-    high_level_plan: Dict[str, Any]\n",
        "-    technical_architecture: Dict[str, Any]\n",
        "-    api_endpoints: Dict[str, Any]\n",
        "-    data_models: Dict[str, Any]\n",
        "-    ui_components: Dict[str, Any]\n",
        "-    implementation_plan: Dict[str, Any]\n",
        "\\ No newline at end of file\n",
        "+from typing import List, Dict, Any, Optional, Union\r\n",
        "+from pydantic import BaseModel, Field\r\n",
        "+\r\n",
        "+class ClarificationQuestions(BaseModel):\r\n",
        "+    questions: List[str]\r\n",
        "+    \r\n",
        "+# High-Level Plan Models\r\n",
        "+class Risk(BaseModel):\r\n",
        "+    description: str\r\n",
        "+    impact: str\r\n",
        "+    mitigation: str\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class TargetUser(BaseModel):\r\n",
        "+    type: str\r\n",
        "+    needs: List[str]\r\n",
        "+    pain_points: List[str]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class Scope(BaseModel):\r\n",
        "+    in_scope: List[str]\r\n",
        "+    out_of_scope: List[str]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class HighLevelPlan(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    description: str\r\n",
        "+    vision: str\r\n",
        "+    business_objectives: List[str]\r\n",
        "+    target_users: List[TargetUser]\r\n",
        "+    core_features: List[str]\r\n",
        "+    scope: Scope\r\n",
        "+    success_criteria: List[str]\r\n",
        "+    constraints: List[str]\r\n",
        "+    assumptions: List[str]\r\n",
        "+    risks: List[Risk]\r\n",
        "+    tech_stack: List[str]\r\n",
        "+    status: str\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+# Technical Architecture Models\r\n",
        "+class SystemComponent(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    type: str\r\n",
        "+    description: str\r\n",
        "+    technologies: List[str]\r\n",
        "+    responsibilities: List[str]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class CommunicationPattern(BaseModel):\r\n",
        "+    source: str\r\n",
        "+    target: str\r\n",
        "+    protocol: str\r\n",
        "+    pattern: str\r\n",
        "+    description: str\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class ArchitecturePattern(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    description: str\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class Infrastructure(BaseModel):\r\n",
        "+    hosting: str\r\n",
        "+    services: List[str]\r\n",
        "+    ci_cd: str\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class TechnicalArchitecture(BaseModel):\r\n",
        "+    architecture_overview: str\r\n",
        "+    architecture_diagram_description: str\r\n",
        "+    system_components: List[SystemComponent]\r\n",
        "+    communication_patterns: List[CommunicationPattern]\r\n",
        "+    architecture_patterns: List[ArchitecturePattern]\r\n",
        "+    infrastructure: Infrastructure\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+# API Endpoints Models\r\n",
        "+class QueryParam(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    type: str\r\n",
        "+    required: bool\r\n",
        "+    description: str\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class JSONSchemaObject(BaseModel):\r\n",
        "+    \"\"\"Holds an arbitrary JSON schema definition.\"\"\"\r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class RequestBody(BaseModel):\r\n",
        "+    type: str\r\n",
        "+    schema_data: JSONSchemaObject\r\n",
        "+\r\n",
        "+\r\n",
        "+class Request(BaseModel):\r\n",
        "+    query_params: Optional[List[QueryParam]] = Field(default_factory=list)\r\n",
        "+    body: Optional[RequestBody]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class ResponseError(BaseModel):\r\n",
        "+    status: int\r\n",
        "+    description: str\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+\r\n",
        "+class ResponseSuccess(BaseModel):\r\n",
        "+    status: int\r\n",
        "+    content_type: str\r\n",
        "+    schema_data: JSONSchemaObject     \r\n",
        "+\r\n",
        "+\r\n",
        "+class Response(BaseModel):\r\n",
        "+    success: ResponseSuccess\r\n",
        "+    errors: List[ResponseError]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class Endpoint(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    method: str\r\n",
        "+    path: str\r\n",
        "+    description: str\r\n",
        "+    authentication_required: bool\r\n",
        "+    request: Request\r\n",
        "+    response: Response\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class Resource(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    description: str\r\n",
        "+    endpoints: List[Endpoint]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class Authentication(BaseModel):\r\n",
        "+    type: str\r\n",
        "+    description: str\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class APIEndpoints(BaseModel):\r\n",
        "+    api_design_principles: List[str]\r\n",
        "+    base_url: str\r\n",
        "+    authentication: Authentication\r\n",
        "+    resources: List[Resource]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+# Data Models Models\r\n",
        "+class Property(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    type: str\r\n",
        "+    description: str\r\n",
        "+    required: bool\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class Entity(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    description: str\r\n",
        "+    properties: List[Property]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class Relationship(BaseModel):\r\n",
        "+    source_entity: str\r\n",
        "+    target_entity: str\r\n",
        "+    type: str\r\n",
        "+    description: str\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class DataModels(BaseModel):\r\n",
        "+    entities: List[Entity]\r\n",
        "+    relationships: List[Relationship]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+# UI Components Models\r\n",
        "+class Component(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    type: str\r\n",
        "+    description: str\r\n",
        "+    functionality: str\r\n",
        "+    api_endpoints: List[str]\r\n",
        "+    data_displayed: List[str]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class Screen(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    description: str\r\n",
        "+    route: str\r\n",
        "+    user_types: List[str]\r\n",
        "+    components: List[Component]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class UIComponents(BaseModel):\r\n",
        "+    screens: List[Screen]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+# Detailed Implementation Plan Models\r\n",
        "+class Subtask(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    status: str\r\n",
        "+    description: str\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class Task(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    description: str\r\n",
        "+    status: str\r\n",
        "+    priority: str\r\n",
        "+    estimated_hours: int\r\n",
        "+    dependencies: List[str] = Field(default_factory=list)\r\n",
        "+    components_affected: List[str] = Field(default_factory=list)\r\n",
        "+    apis_affected: List[str] = Field(default_factory=list)\r\n",
        "+    subtasks: List[Subtask]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class Milestone(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    description: str\r\n",
        "+    status: str\r\n",
        "+    due_date_offset: int\r\n",
        "+    tasks: List[Task]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+class DetailedImplementationPlan(BaseModel):\r\n",
        "+    milestones: List[Milestone]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\r\n",
        "+\r\n",
        "+# Comprehensive Project Plan Model\r\n",
        "+class ComprehensiveProjectPlan(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    description: str\r\n",
        "+    status: str\r\n",
        "+    tech_stack: List[str]\r\n",
        "+    experience_level: str\r\n",
        "+    high_level_plan: Dict[str, Any]\r\n",
        "+    technical_architecture: Dict[str, Any]\r\n",
        "+    api_endpoints: Dict[str, Any]\r\n",
        "+    data_models: Dict[str, Any]\r\n",
        "+    ui_components: Dict[str, Any]\r\n",
        "+    implementation_plan: Dict[str, Any]\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        extra = \"forbid\"\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "backend/app/pydantic_models/project_http_models.py",
      "status": "modified",
      "additions": 52,
      "deletions": 52,
      "patch": "@@ -1,52 +1,52 @@\n-from datetime import datetime\n-from enum import Enum\n-from typing import Any, Dict, List, Optional, Union\n-from bson import ObjectId\n-from pydantic import BaseModel, Field\n-\n-\n-class ClarificationResponse(BaseModel):\n-    questions: List[str]\n-\n-class TimeScale(str, Enum):\n-    SMALL = \"small\"    # < 40 hours\n-    MEDIUM = \"medium\"  # 40-100 hours\n-    LARGE = \"large\"    # 100-300 hours\n-    CUSTOM = \"custom\"  # User-defined\n-\n-class PlanGenerationInput(BaseModel):\n-    name: str\n-    description: str\n-    tech_stack: List[str] = []\n-    experience_level: str = \"junior\" # e.g., \"junior\", \"mid\", \"senior\"\n-    team_size: int = 1\n-    time_scale: TimeScale = TimeScale.MEDIUM  # Default to medium\n-    custom_hours: Optional[int] = Field(None, ge=1, le=1000)\n-\n-    @property\n-    def total_hours(self) -> int:\n-        \"\"\"Calculate the total hours based on time scale or custom hours\"\"\"\n-        hours_map = {\n-            TimeScale.SMALL: 40,\n-            TimeScale.MEDIUM: 100,\n-            TimeScale.LARGE: 300,\n-        }\n-        \n-        if self.time_scale == TimeScale.CUSTOM:\n-            return self.custom_hours or 100  # Fallback if somehow None\n-        \n-        return hours_map.get(self.time_scale, 100)\n-\n-class PlanGeneratioResponse(BaseModel):\n-    structured_plan: Dict[str, Any]\n-    project_id: str\n-    \n-    class Config:\n-        json_encoders = {\n-            ObjectId: str\n-        }\n-\n-class PlanRefinementInput(BaseModel):\n-    project_id: str\n-    feedback: str\n-\n+from datetime import datetime\r\n+from enum import Enum\r\n+from typing import Any, Dict, List, Optional, Union\r\n+from bson import ObjectId\r\n+from pydantic import BaseModel, Field\r\n+\r\n+\r\n+class ClarificationResponse(BaseModel):\r\n+    questions: List[str]\r\n+\r\n+class TimeScale(str, Enum):\r\n+    SMALL = \"small\"    # < 40 hours\r\n+    MEDIUM = \"medium\"  # 40-100 hours\r\n+    LARGE = \"large\"    # 100-300 hours\r\n+    CUSTOM = \"custom\"  # User-defined\r\n+\r\n+class PlanGenerationInput(BaseModel):\r\n+    name: str\r\n+    description: str\r\n+    tech_stack: List[str] = []\r\n+    experience_level: str = \"junior\" # e.g., \"junior\", \"mid\", \"senior\"\r\n+    team_size: int = 1\r\n+    time_scale: TimeScale = TimeScale.MEDIUM  # Default to medium\r\n+    custom_hours: Optional[int] = Field(None, ge=1, le=1000)\r\n+\r\n+    @property\r\n+    def total_hours(self) -> int:\r\n+        \"\"\"Calculate the total hours based on time scale or custom hours\"\"\"\r\n+        hours_map = {\r\n+            TimeScale.SMALL: 40,\r\n+            TimeScale.MEDIUM: 100,\r\n+            TimeScale.LARGE: 300,\r\n+        }\r\n+        \r\n+        if self.time_scale == TimeScale.CUSTOM:\r\n+            return self.custom_hours or 100  # Fallback if somehow None\r\n+        \r\n+        return hours_map.get(self.time_scale, 100)\r\n+\r\n+class PlanGeneratioResponse(BaseModel):\r\n+    structured_plan: Dict[str, Any]\r\n+    project_id: str\r\n+    \r\n+    class Config:\r\n+        json_encoders = {\r\n+            ObjectId: str\r\n+        }\r\n+\r\n+class PlanRefinementInput(BaseModel):\r\n+    project_id: str\r\n+    feedback: str\r\n+\r",
      "patch_lines": [
        "@@ -1,52 +1,52 @@\n",
        "-from datetime import datetime\n",
        "-from enum import Enum\n",
        "-from typing import Any, Dict, List, Optional, Union\n",
        "-from bson import ObjectId\n",
        "-from pydantic import BaseModel, Field\n",
        "-\n",
        "-\n",
        "-class ClarificationResponse(BaseModel):\n",
        "-    questions: List[str]\n",
        "-\n",
        "-class TimeScale(str, Enum):\n",
        "-    SMALL = \"small\"    # < 40 hours\n",
        "-    MEDIUM = \"medium\"  # 40-100 hours\n",
        "-    LARGE = \"large\"    # 100-300 hours\n",
        "-    CUSTOM = \"custom\"  # User-defined\n",
        "-\n",
        "-class PlanGenerationInput(BaseModel):\n",
        "-    name: str\n",
        "-    description: str\n",
        "-    tech_stack: List[str] = []\n",
        "-    experience_level: str = \"junior\" # e.g., \"junior\", \"mid\", \"senior\"\n",
        "-    team_size: int = 1\n",
        "-    time_scale: TimeScale = TimeScale.MEDIUM  # Default to medium\n",
        "-    custom_hours: Optional[int] = Field(None, ge=1, le=1000)\n",
        "-\n",
        "-    @property\n",
        "-    def total_hours(self) -> int:\n",
        "-        \"\"\"Calculate the total hours based on time scale or custom hours\"\"\"\n",
        "-        hours_map = {\n",
        "-            TimeScale.SMALL: 40,\n",
        "-            TimeScale.MEDIUM: 100,\n",
        "-            TimeScale.LARGE: 300,\n",
        "-        }\n",
        "-        \n",
        "-        if self.time_scale == TimeScale.CUSTOM:\n",
        "-            return self.custom_hours or 100  # Fallback if somehow None\n",
        "-        \n",
        "-        return hours_map.get(self.time_scale, 100)\n",
        "-\n",
        "-class PlanGeneratioResponse(BaseModel):\n",
        "-    structured_plan: Dict[str, Any]\n",
        "-    project_id: str\n",
        "-    \n",
        "-    class Config:\n",
        "-        json_encoders = {\n",
        "-            ObjectId: str\n",
        "-        }\n",
        "-\n",
        "-class PlanRefinementInput(BaseModel):\n",
        "-    project_id: str\n",
        "-    feedback: str\n",
        "-\n",
        "+from datetime import datetime\r\n",
        "+from enum import Enum\r\n",
        "+from typing import Any, Dict, List, Optional, Union\r\n",
        "+from bson import ObjectId\r\n",
        "+from pydantic import BaseModel, Field\r\n",
        "+\r\n",
        "+\r\n",
        "+class ClarificationResponse(BaseModel):\r\n",
        "+    questions: List[str]\r\n",
        "+\r\n",
        "+class TimeScale(str, Enum):\r\n",
        "+    SMALL = \"small\"    # < 40 hours\r\n",
        "+    MEDIUM = \"medium\"  # 40-100 hours\r\n",
        "+    LARGE = \"large\"    # 100-300 hours\r\n",
        "+    CUSTOM = \"custom\"  # User-defined\r\n",
        "+\r\n",
        "+class PlanGenerationInput(BaseModel):\r\n",
        "+    name: str\r\n",
        "+    description: str\r\n",
        "+    tech_stack: List[str] = []\r\n",
        "+    experience_level: str = \"junior\" # e.g., \"junior\", \"mid\", \"senior\"\r\n",
        "+    team_size: int = 1\r\n",
        "+    time_scale: TimeScale = TimeScale.MEDIUM  # Default to medium\r\n",
        "+    custom_hours: Optional[int] = Field(None, ge=1, le=1000)\r\n",
        "+\r\n",
        "+    @property\r\n",
        "+    def total_hours(self) -> int:\r\n",
        "+        \"\"\"Calculate the total hours based on time scale or custom hours\"\"\"\r\n",
        "+        hours_map = {\r\n",
        "+            TimeScale.SMALL: 40,\r\n",
        "+            TimeScale.MEDIUM: 100,\r\n",
        "+            TimeScale.LARGE: 300,\r\n",
        "+        }\r\n",
        "+        \r\n",
        "+        if self.time_scale == TimeScale.CUSTOM:\r\n",
        "+            return self.custom_hours or 100  # Fallback if somehow None\r\n",
        "+        \r\n",
        "+        return hours_map.get(self.time_scale, 100)\r\n",
        "+\r\n",
        "+class PlanGeneratioResponse(BaseModel):\r\n",
        "+    structured_plan: Dict[str, Any]\r\n",
        "+    project_id: str\r\n",
        "+    \r\n",
        "+    class Config:\r\n",
        "+        json_encoders = {\r\n",
        "+            ObjectId: str\r\n",
        "+        }\r\n",
        "+\r\n",
        "+class PlanRefinementInput(BaseModel):\r\n",
        "+    project_id: str\r\n",
        "+    feedback: str\r\n",
        "+\r\n"
      ]
    },
    {
      "path": "backend/app/services/ai/__init__.py",
      "status": "modified",
      "additions": 0,
      "deletions": 3,
      "patch": "@@ -1,3 +0,0 @@\n-from .project_ai_service import ProjectAIService\n-\n-__all__ = [\"ProjectAIService\"]\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,3 +0,0 @@\n",
        "-from .project_ai_service import ProjectAIService\n",
        "-\n",
        "-__all__ = [\"ProjectAIService\"]\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "backend/app/services/ai/__pycache__/__init__.cpython-312.pyc",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "backend/app/services/ai/__pycache__/project_ai_service.cpython-312.pyc",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "backend/app/services/ai/ai_plan_service.py",
      "status": "added",
      "additions": 448,
      "deletions": 0,
      "patch": "@@ -0,0 +1,448 @@\n+\n+from typing import Any, Dict, List, TypedDict\n+from app.core.config import get_settings\n+from app.pydantic_models.ai_plan_models import APIEndpoints, ClarificationQuestions, DataModels, DetailedImplementationPlan, HighLevelPlan, TechnicalArchitecture, UIComponents\n+from app.pydantic_models.project_http_models import PlanGenerationInput\n+from app.services.ai.ai_utils import create_llm\n+from app.services.ai.plan_prompts_copy import (\n+    CLARIFICATION_QUESTIONS_PROMPT,\n+    HIGH_LEVEL_PLAN_PROMPT,\n+    TECHNICAL_ARCHITECTURE_PROMPT,\n+    API_ENDPOINTS_PROMPT,\n+    DATA_MODELS_PROMPT,\n+    UI_COMPONENTS_PROMPT,\n+    DETAILED_IMPLEMENTATION_PLAN_PROMPT,\n+)\n+from langgraph.graph import StateGraph, END, START\n+from langgraph.checkpoint.memory import InMemorySaver\n+\n+from app.utils.timing import timed\n+\n+settings = get_settings()\n+\n+class PlanState(TypedDict):\n+    name: str\n+    description: str\n+    status: str\n+    clarification_qa: Dict[str, str]\n+    tech_stack: List[str]\n+    experience_level: str\n+    total_hours: int\n+    team_size: int\n+    high_level_plan: HighLevelPlan\n+    technical_architecture: TechnicalArchitecture\n+    api_endpoints: APIEndpoints\n+    data_models: DataModels\n+    ui_components: UIComponents\n+    implementation_plan:DetailedImplementationPlan\n+\n+llm_4o_mini = create_llm(temperature=0.1, json_mode=True, model=\"gpt-4o-mini\")\n+llm_41_mini = create_llm(temperature=0.1, json_mode=True, model=\"gpt-4.1-mini\")\n+llm_41_nano = create_llm(temperature=0.1, json_mode=True, model=\"gpt-4.1-nano\")\n+\n+\n+async def generate_clarifying_questions(project_info: PlanGenerationInput) -> Dict[str, str]:\n+    \"\"\"\n+    Generate clarification questions based on the project description.\n+    \"\"\"\n+    prompt = CLARIFICATION_QUESTIONS_PROMPT.format(\n+        name=project_info.name,\n+        project_description=project_info.description,\n+        tech_stack=project_info.tech_stack,\n+        experience_level=project_info.experience_level,\n+        total_hours=project_info.total_hours,\n+        team_size=project_info.team_size\n+    )\n+    \n+    result = await llm_41_nano.with_structured_output(ClarificationQuestions).ainvoke(prompt)\n+    \n+    return result.model_dump()\n+\n+@timed \n+async def generate_plan(clarification_qa: Dict[str, str], project_info: PlanGenerationInput, user_id:str) -> Dict[str, Any]:\n+    \"\"\"\n+    Generate a complete project plan based on the description and answers to clarification questions.\n+    \"\"\"\n+    # Create the graph\n+    graph = create_graph()\n+    clarification_qa_str = \"\\n\".join([\n+        f\"Q: {q}\\nA: {a}\" for q, a in clarification_qa.items()\n+        ])\n+    \n+    config = {\n+        \"configurable\": {\n+        \"thread_id\": user_id\n+        }\n+    }\n+    # Set the initial state\n+    state = {\n+        \"name\": project_info.name,\n+        \"description\": project_info.description,\n+        \"status\": \"draft\",\n+        \"clarification_qa\": clarification_qa_str,\n+        \"tech_stack\": project_info.tech_stack,\n+        \"experience_level\": project_info.experience_level,\n+        \"total_hours\": project_info.total_hours,\n+        \"team_size\": project_info.team_size,\n+        \"high_level_plan\": {},\n+        \"technical_architecture\": {},\n+        \"api_endpoints\": {},\n+        \"data_models\": {},\n+        \"ui_components\": {},\n+        \"implementation_plan\": {}\n+    }\n+    \n+    # Run the graph\n+    result = await graph.ainvoke(state, config=config)\n+\n+    result = {\n+        \"name\": result[\"name\"],\n+        \"description\": result[\"description\"],\n+        \"status\": result[\"status\"],\n+        \"clarification_qa\": result[\"clarification_qa\"],\n+        \"tech_stack\": result[\"tech_stack\"],\n+        \"experience_level\": result[\"experience_level\"],\n+        \"total_hours\": result[\"total_hours\"],\n+        \"team_size\": result[\"team_size\"],\n+        \"high_level_plan\": result[\"high_level_plan\"].model_dump() if hasattr(result[\"high_level_plan\"], \"model_dump\") else result[\"high_level_plan\"],\n+        \"technical_architecture\": result[\"technical_architecture\"].model_dump() if hasattr(result[\"technical_architecture\"], \"model_dump\") else result[\"technical_architecture\"],\n+        \"api_endpoints\": result[\"api_endpoints\"].model_dump() if hasattr(result[\"api_endpoints\"], \"model_dump\") else result[\"api_endpoints\"],\n+        \"data_models\": result[\"data_models\"].model_dump() if hasattr(result[\"data_models\"], \"model_dump\") else result[\"data_models\"],\n+        \"ui_components\": result[\"ui_components\"].model_dump() if hasattr(result[\"ui_components\"], \"model_dump\") else result[\"ui_components\"],\n+        \"implementation_plan\": result[\"implementation_plan\"].model_dump() if hasattr(result[\"implementation_plan\"], \"model_dump\") else result[\"implementation_plan\"]\n+    }\n+    \n+    return result\n+\n+def create_graph():\n+    \"\"\"\n+    Create a new graph for the project.\n+    \"\"\"\n+        \n+    checkpointer = InMemorySaver()\n+    graph = StateGraph(PlanState)\n+    \n+    # Define constants for node names to avoid string mismatches\n+    HIGH_LEVEL = \"high_level_node\"\n+    ARCHITECTURE = \"architecture_node\"\n+    ENDPOINTS = \"endpoints_node\"\n+    MODELS = \"models_node\"\n+    COMPONENTS = \"components_node\"\n+    IMPLEMENTATION = \"implementation_node\"\n+    \n+    # Nodes with consistent naming\n+    graph.add_node(HIGH_LEVEL, generate_high_level_plan)\n+    graph.add_node(ARCHITECTURE, generate_technical_architecture)\n+    graph.add_node(ENDPOINTS, generate_api_endpoints)\n+    graph.add_node(MODELS, generate_data_models)\n+    graph.add_node(COMPONENTS, generate_ui_components)\n+    graph.add_node(IMPLEMENTATION, generate_implementation_plan)\n+\n+    # Edges using the same node name constants\n+    graph.add_edge(START, HIGH_LEVEL)\n+    graph.add_edge(HIGH_LEVEL, ARCHITECTURE)\n+    graph.add_edge(ARCHITECTURE, ENDPOINTS)\n+    graph.add_edge(ENDPOINTS, MODELS)\n+    graph.add_edge(MODELS, COMPONENTS)\n+    graph.add_edge(COMPONENTS, IMPLEMENTATION)\n+    graph.add_edge(IMPLEMENTATION, END)\n+\n+    return graph.compile(checkpointer=checkpointer)\n+\n+\n+async def generate_high_level_plan(state:PlanState):\n+    \"\"\"\n+    Generate a high-level plan for the project.\n+    \"\"\"\n+    print(\"Generating high-level plan...\")\n+    # Calculate extended hours (1.5x) here\n+    extended_hours = int(state[\"total_hours\"] * 1.5)\n+    \n+    prompt = HIGH_LEVEL_PLAN_PROMPT.format(\n+        project_name=state[\"name\"],\n+        project_description=state[\"description\"],\n+        experience_level=state[\"experience_level\"],\n+        team_size=state[\"team_size\"], \n+        tech_stack=state[\"tech_stack\"],\n+        total_hours=state[\"total_hours\"],\n+        extended_hours=extended_hours,\n+        clarification_qa=state[\"clarification_qa\"]\n+    )\n+\n+    result = await execute_with_fallbacks(primary_llm=llm_4o_mini,\n+                                    fallback_llms=[llm_41_nano, llm_41_mini],\n+                                   structured_output_type=HighLevelPlan,\n+                                   prompt=prompt)\n+\n+    return { \"high_level_plan\" : result }    \n+    \n+async def generate_technical_architecture(state: PlanState):\n+    \"\"\"\n+    Generate the technical architecture for the project.\n+    \"\"\"\n+    print(\"Generating technical architecture...\")\n+    # Calculate extended hours (1.5x)\n+    extended_hours = int(state[\"total_hours\"] * 1.5)\n+    \n+    # Extract high-level plan information to avoid dictionary access in the template\n+    high_level_plan = state[\"high_level_plan\"]\n+    vision = high_level_plan.vision\n+    business_objectives = \", \".join(high_level_plan.business_objectives)\n+    core_features = \", \".join(high_level_plan.core_features)\n+    scope_in = \", \".join(high_level_plan.scope.in_scope)\n+    scope_out = \", \".join(high_level_plan.scope.out_of_scope)\n+    scope = f\"In scope: {scope_in}. Out of scope: {scope_out}\"\n+    constraints = \", \".join(high_level_plan.constraints)\n+    \n+    prompt = TECHNICAL_ARCHITECTURE_PROMPT.format(\n+        project_name=state[\"name\"],\n+        project_description=state[\"description\"],\n+        experience_level=state[\"experience_level\"],\n+        team_size=state[\"team_size\"], \n+        tech_stack=state[\"tech_stack\"],\n+        total_hours=state[\"total_hours\"],\n+        extended_hours=extended_hours,\n+        vision=vision,\n+        business_objectives=business_objectives,\n+        core_features=core_features,\n+        scope=scope,\n+        constraints=constraints\n+    )\n+\n+    result = await execute_with_fallbacks(primary_llm=llm_4o_mini,\n+                                    fallback_llms=[llm_41_nano, llm_41_mini],\n+                                   structured_output_type=TechnicalArchitecture,\n+                                   prompt=prompt)\n+    \n+    return { \"technical_architecture\" : result }\n+    \n+async def generate_api_endpoints(state: PlanState):\n+    \"\"\"\n+    Generate the API endpoints for the project.\n+    \"\"\"\n+    print(\"Generating API endpoints...\")\n+    # Calculate extended hours (1.5x)\n+    extended_hours = int(state[\"total_hours\"] * 1.5)\n+    \n+    # Extract high-level plan information\n+    high_level_plan = state[\"high_level_plan\"]\n+    core_features = \", \".join(high_level_plan.core_features)\n+    \n+    # Format target users\n+    target_users = []\n+    for user in high_level_plan.target_users:\n+        user_str = f\"{user.type} (Needs: {', '.join(user.needs)}; Pain points: {', '.join(user.pain_points)})\"\n+        target_users.append(user_str)\n+    target_users_str = \"; \".join(target_users)\n+    \n+    business_objectives = \", \".join(high_level_plan.business_objectives)\n+    scope_in = \", \".join(high_level_plan.scope.in_scope)\n+    scope_out = \", \".join(high_level_plan.scope.out_of_scope)\n+    scope = f\"In scope: {scope_in}. Out of scope: {scope_out}\"\n+    \n+    # Extract technical architecture information\n+    tech_arch = state[\"technical_architecture\"]\n+    architecture_overview = tech_arch.architecture_overview\n+    \n+    # Format system components\n+    system_components = []\n+    for comp in tech_arch.system_components:\n+        comp_str = f\"{comp.name} ({comp.type}): {comp.description}\"\n+        system_components.append(comp_str)\n+    system_components_str = \"; \".join(system_components)\n+    \n+    # Format communication patterns\n+    comm_patterns = []\n+    for pattern in tech_arch.communication_patterns:\n+        pattern_str = f\"{pattern.source} to {pattern.target} via {pattern.protocol} ({pattern.pattern})\"\n+        comm_patterns.append(pattern_str)\n+    comm_patterns_str = \"; \".join(comm_patterns)\n+    \n+    # Format architecture patterns\n+    arch_patterns = []\n+    for pattern in tech_arch.architecture_patterns:\n+        pattern_str = f\"{pattern.name}: {pattern.description}\"\n+        arch_patterns.append(pattern_str)\n+    arch_patterns_str = \"; \".join(arch_patterns)\n+    \n+    prompt = API_ENDPOINTS_PROMPT.format(\n+        project_name=state[\"name\"],\n+        project_description=state[\"description\"],\n+        tech_stack=state[\"tech_stack\"],\n+        total_hours=state[\"total_hours\"],\n+        extended_hours=extended_hours,\n+        core_features=core_features,\n+        target_users=target_users_str,\n+        business_objectives=business_objectives,\n+        scope=scope,\n+        architecture_overview=architecture_overview,\n+        system_components=system_components_str,\n+        communication_patterns=comm_patterns_str,\n+        architecture_patterns=arch_patterns_str\n+    )\n+    result = await execute_with_fallbacks(primary_llm=llm_41_mini,\n+                                    fallback_llms=[llm_41_nano, llm_4o_mini],\n+                                   structured_output_type=APIEndpoints,\n+                                   prompt=prompt)\n+    \n+    return { \"api_endpoints\" : result }\n+    \n+async def generate_data_models(state: PlanState):\n+    \"\"\"\n+    Generate the data models for the project.\n+    \"\"\"\n+    print(\"Generating data models...\")\n+    # Calculate extended hours (1.5x)\n+    extended_hours = int(state[\"total_hours\"] * 1.5)\n+    \n+    # Extract API resources\n+    api_endpoints = state[\"api_endpoints\"]\n+    resource_names = [r.name for r in api_endpoints.resources]\n+    resources_str = \", \".join(resource_names)\n+    auth_type = api_endpoints.authentication.type\n+    \n+    prompt = DATA_MODELS_PROMPT.format(\n+        project_name=state[\"name\"],\n+        project_description=state[\"description\"],\n+        tech_stack=state[\"tech_stack\"],\n+        total_hours=state[\"total_hours\"],\n+        extended_hours=extended_hours,\n+        resources=resources_str,\n+        authentication=auth_type\n+    )\n+    \n+    result = await execute_with_fallbacks(primary_llm=llm_4o_mini,\n+                                    fallback_llms=[llm_41_nano, llm_41_mini],\n+                                   structured_output_type=DataModels,\n+                                   prompt=prompt)\n+    \n+    return { \"data_models\" : result }\n+    \n+async def generate_ui_components(state: PlanState):\n+    \"\"\"\n+    Generate the UI components for the project.\n+    \"\"\"\n+    print(\"Generating UI components...\")\n+    # Calculate extended hours (1.5x)\n+    extended_hours = int(state[\"total_hours\"] * 1.5)\n+    \n+    # Extract high-level plan information\n+    high_level_plan = state[\"high_level_plan\"]\n+    core_features = \", \".join(high_level_plan.core_features)\n+    \n+    # Format target users\n+    target_users = []\n+    for user in high_level_plan.target_users:\n+        user_str = f\"{user.type} (Needs: {', '.join(user.needs)}; Pain points: {', '.join(user.pain_points)})\"\n+        target_users.append(user_str)\n+    target_users_str = \"; \".join(target_users)\n+    \n+    # Extract frontend components from technical architecture\n+    tech_arch = state[\"technical_architecture\"]\n+    frontend_components = []\n+    for comp in tech_arch.system_components:\n+        if any(keyword in comp.name.lower() for keyword in [\"frontend\", \"ui\", \"client\"]):\n+            comp_str = f\"{comp.name}: {comp.description} (Technologies: {', '.join(comp.technologies)})\"\n+            frontend_components.append(comp_str)\n+    frontend_components_str = \"; \".join(frontend_components) if frontend_components else \"No specific frontend components defined\"\n+    \n+    # Extract API resources\n+    api_resources = [r.name for r in state[\"api_endpoints\"].resources]\n+    api_resources_str = \", \".join(api_resources)\n+    \n+    # Extract data entities\n+    data_entities = [e.name for e in state[\"data_models\"].entities]\n+    data_entities_str = \", \".join(data_entities)\n+    \n+    prompt = UI_COMPONENTS_PROMPT.format(\n+        project_name=state[\"name\"],\n+        project_description=state[\"description\"],\n+        tech_stack=state[\"tech_stack\"],\n+        total_hours=state[\"total_hours\"],\n+        extended_hours=extended_hours,\n+        core_features=core_features,\n+        target_users=target_users_str,\n+        frontend_components=frontend_components_str,\n+        api_resources=api_resources_str,\n+        data_entities=data_entities_str\n+    )\n+    result = await execute_with_fallbacks(primary_llm=llm_41_mini,\n+                                    fallback_llms=[llm_41_nano, llm_4o_mini],\n+                                   structured_output_type=UIComponents,\n+                                   prompt=prompt)\n+    \n+    return { \"ui_components\" : result }\n+    \n+async def generate_implementation_plan(state: PlanState):\n+    \"\"\"\n+    Generate the detailed implementation plan for the project.\n+    \"\"\"\n+    print(\"Generating detailed implementation plan...\")\n+    # Calculate extended hours (1.5x)\n+    extended_hours = int(state[\"total_hours\"] * 1.5)\n+    \n+    # Extract system components\n+    tech_arch = state[\"technical_architecture\"]\n+    system_components = [c.name for c in tech_arch.system_components]\n+    system_components_str = \", \".join(system_components)\n+    \n+    # Extract API resources\n+    api_resources = [r.name for r in state[\"api_endpoints\"].resources]\n+    api_resources_str = \", \".join(api_resources)\n+    \n+    # Extract data entities\n+    data_entities = [e.name for e in state[\"data_models\"].entities]\n+    data_entities_str = \", \".join(data_entities)\n+    \n+    # Extract UI screens\n+    ui_screens = [s.name for s in state[\"ui_components\"].screens]\n+    ui_screens_str = \", \".join(ui_screens)\n+    \n+    prompt = DETAILED_IMPLEMENTATION_PLAN_PROMPT.format(\n+        project_name=state[\"name\"],\n+        project_description=state[\"description\"],\n+        tech_stack=state[\"tech_stack\"],\n+        total_hours=state[\"total_hours\"],\n+        extended_hours=extended_hours,\n+        system_components=system_components_str,\n+        api_resources=api_resources_str,\n+        data_entities=data_entities_str,\n+        ui_screens=ui_screens_str\n+    )\n+\n+    result = await execute_with_fallbacks(primary_llm=llm_41_mini,\n+                                    fallback_llms=[llm_41_nano, llm_4o_mini],\n+                                   structured_output_type=DetailedImplementationPlan,\n+                                   prompt=prompt)\n+    \n+    return { \"implementation_plan\" : result }\n+   \n+async def execute_with_fallbacks(primary_llm, fallback_llms, structured_output_type, prompt):\n+    \"\"\"\n+    Try to execute with primary LLM, fall back to others if it fails.\n+    \n+    Args:\n+        primary_llm: The primary LLM to try first\n+        fallback_llms: List of fallback LLMs to try in order\n+        structured_output_type: Pydantic model for structured output\n+        prompt: The formatted prompt to send\n+        \n+    Returns:\n+        The result from the first successful LLM\n+    \"\"\"\n+    try:\n+        return await primary_llm.with_structured_output(structured_output_type).ainvoke(prompt)\n+    except Exception as e:\n+        print(f\"Error with primary model: {e}\")\n+        for i, fallback_llm in enumerate(fallback_llms):\n+            try:\n+                print(f\"Trying fallback model {i+1}/{len(fallback_llms)}...\")\n+                return await fallback_llm.with_structured_output(structured_output_type).ainvoke(prompt)\n+            except Exception as e2:\n+                print(f\"Error with fallback model {i+1}: {e2}\")\n+                if i == len(fallback_llms) - 1:\n+                    # This was the last fallback, re-raise the error\n+                    raise\n+        \n+        # We should never reach here but just in case\n+        raise RuntimeError(\"All models failed\")\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -0,0 +1,448 @@\n",
        "+\n",
        "+from typing import Any, Dict, List, TypedDict\n",
        "+from app.core.config import get_settings\n",
        "+from app.pydantic_models.ai_plan_models import APIEndpoints, ClarificationQuestions, DataModels, DetailedImplementationPlan, HighLevelPlan, TechnicalArchitecture, UIComponents\n",
        "+from app.pydantic_models.project_http_models import PlanGenerationInput\n",
        "+from app.services.ai.ai_utils import create_llm\n",
        "+from app.services.ai.plan_prompts_copy import (\n",
        "+    CLARIFICATION_QUESTIONS_PROMPT,\n",
        "+    HIGH_LEVEL_PLAN_PROMPT,\n",
        "+    TECHNICAL_ARCHITECTURE_PROMPT,\n",
        "+    API_ENDPOINTS_PROMPT,\n",
        "+    DATA_MODELS_PROMPT,\n",
        "+    UI_COMPONENTS_PROMPT,\n",
        "+    DETAILED_IMPLEMENTATION_PLAN_PROMPT,\n",
        "+)\n",
        "+from langgraph.graph import StateGraph, END, START\n",
        "+from langgraph.checkpoint.memory import InMemorySaver\n",
        "+\n",
        "+from app.utils.timing import timed\n",
        "+\n",
        "+settings = get_settings()\n",
        "+\n",
        "+class PlanState(TypedDict):\n",
        "+    name: str\n",
        "+    description: str\n",
        "+    status: str\n",
        "+    clarification_qa: Dict[str, str]\n",
        "+    tech_stack: List[str]\n",
        "+    experience_level: str\n",
        "+    total_hours: int\n",
        "+    team_size: int\n",
        "+    high_level_plan: HighLevelPlan\n",
        "+    technical_architecture: TechnicalArchitecture\n",
        "+    api_endpoints: APIEndpoints\n",
        "+    data_models: DataModels\n",
        "+    ui_components: UIComponents\n",
        "+    implementation_plan:DetailedImplementationPlan\n",
        "+\n",
        "+llm_4o_mini = create_llm(temperature=0.1, json_mode=True, model=\"gpt-4o-mini\")\n",
        "+llm_41_mini = create_llm(temperature=0.1, json_mode=True, model=\"gpt-4.1-mini\")\n",
        "+llm_41_nano = create_llm(temperature=0.1, json_mode=True, model=\"gpt-4.1-nano\")\n",
        "+\n",
        "+\n",
        "+async def generate_clarifying_questions(project_info: PlanGenerationInput) -> Dict[str, str]:\n",
        "+    \"\"\"\n",
        "+    Generate clarification questions based on the project description.\n",
        "+    \"\"\"\n",
        "+    prompt = CLARIFICATION_QUESTIONS_PROMPT.format(\n",
        "+        name=project_info.name,\n",
        "+        project_description=project_info.description,\n",
        "+        tech_stack=project_info.tech_stack,\n",
        "+        experience_level=project_info.experience_level,\n",
        "+        total_hours=project_info.total_hours,\n",
        "+        team_size=project_info.team_size\n",
        "+    )\n",
        "+    \n",
        "+    result = await llm_41_nano.with_structured_output(ClarificationQuestions).ainvoke(prompt)\n",
        "+    \n",
        "+    return result.model_dump()\n",
        "+\n",
        "+@timed \n",
        "+async def generate_plan(clarification_qa: Dict[str, str], project_info: PlanGenerationInput, user_id:str) -> Dict[str, Any]:\n",
        "+    \"\"\"\n",
        "+    Generate a complete project plan based on the description and answers to clarification questions.\n",
        "+    \"\"\"\n",
        "+    # Create the graph\n",
        "+    graph = create_graph()\n",
        "+    clarification_qa_str = \"\\n\".join([\n",
        "+        f\"Q: {q}\\nA: {a}\" for q, a in clarification_qa.items()\n",
        "+        ])\n",
        "+    \n",
        "+    config = {\n",
        "+        \"configurable\": {\n",
        "+        \"thread_id\": user_id\n",
        "+        }\n",
        "+    }\n",
        "+    # Set the initial state\n",
        "+    state = {\n",
        "+        \"name\": project_info.name,\n",
        "+        \"description\": project_info.description,\n",
        "+        \"status\": \"draft\",\n",
        "+        \"clarification_qa\": clarification_qa_str,\n",
        "+        \"tech_stack\": project_info.tech_stack,\n",
        "+        \"experience_level\": project_info.experience_level,\n",
        "+        \"total_hours\": project_info.total_hours,\n",
        "+        \"team_size\": project_info.team_size,\n",
        "+        \"high_level_plan\": {},\n",
        "+        \"technical_architecture\": {},\n",
        "+        \"api_endpoints\": {},\n",
        "+        \"data_models\": {},\n",
        "+        \"ui_components\": {},\n",
        "+        \"implementation_plan\": {}\n",
        "+    }\n",
        "+    \n",
        "+    # Run the graph\n",
        "+    result = await graph.ainvoke(state, config=config)\n",
        "+\n",
        "+    result = {\n",
        "+        \"name\": result[\"name\"],\n",
        "+        \"description\": result[\"description\"],\n",
        "+        \"status\": result[\"status\"],\n",
        "+        \"clarification_qa\": result[\"clarification_qa\"],\n",
        "+        \"tech_stack\": result[\"tech_stack\"],\n",
        "+        \"experience_level\": result[\"experience_level\"],\n",
        "+        \"total_hours\": result[\"total_hours\"],\n",
        "+        \"team_size\": result[\"team_size\"],\n",
        "+        \"high_level_plan\": result[\"high_level_plan\"].model_dump() if hasattr(result[\"high_level_plan\"], \"model_dump\") else result[\"high_level_plan\"],\n",
        "+        \"technical_architecture\": result[\"technical_architecture\"].model_dump() if hasattr(result[\"technical_architecture\"], \"model_dump\") else result[\"technical_architecture\"],\n",
        "+        \"api_endpoints\": result[\"api_endpoints\"].model_dump() if hasattr(result[\"api_endpoints\"], \"model_dump\") else result[\"api_endpoints\"],\n",
        "+        \"data_models\": result[\"data_models\"].model_dump() if hasattr(result[\"data_models\"], \"model_dump\") else result[\"data_models\"],\n",
        "+        \"ui_components\": result[\"ui_components\"].model_dump() if hasattr(result[\"ui_components\"], \"model_dump\") else result[\"ui_components\"],\n",
        "+        \"implementation_plan\": result[\"implementation_plan\"].model_dump() if hasattr(result[\"implementation_plan\"], \"model_dump\") else result[\"implementation_plan\"]\n",
        "+    }\n",
        "+    \n",
        "+    return result\n",
        "+\n",
        "+def create_graph():\n",
        "+    \"\"\"\n",
        "+    Create a new graph for the project.\n",
        "+    \"\"\"\n",
        "+        \n",
        "+    checkpointer = InMemorySaver()\n",
        "+    graph = StateGraph(PlanState)\n",
        "+    \n",
        "+    # Define constants for node names to avoid string mismatches\n",
        "+    HIGH_LEVEL = \"high_level_node\"\n",
        "+    ARCHITECTURE = \"architecture_node\"\n",
        "+    ENDPOINTS = \"endpoints_node\"\n",
        "+    MODELS = \"models_node\"\n",
        "+    COMPONENTS = \"components_node\"\n",
        "+    IMPLEMENTATION = \"implementation_node\"\n",
        "+    \n",
        "+    # Nodes with consistent naming\n",
        "+    graph.add_node(HIGH_LEVEL, generate_high_level_plan)\n",
        "+    graph.add_node(ARCHITECTURE, generate_technical_architecture)\n",
        "+    graph.add_node(ENDPOINTS, generate_api_endpoints)\n",
        "+    graph.add_node(MODELS, generate_data_models)\n",
        "+    graph.add_node(COMPONENTS, generate_ui_components)\n",
        "+    graph.add_node(IMPLEMENTATION, generate_implementation_plan)\n",
        "+\n",
        "+    # Edges using the same node name constants\n",
        "+    graph.add_edge(START, HIGH_LEVEL)\n",
        "+    graph.add_edge(HIGH_LEVEL, ARCHITECTURE)\n",
        "+    graph.add_edge(ARCHITECTURE, ENDPOINTS)\n",
        "+    graph.add_edge(ENDPOINTS, MODELS)\n",
        "+    graph.add_edge(MODELS, COMPONENTS)\n",
        "+    graph.add_edge(COMPONENTS, IMPLEMENTATION)\n",
        "+    graph.add_edge(IMPLEMENTATION, END)\n",
        "+\n",
        "+    return graph.compile(checkpointer=checkpointer)\n",
        "+\n",
        "+\n",
        "+async def generate_high_level_plan(state:PlanState):\n",
        "+    \"\"\"\n",
        "+    Generate a high-level plan for the project.\n",
        "+    \"\"\"\n",
        "+    print(\"Generating high-level plan...\")\n",
        "+    # Calculate extended hours (1.5x) here\n",
        "+    extended_hours = int(state[\"total_hours\"] * 1.5)\n",
        "+    \n",
        "+    prompt = HIGH_LEVEL_PLAN_PROMPT.format(\n",
        "+        project_name=state[\"name\"],\n",
        "+        project_description=state[\"description\"],\n",
        "+        experience_level=state[\"experience_level\"],\n",
        "+        team_size=state[\"team_size\"], \n",
        "+        tech_stack=state[\"tech_stack\"],\n",
        "+        total_hours=state[\"total_hours\"],\n",
        "+        extended_hours=extended_hours,\n",
        "+        clarification_qa=state[\"clarification_qa\"]\n",
        "+    )\n",
        "+\n",
        "+    result = await execute_with_fallbacks(primary_llm=llm_4o_mini,\n",
        "+                                    fallback_llms=[llm_41_nano, llm_41_mini],\n",
        "+                                   structured_output_type=HighLevelPlan,\n",
        "+                                   prompt=prompt)\n",
        "+\n",
        "+    return { \"high_level_plan\" : result }    \n",
        "+    \n",
        "+async def generate_technical_architecture(state: PlanState):\n",
        "+    \"\"\"\n",
        "+    Generate the technical architecture for the project.\n",
        "+    \"\"\"\n",
        "+    print(\"Generating technical architecture...\")\n",
        "+    # Calculate extended hours (1.5x)\n",
        "+    extended_hours = int(state[\"total_hours\"] * 1.5)\n",
        "+    \n",
        "+    # Extract high-level plan information to avoid dictionary access in the template\n",
        "+    high_level_plan = state[\"high_level_plan\"]\n",
        "+    vision = high_level_plan.vision\n",
        "+    business_objectives = \", \".join(high_level_plan.business_objectives)\n",
        "+    core_features = \", \".join(high_level_plan.core_features)\n",
        "+    scope_in = \", \".join(high_level_plan.scope.in_scope)\n",
        "+    scope_out = \", \".join(high_level_plan.scope.out_of_scope)\n",
        "+    scope = f\"In scope: {scope_in}. Out of scope: {scope_out}\"\n",
        "+    constraints = \", \".join(high_level_plan.constraints)\n",
        "+    \n",
        "+    prompt = TECHNICAL_ARCHITECTURE_PROMPT.format(\n",
        "+        project_name=state[\"name\"],\n",
        "+        project_description=state[\"description\"],\n",
        "+        experience_level=state[\"experience_level\"],\n",
        "+        team_size=state[\"team_size\"], \n",
        "+        tech_stack=state[\"tech_stack\"],\n",
        "+        total_hours=state[\"total_hours\"],\n",
        "+        extended_hours=extended_hours,\n",
        "+        vision=vision,\n",
        "+        business_objectives=business_objectives,\n",
        "+        core_features=core_features,\n",
        "+        scope=scope,\n",
        "+        constraints=constraints\n",
        "+    )\n",
        "+\n",
        "+    result = await execute_with_fallbacks(primary_llm=llm_4o_mini,\n",
        "+                                    fallback_llms=[llm_41_nano, llm_41_mini],\n",
        "+                                   structured_output_type=TechnicalArchitecture,\n",
        "+                                   prompt=prompt)\n",
        "+    \n",
        "+    return { \"technical_architecture\" : result }\n",
        "+    \n",
        "+async def generate_api_endpoints(state: PlanState):\n",
        "+    \"\"\"\n",
        "+    Generate the API endpoints for the project.\n",
        "+    \"\"\"\n",
        "+    print(\"Generating API endpoints...\")\n",
        "+    # Calculate extended hours (1.5x)\n",
        "+    extended_hours = int(state[\"total_hours\"] * 1.5)\n",
        "+    \n",
        "+    # Extract high-level plan information\n",
        "+    high_level_plan = state[\"high_level_plan\"]\n",
        "+    core_features = \", \".join(high_level_plan.core_features)\n",
        "+    \n",
        "+    # Format target users\n",
        "+    target_users = []\n",
        "+    for user in high_level_plan.target_users:\n",
        "+        user_str = f\"{user.type} (Needs: {', '.join(user.needs)}; Pain points: {', '.join(user.pain_points)})\"\n",
        "+        target_users.append(user_str)\n",
        "+    target_users_str = \"; \".join(target_users)\n",
        "+    \n",
        "+    business_objectives = \", \".join(high_level_plan.business_objectives)\n",
        "+    scope_in = \", \".join(high_level_plan.scope.in_scope)\n",
        "+    scope_out = \", \".join(high_level_plan.scope.out_of_scope)\n",
        "+    scope = f\"In scope: {scope_in}. Out of scope: {scope_out}\"\n",
        "+    \n",
        "+    # Extract technical architecture information\n",
        "+    tech_arch = state[\"technical_architecture\"]\n",
        "+    architecture_overview = tech_arch.architecture_overview\n",
        "+    \n",
        "+    # Format system components\n",
        "+    system_components = []\n",
        "+    for comp in tech_arch.system_components:\n",
        "+        comp_str = f\"{comp.name} ({comp.type}): {comp.description}\"\n",
        "+        system_components.append(comp_str)\n",
        "+    system_components_str = \"; \".join(system_components)\n",
        "+    \n",
        "+    # Format communication patterns\n",
        "+    comm_patterns = []\n",
        "+    for pattern in tech_arch.communication_patterns:\n",
        "+        pattern_str = f\"{pattern.source} to {pattern.target} via {pattern.protocol} ({pattern.pattern})\"\n",
        "+        comm_patterns.append(pattern_str)\n",
        "+    comm_patterns_str = \"; \".join(comm_patterns)\n",
        "+    \n",
        "+    # Format architecture patterns\n",
        "+    arch_patterns = []\n",
        "+    for pattern in tech_arch.architecture_patterns:\n",
        "+        pattern_str = f\"{pattern.name}: {pattern.description}\"\n",
        "+        arch_patterns.append(pattern_str)\n",
        "+    arch_patterns_str = \"; \".join(arch_patterns)\n",
        "+    \n",
        "+    prompt = API_ENDPOINTS_PROMPT.format(\n",
        "+        project_name=state[\"name\"],\n",
        "+        project_description=state[\"description\"],\n",
        "+        tech_stack=state[\"tech_stack\"],\n",
        "+        total_hours=state[\"total_hours\"],\n",
        "+        extended_hours=extended_hours,\n",
        "+        core_features=core_features,\n",
        "+        target_users=target_users_str,\n",
        "+        business_objectives=business_objectives,\n",
        "+        scope=scope,\n",
        "+        architecture_overview=architecture_overview,\n",
        "+        system_components=system_components_str,\n",
        "+        communication_patterns=comm_patterns_str,\n",
        "+        architecture_patterns=arch_patterns_str\n",
        "+    )\n",
        "+    result = await execute_with_fallbacks(primary_llm=llm_41_mini,\n",
        "+                                    fallback_llms=[llm_41_nano, llm_4o_mini],\n",
        "+                                   structured_output_type=APIEndpoints,\n",
        "+                                   prompt=prompt)\n",
        "+    \n",
        "+    return { \"api_endpoints\" : result }\n",
        "+    \n",
        "+async def generate_data_models(state: PlanState):\n",
        "+    \"\"\"\n",
        "+    Generate the data models for the project.\n",
        "+    \"\"\"\n",
        "+    print(\"Generating data models...\")\n",
        "+    # Calculate extended hours (1.5x)\n",
        "+    extended_hours = int(state[\"total_hours\"] * 1.5)\n",
        "+    \n",
        "+    # Extract API resources\n",
        "+    api_endpoints = state[\"api_endpoints\"]\n",
        "+    resource_names = [r.name for r in api_endpoints.resources]\n",
        "+    resources_str = \", \".join(resource_names)\n",
        "+    auth_type = api_endpoints.authentication.type\n",
        "+    \n",
        "+    prompt = DATA_MODELS_PROMPT.format(\n",
        "+        project_name=state[\"name\"],\n",
        "+        project_description=state[\"description\"],\n",
        "+        tech_stack=state[\"tech_stack\"],\n",
        "+        total_hours=state[\"total_hours\"],\n",
        "+        extended_hours=extended_hours,\n",
        "+        resources=resources_str,\n",
        "+        authentication=auth_type\n",
        "+    )\n",
        "+    \n",
        "+    result = await execute_with_fallbacks(primary_llm=llm_4o_mini,\n",
        "+                                    fallback_llms=[llm_41_nano, llm_41_mini],\n",
        "+                                   structured_output_type=DataModels,\n",
        "+                                   prompt=prompt)\n",
        "+    \n",
        "+    return { \"data_models\" : result }\n",
        "+    \n",
        "+async def generate_ui_components(state: PlanState):\n",
        "+    \"\"\"\n",
        "+    Generate the UI components for the project.\n",
        "+    \"\"\"\n",
        "+    print(\"Generating UI components...\")\n",
        "+    # Calculate extended hours (1.5x)\n",
        "+    extended_hours = int(state[\"total_hours\"] * 1.5)\n",
        "+    \n",
        "+    # Extract high-level plan information\n",
        "+    high_level_plan = state[\"high_level_plan\"]\n",
        "+    core_features = \", \".join(high_level_plan.core_features)\n",
        "+    \n",
        "+    # Format target users\n",
        "+    target_users = []\n",
        "+    for user in high_level_plan.target_users:\n",
        "+        user_str = f\"{user.type} (Needs: {', '.join(user.needs)}; Pain points: {', '.join(user.pain_points)})\"\n",
        "+        target_users.append(user_str)\n",
        "+    target_users_str = \"; \".join(target_users)\n",
        "+    \n",
        "+    # Extract frontend components from technical architecture\n",
        "+    tech_arch = state[\"technical_architecture\"]\n",
        "+    frontend_components = []\n",
        "+    for comp in tech_arch.system_components:\n",
        "+        if any(keyword in comp.name.lower() for keyword in [\"frontend\", \"ui\", \"client\"]):\n",
        "+            comp_str = f\"{comp.name}: {comp.description} (Technologies: {', '.join(comp.technologies)})\"\n",
        "+            frontend_components.append(comp_str)\n",
        "+    frontend_components_str = \"; \".join(frontend_components) if frontend_components else \"No specific frontend components defined\"\n",
        "+    \n",
        "+    # Extract API resources\n",
        "+    api_resources = [r.name for r in state[\"api_endpoints\"].resources]\n",
        "+    api_resources_str = \", \".join(api_resources)\n",
        "+    \n",
        "+    # Extract data entities\n",
        "+    data_entities = [e.name for e in state[\"data_models\"].entities]\n",
        "+    data_entities_str = \", \".join(data_entities)\n",
        "+    \n",
        "+    prompt = UI_COMPONENTS_PROMPT.format(\n",
        "+        project_name=state[\"name\"],\n",
        "+        project_description=state[\"description\"],\n",
        "+        tech_stack=state[\"tech_stack\"],\n",
        "+        total_hours=state[\"total_hours\"],\n",
        "+        extended_hours=extended_hours,\n",
        "+        core_features=core_features,\n",
        "+        target_users=target_users_str,\n",
        "+        frontend_components=frontend_components_str,\n",
        "+        api_resources=api_resources_str,\n",
        "+        data_entities=data_entities_str\n",
        "+    )\n",
        "+    result = await execute_with_fallbacks(primary_llm=llm_41_mini,\n",
        "+                                    fallback_llms=[llm_41_nano, llm_4o_mini],\n",
        "+                                   structured_output_type=UIComponents,\n",
        "+                                   prompt=prompt)\n",
        "+    \n",
        "+    return { \"ui_components\" : result }\n",
        "+    \n",
        "+async def generate_implementation_plan(state: PlanState):\n",
        "+    \"\"\"\n",
        "+    Generate the detailed implementation plan for the project.\n",
        "+    \"\"\"\n",
        "+    print(\"Generating detailed implementation plan...\")\n",
        "+    # Calculate extended hours (1.5x)\n",
        "+    extended_hours = int(state[\"total_hours\"] * 1.5)\n",
        "+    \n",
        "+    # Extract system components\n",
        "+    tech_arch = state[\"technical_architecture\"]\n",
        "+    system_components = [c.name for c in tech_arch.system_components]\n",
        "+    system_components_str = \", \".join(system_components)\n",
        "+    \n",
        "+    # Extract API resources\n",
        "+    api_resources = [r.name for r in state[\"api_endpoints\"].resources]\n",
        "+    api_resources_str = \", \".join(api_resources)\n",
        "+    \n",
        "+    # Extract data entities\n",
        "+    data_entities = [e.name for e in state[\"data_models\"].entities]\n",
        "+    data_entities_str = \", \".join(data_entities)\n",
        "+    \n",
        "+    # Extract UI screens\n",
        "+    ui_screens = [s.name for s in state[\"ui_components\"].screens]\n",
        "+    ui_screens_str = \", \".join(ui_screens)\n",
        "+    \n",
        "+    prompt = DETAILED_IMPLEMENTATION_PLAN_PROMPT.format(\n",
        "+        project_name=state[\"name\"],\n",
        "+        project_description=state[\"description\"],\n",
        "+        tech_stack=state[\"tech_stack\"],\n",
        "+        total_hours=state[\"total_hours\"],\n",
        "+        extended_hours=extended_hours,\n",
        "+        system_components=system_components_str,\n",
        "+        api_resources=api_resources_str,\n",
        "+        data_entities=data_entities_str,\n",
        "+        ui_screens=ui_screens_str\n",
        "+    )\n",
        "+\n",
        "+    result = await execute_with_fallbacks(primary_llm=llm_41_mini,\n",
        "+                                    fallback_llms=[llm_41_nano, llm_4o_mini],\n",
        "+                                   structured_output_type=DetailedImplementationPlan,\n",
        "+                                   prompt=prompt)\n",
        "+    \n",
        "+    return { \"implementation_plan\" : result }\n",
        "+   \n",
        "+async def execute_with_fallbacks(primary_llm, fallback_llms, structured_output_type, prompt):\n",
        "+    \"\"\"\n",
        "+    Try to execute with primary LLM, fall back to others if it fails.\n",
        "+    \n",
        "+    Args:\n",
        "+        primary_llm: The primary LLM to try first\n",
        "+        fallback_llms: List of fallback LLMs to try in order\n",
        "+        structured_output_type: Pydantic model for structured output\n",
        "+        prompt: The formatted prompt to send\n",
        "+        \n",
        "+    Returns:\n",
        "+        The result from the first successful LLM\n",
        "+    \"\"\"\n",
        "+    try:\n",
        "+        return await primary_llm.with_structured_output(structured_output_type).ainvoke(prompt)\n",
        "+    except Exception as e:\n",
        "+        print(f\"Error with primary model: {e}\")\n",
        "+        for i, fallback_llm in enumerate(fallback_llms):\n",
        "+            try:\n",
        "+                print(f\"Trying fallback model {i+1}/{len(fallback_llms)}...\")\n",
        "+                return await fallback_llm.with_structured_output(structured_output_type).ainvoke(prompt)\n",
        "+            except Exception as e2:\n",
        "+                print(f\"Error with fallback model {i+1}: {e2}\")\n",
        "+                if i == len(fallback_llms) - 1:\n",
        "+                    # This was the last fallback, re-raise the error\n",
        "+                    raise\n",
        "+        \n",
        "+        # We should never reach here but just in case\n",
        "+        raise RuntimeError(\"All models failed\")\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "backend/app/services/ai/ai_utils.py",
      "status": "modified",
      "additions": 31,
      "deletions": 12,
      "patch": "@@ -1,36 +1,55 @@\n import json\n from langchain_openai import ChatOpenAI\n from app.core.config import get_settings\n+from langchain_anthropic import ChatAnthropic\n \n settings = get_settings()\n \n-def create_llm(temperature=0.1, json_mode=True, mode=\"strong\") -> ChatOpenAI:\n+def create_llm(temperature=0.1, json_mode=True, model='gpt-4o-mini', max_tokens=14000) -> ChatOpenAI:\n     \"\"\"\n     Creates a language model instance with the specified configuration.\n     \n     Args:\n         temperature: Controls randomness in the output (lower = more deterministic)\n+        json_mode: Whether to force the response to be in JSON format\n+        model: The OpenAI model to use (supported: gpt-4o-mini, gpt-4.1-mini, gpt-4.1-nano, gpt-o4-mini)\n+        max_tokens: Maximum tokens for model response (default: 14000)\n     \n     Returns:\n         A configured ChatOpenAI instance from LangChain\n     \"\"\"\n     api_key = settings.openai_api_key\n-    # api_key = settings.ANTHROPIC_API_KEY\n+\n     if not api_key:\n         print(\"OpenAI API key is missing or empty!\")\n         raise ValueError(\"OpenAI API key is required\")\n     \n-    model = settings.AI_MODEL_STRONG\n-    # Create with explicit model name and API key\n-    if mode == \"fast\":\n-        model = settings.AI_MODEL_FAST\n+    # List of specifically supported models\n+    supported_models = [\n+        'gpt-4o-mini',\n+        'gpt-4.1-mini',\n+        'gpt-4.1-nano',\n+        'o4-mini'\n+    ]\n+    \n+    # Validate that the model is supported\n+    if model not in supported_models:\n+        print(f\"Warning: Model '{model}' is not in the list of specifically supported models: {supported_models}\")\n+        print(f\"Proceeding with model '{model}' anyway, but this may cause errors if the model name is invalid.\")\n \n-    return ChatOpenAI(\n-        model=model,\n-        temperature=temperature,\n-        openai_api_key=api_key,\n-        response_format={\"type\": \"json_object\"} if json_mode else None,\n-        )  \n+    try: \n+        return ChatOpenAI(\n+            model=model,\n+            temperature=temperature,\n+            openai_api_key=api_key,\n+            max_tokens=max_tokens,\n+            response_format={\"type\": \"json_object\"} if json_mode else None,\n+        )\n+\n+    except Exception as e:\n+        print(f\"Error creating LLM instance: {e}\")\n+        raise ValueError(\"Failed to create LLM instance\")\n+    \n \n def compact_json(obj) -> str:\n     \"\"\"Serialize obj without any whitespace \u2013 saves \u224825\u00a0% tokens.\"\"\"",
      "patch_lines": [
        "@@ -1,36 +1,55 @@\n",
        " import json\n",
        " from langchain_openai import ChatOpenAI\n",
        " from app.core.config import get_settings\n",
        "+from langchain_anthropic import ChatAnthropic\n",
        " \n",
        " settings = get_settings()\n",
        " \n",
        "-def create_llm(temperature=0.1, json_mode=True, mode=\"strong\") -> ChatOpenAI:\n",
        "+def create_llm(temperature=0.1, json_mode=True, model='gpt-4o-mini', max_tokens=14000) -> ChatOpenAI:\n",
        "     \"\"\"\n",
        "     Creates a language model instance with the specified configuration.\n",
        "     \n",
        "     Args:\n",
        "         temperature: Controls randomness in the output (lower = more deterministic)\n",
        "+        json_mode: Whether to force the response to be in JSON format\n",
        "+        model: The OpenAI model to use (supported: gpt-4o-mini, gpt-4.1-mini, gpt-4.1-nano, gpt-o4-mini)\n",
        "+        max_tokens: Maximum tokens for model response (default: 14000)\n",
        "     \n",
        "     Returns:\n",
        "         A configured ChatOpenAI instance from LangChain\n",
        "     \"\"\"\n",
        "     api_key = settings.openai_api_key\n",
        "-    # api_key = settings.ANTHROPIC_API_KEY\n",
        "+\n",
        "     if not api_key:\n",
        "         print(\"OpenAI API key is missing or empty!\")\n",
        "         raise ValueError(\"OpenAI API key is required\")\n",
        "     \n",
        "-    model = settings.AI_MODEL_STRONG\n",
        "-    # Create with explicit model name and API key\n",
        "-    if mode == \"fast\":\n",
        "-        model = settings.AI_MODEL_FAST\n",
        "+    # List of specifically supported models\n",
        "+    supported_models = [\n",
        "+        'gpt-4o-mini',\n",
        "+        'gpt-4.1-mini',\n",
        "+        'gpt-4.1-nano',\n",
        "+        'o4-mini'\n",
        "+    ]\n",
        "+    \n",
        "+    # Validate that the model is supported\n",
        "+    if model not in supported_models:\n",
        "+        print(f\"Warning: Model '{model}' is not in the list of specifically supported models: {supported_models}\")\n",
        "+        print(f\"Proceeding with model '{model}' anyway, but this may cause errors if the model name is invalid.\")\n",
        " \n",
        "-    return ChatOpenAI(\n",
        "-        model=model,\n",
        "-        temperature=temperature,\n",
        "-        openai_api_key=api_key,\n",
        "-        response_format={\"type\": \"json_object\"} if json_mode else None,\n",
        "-        )  \n",
        "+    try: \n",
        "+        return ChatOpenAI(\n",
        "+            model=model,\n",
        "+            temperature=temperature,\n",
        "+            openai_api_key=api_key,\n",
        "+            max_tokens=max_tokens,\n",
        "+            response_format={\"type\": \"json_object\"} if json_mode else None,\n",
        "+        )\n",
        "+\n",
        "+    except Exception as e:\n",
        "+        print(f\"Error creating LLM instance: {e}\")\n",
        "+        raise ValueError(\"Failed to create LLM instance\")\n",
        "+    \n",
        " \n",
        " def compact_json(obj) -> str:\n",
        "     \"\"\"Serialize obj without any whitespace \u2013 saves \u224825\u00a0% tokens.\"\"\"\n"
      ]
    },
    {
      "path": "backend/app/services/ai/plan_prompts.py",
      "status": "removed",
      "additions": 0,
      "deletions": 566,
      "patch": "@@ -1,566 +0,0 @@\n-\"\"\"\n-Prompts for the AI-powered project planning service.\n-These prompts guide the AI to generate different components of a project plan.\n-\"\"\"\n-\n-# Prompt for generating clarification questions\n-CLARIFICATION_QUESTIONS_PROMPT = \"\"\"\n-You are an experienced software architect and project manager. \n-Your task is to generate simple clarification questions for a software project.\n-\n-# Project Information\n-Project Name: {name}\n-Project Description: {project_description}\n-Experience Level: {experience_level}\n-Team Size: {team_size}\n-Preferred Tech Stack: {tech_stack}\n-Project Time Budget: {total_hours} hours total\n-\n-# Instructions\n-This is the first step in our project planning process. Generate 4-6 easy-to-answer questions that will help with planning this software project. The questions should be:\n-- Simple and straightforward\n-- Answerable in 1-2 sentences\n-- Mostly technical (about 75%) with some product/idea questions\n-- Relevant to the specific project described\n-\n-Focus on questions about:\n-- Core technical requirements\n-- Key data needs\n-- Essential integrations\n-- Basic user needs\n-- Main technical challenges\n-- Development priorities\n-\n-Given the team size of {team_size}, experience level of {experience_level}, and time budget of {total_hours} hours, keep questions practical and focused on what's actually needed to build the project.\n-\n-# Output Format\n-Provide the questions as a JSON array of strings.\n-\n-# Examples of Good Questions:\n-- \"Will users need to log in? If yes, what authentication method would you prefer?\"\n-- \"What are the 2-3 most important pieces of data this application needs to store?\"\n-- \"Are there any third-party APIs or services this needs to connect with?\"\n-- \"Will this need to work offline, or is it always online?\"\n-- \"Which feature should be developed first?\"\n-- \"Do you need a mobile app, web app, or both?\"\n-\"\"\"\n-\n-# Prompt for generating high-level project plan\n-HIGH_LEVEL_PLAN_PROMPT = \"\"\"\n-You are an experienced product manager and software strategist.\n-Your task is to create a high-level project plan for a software development project.\n-\n-# Project Information\n-Project Name: {project_name}\n-Project Description: {project_description}\n-Experience Level: {experience_level}\n-Team Size: {team_size}\n-Preferred Tech Stack: {tech_stack}\n-\n-# Clarification Questions and Answers\n-{clarification_qa}\n-\n-# Project Time Budget\n-{total_hours} hours total\n-\n-# Instructions\n-Create a high-level project plan that includes:\n-1. Project name - USE THE EXACT PROJECT NAME PROVIDED: \"{project_name}\" (do not create a new name)\n-2. Project vision - what this project aims to achieve\n-3. Business objectives - specific, measurable goals\n-4. Target users - who will use this application and why\n-5. Core features - key functionality at a high level\n-6. Project scope - what's in and what's out\n-7. Success criteria - how to determine if the project is successful\n-8. Constraints - time, budget, technical, or other limitations\n-9. Assumptions - what we're assuming to be true\n-10. Risks - potential obstacles to success\n-11. Tech stack - USE THE PROVIDED TECH STACK as a foundation, adding any necessary technologies (if needed) to complete the architecture. Do not remove any of the provided technologies: {tech_stack}\n-\n-IMPORTANT: Adapt the scope, features, and complexity of the project to realistically fit within the specified {total_hours} hour time budget. For smaller time budgets (under 50 hours), focus on core features and simplify the design. For medium budgets (50-150 hours), include a balanced set of features. For larger budgets (over 150 hours), you can include more advanced features and comprehensive implementations.\n-\n-Consider the team's experience level ({experience_level}) and team size ({team_size}) when determining scope and complexity.\n-\n-# Output Format\n-Provide the high-level plan as a JSON object with the following structure:\n-\n-```json\n-{{\n-    \"name\": \"{project_name}\",\n-    \"description\": \"Detailed project description\",\n-    \"vision\": \"What this project aims to achieve\",\n-    \"business_objectives\": [\"Objective 1\", \"Objective 2\", ...],\n-    \"target_users\": [\n-        {{\n-            \"type\": \"User Type\",\n-            \"needs\": [\"Need 1\", \"Need 2\", ...],\n-            \"pain_points\": [\"Pain Point 1\", \"Pain Point 2\", ...]\n-        }}\n-    ],\n-    \"core_features\": [\"Feature 1\", \"Feature 2\", ...],\n-    \"scope\": {{\n-        \"in_scope\": [\"Item 1\", \"Item 2\", ...],\n-        \"out_of_scope\": [\"Item 1\", \"Item 2\", ...]\n-    }},\n-    \"success_criteria\": [\"Criterion 1\", \"Criterion 2\", ...],\n-    \"constraints\": [\"Constraint 1\", \"Constraint 2\", ...],\n-    \"assumptions\": [\"Assumption 1\", \"Assumption 2\", ...],\n-    \"risks\": [\n-        {{\n-            \"description\": \"Risk description\",\n-            \"impact\": \"high/medium/low\",\n-            \"mitigation\": \"Mitigation strategy\"\n-        }}\n-    ],\n-    \"tech_stack\": {tech_stack},\n-    \"status\": \"draft\"\n-}}\n-\"\"\"\n-\n-# Prompt for generating technical architecture\n-TECHNICAL_ARCHITECTURE_PROMPT = \"\"\"\n-You are an experienced software architect with expertise in system design.\n-Your task is to create a detailed technical architecture for a software project.\n-\n-# High-Level Project Plan\n-{high_level_plan_json}\n-\n-# Additional Project Information\n-Project Description: {project_description}\n-Project Time Budget: {total_hours} hours total\n-\n-# Instructions\n-Create a detailed technical architecture document that includes:\n-1. System components and their relationships\n-2. Communication patterns between components\n-3. Key architecture patterns used (e.g., microservices, event-driven, etc.)\n-4. Infrastructure requirements (hosting, CI/CD, etc.)\n-\n-Ensure the architecture addresses the business objectives, core features, and constraints \n-defined in the high-level plan.\n-\n-IMPORTANT: Design an architecture that is appropriately sized for a {total_hours} hour development effort. \n-For smaller budgets (under 50 hours), favor simpler architectures with fewer components and standard patterns.\n-For medium budgets (50-150 hours), balance simplicity with some specialized components.\n-For larger budgets (over 150 hours), you can include more sophisticated patterns and comprehensive infrastructure.\n-\n-# Output Format\n-Provide the architecture as a JSON object with the following structure:\n-\n-```json\n-{{\n-    \"architecture_overview\": \"High-level description of the overall architecture\",\n-    \"architecture_diagram_description\": \"Textual description of how the system components connect\",\n-    \"system_components\": [\n-        {{\n-            \"name\": \"Component Name\",\n-            \"type\": \"frontend/backend/database/service/etc.\",\n-            \"description\": \"Component description\",\n-            \"technologies\": [\"Tech 1\", \"Tech 2\"],\n-            \"responsibilities\": [\"Responsibility 1\", \"Responsibility 2\"]\n-        }}\n-    ],\n-    \"communication_patterns\": [\n-        {{\n-            \"source\": \"Source Component\",\n-            \"target\": \"Target Component\",\n-            \"protocol\": \"HTTP/REST, gRPC, etc.\",\n-            \"pattern\": \"sync/async/event-driven\",\n-            \"description\": \"Description of this communication\"\n-        }}\n-    ],\n-    \"architecture_patterns\": [\n-        {{\n-            \"name\": \"Pattern Name\",\n-            \"description\": \"How this pattern is applied in the system\"\n-        }}\n-    ],\n-    \"infrastructure\": {{\n-        \"hosting\": \"Cloud provider or on-premises\",\n-        \"services\": [\"Service 1\", \"Service 2\"],\n-        \"ci_cd\": \"CI/CD pipeline description\"\n-    }}\n-}}\n-```\n-\"\"\"\n-\n-# Prompt for generating API endpoints\n-API_ENDPOINTS_PROMPT = \"\"\"\n-You are an experienced API designer with expertise in RESTful and GraphQL APIs.\n-Your task is to create detailed API endpoints documentation for a software project.\n-\n-# High-Level Project Plan\n-{high_level_plan_json}\n-\n-# Technical Architecture\n-{technical_architecture_json}\n-\n-# Project Time Budget\n-{total_hours} hours total\n-\n-# Instructions\n-Based on the high-level plan and technical architecture, create detailed API documentation that includes:\n-1. API design principles\n-2. Authentication approach\n-3. List of API endpoints grouped by resource/entity\n-\n-Design endpoints that will support all the core features and business objectives defined in the high-level plan.\n-Consider the components defined in the technical architecture and ensure your API designs align with them.\n-\n-IMPORTANT: Scale the number and complexity of API endpoints to match a {total_hours} hour development effort.\n-For smaller budgets (under 50 hours), include only essential endpoints with minimal parameter options.\n-For medium budgets (50-150 hours), include a more complete set of endpoints with important filtering capabilities.\n-For larger budgets (over 150 hours), you can design a comprehensive API with rich query options and specialized endpoints.\n-\n-# Output Format\n-Provide the API documentation as a JSON object with the following structure:\n-\n-```json\n-{{\n-    \"api_design_principles\": [\"Principle 1\", \"Principle 2\", ...],\n-    \"base_url\": \"/api/v1\",\n-    \"authentication\": {{\n-        \"type\": \"JWT/OAuth2/API Key\",\n-        \"description\": \"Description of auth requirements\"\n-    }},\n-    \"resources\": [\n-        {{\n-            \"name\": \"Resource Name\",\n-            \"description\": \"Description of this resource\",\n-            \"endpoints\": [\n-                {{\n-                    \"name\": \"Operation name\",\n-                    \"method\": \"GET/POST/PUT/DELETE\",\n-                    \"path\": \"/path/to/resource\",\n-                    \"description\": \"Endpoint description\",\n-                    \"authentication_required\": true/false,\n-                    \"request\": {{\n-                        \"query_params\": [\n-                            {{\n-                                \"name\": \"param_name\",\n-                                \"type\": \"string/number/boolean\",\n-                                \"required\": true/false,\n-                                \"description\": \"Parameter description\"\n-                            }}\n-                        ],\n-                        \"body\": {{\n-                            \"type\": \"application/json\",\n-                            \"schema_data\": {{\n-                                \"property1\": \"type and description\",\n-                                \"property2\": \"type and description\"\n-                            }}\n-                        }}\n-                    }},\n-                    \"response\": {{\n-                        \"success\": {{\n-                            \"status\": 200,\n-                            \"content_type\": \"application/json\",\n-                            \"schema_data\": {{\n-                                \"property1\": \"type and description\",\n-                                \"property2\": \"type and description\"\n-                            }}\n-                        }},\n-                        \"errors\": [\n-                            {{\n-                                \"status\": 400/401/404/500,\n-                                \"description\": \"Error description\"\n-                            }}\n-                        ]\n-                    }}\n-                }}\n-            ]\n-        }}\n-    ]\n-}}\n-```\n-\"\"\"\n-\n-# Prompt for generating data models\n-DATA_MODELS_PROMPT = \"\"\"\n-You are an experienced database designer and data architect.\n-Your task is to create detailed data models for a software project.\n-\n-# High-Level Project Plan\n-{high_level_plan_json}\n-\n-# Technical Architecture\n-{technical_architecture_json}\n-\n-# API Endpoints\n-{api_endpoints_json}\n-\n-# Project Time Budget\n-{total_hours} hours total\n-\n-# Instructions\n-Based on the high-level plan, technical architecture, and API endpoints, create data models that include:\n-1. Entity definitions with properties, types, and descriptions\n-2. Relationships between entities (one-to-one, one-to-many, many-to-many)\n-\n-Design data models that will efficiently support all the APIs and features defined.\n-\n-IMPORTANT: Adjust the complexity and number of data models to fit a {total_hours} hour development effort.\n-For smaller budgets (under 50 hours), keep data models simple with fewer entities and relationships.\n-For medium budgets (50-150 hours), include a moderate number of entities with standard relationships.\n-For larger budgets (over 150 hours), you can design more normalized models with comprehensive relationship mappings.\n-\n-# Output Format\n-Provide the data models as a JSON object with the following structure:\n-\n-```json\n-{{\n-    \"entities\": [\n-        {{\n-            \"name\": \"Entity Name\",\n-            \"description\": \"Entity description\",\n-            \"properties\": [\n-                {{\n-                    \"name\": \"property_name\",\n-                    \"type\": \"data type\",\n-                    \"description\": \"Property description\",\n-                    \"required\": true/false\n-                }}\n-            ]\n-        }}\n-    ],\n-    \"relationships\": [\n-        {{\n-            \"source_entity\": \"Entity Name\",\n-            \"target_entity\": \"Entity Name\",\n-            \"type\": \"one-to-one/one-to-many/many-to-many\",\n-            \"description\": \"Relationship description\"\n-        }}\n-    ]\n-}}\n-```\n-\"\"\"\n-\n-# Prompt for generating UI components\n-UI_COMPONENTS_PROMPT = \"\"\"\n-You are an experienced UI/UX designer and frontend developer.\n-Your task is to create a UI components breakdown for a software project.\n-\n-# High-Level Project Plan\n-{high_level_plan_json}\n-\n-# API Endpoints\n-{api_endpoints_json}\n-\n-# Data Models\n-{data_models_json}\n-\n-# Project Time Budget\n-{total_hours} hours total\n-\n-# Instructions\n-Based on the high-level plan, API endpoints, and data models, create a UI components breakdown that includes:\n-1. List of screens/pages with descriptions\n-2. Components on each screen with descriptions and functionality\n-\n-Design UI components that effectively present the functionality defined in the APIs and data models,\n-while meeting the needs of the target users defined in the high-level plan.\n-\n-IMPORTANT: Scale the UI design complexity to match a {total_hours} hour development effort.\n-For smaller budgets (under 50 hours), focus on essential screens with simple layouts and standard components.\n-For medium budgets (50-150 hours), include more screens with moderate interaction complexity.\n-For larger budgets (over 150 hours), you can design rich user interfaces with custom components and advanced interactions.\n-\n-# Output Format\n-Provide the UI components as a JSON object with the following structure:\n-\n-```json\n-{{\n-    \"screens\": [\n-        {{\n-            \"name\": \"Screen Name\",\n-            \"description\": \"Screen description\",\n-            \"route\": \"/route/to/screen\",\n-            \"user_types\": [\"User type 1\", \"User type 2\"],\n-            \"components\": [\n-                {{\n-                    \"name\": \"Component Name\",\n-                    \"type\": \"input/button/card/etc.\",\n-                    \"description\": \"Component description\",\n-                    \"functionality\": \"What this component does\",\n-                    \"api_endpoints\": [\"Endpoint 1\", \"Endpoint 2\"],\n-                    \"data_displayed\": [\"Data element 1\", \"Data element 2\"]\n-                }}\n-            ]\n-        }}\n-    ]\n-}}\n-```\n-\"\"\"\n-\n-# Prompt for generating detailed implementation plan\n-DETAILED_IMPLEMENTATION_PLAN_PROMPT = \"\"\"\n-You are an experienced project manager with expertise in software development.\n-Your task is to create a detailed implementation plan with milestones, tasks, and subtasks.\n-\n-# High-Level Project Plan\n-{high_level_plan_json}\n-\n-# Technical Architecture\n-{technical_architecture_json}\n-\n-# API Endpoints\n-{api_endpoints_json}\n-\n-# Data Models\n-{data_models_json}\n-\n-# UI Components\n-{ui_components_json}\n-\n-# Project Time Budget\n-{total_hours} hours total\n-\n-# Instructions\n-Based on all the previous planning information, create a detailed implementation plan that includes:\n-1. Logical milestones representing phases of development\n-2. Detailed tasks for each milestone\n-3. Granular subtasks for each task\n-4. Dependencies between tasks\n-5. Estimated effort for each task\n-6. Task priorities\n-7. Due date offsets (in days from project start)\n-\n-The plan should cover all aspects of implementation including:\n-- Development environment setup\n-- Infrastructure configuration\n-- Database setup\n-- API development\n-- UI implementation\n-- Integration\n-- Testing\n-- Deployment\n-- Documentation\n-\n-CRITICAL: The TOTAL estimated hours across all tasks MUST sum up to approximately {total_hours} hours (\u00b15%). This is the time budget specified by the user for this project. Adjust the number and scope of tasks to fit this budget precisely.\n-\n-Ensure the plan is comprehensive, addressing all components defined in the architecture, all APIs,\n-all data models, and all UI components.\n-\n-# Output Format\n-Provide the implementation plan as a JSON object with the following structure:\n-\n-```json\n-{{\n-    \"milestones\": [\n-        {{\n-            \"name\": \"Milestone Name\",\n-            \"description\": \"Milestone description\",\n-            \"status\": \"not_started\",\n-            \"due_date_offset\": days_from_start,\n-            \"tasks\": [\n-                {{\n-                    \"name\": \"Task Name\",\n-                    \"description\": \"Task description\",\n-                    \"status\": \"not_started\",\n-                    \"priority\": \"low|medium|high\",\n-                    \"estimated_hours\": 1-100,\n-                    \"dependencies\": [\"Dependent Task Name 1\", ...],\n-                    \"components_affected\": [\"Component 1\", \"Component 2\"],\n-                    \"apis_affected\": [\"API 1\", \"API 2\"],\n-                    \"subtasks\": [\n-                        {{\n-                            \"name\": \"Subtask Name\",\n-                            \"status\": \"not_started\",\n-                            \"description\": \"Brief description of the subtask\"\n-                        }}\n-                    ]\n-                }}\n-            ]\n-        }}\n-    ]\n-}}\n-```\n-\"\"\"\n-\n-# Prompt for generating a textual overview of the project plan\n-TEXT_PLAN_PROMPT = \"\"\"\n-You are an experienced technical writer and project manager.\n-Your task is to create a human-readable textual overview of a project plan.\n-\n-# Project Plan\n-{project_json}\n-\n-# Instructions\n-Create a comprehensive textual overview of the project plan that includes:\n-1. Executive summary of the project\n-2. Overview of the project vision and objectives\n-3. Description of the target users and their needs\n-4. Summary of the technical architecture with key components\n-5. Overview of the API design and data models\n-6. Description of the UI and user experience\n-7. Implementation roadmap with key milestones and timeline\n-8. Potential challenges and risk mitigation strategies\n-\n-The overview should be well-structured with sections and subsections.\n-Use markdown formatting for better readability.\n-\n-# Output Format\n-Provide the overview as a markdown-formatted string.\n-\"\"\"\n-\n-# Prompt for refining a project plan based on feedback\n-REFINE_PROJECT_PLAN_PROMPT = \"\"\"\n-You are an experienced software architect and project manager.\n-Your task is to refine an existing project plan based on feedback.\n-\n-# Current Project Plan\n-{current_plan_json}\n-\n-# Feedback\n-{feedback}\n-\n-# Project Time Budget\n-{total_hours} hours total\n-\n-# Instructions\n-Refine the project plan based on the feedback provided. You may need to:\n-1. Adjust the high-level plan (vision, objectives, scope)\n-2. Modify the technical architecture\n-3. Update API endpoints\n-4. Revise data models\n-5. Enhance UI components\n-6. Reorganize milestones, tasks, and subtasks\n-\n-Ensure that the refined plan maintains consistency across all sections and addresses all feedback points.\n-Make sure dependencies between tasks remain valid after your changes.\n-\n-IMPORTANT: The refined plan must still fit within the original time budget of {total_hours} hours. If you make changes that affect the implementation timeline, adjust other areas to ensure the total estimated hours remain approximately the same.\n-\n-# Output Format\n-Provide the refined plan as a complete JSON object with the same structure as the current plan.\n-Do not return a diff or only the changes - return the complete updated plan.\n-\"\"\"\n-\n-# Repair prompt template for fixing validation errors\n-REPAIR_PROMPT = \"\"\"\n-You are an expert JSON repair specialist. Your task is to fix validation errors in a JSON response to match the expected Pydantic model structure.\n-You previously generated a JSON response that didn't match the expected structure. \n-Please fix the following validation errors and provide a corrected response.\n-\n-# Validation Errors\n-{errors}\n-\n-# Expected JSON Structure\n-{expected_structure}\n-\n-# Your Previous Response\n-{previous_response}\n-\n-# Project Time Budget Context\n-This is part of a project plan with a total time budget of {total_hours} hours.\n-\n-# Instructions\n-Please fix all validation errors and return a valid JSON response that matches the expected structure.\n-Make sure all required fields are present and have the correct types.\n-Ensure the response contains all the details from your previous response, just formatted correctly.\n-\n-If there are any estimated_hours fields that exceed their maximum allowed value, reduce them while keeping the relative effort distribution sensible. The total hours across all tasks should sum up to approximately {total_hours} hours.\n-\n-# Output Format\n-Provide a corrected JSON response that matches the expected structure.\n-\"\"\"\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,566 +0,0 @@\n",
        "-\"\"\"\n",
        "-Prompts for the AI-powered project planning service.\n",
        "-These prompts guide the AI to generate different components of a project plan.\n",
        "-\"\"\"\n",
        "-\n",
        "-# Prompt for generating clarification questions\n",
        "-CLARIFICATION_QUESTIONS_PROMPT = \"\"\"\n",
        "-You are an experienced software architect and project manager. \n",
        "-Your task is to generate simple clarification questions for a software project.\n",
        "-\n",
        "-# Project Information\n",
        "-Project Name: {name}\n",
        "-Project Description: {project_description}\n",
        "-Experience Level: {experience_level}\n",
        "-Team Size: {team_size}\n",
        "-Preferred Tech Stack: {tech_stack}\n",
        "-Project Time Budget: {total_hours} hours total\n",
        "-\n",
        "-# Instructions\n",
        "-This is the first step in our project planning process. Generate 4-6 easy-to-answer questions that will help with planning this software project. The questions should be:\n",
        "-- Simple and straightforward\n",
        "-- Answerable in 1-2 sentences\n",
        "-- Mostly technical (about 75%) with some product/idea questions\n",
        "-- Relevant to the specific project described\n",
        "-\n",
        "-Focus on questions about:\n",
        "-- Core technical requirements\n",
        "-- Key data needs\n",
        "-- Essential integrations\n",
        "-- Basic user needs\n",
        "-- Main technical challenges\n",
        "-- Development priorities\n",
        "-\n",
        "-Given the team size of {team_size}, experience level of {experience_level}, and time budget of {total_hours} hours, keep questions practical and focused on what's actually needed to build the project.\n",
        "-\n",
        "-# Output Format\n",
        "-Provide the questions as a JSON array of strings.\n",
        "-\n",
        "-# Examples of Good Questions:\n",
        "-- \"Will users need to log in? If yes, what authentication method would you prefer?\"\n",
        "-- \"What are the 2-3 most important pieces of data this application needs to store?\"\n",
        "-- \"Are there any third-party APIs or services this needs to connect with?\"\n",
        "-- \"Will this need to work offline, or is it always online?\"\n",
        "-- \"Which feature should be developed first?\"\n",
        "-- \"Do you need a mobile app, web app, or both?\"\n",
        "-\"\"\"\n",
        "-\n",
        "-# Prompt for generating high-level project plan\n",
        "-HIGH_LEVEL_PLAN_PROMPT = \"\"\"\n",
        "-You are an experienced product manager and software strategist.\n",
        "-Your task is to create a high-level project plan for a software development project.\n",
        "-\n",
        "-# Project Information\n",
        "-Project Name: {project_name}\n",
        "-Project Description: {project_description}\n",
        "-Experience Level: {experience_level}\n",
        "-Team Size: {team_size}\n",
        "-Preferred Tech Stack: {tech_stack}\n",
        "-\n",
        "-# Clarification Questions and Answers\n",
        "-{clarification_qa}\n",
        "-\n",
        "-# Project Time Budget\n",
        "-{total_hours} hours total\n",
        "-\n",
        "-# Instructions\n",
        "-Create a high-level project plan that includes:\n",
        "-1. Project name - USE THE EXACT PROJECT NAME PROVIDED: \"{project_name}\" (do not create a new name)\n",
        "-2. Project vision - what this project aims to achieve\n",
        "-3. Business objectives - specific, measurable goals\n",
        "-4. Target users - who will use this application and why\n",
        "-5. Core features - key functionality at a high level\n",
        "-6. Project scope - what's in and what's out\n",
        "-7. Success criteria - how to determine if the project is successful\n",
        "-8. Constraints - time, budget, technical, or other limitations\n",
        "-9. Assumptions - what we're assuming to be true\n",
        "-10. Risks - potential obstacles to success\n",
        "-11. Tech stack - USE THE PROVIDED TECH STACK as a foundation, adding any necessary technologies (if needed) to complete the architecture. Do not remove any of the provided technologies: {tech_stack}\n",
        "-\n",
        "-IMPORTANT: Adapt the scope, features, and complexity of the project to realistically fit within the specified {total_hours} hour time budget. For smaller time budgets (under 50 hours), focus on core features and simplify the design. For medium budgets (50-150 hours), include a balanced set of features. For larger budgets (over 150 hours), you can include more advanced features and comprehensive implementations.\n",
        "-\n",
        "-Consider the team's experience level ({experience_level}) and team size ({team_size}) when determining scope and complexity.\n",
        "-\n",
        "-# Output Format\n",
        "-Provide the high-level plan as a JSON object with the following structure:\n",
        "-\n",
        "-```json\n",
        "-{{\n",
        "-    \"name\": \"{project_name}\",\n",
        "-    \"description\": \"Detailed project description\",\n",
        "-    \"vision\": \"What this project aims to achieve\",\n",
        "-    \"business_objectives\": [\"Objective 1\", \"Objective 2\", ...],\n",
        "-    \"target_users\": [\n",
        "-        {{\n",
        "-            \"type\": \"User Type\",\n",
        "-            \"needs\": [\"Need 1\", \"Need 2\", ...],\n",
        "-            \"pain_points\": [\"Pain Point 1\", \"Pain Point 2\", ...]\n",
        "-        }}\n",
        "-    ],\n",
        "-    \"core_features\": [\"Feature 1\", \"Feature 2\", ...],\n",
        "-    \"scope\": {{\n",
        "-        \"in_scope\": [\"Item 1\", \"Item 2\", ...],\n",
        "-        \"out_of_scope\": [\"Item 1\", \"Item 2\", ...]\n",
        "-    }},\n",
        "-    \"success_criteria\": [\"Criterion 1\", \"Criterion 2\", ...],\n",
        "-    \"constraints\": [\"Constraint 1\", \"Constraint 2\", ...],\n",
        "-    \"assumptions\": [\"Assumption 1\", \"Assumption 2\", ...],\n",
        "-    \"risks\": [\n",
        "-        {{\n",
        "-            \"description\": \"Risk description\",\n",
        "-            \"impact\": \"high/medium/low\",\n",
        "-            \"mitigation\": \"Mitigation strategy\"\n",
        "-        }}\n",
        "-    ],\n",
        "-    \"tech_stack\": {tech_stack},\n",
        "-    \"status\": \"draft\"\n",
        "-}}\n",
        "-\"\"\"\n",
        "-\n",
        "-# Prompt for generating technical architecture\n",
        "-TECHNICAL_ARCHITECTURE_PROMPT = \"\"\"\n",
        "-You are an experienced software architect with expertise in system design.\n",
        "-Your task is to create a detailed technical architecture for a software project.\n",
        "-\n",
        "-# High-Level Project Plan\n",
        "-{high_level_plan_json}\n",
        "-\n",
        "-# Additional Project Information\n",
        "-Project Description: {project_description}\n",
        "-Project Time Budget: {total_hours} hours total\n",
        "-\n",
        "-# Instructions\n",
        "-Create a detailed technical architecture document that includes:\n",
        "-1. System components and their relationships\n",
        "-2. Communication patterns between components\n",
        "-3. Key architecture patterns used (e.g., microservices, event-driven, etc.)\n",
        "-4. Infrastructure requirements (hosting, CI/CD, etc.)\n",
        "-\n",
        "-Ensure the architecture addresses the business objectives, core features, and constraints \n",
        "-defined in the high-level plan.\n",
        "-\n",
        "-IMPORTANT: Design an architecture that is appropriately sized for a {total_hours} hour development effort. \n",
        "-For smaller budgets (under 50 hours), favor simpler architectures with fewer components and standard patterns.\n",
        "-For medium budgets (50-150 hours), balance simplicity with some specialized components.\n",
        "-For larger budgets (over 150 hours), you can include more sophisticated patterns and comprehensive infrastructure.\n",
        "-\n",
        "-# Output Format\n",
        "-Provide the architecture as a JSON object with the following structure:\n",
        "-\n",
        "-```json\n",
        "-{{\n",
        "-    \"architecture_overview\": \"High-level description of the overall architecture\",\n",
        "-    \"architecture_diagram_description\": \"Textual description of how the system components connect\",\n",
        "-    \"system_components\": [\n",
        "-        {{\n",
        "-            \"name\": \"Component Name\",\n",
        "-            \"type\": \"frontend/backend/database/service/etc.\",\n",
        "-            \"description\": \"Component description\",\n",
        "-            \"technologies\": [\"Tech 1\", \"Tech 2\"],\n",
        "-            \"responsibilities\": [\"Responsibility 1\", \"Responsibility 2\"]\n",
        "-        }}\n",
        "-    ],\n",
        "-    \"communication_patterns\": [\n",
        "-        {{\n",
        "-            \"source\": \"Source Component\",\n",
        "-            \"target\": \"Target Component\",\n",
        "-            \"protocol\": \"HTTP/REST, gRPC, etc.\",\n",
        "-            \"pattern\": \"sync/async/event-driven\",\n",
        "-            \"description\": \"Description of this communication\"\n",
        "-        }}\n",
        "-    ],\n",
        "-    \"architecture_patterns\": [\n",
        "-        {{\n",
        "-            \"name\": \"Pattern Name\",\n",
        "-            \"description\": \"How this pattern is applied in the system\"\n",
        "-        }}\n",
        "-    ],\n",
        "-    \"infrastructure\": {{\n",
        "-        \"hosting\": \"Cloud provider or on-premises\",\n",
        "-        \"services\": [\"Service 1\", \"Service 2\"],\n",
        "-        \"ci_cd\": \"CI/CD pipeline description\"\n",
        "-    }}\n",
        "-}}\n",
        "-```\n",
        "-\"\"\"\n",
        "-\n",
        "-# Prompt for generating API endpoints\n",
        "-API_ENDPOINTS_PROMPT = \"\"\"\n",
        "-You are an experienced API designer with expertise in RESTful and GraphQL APIs.\n",
        "-Your task is to create detailed API endpoints documentation for a software project.\n",
        "-\n",
        "-# High-Level Project Plan\n",
        "-{high_level_plan_json}\n",
        "-\n",
        "-# Technical Architecture\n",
        "-{technical_architecture_json}\n",
        "-\n",
        "-# Project Time Budget\n",
        "-{total_hours} hours total\n",
        "-\n",
        "-# Instructions\n",
        "-Based on the high-level plan and technical architecture, create detailed API documentation that includes:\n",
        "-1. API design principles\n",
        "-2. Authentication approach\n",
        "-3. List of API endpoints grouped by resource/entity\n",
        "-\n",
        "-Design endpoints that will support all the core features and business objectives defined in the high-level plan.\n",
        "-Consider the components defined in the technical architecture and ensure your API designs align with them.\n",
        "-\n",
        "-IMPORTANT: Scale the number and complexity of API endpoints to match a {total_hours} hour development effort.\n",
        "-For smaller budgets (under 50 hours), include only essential endpoints with minimal parameter options.\n",
        "-For medium budgets (50-150 hours), include a more complete set of endpoints with important filtering capabilities.\n",
        "-For larger budgets (over 150 hours), you can design a comprehensive API with rich query options and specialized endpoints.\n",
        "-\n",
        "-# Output Format\n",
        "-Provide the API documentation as a JSON object with the following structure:\n",
        "-\n",
        "-```json\n",
        "-{{\n",
        "-    \"api_design_principles\": [\"Principle 1\", \"Principle 2\", ...],\n",
        "-    \"base_url\": \"/api/v1\",\n",
        "-    \"authentication\": {{\n",
        "-        \"type\": \"JWT/OAuth2/API Key\",\n",
        "-        \"description\": \"Description of auth requirements\"\n",
        "-    }},\n",
        "-    \"resources\": [\n",
        "-        {{\n",
        "-            \"name\": \"Resource Name\",\n",
        "-            \"description\": \"Description of this resource\",\n",
        "-            \"endpoints\": [\n",
        "-                {{\n",
        "-                    \"name\": \"Operation name\",\n",
        "-                    \"method\": \"GET/POST/PUT/DELETE\",\n",
        "-                    \"path\": \"/path/to/resource\",\n",
        "-                    \"description\": \"Endpoint description\",\n",
        "-                    \"authentication_required\": true/false,\n",
        "-                    \"request\": {{\n",
        "-                        \"query_params\": [\n",
        "-                            {{\n",
        "-                                \"name\": \"param_name\",\n",
        "-                                \"type\": \"string/number/boolean\",\n",
        "-                                \"required\": true/false,\n",
        "-                                \"description\": \"Parameter description\"\n",
        "-                            }}\n",
        "-                        ],\n",
        "-                        \"body\": {{\n",
        "-                            \"type\": \"application/json\",\n",
        "-                            \"schema_data\": {{\n",
        "-                                \"property1\": \"type and description\",\n",
        "-                                \"property2\": \"type and description\"\n",
        "-                            }}\n",
        "-                        }}\n",
        "-                    }},\n",
        "-                    \"response\": {{\n",
        "-                        \"success\": {{\n",
        "-                            \"status\": 200,\n",
        "-                            \"content_type\": \"application/json\",\n",
        "-                            \"schema_data\": {{\n",
        "-                                \"property1\": \"type and description\",\n",
        "-                                \"property2\": \"type and description\"\n",
        "-                            }}\n",
        "-                        }},\n",
        "-                        \"errors\": [\n",
        "-                            {{\n",
        "-                                \"status\": 400/401/404/500,\n",
        "-                                \"description\": \"Error description\"\n",
        "-                            }}\n",
        "-                        ]\n",
        "-                    }}\n",
        "-                }}\n",
        "-            ]\n",
        "-        }}\n",
        "-    ]\n",
        "-}}\n",
        "-```\n",
        "-\"\"\"\n",
        "-\n",
        "-# Prompt for generating data models\n",
        "-DATA_MODELS_PROMPT = \"\"\"\n",
        "-You are an experienced database designer and data architect.\n",
        "-Your task is to create detailed data models for a software project.\n",
        "-\n",
        "-# High-Level Project Plan\n",
        "-{high_level_plan_json}\n",
        "-\n",
        "-# Technical Architecture\n",
        "-{technical_architecture_json}\n",
        "-\n",
        "-# API Endpoints\n",
        "-{api_endpoints_json}\n",
        "-\n",
        "-# Project Time Budget\n",
        "-{total_hours} hours total\n",
        "-\n",
        "-# Instructions\n",
        "-Based on the high-level plan, technical architecture, and API endpoints, create data models that include:\n",
        "-1. Entity definitions with properties, types, and descriptions\n",
        "-2. Relationships between entities (one-to-one, one-to-many, many-to-many)\n",
        "-\n",
        "-Design data models that will efficiently support all the APIs and features defined.\n",
        "-\n",
        "-IMPORTANT: Adjust the complexity and number of data models to fit a {total_hours} hour development effort.\n",
        "-For smaller budgets (under 50 hours), keep data models simple with fewer entities and relationships.\n",
        "-For medium budgets (50-150 hours), include a moderate number of entities with standard relationships.\n",
        "-For larger budgets (over 150 hours), you can design more normalized models with comprehensive relationship mappings.\n",
        "-\n",
        "-# Output Format\n",
        "-Provide the data models as a JSON object with the following structure:\n",
        "-\n",
        "-```json\n",
        "-{{\n",
        "-    \"entities\": [\n",
        "-        {{\n",
        "-            \"name\": \"Entity Name\",\n",
        "-            \"description\": \"Entity description\",\n",
        "-            \"properties\": [\n",
        "-                {{\n",
        "-                    \"name\": \"property_name\",\n",
        "-                    \"type\": \"data type\",\n",
        "-                    \"description\": \"Property description\",\n",
        "-                    \"required\": true/false\n",
        "-                }}\n",
        "-            ]\n",
        "-        }}\n",
        "-    ],\n",
        "-    \"relationships\": [\n",
        "-        {{\n",
        "-            \"source_entity\": \"Entity Name\",\n",
        "-            \"target_entity\": \"Entity Name\",\n",
        "-            \"type\": \"one-to-one/one-to-many/many-to-many\",\n",
        "-            \"description\": \"Relationship description\"\n",
        "-        }}\n",
        "-    ]\n",
        "-}}\n",
        "-```\n",
        "-\"\"\"\n",
        "-\n",
        "-# Prompt for generating UI components\n",
        "-UI_COMPONENTS_PROMPT = \"\"\"\n",
        "-You are an experienced UI/UX designer and frontend developer.\n",
        "-Your task is to create a UI components breakdown for a software project.\n",
        "-\n",
        "-# High-Level Project Plan\n",
        "-{high_level_plan_json}\n",
        "-\n",
        "-# API Endpoints\n",
        "-{api_endpoints_json}\n",
        "-\n",
        "-# Data Models\n",
        "-{data_models_json}\n",
        "-\n",
        "-# Project Time Budget\n",
        "-{total_hours} hours total\n",
        "-\n",
        "-# Instructions\n",
        "-Based on the high-level plan, API endpoints, and data models, create a UI components breakdown that includes:\n",
        "-1. List of screens/pages with descriptions\n",
        "-2. Components on each screen with descriptions and functionality\n",
        "-\n",
        "-Design UI components that effectively present the functionality defined in the APIs and data models,\n",
        "-while meeting the needs of the target users defined in the high-level plan.\n",
        "-\n",
        "-IMPORTANT: Scale the UI design complexity to match a {total_hours} hour development effort.\n",
        "-For smaller budgets (under 50 hours), focus on essential screens with simple layouts and standard components.\n",
        "-For medium budgets (50-150 hours), include more screens with moderate interaction complexity.\n",
        "-For larger budgets (over 150 hours), you can design rich user interfaces with custom components and advanced interactions.\n",
        "-\n",
        "-# Output Format\n",
        "-Provide the UI components as a JSON object with the following structure:\n",
        "-\n",
        "-```json\n",
        "-{{\n",
        "-    \"screens\": [\n",
        "-        {{\n",
        "-            \"name\": \"Screen Name\",\n",
        "-            \"description\": \"Screen description\",\n",
        "-            \"route\": \"/route/to/screen\",\n",
        "-            \"user_types\": [\"User type 1\", \"User type 2\"],\n",
        "-            \"components\": [\n",
        "-                {{\n",
        "-                    \"name\": \"Component Name\",\n",
        "-                    \"type\": \"input/button/card/etc.\",\n",
        "-                    \"description\": \"Component description\",\n",
        "-                    \"functionality\": \"What this component does\",\n",
        "-                    \"api_endpoints\": [\"Endpoint 1\", \"Endpoint 2\"],\n",
        "-                    \"data_displayed\": [\"Data element 1\", \"Data element 2\"]\n",
        "-                }}\n",
        "-            ]\n",
        "-        }}\n",
        "-    ]\n",
        "-}}\n",
        "-```\n",
        "-\"\"\"\n",
        "-\n",
        "-# Prompt for generating detailed implementation plan\n",
        "-DETAILED_IMPLEMENTATION_PLAN_PROMPT = \"\"\"\n",
        "-You are an experienced project manager with expertise in software development.\n",
        "-Your task is to create a detailed implementation plan with milestones, tasks, and subtasks.\n",
        "-\n",
        "-# High-Level Project Plan\n",
        "-{high_level_plan_json}\n",
        "-\n",
        "-# Technical Architecture\n",
        "-{technical_architecture_json}\n",
        "-\n",
        "-# API Endpoints\n",
        "-{api_endpoints_json}\n",
        "-\n",
        "-# Data Models\n",
        "-{data_models_json}\n",
        "-\n",
        "-# UI Components\n",
        "-{ui_components_json}\n",
        "-\n",
        "-# Project Time Budget\n",
        "-{total_hours} hours total\n",
        "-\n",
        "-# Instructions\n",
        "-Based on all the previous planning information, create a detailed implementation plan that includes:\n",
        "-1. Logical milestones representing phases of development\n",
        "-2. Detailed tasks for each milestone\n",
        "-3. Granular subtasks for each task\n",
        "-4. Dependencies between tasks\n",
        "-5. Estimated effort for each task\n",
        "-6. Task priorities\n",
        "-7. Due date offsets (in days from project start)\n",
        "-\n",
        "-The plan should cover all aspects of implementation including:\n",
        "-- Development environment setup\n",
        "-- Infrastructure configuration\n",
        "-- Database setup\n",
        "-- API development\n",
        "-- UI implementation\n",
        "-- Integration\n",
        "-- Testing\n",
        "-- Deployment\n",
        "-- Documentation\n",
        "-\n",
        "-CRITICAL: The TOTAL estimated hours across all tasks MUST sum up to approximately {total_hours} hours (\u00b15%). This is the time budget specified by the user for this project. Adjust the number and scope of tasks to fit this budget precisely.\n",
        "-\n",
        "-Ensure the plan is comprehensive, addressing all components defined in the architecture, all APIs,\n",
        "-all data models, and all UI components.\n",
        "-\n",
        "-# Output Format\n",
        "-Provide the implementation plan as a JSON object with the following structure:\n",
        "-\n",
        "-```json\n",
        "-{{\n",
        "-    \"milestones\": [\n",
        "-        {{\n",
        "-            \"name\": \"Milestone Name\",\n",
        "-            \"description\": \"Milestone description\",\n",
        "-            \"status\": \"not_started\",\n",
        "-            \"due_date_offset\": days_from_start,\n",
        "-            \"tasks\": [\n",
        "-                {{\n",
        "-                    \"name\": \"Task Name\",\n",
        "-                    \"description\": \"Task description\",\n",
        "-                    \"status\": \"not_started\",\n",
        "-                    \"priority\": \"low|medium|high\",\n",
        "-                    \"estimated_hours\": 1-100,\n",
        "-                    \"dependencies\": [\"Dependent Task Name 1\", ...],\n",
        "-                    \"components_affected\": [\"Component 1\", \"Component 2\"],\n",
        "-                    \"apis_affected\": [\"API 1\", \"API 2\"],\n",
        "-                    \"subtasks\": [\n",
        "-                        {{\n",
        "-                            \"name\": \"Subtask Name\",\n",
        "-                            \"status\": \"not_started\",\n",
        "-                            \"description\": \"Brief description of the subtask\"\n",
        "-                        }}\n",
        "-                    ]\n",
        "-                }}\n",
        "-            ]\n",
        "-        }}\n",
        "-    ]\n",
        "-}}\n",
        "-```\n",
        "-\"\"\"\n",
        "-\n",
        "-# Prompt for generating a textual overview of the project plan\n",
        "-TEXT_PLAN_PROMPT = \"\"\"\n",
        "-You are an experienced technical writer and project manager.\n",
        "-Your task is to create a human-readable textual overview of a project plan.\n",
        "-\n",
        "-# Project Plan\n",
        "-{project_json}\n",
        "-\n",
        "-# Instructions\n",
        "-Create a comprehensive textual overview of the project plan that includes:\n",
        "-1. Executive summary of the project\n",
        "-2. Overview of the project vision and objectives\n",
        "-3. Description of the target users and their needs\n",
        "-4. Summary of the technical architecture with key components\n",
        "-5. Overview of the API design and data models\n",
        "-6. Description of the UI and user experience\n",
        "-7. Implementation roadmap with key milestones and timeline\n",
        "-8. Potential challenges and risk mitigation strategies\n",
        "-\n",
        "-The overview should be well-structured with sections and subsections.\n",
        "-Use markdown formatting for better readability.\n",
        "-\n",
        "-# Output Format\n",
        "-Provide the overview as a markdown-formatted string.\n",
        "-\"\"\"\n",
        "-\n",
        "-# Prompt for refining a project plan based on feedback\n",
        "-REFINE_PROJECT_PLAN_PROMPT = \"\"\"\n",
        "-You are an experienced software architect and project manager.\n",
        "-Your task is to refine an existing project plan based on feedback.\n",
        "-\n",
        "-# Current Project Plan\n",
        "-{current_plan_json}\n",
        "-\n",
        "-# Feedback\n",
        "-{feedback}\n",
        "-\n",
        "-# Project Time Budget\n",
        "-{total_hours} hours total\n",
        "-\n",
        "-# Instructions\n",
        "-Refine the project plan based on the feedback provided. You may need to:\n",
        "-1. Adjust the high-level plan (vision, objectives, scope)\n",
        "-2. Modify the technical architecture\n",
        "-3. Update API endpoints\n",
        "-4. Revise data models\n",
        "-5. Enhance UI components\n",
        "-6. Reorganize milestones, tasks, and subtasks\n",
        "-\n",
        "-Ensure that the refined plan maintains consistency across all sections and addresses all feedback points.\n",
        "-Make sure dependencies between tasks remain valid after your changes.\n",
        "-\n",
        "-IMPORTANT: The refined plan must still fit within the original time budget of {total_hours} hours. If you make changes that affect the implementation timeline, adjust other areas to ensure the total estimated hours remain approximately the same.\n",
        "-\n",
        "-# Output Format\n",
        "-Provide the refined plan as a complete JSON object with the same structure as the current plan.\n",
        "-Do not return a diff or only the changes - return the complete updated plan.\n",
        "-\"\"\"\n",
        "-\n",
        "-# Repair prompt template for fixing validation errors\n",
        "-REPAIR_PROMPT = \"\"\"\n",
        "-You are an expert JSON repair specialist. Your task is to fix validation errors in a JSON response to match the expected Pydantic model structure.\n",
        "-You previously generated a JSON response that didn't match the expected structure. \n",
        "-Please fix the following validation errors and provide a corrected response.\n",
        "-\n",
        "-# Validation Errors\n",
        "-{errors}\n",
        "-\n",
        "-# Expected JSON Structure\n",
        "-{expected_structure}\n",
        "-\n",
        "-# Your Previous Response\n",
        "-{previous_response}\n",
        "-\n",
        "-# Project Time Budget Context\n",
        "-This is part of a project plan with a total time budget of {total_hours} hours.\n",
        "-\n",
        "-# Instructions\n",
        "-Please fix all validation errors and return a valid JSON response that matches the expected structure.\n",
        "-Make sure all required fields are present and have the correct types.\n",
        "-Ensure the response contains all the details from your previous response, just formatted correctly.\n",
        "-\n",
        "-If there are any estimated_hours fields that exceed their maximum allowed value, reduce them while keeping the relative effort distribution sensible. The total hours across all tasks should sum up to approximately {total_hours} hours.\n",
        "-\n",
        "-# Output Format\n",
        "-Provide a corrected JSON response that matches the expected structure.\n",
        "-\"\"\"\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "backend/app/services/ai/plan_prompts_copy.py",
      "status": "added",
      "additions": 328,
      "deletions": 0,
      "patch": "@@ -0,0 +1,328 @@\n+\"\"\"\n+Prompts for the AI-powered project planning service with LangGraph state awareness.\n+These prompts guide the AI to generate different components of a project plan.\n+\"\"\"\n+\n+# Prompt for generating clarification questions\n+CLARIFICATION_QUESTIONS_PROMPT = \"\"\"\n+You are an experienced software architect and project manager. \n+Your task is to generate simple clarification questions for a software project.\n+\n+# Project Information\n+Project Name: {name}\n+Project Description: {project_description}\n+Experience Level: {experience_level}\n+Team Size: {team_size}\n+Preferred Tech Stack: {tech_stack}\n+Project Time Budget: {total_hours} hours total\n+\n+# Instructions\n+This is the first step in our project planning process. Generate 4-6 easy-to-answer questions that will help with planning this software project. The questions should be:\n+- Simple and straightforward\n+- Answerable in 1-2 sentences\n+- Mostly technical (about 75%) with some product/idea questions\n+- Relevant to the specific project described\n+\n+Focus on questions about:\n+- Core technical requirements\n+- Key data needs\n+- Essential integrations\n+- Basic user needs\n+- Main technical challenges\n+- Development priorities\n+\n+Given the team size of {team_size}, experience level of {experience_level}, and time budget of {total_hours} hours, keep questions practical and focused on what's actually needed to build the project.\n+\n+# Output Format\n+Provide the questions as a JSON array of strings.\n+\n+# Examples of Good Questions:\n+- \"Will users need to log in? If yes, what authentication method would you prefer?\"\n+- \"What are the 2-3 most important pieces of data this application needs to store?\"\n+- \"Are there any third-party APIs or services this needs to connect with?\"\n+- \"Will this need to work offline, or is it always online?\"\n+- \"Which feature should be developed first?\"\n+- \"Do you need a mobile app, web app, or both?\"\n+\"\"\"\n+\n+# Prompt for generating high-level project plan\n+HIGH_LEVEL_PLAN_PROMPT = \"\"\"\n+You are an experienced product manager and software strategist.\n+Your task is to create a high-level project plan for a software development project.\n+\n+# Project Information\n+Project Name: {project_name}\n+Project Description: {project_description}\n+Experience Level: {experience_level}\n+Team Size: {team_size}\n+Preferred Tech Stack: {tech_stack}\n+\n+# Clarification Questions and Answers\n+{clarification_qa}\n+\n+# Project Time Budget\n+{total_hours} hours total\n+\n+# Instructions\n+Create a high-level project plan that includes:\n+1. Project name - USE THE EXACT PROJECT NAME PROVIDED: \"{project_name}\" (do not create a new name)\n+2. Project vision - what this project aims to achieve\n+3. Business objectives - specific, measurable goals\n+4. Target users - who will use this application and why\n+5. Core features - key functionality at a high level\n+6. Project scope - what's in and what's out\n+7. Success criteria - how to determine if the project is successful\n+8. Constraints - time, budget, technical, or other limitations\n+9. Assumptions - what we're assuming to be true\n+10. Risks - potential obstacles to success\n+11. Tech stack - USE THE PROVIDED TECH STACK as a foundation, adding any necessary technologies (if needed) to complete the architecture. Do not remove any of the provided technologies: {tech_stack}\n+\n+IMPORTANT: Assume the developers are highly capable and can accomplish more than the stated time budget suggests. For a {total_hours} hour project, plan for what could be accomplished in approximately {extended_hours} hours by an efficient team. Focus on creating an ambitious but achievable plan.\n+\n+Consider the team's experience level ({experience_level}) and team size ({team_size}) when determining scope and complexity.\n+\"\"\"\n+\n+# Prompt for generating technical architecture\n+TECHNICAL_ARCHITECTURE_PROMPT = \"\"\"\n+You are an experienced software architect with expertise in system design.\n+Your task is to create a detailed technical architecture for a software project.\n+\n+# Project Information\n+Project Name: {project_name}\n+Project Description: {project_description}\n+Experience Level: {experience_level}\n+Team Size: {team_size}\n+Tech Stack: {tech_stack}\n+Project Time Budget: {total_hours} hours total\n+\n+# High-Level Plan Key Information\n+Vision: {vision}\n+Business Objectives: {business_objectives}\n+Core Features: {core_features}\n+Project Scope: {scope}\n+Constraints: {constraints}\n+\n+# Instructions\n+Create a detailed technical architecture document that includes:\n+1. Architecture overview - a concise summary of the overall system design\n+2. Architecture diagram description - a textual description of how components interact\n+3. System components - all major software components with their responsibilities\n+4. Communication patterns - how components communicate with each other\n+5. Key architecture patterns used (e.g., microservices, event-driven, etc.)\n+6. Infrastructure requirements (hosting, CI/CD, etc.)\n+\n+Ensure the architecture addresses the business objectives, core features, and constraints defined in the high-level plan.\n+\n+IMPORTANT: Design an ambitious yet achievable architecture. Assume the developers are highly capable and can accomplish more than the stated time budget suggests. Design for what could be accomplished in approximately {extended_hours} hours by an efficient team.\n+\"\"\"\n+\n+# Prompt for generating API endpoints\n+API_ENDPOINTS_PROMPT = API_ENDPOINTS_PROMPT = \"\"\"\n+You are an experienced API designer with expertise in RESTful and GraphQL APIs.\n+Your task is to create detailed API endpoints documentation for a software project.\n+\n+# Project Information\n+Project Name: {project_name}\n+Project Description: {project_description}\n+Tech Stack: {tech_stack}\n+Project Time Budget: {total_hours} hours total\n+\n+# High-Level Plan Key Information\n+Core Features: {core_features}\n+Target Users: {target_users}\n+Business Objectives: {business_objectives}\n+Scope: {scope}\n+\n+# Technical Architecture Key Information\n+Architecture Overview: {architecture_overview}\n+System Components: {system_components}\n+Communication Patterns: {communication_patterns}\n+Architecture Patterns: {architecture_patterns}\n+\n+# Instructions\n+Create API documentation that is BOTH comprehensive AND concise. Include:\n+1. 3-5 key API design principles - focus on the most important standards\n+2. Base URL structure - keep this brief\n+3. Authentication approach - concise description of the auth mechanism\n+4. Resources - focus on 4-8 essential resources that align with core features\n+\n+# Token Management Guidelines\n+IMPORTANT: Keep your response under 14,000 tokens by following these guidelines:\n+1. For each resource, document 2-6 endpoints (prioritize the most essential ones)\n+2. Use a consistent, compact format for endpoint documentation\n+3. Keep descriptions focused and brief (2-3 sentences maximum)\n+4. For request/response schemas, include only essential fields (1-7 fields per schema)\n+5. Consolidate similar endpoints where possible\n+6. Omit detailed error codes except for the most critical cases\n+\n+# Prioritization\n+Focus only on endpoints that directly support:\n+1. Core business functionality (directly tied to main features)\n+2. Primary user flows (the critical path for users)\n+3. Essential data management (create, read, update, delete of key resources)\n+\n+Scale the API complexity appropriately for the {total_hours} hour budget:\n+- For small projects (<50 hours): 3-4 resources with 2-3 endpoints each\n+- For medium projects (50-150 hours): 4-6 resources with 3-4 endpoints each\n+- For large projects (>150 hours): 6-8 resources with 4-6 endpoints each\n+- If a resource is not logically needed in any way, do not include it\n+\"\"\"\n+\n+# Prompt for generating data models\n+DATA_MODELS_PROMPT = \"\"\"\n+You are an experienced database designer and data architect.\n+Your task is to create detailed data models for a software project.\n+\n+# Project Information\n+Project Name: {project_name}\n+Project Description: {project_description}\n+Tech Stack: {tech_stack}\n+Project Time Budget: {total_hours} hours total\n+\n+# API Key Information\n+Resources: {resources}\n+Authentication: {authentication}\n+\n+# Instructions\n+Design data models that will efficiently support the APIs and features defined. Create:\n+1. Entities - for each entity in the system:\n+   - Name and description\n+   - Properties with types, descriptions, and required status\n+2. Relationships - connections between entities:\n+   - Source and target entities\n+   - Relationship type (one-to-one, one-to-many, many-to-many)\n+   - Description of the relationship\n+\n+Ensure your data models:\n+- Support all API resources and endpoints defined in the previous step\n+- Follow database best practices for the technologies in the tech stack\n+- Enable efficient querying for common operations\n+\n+IMPORTANT: Create efficient, well-structured data models. Assume the developers are highly capable and can accomplish more than initially estimated. Design for what could be accomplished in approximately {extended_hours} hours.\n+\"\"\"\n+\n+# Prompt for generating UI components\n+UI_COMPONENTS_PROMPT = \"\"\"\n+You are an experienced UI/UX designer and frontend developer.\n+Your task is to create a UI components breakdown for a software project.\n+\n+# Project Information\n+Project Name: {project_name}\n+Project Description: {project_description}\n+Tech Stack: {tech_stack}\n+Project Time Budget: {total_hours} hours total\n+\n+# High-Level Plan Key Information\n+Core Features: {core_features}\n+Target Users: {target_users}\n+\n+# Technical Key Information\n+Frontend Components: {frontend_components}\n+\n+# API Resources\n+API Resources: {api_resources}\n+\n+# Data Entities\n+Data Entities: {data_entities}\n+\n+# Instructions\n+Create a comprehensive UI components breakdown that includes:\n+1. Screens/pages - for each screen in the application:\n+   - Name and description\n+   - Route/URL path\n+   - Target user types\n+   - Components contained on the screen\n+2. Components - for each UI component:\n+   - Name and type (form, table, chart, etc.)\n+   - Description and functionality\n+   - API endpoints it interacts with\n+   - Data displayed or manipulated\n+\n+Design UI components that:\n+- Effectively present the functionality defined in the APIs and data models\n+- Meet the needs of the target users\n+- Support all core features\n+- Follow a consistent design language\n+\n+IMPORTANT: This is a high-priority section. Create thorough screen and component definitions that align with the API endpoints and data models. Design for what could be accomplished in approximately {extended_hours} hours by an efficient team.\n+\"\"\"\n+\n+# Prompt for generating detailed implementation plan\n+DETAILED_IMPLEMENTATION_PLAN_PROMPT = \"\"\"\n+You are an experienced project manager with expertise in software development.\n+Your task is to create a detailed implementation plan with milestones, tasks, and subtasks.\n+\n+# Project Information\n+Project Name: {project_name}\n+Project Description: {project_description}\n+Tech Stack: {tech_stack}\n+Project Time Budget: {total_hours} hours total\n+\n+# Technical Components\n+System Components: {system_components}\n+API Resources: {api_resources}\n+Data Entities: {data_entities}\n+UI Screens: {ui_screens}\n+\n+# Instructions\n+Create a detailed implementation plan that includes:\n+1. Logical milestones representing phases of development\n+2. Detailed tasks for each milestone\n+3. Granular subtasks for each task\n+4. Dependencies between tasks\n+5. Estimated effort for each task\n+6. Task priorities\n+7. Due date offsets (in days from project start)\n+\n+The plan should cover all aspects of implementation including:\n+- Development environment setup\n+- Infrastructure configuration\n+- Database setup\n+- API development\n+- UI implementation\n+- Integration\n+- Testing\n+- Deployment\n+- Documentation\n+\n+CRITICAL: The TOTAL estimated hours across all tasks MUST sum up to approximately {total_hours} hours (\u00b15%). However, plan the work as if an efficient team could accomplish 50% more in the same timeframe. This means designing more ambitious tasks while keeping the total hour count at {total_hours}.\n+\n+Prioritize tasks in this order:\n+1. Core infrastructure and foundational components\n+2. API endpoints that enable key functionality\n+3. Essential UI components and screens\n+4. Data model implementation\n+5. Integration between components\n+6. Testing and quality assurance\n+7. Enhanced features and refinements\n+8. Documentation and deployment\n+\"\"\"\n+\n+# Repair prompt template for fixing validation errors\n+REPAIR_PROMPT = \"\"\"\n+You are an expert JSON repair specialist. Your task is to fix validation errors in a JSON response to match the expected Pydantic model structure.\n+You previously generated a JSON response that didn't match the expected structure. \n+Please fix the following validation errors and provide a corrected response.\n+\n+# Validation Errors\n+{errors}\n+\n+# Expected JSON Structure\n+{expected_structure}\n+\n+# Your Previous Response\n+{previous_response}\n+\n+# Project Time Budget Context\n+This is part of a project plan with a total time budget of {total_hours} hours.\n+\n+# Instructions\n+Please fix all validation errors and return a valid JSON response that matches the expected structure.\n+Make sure all required fields are present and have the correct types.\n+Ensure the response contains all the details from your previous response, just formatted correctly.\n+\n+If there are any estimated_hours fields that exceed their maximum allowed value, reduce them while keeping the relative effort distribution sensible. The total hours across all tasks should sum up to approximately {total_hours} hours.\n+\n+# Output Format\n+Provide a corrected JSON response that matches the expected structure.\n+\"\"\"\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -0,0 +1,328 @@\n",
        "+\"\"\"\n",
        "+Prompts for the AI-powered project planning service with LangGraph state awareness.\n",
        "+These prompts guide the AI to generate different components of a project plan.\n",
        "+\"\"\"\n",
        "+\n",
        "+# Prompt for generating clarification questions\n",
        "+CLARIFICATION_QUESTIONS_PROMPT = \"\"\"\n",
        "+You are an experienced software architect and project manager. \n",
        "+Your task is to generate simple clarification questions for a software project.\n",
        "+\n",
        "+# Project Information\n",
        "+Project Name: {name}\n",
        "+Project Description: {project_description}\n",
        "+Experience Level: {experience_level}\n",
        "+Team Size: {team_size}\n",
        "+Preferred Tech Stack: {tech_stack}\n",
        "+Project Time Budget: {total_hours} hours total\n",
        "+\n",
        "+# Instructions\n",
        "+This is the first step in our project planning process. Generate 4-6 easy-to-answer questions that will help with planning this software project. The questions should be:\n",
        "+- Simple and straightforward\n",
        "+- Answerable in 1-2 sentences\n",
        "+- Mostly technical (about 75%) with some product/idea questions\n",
        "+- Relevant to the specific project described\n",
        "+\n",
        "+Focus on questions about:\n",
        "+- Core technical requirements\n",
        "+- Key data needs\n",
        "+- Essential integrations\n",
        "+- Basic user needs\n",
        "+- Main technical challenges\n",
        "+- Development priorities\n",
        "+\n",
        "+Given the team size of {team_size}, experience level of {experience_level}, and time budget of {total_hours} hours, keep questions practical and focused on what's actually needed to build the project.\n",
        "+\n",
        "+# Output Format\n",
        "+Provide the questions as a JSON array of strings.\n",
        "+\n",
        "+# Examples of Good Questions:\n",
        "+- \"Will users need to log in? If yes, what authentication method would you prefer?\"\n",
        "+- \"What are the 2-3 most important pieces of data this application needs to store?\"\n",
        "+- \"Are there any third-party APIs or services this needs to connect with?\"\n",
        "+- \"Will this need to work offline, or is it always online?\"\n",
        "+- \"Which feature should be developed first?\"\n",
        "+- \"Do you need a mobile app, web app, or both?\"\n",
        "+\"\"\"\n",
        "+\n",
        "+# Prompt for generating high-level project plan\n",
        "+HIGH_LEVEL_PLAN_PROMPT = \"\"\"\n",
        "+You are an experienced product manager and software strategist.\n",
        "+Your task is to create a high-level project plan for a software development project.\n",
        "+\n",
        "+# Project Information\n",
        "+Project Name: {project_name}\n",
        "+Project Description: {project_description}\n",
        "+Experience Level: {experience_level}\n",
        "+Team Size: {team_size}\n",
        "+Preferred Tech Stack: {tech_stack}\n",
        "+\n",
        "+# Clarification Questions and Answers\n",
        "+{clarification_qa}\n",
        "+\n",
        "+# Project Time Budget\n",
        "+{total_hours} hours total\n",
        "+\n",
        "+# Instructions\n",
        "+Create a high-level project plan that includes:\n",
        "+1. Project name - USE THE EXACT PROJECT NAME PROVIDED: \"{project_name}\" (do not create a new name)\n",
        "+2. Project vision - what this project aims to achieve\n",
        "+3. Business objectives - specific, measurable goals\n",
        "+4. Target users - who will use this application and why\n",
        "+5. Core features - key functionality at a high level\n",
        "+6. Project scope - what's in and what's out\n",
        "+7. Success criteria - how to determine if the project is successful\n",
        "+8. Constraints - time, budget, technical, or other limitations\n",
        "+9. Assumptions - what we're assuming to be true\n",
        "+10. Risks - potential obstacles to success\n",
        "+11. Tech stack - USE THE PROVIDED TECH STACK as a foundation, adding any necessary technologies (if needed) to complete the architecture. Do not remove any of the provided technologies: {tech_stack}\n",
        "+\n",
        "+IMPORTANT: Assume the developers are highly capable and can accomplish more than the stated time budget suggests. For a {total_hours} hour project, plan for what could be accomplished in approximately {extended_hours} hours by an efficient team. Focus on creating an ambitious but achievable plan.\n",
        "+\n",
        "+Consider the team's experience level ({experience_level}) and team size ({team_size}) when determining scope and complexity.\n",
        "+\"\"\"\n",
        "+\n",
        "+# Prompt for generating technical architecture\n",
        "+TECHNICAL_ARCHITECTURE_PROMPT = \"\"\"\n",
        "+You are an experienced software architect with expertise in system design.\n",
        "+Your task is to create a detailed technical architecture for a software project.\n",
        "+\n",
        "+# Project Information\n",
        "+Project Name: {project_name}\n",
        "+Project Description: {project_description}\n",
        "+Experience Level: {experience_level}\n",
        "+Team Size: {team_size}\n",
        "+Tech Stack: {tech_stack}\n",
        "+Project Time Budget: {total_hours} hours total\n",
        "+\n",
        "+# High-Level Plan Key Information\n",
        "+Vision: {vision}\n",
        "+Business Objectives: {business_objectives}\n",
        "+Core Features: {core_features}\n",
        "+Project Scope: {scope}\n",
        "+Constraints: {constraints}\n",
        "+\n",
        "+# Instructions\n",
        "+Create a detailed technical architecture document that includes:\n",
        "+1. Architecture overview - a concise summary of the overall system design\n",
        "+2. Architecture diagram description - a textual description of how components interact\n",
        "+3. System components - all major software components with their responsibilities\n",
        "+4. Communication patterns - how components communicate with each other\n",
        "+5. Key architecture patterns used (e.g., microservices, event-driven, etc.)\n",
        "+6. Infrastructure requirements (hosting, CI/CD, etc.)\n",
        "+\n",
        "+Ensure the architecture addresses the business objectives, core features, and constraints defined in the high-level plan.\n",
        "+\n",
        "+IMPORTANT: Design an ambitious yet achievable architecture. Assume the developers are highly capable and can accomplish more than the stated time budget suggests. Design for what could be accomplished in approximately {extended_hours} hours by an efficient team.\n",
        "+\"\"\"\n",
        "+\n",
        "+# Prompt for generating API endpoints\n",
        "+API_ENDPOINTS_PROMPT = API_ENDPOINTS_PROMPT = \"\"\"\n",
        "+You are an experienced API designer with expertise in RESTful and GraphQL APIs.\n",
        "+Your task is to create detailed API endpoints documentation for a software project.\n",
        "+\n",
        "+# Project Information\n",
        "+Project Name: {project_name}\n",
        "+Project Description: {project_description}\n",
        "+Tech Stack: {tech_stack}\n",
        "+Project Time Budget: {total_hours} hours total\n",
        "+\n",
        "+# High-Level Plan Key Information\n",
        "+Core Features: {core_features}\n",
        "+Target Users: {target_users}\n",
        "+Business Objectives: {business_objectives}\n",
        "+Scope: {scope}\n",
        "+\n",
        "+# Technical Architecture Key Information\n",
        "+Architecture Overview: {architecture_overview}\n",
        "+System Components: {system_components}\n",
        "+Communication Patterns: {communication_patterns}\n",
        "+Architecture Patterns: {architecture_patterns}\n",
        "+\n",
        "+# Instructions\n",
        "+Create API documentation that is BOTH comprehensive AND concise. Include:\n",
        "+1. 3-5 key API design principles - focus on the most important standards\n",
        "+2. Base URL structure - keep this brief\n",
        "+3. Authentication approach - concise description of the auth mechanism\n",
        "+4. Resources - focus on 4-8 essential resources that align with core features\n",
        "+\n",
        "+# Token Management Guidelines\n",
        "+IMPORTANT: Keep your response under 14,000 tokens by following these guidelines:\n",
        "+1. For each resource, document 2-6 endpoints (prioritize the most essential ones)\n",
        "+2. Use a consistent, compact format for endpoint documentation\n",
        "+3. Keep descriptions focused and brief (2-3 sentences maximum)\n",
        "+4. For request/response schemas, include only essential fields (1-7 fields per schema)\n",
        "+5. Consolidate similar endpoints where possible\n",
        "+6. Omit detailed error codes except for the most critical cases\n",
        "+\n",
        "+# Prioritization\n",
        "+Focus only on endpoints that directly support:\n",
        "+1. Core business functionality (directly tied to main features)\n",
        "+2. Primary user flows (the critical path for users)\n",
        "+3. Essential data management (create, read, update, delete of key resources)\n",
        "+\n",
        "+Scale the API complexity appropriately for the {total_hours} hour budget:\n",
        "+- For small projects (<50 hours): 3-4 resources with 2-3 endpoints each\n",
        "+- For medium projects (50-150 hours): 4-6 resources with 3-4 endpoints each\n",
        "+- For large projects (>150 hours): 6-8 resources with 4-6 endpoints each\n",
        "+- If a resource is not logically needed in any way, do not include it\n",
        "+\"\"\"\n",
        "+\n",
        "+# Prompt for generating data models\n",
        "+DATA_MODELS_PROMPT = \"\"\"\n",
        "+You are an experienced database designer and data architect.\n",
        "+Your task is to create detailed data models for a software project.\n",
        "+\n",
        "+# Project Information\n",
        "+Project Name: {project_name}\n",
        "+Project Description: {project_description}\n",
        "+Tech Stack: {tech_stack}\n",
        "+Project Time Budget: {total_hours} hours total\n",
        "+\n",
        "+# API Key Information\n",
        "+Resources: {resources}\n",
        "+Authentication: {authentication}\n",
        "+\n",
        "+# Instructions\n",
        "+Design data models that will efficiently support the APIs and features defined. Create:\n",
        "+1. Entities - for each entity in the system:\n",
        "+   - Name and description\n",
        "+   - Properties with types, descriptions, and required status\n",
        "+2. Relationships - connections between entities:\n",
        "+   - Source and target entities\n",
        "+   - Relationship type (one-to-one, one-to-many, many-to-many)\n",
        "+   - Description of the relationship\n",
        "+\n",
        "+Ensure your data models:\n",
        "+- Support all API resources and endpoints defined in the previous step\n",
        "+- Follow database best practices for the technologies in the tech stack\n",
        "+- Enable efficient querying for common operations\n",
        "+\n",
        "+IMPORTANT: Create efficient, well-structured data models. Assume the developers are highly capable and can accomplish more than initially estimated. Design for what could be accomplished in approximately {extended_hours} hours.\n",
        "+\"\"\"\n",
        "+\n",
        "+# Prompt for generating UI components\n",
        "+UI_COMPONENTS_PROMPT = \"\"\"\n",
        "+You are an experienced UI/UX designer and frontend developer.\n",
        "+Your task is to create a UI components breakdown for a software project.\n",
        "+\n",
        "+# Project Information\n",
        "+Project Name: {project_name}\n",
        "+Project Description: {project_description}\n",
        "+Tech Stack: {tech_stack}\n",
        "+Project Time Budget: {total_hours} hours total\n",
        "+\n",
        "+# High-Level Plan Key Information\n",
        "+Core Features: {core_features}\n",
        "+Target Users: {target_users}\n",
        "+\n",
        "+# Technical Key Information\n",
        "+Frontend Components: {frontend_components}\n",
        "+\n",
        "+# API Resources\n",
        "+API Resources: {api_resources}\n",
        "+\n",
        "+# Data Entities\n",
        "+Data Entities: {data_entities}\n",
        "+\n",
        "+# Instructions\n",
        "+Create a comprehensive UI components breakdown that includes:\n",
        "+1. Screens/pages - for each screen in the application:\n",
        "+   - Name and description\n",
        "+   - Route/URL path\n",
        "+   - Target user types\n",
        "+   - Components contained on the screen\n",
        "+2. Components - for each UI component:\n",
        "+   - Name and type (form, table, chart, etc.)\n",
        "+   - Description and functionality\n",
        "+   - API endpoints it interacts with\n",
        "+   - Data displayed or manipulated\n",
        "+\n",
        "+Design UI components that:\n",
        "+- Effectively present the functionality defined in the APIs and data models\n",
        "+- Meet the needs of the target users\n",
        "+- Support all core features\n",
        "+- Follow a consistent design language\n",
        "+\n",
        "+IMPORTANT: This is a high-priority section. Create thorough screen and component definitions that align with the API endpoints and data models. Design for what could be accomplished in approximately {extended_hours} hours by an efficient team.\n",
        "+\"\"\"\n",
        "+\n",
        "+# Prompt for generating detailed implementation plan\n",
        "+DETAILED_IMPLEMENTATION_PLAN_PROMPT = \"\"\"\n",
        "+You are an experienced project manager with expertise in software development.\n",
        "+Your task is to create a detailed implementation plan with milestones, tasks, and subtasks.\n",
        "+\n",
        "+# Project Information\n",
        "+Project Name: {project_name}\n",
        "+Project Description: {project_description}\n",
        "+Tech Stack: {tech_stack}\n",
        "+Project Time Budget: {total_hours} hours total\n",
        "+\n",
        "+# Technical Components\n",
        "+System Components: {system_components}\n",
        "+API Resources: {api_resources}\n",
        "+Data Entities: {data_entities}\n",
        "+UI Screens: {ui_screens}\n",
        "+\n",
        "+# Instructions\n",
        "+Create a detailed implementation plan that includes:\n",
        "+1. Logical milestones representing phases of development\n",
        "+2. Detailed tasks for each milestone\n",
        "+3. Granular subtasks for each task\n",
        "+4. Dependencies between tasks\n",
        "+5. Estimated effort for each task\n",
        "+6. Task priorities\n",
        "+7. Due date offsets (in days from project start)\n",
        "+\n",
        "+The plan should cover all aspects of implementation including:\n",
        "+- Development environment setup\n",
        "+- Infrastructure configuration\n",
        "+- Database setup\n",
        "+- API development\n",
        "+- UI implementation\n",
        "+- Integration\n",
        "+- Testing\n",
        "+- Deployment\n",
        "+- Documentation\n",
        "+\n",
        "+CRITICAL: The TOTAL estimated hours across all tasks MUST sum up to approximately {total_hours} hours (\u00b15%). However, plan the work as if an efficient team could accomplish 50% more in the same timeframe. This means designing more ambitious tasks while keeping the total hour count at {total_hours}.\n",
        "+\n",
        "+Prioritize tasks in this order:\n",
        "+1. Core infrastructure and foundational components\n",
        "+2. API endpoints that enable key functionality\n",
        "+3. Essential UI components and screens\n",
        "+4. Data model implementation\n",
        "+5. Integration between components\n",
        "+6. Testing and quality assurance\n",
        "+7. Enhanced features and refinements\n",
        "+8. Documentation and deployment\n",
        "+\"\"\"\n",
        "+\n",
        "+# Repair prompt template for fixing validation errors\n",
        "+REPAIR_PROMPT = \"\"\"\n",
        "+You are an expert JSON repair specialist. Your task is to fix validation errors in a JSON response to match the expected Pydantic model structure.\n",
        "+You previously generated a JSON response that didn't match the expected structure. \n",
        "+Please fix the following validation errors and provide a corrected response.\n",
        "+\n",
        "+# Validation Errors\n",
        "+{errors}\n",
        "+\n",
        "+# Expected JSON Structure\n",
        "+{expected_structure}\n",
        "+\n",
        "+# Your Previous Response\n",
        "+{previous_response}\n",
        "+\n",
        "+# Project Time Budget Context\n",
        "+This is part of a project plan with a total time budget of {total_hours} hours.\n",
        "+\n",
        "+# Instructions\n",
        "+Please fix all validation errors and return a valid JSON response that matches the expected structure.\n",
        "+Make sure all required fields are present and have the correct types.\n",
        "+Ensure the response contains all the details from your previous response, just formatted correctly.\n",
        "+\n",
        "+If there are any estimated_hours fields that exceed their maximum allowed value, reduce them while keeping the relative effort distribution sensible. The total hours across all tasks should sum up to approximately {total_hours} hours.\n",
        "+\n",
        "+# Output Format\n",
        "+Provide a corrected JSON response that matches the expected structure.\n",
        "+\"\"\"\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "backend/app/services/ai/project_ai_service.py",
      "status": "removed",
      "additions": 0,
      "deletions": 446,
      "patch": "@@ -1,446 +0,0 @@\n-from typing import Dict, List, Any\n-from langchain.chains import LLMChain\n-from langchain.output_parsers.json import SimpleJsonOutputParser\n-import json\n-from langchain.prompts import ChatPromptTemplate\n-from app.pydantic_models.project_http_models import ClarificationResponse, PlanGenerationInput\n-from app.core.config import get_settings\n-from app.services.ai.ai_utils import compact_json, create_llm\n-from app.services.ai.validations import validate_and_repair_json\n-from app.pydantic_models.ai_plan_models import (\n-    HighLevelPlan,\n-    TechnicalArchitecture,\n-    APIEndpoints,\n-    DataModels,\n-    UIComponents,\n-    DetailedImplementationPlan,\n-    ComprehensiveProjectPlan\n-)\n-from app.services.ai.plan_prompts import (\n-    CLARIFICATION_QUESTIONS_PROMPT,\n-    HIGH_LEVEL_PLAN_PROMPT,\n-    TECHNICAL_ARCHITECTURE_PROMPT,\n-    API_ENDPOINTS_PROMPT,\n-    DATA_MODELS_PROMPT,\n-    UI_COMPONENTS_PROMPT,\n-    DETAILED_IMPLEMENTATION_PLAN_PROMPT,\n-    TEXT_PLAN_PROMPT,\n-    REFINE_PROJECT_PLAN_PROMPT\n-)\n-import logging\n-\n-from app.utils.timing import timed\n-from ...core.config import get_settings\n-\n-settings = get_settings()\n-logger = logging.getLogger(__name__)\n-\n-class ProjectAIService:\n-    \"\"\"Service for AI-powered project planning features with logical progression\"\"\"\n-    \n-    def __init__(self):\n-        self.llm = create_llm(json_mode=True)\n-        self.fast_llm = create_llm(json_mode=True, mode=\"fast\")\n-\n-\n-\n-    def create_chain(self, prompt_template: str, output_parser=None, repair_mode=False, temperature=0.2):\n-        \"\"\"\n-        Creates a LangChain chain with the given prompt template and configuration.\n-        \n-        Args:\n-            prompt_template: The template text with variables for the prompt\n-            output_parser: Optional parser to structure the LLM output\n-            repair_mode: If True, uses the repair LLM with higher temperature\n-        \n-        Returns:\n-            A configured LangChain Chain ready to be invoked\n-        \"\"\"\n-        # Create the template\n-        prompt = ChatPromptTemplate.from_template(prompt_template)\n-        llm = self.llm_repair_mode if repair_mode else self.llm\n-        # Create the LLM        \n-        # Debug info\n-        logger.debug(f\"Creating chain with prompt template: {prompt_template[:50]}...\")\n-        \n-        # Create and return the chain\n-        if output_parser:\n-            return LLMChain(llm=llm, prompt=prompt, output_parser=output_parser)\n-        return LLMChain(llm=llm, prompt=prompt)\n-    \n-                            \n-    async def generate_clarification_questions(self, project_info: PlanGenerationInput) -> List[str]:\n-        \"\"\"Generate clarification questions for a project description\"\"\"\n-        \n-        chain = self.create_chain(\n-            prompt_template=CLARIFICATION_QUESTIONS_PROMPT,\n-            output_parser=SimpleJsonOutputParser()\n-        )\n-        \n-        result = await chain.ainvoke({\n-            \"name\": project_info.name,\n-            \"project_description\": project_info.description,\n-            \"experience_level\": project_info.experience_level,\n-            \"team_size\": project_info.team_size,\n-            \"tech_stack\": project_info.tech_stack,\n-            \"total_hours\": project_info.total_hours,\n-        })\n-        \n-        # Parse the result\n-        raw_result = result.get(\"text\", \"\")\n-        \n-        # If it's a string, parse it as JSON\n-        if isinstance(raw_result, str):\n-            try:\n-                parsed_result = json.loads(raw_result)\n-            except json.JSONDecodeError:\n-                parsed_result = {\"questions\": []}\n-        else:\n-            parsed_result = raw_result\n-        \n-        # If the result is a list directly, wrap it in the expected structure\n-        if isinstance(parsed_result, list):\n-            parsed_result = {\"questions\": parsed_result}\n-        \n-        # Validate and repair the JSON\n-        validated_result = await validate_and_repair_json(\n-            response=parsed_result,\n-            model=ClarificationResponse,\n-            llm_chain_creator=self.create_chain\n-        )\n-        \n-        return validated_result\n-    \n-    @timed \n-    async def generate_project_plan(self, project_info: PlanGenerationInput, clarification_qa: Dict[str, str] = {}) -> Dict[str, Any]:\n-        \"\"\"Generate a comprehensive project plan based on description and clarification answers\"\"\"\n-        \n-        # Step 1: Generate high-level project vision and scope\n-        high_level_plan = await self._generate_high_level_plan(project_info, clarification_qa)\n-        hl_subset = {k: high_level_plan[k] for k in (\"vision\",\"core_features\",\"constraints\",\"tech_stack\")}\n-\n-        # Step 2: Generate technical architecture based on high-level plan\n-        technical_architecture = await self._generate_technical_architecture(project_info, hl_subset)\n-        arch_subset = {\n-            \"system_components\":     technical_architecture[\"system_components\"],\n-            \"communication_patterns\": technical_architecture[\"communication_patterns\"],\n-            \"architecture_patterns\":  technical_architecture[\"architecture_patterns\"],\n-        }\n-\n-        # Step 3: Generate API endpoints based on architecture and high-level plan\n-        api_endpoints = await self._generate_api_endpoints(project_info, hl_subset, arch_subset)\n-        api_subset = {\n-            \"resources\": api_endpoints[\"resources\"]\n-        }\n-\n-        # Step 4: Generate data models based on architecture, APIs, and high-level plan\n-        data_models = await self._generate_data_models(project_info, {\"core_features\": hl_subset[\"core_features\"]}, {\"system_components\": arch_subset[\"system_components\"]}, api_subset)\n-        \n-        # Step 5: Generate UI components based on high-level plan, APIs, and data models\n-        ui_components = await self._generate_ui_components(project_info, hl_subset, api_subset, {\"entities\": data_models[\"entities\"]})\n-        \n-        # Step 6: Generate detailed milestones, tasks, and subtasks based on all previous information\n-        detailed_plan = await self._generate_detailed_implementation_plan(\n-            project_info,\n-            hl_subset,\n-            arch_subset,\n-            api_subset,\n-            data_models,\n-            ui_components\n-        )\n-        \n-        # Step 7: Compile everything into a comprehensive project plan\n-        comprehensive_plan = await self._compile_comprehensive_plan(\n-            high_level_plan,\n-            technical_architecture,\n-            api_endpoints,\n-            data_models,\n-            ui_components,\n-            detailed_plan\n-        )\n-        \n-        # Additional step: Generate a textual overview of the plan\n-        # text_plan = await self._generate_text_plan(comprehensive_plan)\n-        \n-        return {\n-            \"structured_plan\": comprehensive_plan\n-        }\n-    \n-    async def _generate_high_level_plan(self, project_info: PlanGenerationInput, clarification_qa: Dict[str,str]={}) -> Dict[str, Any]:\n-        \"\"\"Generate a high-level project plan with vision, objectives, and scope\"\"\"\n-        \n-        # Format clarification Q&A as a list for better prompt readability\n-        print(\"generating high level plan... \ud83c\udf28\ufe0f\")\n-        clarification_qa_str = \"\\n\".join([\n-            f\"Q: {q}\\nA: {a}\" for q, a in clarification_qa.items()\n-            ])\n-        \n-        chain = self.create_chain(\n-            prompt_template=HIGH_LEVEL_PLAN_PROMPT,\n-            output_parser=SimpleJsonOutputParser()\n-        )\n-        \n-        result = await chain.ainvoke(\n-            {\"project_name\": project_info.name,\n-            \"project_description\": project_info.description,\n-            \"total_hours\": project_info.total_hours,\n-            \"tech_stack\": project_info.tech_stack,\n-            \"experience_level\": project_info.experience_level,\n-            \"team_size\": project_info.team_size,\n-            \"clarification_qa\": clarification_qa_str}\n-        )\n-        \n-        # Validate and repair the response if needed\n-        validated_result = await validate_and_repair_json(\n-            response=result.get(\"text\", \"\"),\n-            model=HighLevelPlan,\n-            llm_chain_creator=self.create_chain\n-        )\n-        print(\"finished generating high level plan\\n\")\n-        \n-        return validated_result\n-    \n-    async def _generate_technical_architecture(self, project_info: PlanGenerationInput, high_level_plan: Dict[str, Any]) -> Dict[str, Any]:\n-        \"\"\"Generate detailed technical architecture based on the high-level plan\"\"\"\n-        \n-        print(\"generating technical architecture... \ud83d\udc68\u200d\ud83d\udcbb\")\n-\n-        chain = self.create_chain(\n-            prompt_template=TECHNICAL_ARCHITECTURE_PROMPT,\n-            output_parser=SimpleJsonOutputParser()\n-        )\n-        \n-        result = await chain.ainvoke(\n-            {\"high_level_plan_json\":compact_json(high_level_plan),\n-             \"total_hours\": project_info.total_hours,\n-            \"project_description\":project_info.description,}\n-        )\n-        \n-        # Validate and repair the response if needed\n-        validated_result = await validate_and_repair_json(\n-            response=result.get(\"text\", \"\"),\n-            model=TechnicalArchitecture,\n-            llm_chain_creator=self.create_chain\n-        )\n-        \n-        print(\"finished generating technical architecture\\n\")\n-        return validated_result\n-    \n-    async def _generate_api_endpoints(\n-        self, \n-        project_info: PlanGenerationInput, \n-        high_level_plan: Dict[str, Any],\n-        technical_architecture: Dict[str, Any]\n-    ) -> Dict[str, Any]:\n-        \"\"\"Generate API endpoints documentation based on high-level plan and technical architecture\"\"\"\n-        \n-        print(\"generating api endpoints... \ud83d\udd1a\")\n-\n-        chain = self.create_chain(\n-            prompt_template=API_ENDPOINTS_PROMPT,\n-            output_parser=SimpleJsonOutputParser()\n-        )\n-        \n-        result = await chain.ainvoke(\n-            {\"high_level_plan_json\":compact_json(high_level_plan),\n-             \"total_hours\": project_info.total_hours,\n-            \"technical_architecture_json\":compact_json(technical_architecture)}\n-        )\n-        \n-        # Validate and repair the response if needed\n-        validated_result = await validate_and_repair_json(\n-            response=result.get(\"text\", \"\"),\n-            model=APIEndpoints,\n-            llm_chain_creator=self.create_chain\n-        )\n-        \n-        print(\"finished generating api endpoints\\n\")\n-\n-        return validated_result\n-    \n-    async def _generate_data_models(\n-        self, \n-        project_info: PlanGenerationInput, \n-        high_level_plan: Dict[str, Any],\n-        technical_architecture: Dict[str, Any],\n-        api_endpoints: Dict[str, Any]\n-    ) -> Dict[str, Any]:\n-        \"\"\"Generate database schema and data models based on all previous planning\"\"\"\n-        \n-        print(\"generating data models... \u2699\ufe0f\")\n-\n-        chain = self.create_chain(\n-            prompt_template=DATA_MODELS_PROMPT,\n-            output_parser=SimpleJsonOutputParser()\n-        )\n-        \n-        result = await chain.ainvoke(\n-            {\"high_level_plan_json\":compact_json(high_level_plan),\n-            \"technical_architecture_json\":compact_json(technical_architecture),\n-            \"total_hours\": project_info.total_hours,\n-            \"api_endpoints_json\":compact_json(api_endpoints)}\n-        )\n-        \n-        # Validate and repair the response if needed\n-        validated_result = await validate_and_repair_json(\n-            response=result.get(\"text\", \"\"),\n-            model=DataModels,\n-            llm_chain_creator=self.create_chain\n-        )\n-        \n-        print(\"finished generating data models\\n\")\n-\n-        return validated_result\n-    \n-    async def _generate_ui_components(\n-        self, \n-        project_info: PlanGenerationInput, \n-        high_level_plan: Dict[str, Any],\n-        api_endpoints: Dict[str, Any],\n-        data_models: Dict[str, Any]\n-    ) -> Dict[str, Any]:\n-        \"\"\"Generate UI components breakdown based on all previous planning\"\"\"\n-        \n-        print(\"generating ui components... \ud83d\udc41\ufe0f\")\n-\n-        chain = self.create_chain(\n-            prompt_template=UI_COMPONENTS_PROMPT,\n-            output_parser=SimpleJsonOutputParser()\n-        )\n-        \n-        result = await chain.ainvoke(\n-            {\"high_level_plan_json\":compact_json(high_level_plan),\n-            \"api_endpoints_json\":compact_json(api_endpoints),\n-            \"total_hours\": project_info.total_hours,\n-            \"data_models_json\":compact_json(data_models)}\n-        )\n-        \n-        # Validate and repair the response if needed\n-        validated_result = await validate_and_repair_json(\n-            response=result.get(\"text\", \"\"),\n-            model=UIComponents,\n-            llm_chain_creator=self.create_chain\n-        )\n-        \n-        print(\"finished generating ui components\\n\")\n-\n-        return validated_result\n-    \n-    async def _generate_detailed_implementation_plan(\n-        self,\n-        project_info: PlanGenerationInput,\n-        high_level_plan: Dict[str, Any],\n-        technical_architecture: Dict[str, Any],\n-        api_endpoints: Dict[str, Any],\n-        data_models: Dict[str, Any],\n-        ui_components: Dict[str, Any]\n-    ) -> Dict[str, Any]:\n-        \"\"\"Generate detailed milestones, tasks, and subtasks based on all previous planning\"\"\"\n-        \n-        print(\"generating detailed implementation plan... \ud83c\udfc1\")\n-\n-        chain = self.create_chain(\n-            prompt_template=DETAILED_IMPLEMENTATION_PLAN_PROMPT,\n-            output_parser=SimpleJsonOutputParser()\n-        )\n-        \n-        result = await chain.ainvoke(\n-            {\"high_level_plan_json\":compact_json(high_level_plan),\n-            \"technical_architecture_json\":compact_json(technical_architecture),\n-            \"api_endpoints_json\":compact_json(api_endpoints),\n-            \"data_models_json\":compact_json(data_models),\n-            \"total_hours\": project_info.total_hours,\n-            \"ui_components_json\":compact_json(ui_components)}\n-        )\n-        \n-        # Validate and repair the response if needed\n-        validated_result = await validate_and_repair_json(\n-            response=result.get(\"text\", \"\"),\n-            model=DetailedImplementationPlan,\n-            llm_chain_creator=self.create_chain\n-        )\n-        \n-        print(\"finished generating detailed implementation plan\\n\")\n-\n-        return validated_result\n-    \n-    async def _compile_comprehensive_plan(\n-        self,\n-        high_level_plan: Dict[str, Any],\n-        technical_architecture: Dict[str, Any],\n-        api_endpoints: Dict[str, Any],\n-        data_models: Dict[str, Any],\n-        ui_components: Dict[str, Any],\n-        detailed_plan: Dict[str, Any]\n-    ) -> Dict[str, Any]:\n-        \"\"\"Compile all components into a comprehensive project plan\"\"\"\n-        \n-        # Start with the high-level plan info\n-        comprehensive_plan = {\n-            \"name\": high_level_plan.get(\"name\", \"Untitled Project\"),\n-            \"description\": high_level_plan.get(\"description\", \"\"),\n-            \"status\": high_level_plan.get(\"status\", \"draft\"),\n-            \"tech_stack\": high_level_plan.get(\"tech_stack\", []),\n-            \"experience_level\": high_level_plan.get(\"experience_level\", \"mid\"),\n-            \"high_level_plan\": {\n-                \"vision\": high_level_plan.get(\"vision\", \"\"),\n-                \"business_objectives\": high_level_plan.get(\"business_objectives\", []),\n-                \"target_users\": high_level_plan.get(\"target_users\", []),\n-                \"core_features\": high_level_plan.get(\"core_features\", []),\n-                \"scope\": high_level_plan.get(\"scope\", {}),\n-                \"success_criteria\": high_level_plan.get(\"success_criteria\", []),\n-                \"constraints\": high_level_plan.get(\"constraints\", []),\n-                \"assumptions\": high_level_plan.get(\"assumptions\", []),\n-                \"risks\": high_level_plan.get(\"risks\", []),\n-            },\n-            \"technical_architecture\": technical_architecture,\n-            \"api_endpoints\": api_endpoints,\n-            \"data_models\": data_models,\n-            \"ui_components\": ui_components,\n-            \"implementation_plan\": detailed_plan\n-        }\n-        \n-        # Validate the comprehensive plan (optional)\n-        # This is just to ensure the structure is valid, not to repair it\n-        try:\n-            ComprehensiveProjectPlan(**comprehensive_plan)\n-            print(\"Comprehensive plan validated successfully.\u2705\\n\")\n-        except Exception as e:\n-            print(f\"Warning: Comprehensive plan validation failed: {str(e)}\")\n-            \n-        return comprehensive_plan\n-    \n-    async def _generate_text_plan(self, comprehensive_plan: Dict[str, Any]) -> str:\n-        \"\"\"Generate a textual overview of the project plan\"\"\"\n-        print(\"generating text plan... \ud83d\udde8\ufe0f\\n\")\n-\n-        chain = self.create_chain(\n-            prompt_template=TEXT_PLAN_PROMPT\n-        )\n-        \n-        result = await chain.ainvoke(\n-            {\"project_json\": compact_json(comprehensive_plan)}\n-        )\n-        \n-        print(\"finished generating text plan\")\n-\n-        return result.get(\"text\", \"\")\n-    \n-    async def refine_project_plan(self, current_plan: Dict[str, Any], feedback: str) -> Dict[str, Any]:\n-        \"\"\"Refine an existing project plan based on feedback\"\"\"\n-        \n-        chain = self.create_chain(\n-            prompt_template=REFINE_PROJECT_PLAN_PROMPT,\n-            output_parser=SimpleJsonOutputParser()\n-        )\n-        \n-        result = await chain.ainvoke(\n-            {\"current_plan_json\":compact_json(current_plan),\n-             \"total_hours\": current_plan.get(\"total_hours\", 100),\n-            \"feedback\":feedback}\n-        )\n-        \n-        # No validation here as we don't know the exact structure of the refined plan\n-        # It should maintain the same structure as the current plan\n-        \n-        return result\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,446 +0,0 @@\n",
        "-from typing import Dict, List, Any\n",
        "-from langchain.chains import LLMChain\n",
        "-from langchain.output_parsers.json import SimpleJsonOutputParser\n",
        "-import json\n",
        "-from langchain.prompts import ChatPromptTemplate\n",
        "-from app.pydantic_models.project_http_models import ClarificationResponse, PlanGenerationInput\n",
        "-from app.core.config import get_settings\n",
        "-from app.services.ai.ai_utils import compact_json, create_llm\n",
        "-from app.services.ai.validations import validate_and_repair_json\n",
        "-from app.pydantic_models.ai_plan_models import (\n",
        "-    HighLevelPlan,\n",
        "-    TechnicalArchitecture,\n",
        "-    APIEndpoints,\n",
        "-    DataModels,\n",
        "-    UIComponents,\n",
        "-    DetailedImplementationPlan,\n",
        "-    ComprehensiveProjectPlan\n",
        "-)\n",
        "-from app.services.ai.plan_prompts import (\n",
        "-    CLARIFICATION_QUESTIONS_PROMPT,\n",
        "-    HIGH_LEVEL_PLAN_PROMPT,\n",
        "-    TECHNICAL_ARCHITECTURE_PROMPT,\n",
        "-    API_ENDPOINTS_PROMPT,\n",
        "-    DATA_MODELS_PROMPT,\n",
        "-    UI_COMPONENTS_PROMPT,\n",
        "-    DETAILED_IMPLEMENTATION_PLAN_PROMPT,\n",
        "-    TEXT_PLAN_PROMPT,\n",
        "-    REFINE_PROJECT_PLAN_PROMPT\n",
        "-)\n",
        "-import logging\n",
        "-\n",
        "-from app.utils.timing import timed\n",
        "-from ...core.config import get_settings\n",
        "-\n",
        "-settings = get_settings()\n",
        "-logger = logging.getLogger(__name__)\n",
        "-\n",
        "-class ProjectAIService:\n",
        "-    \"\"\"Service for AI-powered project planning features with logical progression\"\"\"\n",
        "-    \n",
        "-    def __init__(self):\n",
        "-        self.llm = create_llm(json_mode=True)\n",
        "-        self.fast_llm = create_llm(json_mode=True, mode=\"fast\")\n",
        "-\n",
        "-\n",
        "-\n",
        "-    def create_chain(self, prompt_template: str, output_parser=None, repair_mode=False, temperature=0.2):\n",
        "-        \"\"\"\n",
        "-        Creates a LangChain chain with the given prompt template and configuration.\n",
        "-        \n",
        "-        Args:\n",
        "-            prompt_template: The template text with variables for the prompt\n",
        "-            output_parser: Optional parser to structure the LLM output\n",
        "-            repair_mode: If True, uses the repair LLM with higher temperature\n",
        "-        \n",
        "-        Returns:\n",
        "-            A configured LangChain Chain ready to be invoked\n",
        "-        \"\"\"\n",
        "-        # Create the template\n",
        "-        prompt = ChatPromptTemplate.from_template(prompt_template)\n",
        "-        llm = self.llm_repair_mode if repair_mode else self.llm\n",
        "-        # Create the LLM        \n",
        "-        # Debug info\n",
        "-        logger.debug(f\"Creating chain with prompt template: {prompt_template[:50]}...\")\n",
        "-        \n",
        "-        # Create and return the chain\n",
        "-        if output_parser:\n",
        "-            return LLMChain(llm=llm, prompt=prompt, output_parser=output_parser)\n",
        "-        return LLMChain(llm=llm, prompt=prompt)\n",
        "-    \n",
        "-                            \n",
        "-    async def generate_clarification_questions(self, project_info: PlanGenerationInput) -> List[str]:\n",
        "-        \"\"\"Generate clarification questions for a project description\"\"\"\n",
        "-        \n",
        "-        chain = self.create_chain(\n",
        "-            prompt_template=CLARIFICATION_QUESTIONS_PROMPT,\n",
        "-            output_parser=SimpleJsonOutputParser()\n",
        "-        )\n",
        "-        \n",
        "-        result = await chain.ainvoke({\n",
        "-            \"name\": project_info.name,\n",
        "-            \"project_description\": project_info.description,\n",
        "-            \"experience_level\": project_info.experience_level,\n",
        "-            \"team_size\": project_info.team_size,\n",
        "-            \"tech_stack\": project_info.tech_stack,\n",
        "-            \"total_hours\": project_info.total_hours,\n",
        "-        })\n",
        "-        \n",
        "-        # Parse the result\n",
        "-        raw_result = result.get(\"text\", \"\")\n",
        "-        \n",
        "-        # If it's a string, parse it as JSON\n",
        "-        if isinstance(raw_result, str):\n",
        "-            try:\n",
        "-                parsed_result = json.loads(raw_result)\n",
        "-            except json.JSONDecodeError:\n",
        "-                parsed_result = {\"questions\": []}\n",
        "-        else:\n",
        "-            parsed_result = raw_result\n",
        "-        \n",
        "-        # If the result is a list directly, wrap it in the expected structure\n",
        "-        if isinstance(parsed_result, list):\n",
        "-            parsed_result = {\"questions\": parsed_result}\n",
        "-        \n",
        "-        # Validate and repair the JSON\n",
        "-        validated_result = await validate_and_repair_json(\n",
        "-            response=parsed_result,\n",
        "-            model=ClarificationResponse,\n",
        "-            llm_chain_creator=self.create_chain\n",
        "-        )\n",
        "-        \n",
        "-        return validated_result\n",
        "-    \n",
        "-    @timed \n",
        "-    async def generate_project_plan(self, project_info: PlanGenerationInput, clarification_qa: Dict[str, str] = {}) -> Dict[str, Any]:\n",
        "-        \"\"\"Generate a comprehensive project plan based on description and clarification answers\"\"\"\n",
        "-        \n",
        "-        # Step 1: Generate high-level project vision and scope\n",
        "-        high_level_plan = await self._generate_high_level_plan(project_info, clarification_qa)\n",
        "-        hl_subset = {k: high_level_plan[k] for k in (\"vision\",\"core_features\",\"constraints\",\"tech_stack\")}\n",
        "-\n",
        "-        # Step 2: Generate technical architecture based on high-level plan\n",
        "-        technical_architecture = await self._generate_technical_architecture(project_info, hl_subset)\n",
        "-        arch_subset = {\n",
        "-            \"system_components\":     technical_architecture[\"system_components\"],\n",
        "-            \"communication_patterns\": technical_architecture[\"communication_patterns\"],\n",
        "-            \"architecture_patterns\":  technical_architecture[\"architecture_patterns\"],\n",
        "-        }\n",
        "-\n",
        "-        # Step 3: Generate API endpoints based on architecture and high-level plan\n",
        "-        api_endpoints = await self._generate_api_endpoints(project_info, hl_subset, arch_subset)\n",
        "-        api_subset = {\n",
        "-            \"resources\": api_endpoints[\"resources\"]\n",
        "-        }\n",
        "-\n",
        "-        # Step 4: Generate data models based on architecture, APIs, and high-level plan\n",
        "-        data_models = await self._generate_data_models(project_info, {\"core_features\": hl_subset[\"core_features\"]}, {\"system_components\": arch_subset[\"system_components\"]}, api_subset)\n",
        "-        \n",
        "-        # Step 5: Generate UI components based on high-level plan, APIs, and data models\n",
        "-        ui_components = await self._generate_ui_components(project_info, hl_subset, api_subset, {\"entities\": data_models[\"entities\"]})\n",
        "-        \n",
        "-        # Step 6: Generate detailed milestones, tasks, and subtasks based on all previous information\n",
        "-        detailed_plan = await self._generate_detailed_implementation_plan(\n",
        "-            project_info,\n",
        "-            hl_subset,\n",
        "-            arch_subset,\n",
        "-            api_subset,\n",
        "-            data_models,\n",
        "-            ui_components\n",
        "-        )\n",
        "-        \n",
        "-        # Step 7: Compile everything into a comprehensive project plan\n",
        "-        comprehensive_plan = await self._compile_comprehensive_plan(\n",
        "-            high_level_plan,\n",
        "-            technical_architecture,\n",
        "-            api_endpoints,\n",
        "-            data_models,\n",
        "-            ui_components,\n",
        "-            detailed_plan\n",
        "-        )\n",
        "-        \n",
        "-        # Additional step: Generate a textual overview of the plan\n",
        "-        # text_plan = await self._generate_text_plan(comprehensive_plan)\n",
        "-        \n",
        "-        return {\n",
        "-            \"structured_plan\": comprehensive_plan\n",
        "-        }\n",
        "-    \n",
        "-    async def _generate_high_level_plan(self, project_info: PlanGenerationInput, clarification_qa: Dict[str,str]={}) -> Dict[str, Any]:\n",
        "-        \"\"\"Generate a high-level project plan with vision, objectives, and scope\"\"\"\n",
        "-        \n",
        "-        # Format clarification Q&A as a list for better prompt readability\n",
        "-        print(\"generating high level plan... \ud83c\udf28\ufe0f\")\n",
        "-        clarification_qa_str = \"\\n\".join([\n",
        "-            f\"Q: {q}\\nA: {a}\" for q, a in clarification_qa.items()\n",
        "-            ])\n",
        "-        \n",
        "-        chain = self.create_chain(\n",
        "-            prompt_template=HIGH_LEVEL_PLAN_PROMPT,\n",
        "-            output_parser=SimpleJsonOutputParser()\n",
        "-        )\n",
        "-        \n",
        "-        result = await chain.ainvoke(\n",
        "-            {\"project_name\": project_info.name,\n",
        "-            \"project_description\": project_info.description,\n",
        "-            \"total_hours\": project_info.total_hours,\n",
        "-            \"tech_stack\": project_info.tech_stack,\n",
        "-            \"experience_level\": project_info.experience_level,\n",
        "-            \"team_size\": project_info.team_size,\n",
        "-            \"clarification_qa\": clarification_qa_str}\n",
        "-        )\n",
        "-        \n",
        "-        # Validate and repair the response if needed\n",
        "-        validated_result = await validate_and_repair_json(\n",
        "-            response=result.get(\"text\", \"\"),\n",
        "-            model=HighLevelPlan,\n",
        "-            llm_chain_creator=self.create_chain\n",
        "-        )\n",
        "-        print(\"finished generating high level plan\\n\")\n",
        "-        \n",
        "-        return validated_result\n",
        "-    \n",
        "-    async def _generate_technical_architecture(self, project_info: PlanGenerationInput, high_level_plan: Dict[str, Any]) -> Dict[str, Any]:\n",
        "-        \"\"\"Generate detailed technical architecture based on the high-level plan\"\"\"\n",
        "-        \n",
        "-        print(\"generating technical architecture... \ud83d\udc68\u200d\ud83d\udcbb\")\n",
        "-\n",
        "-        chain = self.create_chain(\n",
        "-            prompt_template=TECHNICAL_ARCHITECTURE_PROMPT,\n",
        "-            output_parser=SimpleJsonOutputParser()\n",
        "-        )\n",
        "-        \n",
        "-        result = await chain.ainvoke(\n",
        "-            {\"high_level_plan_json\":compact_json(high_level_plan),\n",
        "-             \"total_hours\": project_info.total_hours,\n",
        "-            \"project_description\":project_info.description,}\n",
        "-        )\n",
        "-        \n",
        "-        # Validate and repair the response if needed\n",
        "-        validated_result = await validate_and_repair_json(\n",
        "-            response=result.get(\"text\", \"\"),\n",
        "-            model=TechnicalArchitecture,\n",
        "-            llm_chain_creator=self.create_chain\n",
        "-        )\n",
        "-        \n",
        "-        print(\"finished generating technical architecture\\n\")\n",
        "-        return validated_result\n",
        "-    \n",
        "-    async def _generate_api_endpoints(\n",
        "-        self, \n",
        "-        project_info: PlanGenerationInput, \n",
        "-        high_level_plan: Dict[str, Any],\n",
        "-        technical_architecture: Dict[str, Any]\n",
        "-    ) -> Dict[str, Any]:\n",
        "-        \"\"\"Generate API endpoints documentation based on high-level plan and technical architecture\"\"\"\n",
        "-        \n",
        "-        print(\"generating api endpoints... \ud83d\udd1a\")\n",
        "-\n",
        "-        chain = self.create_chain(\n",
        "-            prompt_template=API_ENDPOINTS_PROMPT,\n",
        "-            output_parser=SimpleJsonOutputParser()\n",
        "-        )\n",
        "-        \n",
        "-        result = await chain.ainvoke(\n",
        "-            {\"high_level_plan_json\":compact_json(high_level_plan),\n",
        "-             \"total_hours\": project_info.total_hours,\n",
        "-            \"technical_architecture_json\":compact_json(technical_architecture)}\n",
        "-        )\n",
        "-        \n",
        "-        # Validate and repair the response if needed\n",
        "-        validated_result = await validate_and_repair_json(\n",
        "-            response=result.get(\"text\", \"\"),\n",
        "-            model=APIEndpoints,\n",
        "-            llm_chain_creator=self.create_chain\n",
        "-        )\n",
        "-        \n",
        "-        print(\"finished generating api endpoints\\n\")\n",
        "-\n",
        "-        return validated_result\n",
        "-    \n",
        "-    async def _generate_data_models(\n",
        "-        self, \n",
        "-        project_info: PlanGenerationInput, \n",
        "-        high_level_plan: Dict[str, Any],\n",
        "-        technical_architecture: Dict[str, Any],\n",
        "-        api_endpoints: Dict[str, Any]\n",
        "-    ) -> Dict[str, Any]:\n",
        "-        \"\"\"Generate database schema and data models based on all previous planning\"\"\"\n",
        "-        \n",
        "-        print(\"generating data models... \u2699\ufe0f\")\n",
        "-\n",
        "-        chain = self.create_chain(\n",
        "-            prompt_template=DATA_MODELS_PROMPT,\n",
        "-            output_parser=SimpleJsonOutputParser()\n",
        "-        )\n",
        "-        \n",
        "-        result = await chain.ainvoke(\n",
        "-            {\"high_level_plan_json\":compact_json(high_level_plan),\n",
        "-            \"technical_architecture_json\":compact_json(technical_architecture),\n",
        "-            \"total_hours\": project_info.total_hours,\n",
        "-            \"api_endpoints_json\":compact_json(api_endpoints)}\n",
        "-        )\n",
        "-        \n",
        "-        # Validate and repair the response if needed\n",
        "-        validated_result = await validate_and_repair_json(\n",
        "-            response=result.get(\"text\", \"\"),\n",
        "-            model=DataModels,\n",
        "-            llm_chain_creator=self.create_chain\n",
        "-        )\n",
        "-        \n",
        "-        print(\"finished generating data models\\n\")\n",
        "-\n",
        "-        return validated_result\n",
        "-    \n",
        "-    async def _generate_ui_components(\n",
        "-        self, \n",
        "-        project_info: PlanGenerationInput, \n",
        "-        high_level_plan: Dict[str, Any],\n",
        "-        api_endpoints: Dict[str, Any],\n",
        "-        data_models: Dict[str, Any]\n",
        "-    ) -> Dict[str, Any]:\n",
        "-        \"\"\"Generate UI components breakdown based on all previous planning\"\"\"\n",
        "-        \n",
        "-        print(\"generating ui components... \ud83d\udc41\ufe0f\")\n",
        "-\n",
        "-        chain = self.create_chain(\n",
        "-            prompt_template=UI_COMPONENTS_PROMPT,\n",
        "-            output_parser=SimpleJsonOutputParser()\n",
        "-        )\n",
        "-        \n",
        "-        result = await chain.ainvoke(\n",
        "-            {\"high_level_plan_json\":compact_json(high_level_plan),\n",
        "-            \"api_endpoints_json\":compact_json(api_endpoints),\n",
        "-            \"total_hours\": project_info.total_hours,\n",
        "-            \"data_models_json\":compact_json(data_models)}\n",
        "-        )\n",
        "-        \n",
        "-        # Validate and repair the response if needed\n",
        "-        validated_result = await validate_and_repair_json(\n",
        "-            response=result.get(\"text\", \"\"),\n",
        "-            model=UIComponents,\n",
        "-            llm_chain_creator=self.create_chain\n",
        "-        )\n",
        "-        \n",
        "-        print(\"finished generating ui components\\n\")\n",
        "-\n",
        "-        return validated_result\n",
        "-    \n",
        "-    async def _generate_detailed_implementation_plan(\n",
        "-        self,\n",
        "-        project_info: PlanGenerationInput,\n",
        "-        high_level_plan: Dict[str, Any],\n",
        "-        technical_architecture: Dict[str, Any],\n",
        "-        api_endpoints: Dict[str, Any],\n",
        "-        data_models: Dict[str, Any],\n",
        "-        ui_components: Dict[str, Any]\n",
        "-    ) -> Dict[str, Any]:\n",
        "-        \"\"\"Generate detailed milestones, tasks, and subtasks based on all previous planning\"\"\"\n",
        "-        \n",
        "-        print(\"generating detailed implementation plan... \ud83c\udfc1\")\n",
        "-\n",
        "-        chain = self.create_chain(\n",
        "-            prompt_template=DETAILED_IMPLEMENTATION_PLAN_PROMPT,\n",
        "-            output_parser=SimpleJsonOutputParser()\n",
        "-        )\n",
        "-        \n",
        "-        result = await chain.ainvoke(\n",
        "-            {\"high_level_plan_json\":compact_json(high_level_plan),\n",
        "-            \"technical_architecture_json\":compact_json(technical_architecture),\n",
        "-            \"api_endpoints_json\":compact_json(api_endpoints),\n",
        "-            \"data_models_json\":compact_json(data_models),\n",
        "-            \"total_hours\": project_info.total_hours,\n",
        "-            \"ui_components_json\":compact_json(ui_components)}\n",
        "-        )\n",
        "-        \n",
        "-        # Validate and repair the response if needed\n",
        "-        validated_result = await validate_and_repair_json(\n",
        "-            response=result.get(\"text\", \"\"),\n",
        "-            model=DetailedImplementationPlan,\n",
        "-            llm_chain_creator=self.create_chain\n",
        "-        )\n",
        "-        \n",
        "-        print(\"finished generating detailed implementation plan\\n\")\n",
        "-\n",
        "-        return validated_result\n",
        "-    \n",
        "-    async def _compile_comprehensive_plan(\n",
        "-        self,\n",
        "-        high_level_plan: Dict[str, Any],\n",
        "-        technical_architecture: Dict[str, Any],\n",
        "-        api_endpoints: Dict[str, Any],\n",
        "-        data_models: Dict[str, Any],\n",
        "-        ui_components: Dict[str, Any],\n",
        "-        detailed_plan: Dict[str, Any]\n",
        "-    ) -> Dict[str, Any]:\n",
        "-        \"\"\"Compile all components into a comprehensive project plan\"\"\"\n",
        "-        \n",
        "-        # Start with the high-level plan info\n",
        "-        comprehensive_plan = {\n",
        "-            \"name\": high_level_plan.get(\"name\", \"Untitled Project\"),\n",
        "-            \"description\": high_level_plan.get(\"description\", \"\"),\n",
        "-            \"status\": high_level_plan.get(\"status\", \"draft\"),\n",
        "-            \"tech_stack\": high_level_plan.get(\"tech_stack\", []),\n",
        "-            \"experience_level\": high_level_plan.get(\"experience_level\", \"mid\"),\n",
        "-            \"high_level_plan\": {\n",
        "-                \"vision\": high_level_plan.get(\"vision\", \"\"),\n",
        "-                \"business_objectives\": high_level_plan.get(\"business_objectives\", []),\n",
        "-                \"target_users\": high_level_plan.get(\"target_users\", []),\n",
        "-                \"core_features\": high_level_plan.get(\"core_features\", []),\n",
        "-                \"scope\": high_level_plan.get(\"scope\", {}),\n",
        "-                \"success_criteria\": high_level_plan.get(\"success_criteria\", []),\n",
        "-                \"constraints\": high_level_plan.get(\"constraints\", []),\n",
        "-                \"assumptions\": high_level_plan.get(\"assumptions\", []),\n",
        "-                \"risks\": high_level_plan.get(\"risks\", []),\n",
        "-            },\n",
        "-            \"technical_architecture\": technical_architecture,\n",
        "-            \"api_endpoints\": api_endpoints,\n",
        "-            \"data_models\": data_models,\n",
        "-            \"ui_components\": ui_components,\n",
        "-            \"implementation_plan\": detailed_plan\n",
        "-        }\n",
        "-        \n",
        "-        # Validate the comprehensive plan (optional)\n",
        "-        # This is just to ensure the structure is valid, not to repair it\n",
        "-        try:\n",
        "-            ComprehensiveProjectPlan(**comprehensive_plan)\n",
        "-            print(\"Comprehensive plan validated successfully.\u2705\\n\")\n",
        "-        except Exception as e:\n",
        "-            print(f\"Warning: Comprehensive plan validation failed: {str(e)}\")\n",
        "-            \n",
        "-        return comprehensive_plan\n",
        "-    \n",
        "-    async def _generate_text_plan(self, comprehensive_plan: Dict[str, Any]) -> str:\n",
        "-        \"\"\"Generate a textual overview of the project plan\"\"\"\n",
        "-        print(\"generating text plan... \ud83d\udde8\ufe0f\\n\")\n",
        "-\n",
        "-        chain = self.create_chain(\n",
        "-            prompt_template=TEXT_PLAN_PROMPT\n",
        "-        )\n",
        "-        \n",
        "-        result = await chain.ainvoke(\n",
        "-            {\"project_json\": compact_json(comprehensive_plan)}\n",
        "-        )\n",
        "-        \n",
        "-        print(\"finished generating text plan\")\n",
        "-\n",
        "-        return result.get(\"text\", \"\")\n",
        "-    \n",
        "-    async def refine_project_plan(self, current_plan: Dict[str, Any], feedback: str) -> Dict[str, Any]:\n",
        "-        \"\"\"Refine an existing project plan based on feedback\"\"\"\n",
        "-        \n",
        "-        chain = self.create_chain(\n",
        "-            prompt_template=REFINE_PROJECT_PLAN_PROMPT,\n",
        "-            output_parser=SimpleJsonOutputParser()\n",
        "-        )\n",
        "-        \n",
        "-        result = await chain.ainvoke(\n",
        "-            {\"current_plan_json\":compact_json(current_plan),\n",
        "-             \"total_hours\": current_plan.get(\"total_hours\", 100),\n",
        "-            \"feedback\":feedback}\n",
        "-        )\n",
        "-        \n",
        "-        # No validation here as we don't know the exact structure of the refined plan\n",
        "-        # It should maintain the same structure as the current plan\n",
        "-        \n",
        "-        return result\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "backend/app/services/ai/validations.py",
      "status": "removed",
      "additions": 0,
      "deletions": 104,
      "patch": "@@ -1,104 +0,0 @@\n-from typing import Dict, Any, Type, List, Optional\n-from pydantic import BaseModel, ValidationError\n-import json\n-from langchain.prompts import PromptTemplate\n-from langchain.chains import LLMChain\n-from langchain.output_parsers.json import SimpleJsonOutputParser\n-\n-from app.services.ai.plan_prompts import REPAIR_PROMPT\n-\n-async def validate_and_repair_json(\n-    response: Dict[str, Any], \n-    model: Type[BaseModel], \n-    llm_chain_creator,\n-    max_attempts: int = 3\n-) -> Dict[str, Any]:\n-    \"\"\"\n-    Validates a JSON response against a Pydantic model and attempts to repair it if invalid.\n-    \n-    Args:\n-        response: The JSON response to validate\n-        model: The Pydantic model to validate against\n-        llm_chain_creator: Function to create an LLM chain\n-        max_attempts: Maximum number of repair attempts\n-        \n-    Returns:\n-        The validated (and possibly repaired) JSON response\n-    \"\"\"\n-    # Try to validate with the model\n-    try:\n-        print(f\"Validating JSON against model: {model.__name__}\")\n-        validated_data = model(**response)\n-        return validated_data.model_dump()\n-    except ValidationError as e:\n-        # Get validation errors\n-        errors = e.errors()\n-        error_str = format_validation_errors(errors)\n-        \n-        # Get expected structure from model schema\n-        model_schema = model.model_json_schema()\n-        expected_structure = json.dumps(model_schema, indent=2)\n-        \n-        # Previous response\n-        previous_response = json.dumps(response, indent=2)\n-        \n-        repair_chain = llm_chain_creator(\n-        prompt_template=REPAIR_PROMPT,\n-        output_parser=SimpleJsonOutputParser()\n-     )\n-        \n-        # Try to repair\n-        attempts = 0\n-        while attempts < max_attempts:\n-            print(f\"Attempt {attempts + 1} to repair JSON...\")\n-            try:\n-                # Run the repair chain\n-                repaired_json = await repair_chain.ainvoke(\n-                    {\"errors\":error_str,\n-                    \"expected_structure\":expected_structure,\n-                    \"total_hours\": response.get(\"total_hours\", 100),\n-                    \"previous_response\":previous_response}\n-                )        \n-                repaired_json = repaired_json.get(\"text\", {})\n-                # Validate the repaired JSON\n-                validated_data = model(**repaired_json)\n-                return validated_data.model_dump()\n-                \n-            except ValidationError as e:\n-                errors = e.errors()\n-                error_str = format_validation_errors(errors)\n-                # Update previous response for next attempt\n-                previous_response = json.dumps(repaired_json)\n-                attempts += 1\n-                continue\n-                \n-        # If we get here, repair failed after max attempts\n-        raise ValueError(f\"Failed to repair JSON after {max_attempts} attempts. Validation errors: {error_str}\")\n-\n-def format_validation_errors(errors):\n-    formatted_errors = []\n-    for error in errors:\n-        # Extract the location path as a chain\n-        loc_path = '.'.join(str(loc_part) for loc_part in error.get('loc', []))\n-        \n-        # Create more descriptive error message\n-        if error['type'] == 'missing':\n-            msg = f\"MISSING FIELD: {loc_path} - Required field is missing\"\n-        elif error['type'] == 'type_error':\n-            msg = f\"TYPE ERROR: {loc_path} - Expected {error.get('ctx', {}).get('expected_type', 'proper type')}, got {type(error.get('input', '')).__name__}\"\n-        elif error['type'] in ('less_than_equal', 'greater_than_equal'):\n-            constraint = error.get('ctx', {})\n-            limit_type = 'maximum' if error['type'] == 'less_than_equal' else 'minimum'\n-            limit_value = error.get('ctx', {}).get('le' if error.get('type') == 'less_than_equal' else 'ge')\n-            msg = f\"CONSTRAINT ERROR: {loc_path} - Value {error.get('input')} exceeds {limit_type} of {limit_value}\"\n-        else:\n-            # For other error types\n-            msg = f\"VALIDATION ERROR: {loc_path} - {error.get('msg', 'Unknown error')}\"\n-            \n-        # Add value information when available\n-        if 'input' in error and error.get('input', None) is not None:\n-            msg += f\" (Current value: {error.get('input', \"Unknown\")})\"\n-            \n-        formatted_errors.append(msg)\n-    \n-    return \"\\n\".join(formatted_errors)\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,104 +0,0 @@\n",
        "-from typing import Dict, Any, Type, List, Optional\n",
        "-from pydantic import BaseModel, ValidationError\n",
        "-import json\n",
        "-from langchain.prompts import PromptTemplate\n",
        "-from langchain.chains import LLMChain\n",
        "-from langchain.output_parsers.json import SimpleJsonOutputParser\n",
        "-\n",
        "-from app.services.ai.plan_prompts import REPAIR_PROMPT\n",
        "-\n",
        "-async def validate_and_repair_json(\n",
        "-    response: Dict[str, Any], \n",
        "-    model: Type[BaseModel], \n",
        "-    llm_chain_creator,\n",
        "-    max_attempts: int = 3\n",
        "-) -> Dict[str, Any]:\n",
        "-    \"\"\"\n",
        "-    Validates a JSON response against a Pydantic model and attempts to repair it if invalid.\n",
        "-    \n",
        "-    Args:\n",
        "-        response: The JSON response to validate\n",
        "-        model: The Pydantic model to validate against\n",
        "-        llm_chain_creator: Function to create an LLM chain\n",
        "-        max_attempts: Maximum number of repair attempts\n",
        "-        \n",
        "-    Returns:\n",
        "-        The validated (and possibly repaired) JSON response\n",
        "-    \"\"\"\n",
        "-    # Try to validate with the model\n",
        "-    try:\n",
        "-        print(f\"Validating JSON against model: {model.__name__}\")\n",
        "-        validated_data = model(**response)\n",
        "-        return validated_data.model_dump()\n",
        "-    except ValidationError as e:\n",
        "-        # Get validation errors\n",
        "-        errors = e.errors()\n",
        "-        error_str = format_validation_errors(errors)\n",
        "-        \n",
        "-        # Get expected structure from model schema\n",
        "-        model_schema = model.model_json_schema()\n",
        "-        expected_structure = json.dumps(model_schema, indent=2)\n",
        "-        \n",
        "-        # Previous response\n",
        "-        previous_response = json.dumps(response, indent=2)\n",
        "-        \n",
        "-        repair_chain = llm_chain_creator(\n",
        "-        prompt_template=REPAIR_PROMPT,\n",
        "-        output_parser=SimpleJsonOutputParser()\n",
        "-     )\n",
        "-        \n",
        "-        # Try to repair\n",
        "-        attempts = 0\n",
        "-        while attempts < max_attempts:\n",
        "-            print(f\"Attempt {attempts + 1} to repair JSON...\")\n",
        "-            try:\n",
        "-                # Run the repair chain\n",
        "-                repaired_json = await repair_chain.ainvoke(\n",
        "-                    {\"errors\":error_str,\n",
        "-                    \"expected_structure\":expected_structure,\n",
        "-                    \"total_hours\": response.get(\"total_hours\", 100),\n",
        "-                    \"previous_response\":previous_response}\n",
        "-                )        \n",
        "-                repaired_json = repaired_json.get(\"text\", {})\n",
        "-                # Validate the repaired JSON\n",
        "-                validated_data = model(**repaired_json)\n",
        "-                return validated_data.model_dump()\n",
        "-                \n",
        "-            except ValidationError as e:\n",
        "-                errors = e.errors()\n",
        "-                error_str = format_validation_errors(errors)\n",
        "-                # Update previous response for next attempt\n",
        "-                previous_response = json.dumps(repaired_json)\n",
        "-                attempts += 1\n",
        "-                continue\n",
        "-                \n",
        "-        # If we get here, repair failed after max attempts\n",
        "-        raise ValueError(f\"Failed to repair JSON after {max_attempts} attempts. Validation errors: {error_str}\")\n",
        "-\n",
        "-def format_validation_errors(errors):\n",
        "-    formatted_errors = []\n",
        "-    for error in errors:\n",
        "-        # Extract the location path as a chain\n",
        "-        loc_path = '.'.join(str(loc_part) for loc_part in error.get('loc', []))\n",
        "-        \n",
        "-        # Create more descriptive error message\n",
        "-        if error['type'] == 'missing':\n",
        "-            msg = f\"MISSING FIELD: {loc_path} - Required field is missing\"\n",
        "-        elif error['type'] == 'type_error':\n",
        "-            msg = f\"TYPE ERROR: {loc_path} - Expected {error.get('ctx', {}).get('expected_type', 'proper type')}, got {type(error.get('input', '')).__name__}\"\n",
        "-        elif error['type'] in ('less_than_equal', 'greater_than_equal'):\n",
        "-            constraint = error.get('ctx', {})\n",
        "-            limit_type = 'maximum' if error['type'] == 'less_than_equal' else 'minimum'\n",
        "-            limit_value = error.get('ctx', {}).get('le' if error.get('type') == 'less_than_equal' else 'ge')\n",
        "-            msg = f\"CONSTRAINT ERROR: {loc_path} - Value {error.get('input')} exceeds {limit_type} of {limit_value}\"\n",
        "-        else:\n",
        "-            # For other error types\n",
        "-            msg = f\"VALIDATION ERROR: {loc_path} - {error.get('msg', 'Unknown error')}\"\n",
        "-            \n",
        "-        # Add value information when available\n",
        "-        if 'input' in error and error.get('input', None) is not None:\n",
        "-            msg += f\" (Current value: {error.get('input', \"Unknown\")})\"\n",
        "-            \n",
        "-        formatted_errors.append(msg)\n",
        "-    \n",
        "-    return \"\\n\".join(formatted_errors)\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "backend/app/utils/mongo_encoder.py",
      "status": "modified",
      "additions": 43,
      "deletions": 43,
      "patch": "@@ -1,44 +1,44 @@\n-from bson import ObjectId\n-from fastapi.encoders import jsonable_encoder\n-import json\n-from typing import Any, Dict, List\n-\n-class MongoJSONEncoder(json.JSONEncoder):\n-    def default(self, obj):\n-        if isinstance(obj, ObjectId):\n-            return str(obj)\n-        return super().default(obj)\n-\n-def mongo_jsonable_encoder(obj, **kwargs):\n-    \"\"\"Custom jsonable encoder that handles MongoDB ObjectId\"\"\"\n-    raw = jsonable_encoder(obj, custom_encoder={ObjectId: str}, **kwargs)\n-    return raw\n-\n-def serialize_mongodb_doc(obj: Any) -> Any:\n-    \"\"\"\n-    Recursively serialize MongoDB documents and ObjectIds to JSON-compatible formats.\n-    Handles nested dictionaries, lists, and special MongoDB types.\n-    Converts '_id' fields to 'id' fields.\n-    \"\"\"\n-    if isinstance(obj, dict):\n-        # Handle dictionaries - including those from .to_mongo().to_dict()\n-        result = {}\n-        for k, v in obj.items():\n-            if v is not None:\n-                if k == '_id':\n-                    result['id'] = serialize_mongodb_doc(v)\n-                else:\n-                    result[k] = serialize_mongodb_doc(v)\n-        return result\n-    elif isinstance(obj, list):\n-        # Handle lists\n-        return [serialize_mongodb_doc(item) for item in obj]\n-    elif isinstance(obj, ObjectId):\n-        # Convert ObjectId to string\n-        return str(obj)\n-    elif hasattr(obj, 'to_mongo'):\n-        # Handle mongoengine documents by converting to dict first\n-        return serialize_mongodb_doc(obj.to_mongo().to_dict())\n-    else:\n-        # Return other types as-is\n+from bson import ObjectId\r\n+from fastapi.encoders import jsonable_encoder\r\n+import json\r\n+from typing import Any, Dict, List\r\n+\r\n+class MongoJSONEncoder(json.JSONEncoder):\r\n+    def default(self, obj):\r\n+        if isinstance(obj, ObjectId):\r\n+            return str(obj)\r\n+        return super().default(obj)\r\n+\r\n+def mongo_jsonable_encoder(obj, **kwargs):\r\n+    \"\"\"Custom jsonable encoder that handles MongoDB ObjectId\"\"\"\r\n+    raw = jsonable_encoder(obj, custom_encoder={ObjectId: str}, **kwargs)\r\n+    return raw\r\n+\r\n+def serialize_mongodb_doc(obj: Any) -> Any:\r\n+    \"\"\"\r\n+    Recursively serialize MongoDB documents and ObjectIds to JSON-compatible formats.\r\n+    Handles nested dictionaries, lists, and special MongoDB types.\r\n+    Converts '_id' fields to 'id' fields.\r\n+    \"\"\"\r\n+    if isinstance(obj, dict):\r\n+        # Handle dictionaries - including those from .to_mongo().to_dict()\r\n+        result = {}\r\n+        for k, v in obj.items():\r\n+            if v is not None:\r\n+                if k == '_id':\r\n+                    result['id'] = serialize_mongodb_doc(v)\r\n+                else:\r\n+                    result[k] = serialize_mongodb_doc(v)\r\n+        return result\r\n+    elif isinstance(obj, list):\r\n+        # Handle lists\r\n+        return [serialize_mongodb_doc(item) for item in obj]\r\n+    elif isinstance(obj, ObjectId):\r\n+        # Convert ObjectId to string\r\n+        return str(obj)\r\n+    elif hasattr(obj, 'to_mongo'):\r\n+        # Handle mongoengine documents by converting to dict first\r\n+        return serialize_mongodb_doc(obj.to_mongo().to_dict())\r\n+    else:\r\n+        # Return other types as-is\r\n         return obj\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,44 +1,44 @@\n",
        "-from bson import ObjectId\n",
        "-from fastapi.encoders import jsonable_encoder\n",
        "-import json\n",
        "-from typing import Any, Dict, List\n",
        "-\n",
        "-class MongoJSONEncoder(json.JSONEncoder):\n",
        "-    def default(self, obj):\n",
        "-        if isinstance(obj, ObjectId):\n",
        "-            return str(obj)\n",
        "-        return super().default(obj)\n",
        "-\n",
        "-def mongo_jsonable_encoder(obj, **kwargs):\n",
        "-    \"\"\"Custom jsonable encoder that handles MongoDB ObjectId\"\"\"\n",
        "-    raw = jsonable_encoder(obj, custom_encoder={ObjectId: str}, **kwargs)\n",
        "-    return raw\n",
        "-\n",
        "-def serialize_mongodb_doc(obj: Any) -> Any:\n",
        "-    \"\"\"\n",
        "-    Recursively serialize MongoDB documents and ObjectIds to JSON-compatible formats.\n",
        "-    Handles nested dictionaries, lists, and special MongoDB types.\n",
        "-    Converts '_id' fields to 'id' fields.\n",
        "-    \"\"\"\n",
        "-    if isinstance(obj, dict):\n",
        "-        # Handle dictionaries - including those from .to_mongo().to_dict()\n",
        "-        result = {}\n",
        "-        for k, v in obj.items():\n",
        "-            if v is not None:\n",
        "-                if k == '_id':\n",
        "-                    result['id'] = serialize_mongodb_doc(v)\n",
        "-                else:\n",
        "-                    result[k] = serialize_mongodb_doc(v)\n",
        "-        return result\n",
        "-    elif isinstance(obj, list):\n",
        "-        # Handle lists\n",
        "-        return [serialize_mongodb_doc(item) for item in obj]\n",
        "-    elif isinstance(obj, ObjectId):\n",
        "-        # Convert ObjectId to string\n",
        "-        return str(obj)\n",
        "-    elif hasattr(obj, 'to_mongo'):\n",
        "-        # Handle mongoengine documents by converting to dict first\n",
        "-        return serialize_mongodb_doc(obj.to_mongo().to_dict())\n",
        "-    else:\n",
        "-        # Return other types as-is\n",
        "+from bson import ObjectId\r\n",
        "+from fastapi.encoders import jsonable_encoder\r\n",
        "+import json\r\n",
        "+from typing import Any, Dict, List\r\n",
        "+\r\n",
        "+class MongoJSONEncoder(json.JSONEncoder):\r\n",
        "+    def default(self, obj):\r\n",
        "+        if isinstance(obj, ObjectId):\r\n",
        "+            return str(obj)\r\n",
        "+        return super().default(obj)\r\n",
        "+\r\n",
        "+def mongo_jsonable_encoder(obj, **kwargs):\r\n",
        "+    \"\"\"Custom jsonable encoder that handles MongoDB ObjectId\"\"\"\r\n",
        "+    raw = jsonable_encoder(obj, custom_encoder={ObjectId: str}, **kwargs)\r\n",
        "+    return raw\r\n",
        "+\r\n",
        "+def serialize_mongodb_doc(obj: Any) -> Any:\r\n",
        "+    \"\"\"\r\n",
        "+    Recursively serialize MongoDB documents and ObjectIds to JSON-compatible formats.\r\n",
        "+    Handles nested dictionaries, lists, and special MongoDB types.\r\n",
        "+    Converts '_id' fields to 'id' fields.\r\n",
        "+    \"\"\"\r\n",
        "+    if isinstance(obj, dict):\r\n",
        "+        # Handle dictionaries - including those from .to_mongo().to_dict()\r\n",
        "+        result = {}\r\n",
        "+        for k, v in obj.items():\r\n",
        "+            if v is not None:\r\n",
        "+                if k == '_id':\r\n",
        "+                    result['id'] = serialize_mongodb_doc(v)\r\n",
        "+                else:\r\n",
        "+                    result[k] = serialize_mongodb_doc(v)\r\n",
        "+        return result\r\n",
        "+    elif isinstance(obj, list):\r\n",
        "+        # Handle lists\r\n",
        "+        return [serialize_mongodb_doc(item) for item in obj]\r\n",
        "+    elif isinstance(obj, ObjectId):\r\n",
        "+        # Convert ObjectId to string\r\n",
        "+        return str(obj)\r\n",
        "+    elif hasattr(obj, 'to_mongo'):\r\n",
        "+        # Handle mongoengine documents by converting to dict first\r\n",
        "+        return serialize_mongodb_doc(obj.to_mongo().to_dict())\r\n",
        "+    else:\r\n",
        "+        # Return other types as-is\r\n",
        "         return obj\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "backend/app/utils/serializers.py",
      "status": "modified",
      "additions": 184,
      "deletions": 186,
      "patch": "@@ -1,187 +1,185 @@\n-from datetime import datetime, timedelta, timezone\n-from typing import Any, Dict\n-from app.db.models.auth import User\n-from app.db.models.project import Project\n-from bson.objectid import ObjectId\n-from mongoengine.errors import InvalidQueryError, DoesNotExist\n-from app.pydantic_models.project_http_models import PlanGenerationInput\n-from app.utils.mongo_encoder import serialize_mongodb_doc\n-\n-\n-async def get_structured_project(project_id: str, current_user=None):\n-    \"\"\"\n-    Get a complete structured representation of a project with all its\n-    nested milestones, tasks, and subtasks.\n-    \n-    Args:\n-        project_id: The string ID of the project to retrieve\n-        current_user: Optional user for access control checks\n-        \n-    Returns:\n-        A fully structured JSON-compatible dictionary with all project details\n-        \n-    Raises:\n-        ValueError: For invalid project ID format\n-        DoesNotExist: If project not found\n-        PermissionError: If current_user doesn't have access to the project\n-    \"\"\"\n-    try:\n-        # Convert string ID to ObjectId for MongoDB query\n-        project = Project.objects(id=project_id).first()\n-    except InvalidQueryError:\n-        raise ValueError(f\"Invalid project ID format: {project_id}\")\n-    except DoesNotExist:\n-        raise DoesNotExist(f\"Project with ID {project_id} not found\")\n-    \n-    # Check access permissions if a user was provided\n-    if current_user:\n-        owner_id_str = str(project.owner_id.id) if hasattr(project.owner_id, 'id') else str(project.owner_id)\n-        current_user_id_str = str(current_user.id)\n-        collaborator_ids_str = [str(c.id) if hasattr(c, 'id') else str(c) for c in project.collaborator_ids]\n-        \n-        if owner_id_str != current_user_id_str and current_user_id_str not in collaborator_ids_str:\n-            raise PermissionError(\"Not authorized to access this project\")\n-    \n-\n-    \n-    # Build the basic project structure\n-    project_dict = project.to_mongo().to_dict()\n-    project_dict['id'] = str(project.id)\n-    if '_id' in project_dict:\n-        del project_dict['_id']\n-    \n-    metrics = calculate_plan_metrics(project_dict.get(\"implementation_plan\", {}).get(\"milestones\", []))\n-    project_dict['milestone_count'] = metrics[\"milestone_count\"]\n-    project_dict['task_count'] = metrics[\"task_count\"]\n-    project_dict['subtask_count'] = metrics[\"subtask_count\"]\n-    project_dict['completion_percentage'] = metrics[\"completion_percentage\"]\n-    # Serialize all MongoDB objects to avoid JSON encoding issues\n-    return serialize_mongodb_doc(project_dict)\n-\n-\n-async def create_or_update_project_from_plan(project_data:Dict[Any, Any], current_user:User, input_data:PlanGenerationInput, existing_project_id: str = None):\n-    \"\"\"Create a new project or update an existing project from AI-generated plan\"\"\"\n-    try:\n-        project = None\n-        \n-        if existing_project_id:\n-            # This is a refinement of an existing project\n-            project = Project.objects(id=ObjectId(existing_project_id)).first()\n-            if not project:\n-                raise Exception(f\"Project with ID {existing_project_id} not found\")\n-            \n-            \n-            # Update the project with new plan data\n-            project.name = input_data.get(\"name\", project_data.get(\"name\", \"Untitled Project\"))\n-            project.description = project_data.get(\"description\", project.description)\n-            project.tech_stack = project_data.get(\"tech_stack\", project.tech_stack)\n-            project.experience_level = input_data.get(\"experience_level\", project.experience_level)\n-            project.team_size = input_data.get(\"team_size\", project.team_size)\n-            project.status = project_data.get(\"status\", project.status)\n-            \n-            # Update with enhanced plan data\n-            \n-            project.high_level_plan = project_data.get(\"high_level_plan\", {})\n-            project.technical_architecture = project_data.get(\"technical_architecture\", {})\n-            project.api_endpoints = project_data.get(\"api_endpoints\", {})\n-            project.data_models = project_data.get(\"data_models\", {})\n-            project.ui_components = project_data.get(\"ui_components\", {})\n-            project.implementation_plan = project_data.get(\"implementation_plan\", {})\n-            \n-            project.updated_at = datetime.now(tz=timezone.utc)\n-            project.save()\n-            \n-        else:\n-            # Create a new project\n-            project = Project(\n-                name=input_data.get(\"name\", project_data.get(\"name\", \"Untitled Project\")),\n-                description=project_data.get(\"description\", \"\"),\n-                tech_stack=project_data.get(\"tech_stack\", []),\n-                experience_level=project_data.get(\"experience_level\", \"junior\"),\n-                team_size=input_data.get(\"team_size\", 1),\n-                status=project_data.get(\"status\", \"draft\"),\n-                owner_id=current_user.id,\n-\n-                \n-                high_level_plan=project_data.get(\"high_level_plan\", {}),\n-                technical_architecture=project_data.get(\"technical_architecture\", {}),\n-                api_endpoints=project_data.get(\"api_endpoints\", {}),\n-                data_models=project_data.get(\"data_models\", {}),\n-                ui_components=project_data.get(\"ui_components\", {}),\n-                implementation_plan=project_data.get(\"implementation_plan\", {}),\n-                created_at=datetime.now(tz=timezone.utc),\n-                updated_at=datetime.now(tz=timezone.utc)\n-            )\n-            project.save()\n-        \n-        project_id = str(project.id)\n-        \n-        \n-        return project_id\n-        \n-    except Exception as e:\n-        # If anything fails during creation of a new project, clean up\n-        if not existing_project_id and 'project' in locals() and project:\n-            project.delete()\n-            \n-        # Re-raise the exception\n-        raise Exception(f\"Failed to create/update project from plan: {str(e)}\")\n-\n-\n-def calculate_plan_metrics(milestones):\n-    \"\"\"\n-    Count milestones, tasks, and subtasks and calculate completion percentage.\n-    \n-    Args:\n-        milestones: List of milestone objects\n-        \n-    Returns:\n-        dict: Counts and completion percentage\n-    \"\"\"\n-    # Initialize counters\n-    milestone_count = len(milestones)\n-    task_count = 0\n-    subtask_count = 0\n-    \n-    # Track completed items\n-    completed_items = 0\n-    total_items = milestone_count  # Start with milestones\n-    \n-    # Process all milestones\n-    for milestone in milestones:\n-        # Check if milestone is completed\n-        if milestone.get(\"status\") == \"completed\":\n-            completed_items += 1\n-            \n-        # Count tasks\n-        tasks = milestone.get(\"tasks\", [])\n-        task_count += len(tasks)\n-        total_items += len(tasks)\n-        \n-        # Process tasks\n-        for task in tasks:\n-            # Check if task is completed\n-            if task.get(\"status\") == \"completed\":\n-                completed_items += 1\n-                \n-            # Count subtasks\n-            subtasks = task.get(\"subtasks\", [])\n-            subtask_count += len(subtasks)\n-            total_items += len(subtasks)\n-            \n-            # Check completed subtasks\n-            for subtask in subtasks:\n-                if subtask.get(\"status\") == \"completed\":\n-                    completed_items += 1\n-    \n-    # Calculate completion percentage\n-    completion_percentage = 0\n-    if total_items > 0:\n-        completion_percentage = (completed_items / total_items) * 100\n-    \n-    return {\n-        \"milestone_count\": milestone_count,\n-        \"task_count\": task_count,\n-        \"subtask_count\": subtask_count,\n-        \"completion_percentage\": round(completion_percentage, 2)\n+from datetime import datetime, timedelta, timezone\r\n+from typing import Any, Dict\r\n+from app.db.models.auth import User\r\n+from app.db.models.project import Project\r\n+from bson.objectid import ObjectId\r\n+from mongoengine.errors import InvalidQueryError, DoesNotExist\r\n+from app.pydantic_models.project_http_models import PlanGenerationInput\r\n+from app.utils.mongo_encoder import serialize_mongodb_doc\r\n+\r\n+\r\n+async def get_structured_project(project_id: str, current_user=None):\r\n+    \"\"\"\r\n+    Get a complete structured representation of a project with all its\r\n+    nested milestones, tasks, and subtasks.\r\n+    \r\n+    Args:\r\n+        project_id: The string ID of the project to retrieve\r\n+        current_user: Optional user for access control checks\r\n+        \r\n+    Returns:\r\n+        A fully structured JSON-compatible dictionary with all project details\r\n+        \r\n+    Raises:\r\n+        ValueError: For invalid project ID format\r\n+        DoesNotExist: If project not found\r\n+        PermissionError: If current_user doesn't have access to the project\r\n+    \"\"\"\r\n+    try:\r\n+        # Convert string ID to ObjectId for MongoDB query\r\n+        project = Project.objects(id=project_id).first()\r\n+    except InvalidQueryError:\r\n+        raise ValueError(f\"Invalid project ID format: {project_id}\")\r\n+    except DoesNotExist:\r\n+        raise DoesNotExist(f\"Project with ID {project_id} not found\")\r\n+    \r\n+    # Check access permissions if a user was provided\r\n+    if current_user:\r\n+        owner_id_str = str(project.owner_id.id) if hasattr(project.owner_id, 'id') else str(project.owner_id)\r\n+        current_user_id_str = str(current_user.id)\r\n+        collaborator_ids_str = [str(c.id) if hasattr(c, 'id') else str(c) for c in project.collaborator_ids]\r\n+        \r\n+        if owner_id_str != current_user_id_str and current_user_id_str not in collaborator_ids_str:\r\n+            raise PermissionError(\"Not authorized to access this project\")\r\n+    \r\n+\r\n+    \r\n+    # Build the basic project structure\r\n+    project_dict = project.to_mongo().to_dict()\r\n+    project_dict['id'] = str(project.id)\r\n+    if '_id' in project_dict:\r\n+        del project_dict['_id']\r\n+    \r\n+    metrics = calculate_plan_metrics(project_dict.get(\"implementation_plan\", {}).get(\"milestones\", []))\r\n+    project_dict['milestone_count'] = metrics[\"milestone_count\"]\r\n+    project_dict['task_count'] = metrics[\"task_count\"]\r\n+    project_dict['subtask_count'] = metrics[\"subtask_count\"]\r\n+    project_dict['completion_percentage'] = metrics[\"completion_percentage\"]\r\n+    # Serialize all MongoDB objects to avoid JSON encoding issues\r\n+    return serialize_mongodb_doc(project_dict)\r\n+\r\n+\r\n+async def create_or_update_project_from_plan(project_data:Dict[Any, Any], current_user:User, existing_project_id: str = None):\r\n+    \"\"\"Create a new project or update an existing project from AI-generated plan\"\"\"\r\n+    try:\r\n+        project = None\r\n+        \r\n+        if existing_project_id:\r\n+            # This is a refinement of an existing project\r\n+            project = Project.objects(id=ObjectId(existing_project_id)).first()\r\n+            if not project:\r\n+                raise Exception(f\"Project with ID {existing_project_id} not found\")\r\n+              \r\n+            # Update the project with new plan data\r\n+            project.name = project_data.get(\"name\", project_data.get(\"name\", \"Untitled Project\"))\r\n+            project.description = project_data.get(\"description\", project.description)\r\n+            project.tech_stack = project_data.get(\"tech_stack\", project.tech_stack)\r\n+            project.experience_level = project_data.get(\"experience_level\", project.experience_level)\r\n+            project.team_size = project_data.get(\"team_size\", project.team_size)\r\n+            project.status = project_data.get(\"status\", project.status)\r\n+            \r\n+            # Update with enhanced plan data\r\n+            \r\n+            project.high_level_plan = project_data.get(\"high_level_plan\", {})\r\n+            project.technical_architecture = project_data.get(\"technical_architecture\", {})\r\n+            project.api_endpoints = project_data.get(\"api_endpoints\", {})\r\n+            project.data_models = project_data.get(\"data_models\", {})\r\n+            project.ui_components = project_data.get(\"ui_components\", {})\r\n+            project.implementation_plan = project_data.get(\"implementation_plan\", {})\r\n+            \r\n+            project.updated_at = datetime.now(tz=timezone.utc)\r\n+            project.save()\r\n+            \r\n+        else:\r\n+            # Create a new project\r\n+            project = Project(\r\n+                name=project_data.get(\"name\", project_data.get(\"name\", \"Untitled Project\")),\r\n+                description=project_data.get(\"description\", \"\"),\r\n+                tech_stack=project_data.get(\"tech_stack\", []),\r\n+                experience_level=project_data.get(\"experience_level\", \"junior\"),\r\n+                team_size=project_data.get(\"team_size\", 1),\r\n+                status=project_data.get(\"status\", \"draft\"),\r\n+                owner_id=current_user.id,\r\n+\r\n+                high_level_plan=project_data.get(\"high_level_plan\", {}),\r\n+                technical_architecture=project_data.get(\"technical_architecture\", {}),\r\n+                api_endpoints=project_data.get(\"api_endpoints\", {}),\r\n+                data_models=project_data.get(\"data_models\", {}),\r\n+                ui_components=project_data.get(\"ui_components\", {}),\r\n+                implementation_plan=project_data.get(\"implementation_plan\", {}),\r\n+                created_at=datetime.now(tz=timezone.utc),\r\n+                updated_at=datetime.now(tz=timezone.utc)\r\n+            )\r\n+            project.save()\r\n+        \r\n+        project_id = str(project.id)\r\n+        \r\n+        \r\n+        return project_id\r\n+        \r\n+    except Exception as e:\r\n+        # If anything fails during creation of a new project, clean up\r\n+        if not existing_project_id and 'project' in locals() and project:\r\n+            project.delete()\r\n+            \r\n+        # Re-raise the exception\r\n+        raise Exception(f\"Failed to create/update project from plan: {str(e)}\")\r\n+\r\n+\r\n+def calculate_plan_metrics(milestones):\r\n+    \"\"\"\r\n+    Count milestones, tasks, and subtasks and calculate completion percentage.\r\n+    \r\n+    Args:\r\n+        milestones: List of milestone objects\r\n+        \r\n+    Returns:\r\n+        dict: Counts and completion percentage\r\n+    \"\"\"\r\n+    # Initialize counters\r\n+    milestone_count = len(milestones)\r\n+    task_count = 0\r\n+    subtask_count = 0\r\n+    \r\n+    # Track completed items\r\n+    completed_items = 0\r\n+    total_items = milestone_count  # Start with milestones\r\n+    \r\n+    # Process all milestones\r\n+    for milestone in milestones:\r\n+        # Check if milestone is completed\r\n+        if milestone.get(\"status\") == \"completed\":\r\n+            completed_items += 1\r\n+            \r\n+        # Count tasks\r\n+        tasks = milestone.get(\"tasks\", [])\r\n+        task_count += len(tasks)\r\n+        total_items += len(tasks)\r\n+        \r\n+        # Process tasks\r\n+        for task in tasks:\r\n+            # Check if task is completed\r\n+            if task.get(\"status\") == \"completed\":\r\n+                completed_items += 1\r\n+                \r\n+            # Count subtasks\r\n+            subtasks = task.get(\"subtasks\", [])\r\n+            subtask_count += len(subtasks)\r\n+            total_items += len(subtasks)\r\n+            \r\n+            # Check completed subtasks\r\n+            for subtask in subtasks:\r\n+                if subtask.get(\"status\") == \"completed\":\r\n+                    completed_items += 1\r\n+    \r\n+    # Calculate completion percentage\r\n+    completion_percentage = 0\r\n+    if total_items > 0:\r\n+        completion_percentage = (completed_items / total_items) * 100\r\n+    \r\n+    return {\r\n+        \"milestone_count\": milestone_count,\r\n+        \"task_count\": task_count,\r\n+        \"subtask_count\": subtask_count,\r\n+        \"completion_percentage\": round(completion_percentage, 2)\r\n     }\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,187 +1,185 @@\n",
        "-from datetime import datetime, timedelta, timezone\n",
        "-from typing import Any, Dict\n",
        "-from app.db.models.auth import User\n",
        "-from app.db.models.project import Project\n",
        "-from bson.objectid import ObjectId\n",
        "-from mongoengine.errors import InvalidQueryError, DoesNotExist\n",
        "-from app.pydantic_models.project_http_models import PlanGenerationInput\n",
        "-from app.utils.mongo_encoder import serialize_mongodb_doc\n",
        "-\n",
        "-\n",
        "-async def get_structured_project(project_id: str, current_user=None):\n",
        "-    \"\"\"\n",
        "-    Get a complete structured representation of a project with all its\n",
        "-    nested milestones, tasks, and subtasks.\n",
        "-    \n",
        "-    Args:\n",
        "-        project_id: The string ID of the project to retrieve\n",
        "-        current_user: Optional user for access control checks\n",
        "-        \n",
        "-    Returns:\n",
        "-        A fully structured JSON-compatible dictionary with all project details\n",
        "-        \n",
        "-    Raises:\n",
        "-        ValueError: For invalid project ID format\n",
        "-        DoesNotExist: If project not found\n",
        "-        PermissionError: If current_user doesn't have access to the project\n",
        "-    \"\"\"\n",
        "-    try:\n",
        "-        # Convert string ID to ObjectId for MongoDB query\n",
        "-        project = Project.objects(id=project_id).first()\n",
        "-    except InvalidQueryError:\n",
        "-        raise ValueError(f\"Invalid project ID format: {project_id}\")\n",
        "-    except DoesNotExist:\n",
        "-        raise DoesNotExist(f\"Project with ID {project_id} not found\")\n",
        "-    \n",
        "-    # Check access permissions if a user was provided\n",
        "-    if current_user:\n",
        "-        owner_id_str = str(project.owner_id.id) if hasattr(project.owner_id, 'id') else str(project.owner_id)\n",
        "-        current_user_id_str = str(current_user.id)\n",
        "-        collaborator_ids_str = [str(c.id) if hasattr(c, 'id') else str(c) for c in project.collaborator_ids]\n",
        "-        \n",
        "-        if owner_id_str != current_user_id_str and current_user_id_str not in collaborator_ids_str:\n",
        "-            raise PermissionError(\"Not authorized to access this project\")\n",
        "-    \n",
        "-\n",
        "-    \n",
        "-    # Build the basic project structure\n",
        "-    project_dict = project.to_mongo().to_dict()\n",
        "-    project_dict['id'] = str(project.id)\n",
        "-    if '_id' in project_dict:\n",
        "-        del project_dict['_id']\n",
        "-    \n",
        "-    metrics = calculate_plan_metrics(project_dict.get(\"implementation_plan\", {}).get(\"milestones\", []))\n",
        "-    project_dict['milestone_count'] = metrics[\"milestone_count\"]\n",
        "-    project_dict['task_count'] = metrics[\"task_count\"]\n",
        "-    project_dict['subtask_count'] = metrics[\"subtask_count\"]\n",
        "-    project_dict['completion_percentage'] = metrics[\"completion_percentage\"]\n",
        "-    # Serialize all MongoDB objects to avoid JSON encoding issues\n",
        "-    return serialize_mongodb_doc(project_dict)\n",
        "-\n",
        "-\n",
        "-async def create_or_update_project_from_plan(project_data:Dict[Any, Any], current_user:User, input_data:PlanGenerationInput, existing_project_id: str = None):\n",
        "-    \"\"\"Create a new project or update an existing project from AI-generated plan\"\"\"\n",
        "-    try:\n",
        "-        project = None\n",
        "-        \n",
        "-        if existing_project_id:\n",
        "-            # This is a refinement of an existing project\n",
        "-            project = Project.objects(id=ObjectId(existing_project_id)).first()\n",
        "-            if not project:\n",
        "-                raise Exception(f\"Project with ID {existing_project_id} not found\")\n",
        "-            \n",
        "-            \n",
        "-            # Update the project with new plan data\n",
        "-            project.name = input_data.get(\"name\", project_data.get(\"name\", \"Untitled Project\"))\n",
        "-            project.description = project_data.get(\"description\", project.description)\n",
        "-            project.tech_stack = project_data.get(\"tech_stack\", project.tech_stack)\n",
        "-            project.experience_level = input_data.get(\"experience_level\", project.experience_level)\n",
        "-            project.team_size = input_data.get(\"team_size\", project.team_size)\n",
        "-            project.status = project_data.get(\"status\", project.status)\n",
        "-            \n",
        "-            # Update with enhanced plan data\n",
        "-            \n",
        "-            project.high_level_plan = project_data.get(\"high_level_plan\", {})\n",
        "-            project.technical_architecture = project_data.get(\"technical_architecture\", {})\n",
        "-            project.api_endpoints = project_data.get(\"api_endpoints\", {})\n",
        "-            project.data_models = project_data.get(\"data_models\", {})\n",
        "-            project.ui_components = project_data.get(\"ui_components\", {})\n",
        "-            project.implementation_plan = project_data.get(\"implementation_plan\", {})\n",
        "-            \n",
        "-            project.updated_at = datetime.now(tz=timezone.utc)\n",
        "-            project.save()\n",
        "-            \n",
        "-        else:\n",
        "-            # Create a new project\n",
        "-            project = Project(\n",
        "-                name=input_data.get(\"name\", project_data.get(\"name\", \"Untitled Project\")),\n",
        "-                description=project_data.get(\"description\", \"\"),\n",
        "-                tech_stack=project_data.get(\"tech_stack\", []),\n",
        "-                experience_level=project_data.get(\"experience_level\", \"junior\"),\n",
        "-                team_size=input_data.get(\"team_size\", 1),\n",
        "-                status=project_data.get(\"status\", \"draft\"),\n",
        "-                owner_id=current_user.id,\n",
        "-\n",
        "-                \n",
        "-                high_level_plan=project_data.get(\"high_level_plan\", {}),\n",
        "-                technical_architecture=project_data.get(\"technical_architecture\", {}),\n",
        "-                api_endpoints=project_data.get(\"api_endpoints\", {}),\n",
        "-                data_models=project_data.get(\"data_models\", {}),\n",
        "-                ui_components=project_data.get(\"ui_components\", {}),\n",
        "-                implementation_plan=project_data.get(\"implementation_plan\", {}),\n",
        "-                created_at=datetime.now(tz=timezone.utc),\n",
        "-                updated_at=datetime.now(tz=timezone.utc)\n",
        "-            )\n",
        "-            project.save()\n",
        "-        \n",
        "-        project_id = str(project.id)\n",
        "-        \n",
        "-        \n",
        "-        return project_id\n",
        "-        \n",
        "-    except Exception as e:\n",
        "-        # If anything fails during creation of a new project, clean up\n",
        "-        if not existing_project_id and 'project' in locals() and project:\n",
        "-            project.delete()\n",
        "-            \n",
        "-        # Re-raise the exception\n",
        "-        raise Exception(f\"Failed to create/update project from plan: {str(e)}\")\n",
        "-\n",
        "-\n",
        "-def calculate_plan_metrics(milestones):\n",
        "-    \"\"\"\n",
        "-    Count milestones, tasks, and subtasks and calculate completion percentage.\n",
        "-    \n",
        "-    Args:\n",
        "-        milestones: List of milestone objects\n",
        "-        \n",
        "-    Returns:\n",
        "-        dict: Counts and completion percentage\n",
        "-    \"\"\"\n",
        "-    # Initialize counters\n",
        "-    milestone_count = len(milestones)\n",
        "-    task_count = 0\n",
        "-    subtask_count = 0\n",
        "-    \n",
        "-    # Track completed items\n",
        "-    completed_items = 0\n",
        "-    total_items = milestone_count  # Start with milestones\n",
        "-    \n",
        "-    # Process all milestones\n",
        "-    for milestone in milestones:\n",
        "-        # Check if milestone is completed\n",
        "-        if milestone.get(\"status\") == \"completed\":\n",
        "-            completed_items += 1\n",
        "-            \n",
        "-        # Count tasks\n",
        "-        tasks = milestone.get(\"tasks\", [])\n",
        "-        task_count += len(tasks)\n",
        "-        total_items += len(tasks)\n",
        "-        \n",
        "-        # Process tasks\n",
        "-        for task in tasks:\n",
        "-            # Check if task is completed\n",
        "-            if task.get(\"status\") == \"completed\":\n",
        "-                completed_items += 1\n",
        "-                \n",
        "-            # Count subtasks\n",
        "-            subtasks = task.get(\"subtasks\", [])\n",
        "-            subtask_count += len(subtasks)\n",
        "-            total_items += len(subtasks)\n",
        "-            \n",
        "-            # Check completed subtasks\n",
        "-            for subtask in subtasks:\n",
        "-                if subtask.get(\"status\") == \"completed\":\n",
        "-                    completed_items += 1\n",
        "-    \n",
        "-    # Calculate completion percentage\n",
        "-    completion_percentage = 0\n",
        "-    if total_items > 0:\n",
        "-        completion_percentage = (completed_items / total_items) * 100\n",
        "-    \n",
        "-    return {\n",
        "-        \"milestone_count\": milestone_count,\n",
        "-        \"task_count\": task_count,\n",
        "-        \"subtask_count\": subtask_count,\n",
        "-        \"completion_percentage\": round(completion_percentage, 2)\n",
        "+from datetime import datetime, timedelta, timezone\r\n",
        "+from typing import Any, Dict\r\n",
        "+from app.db.models.auth import User\r\n",
        "+from app.db.models.project import Project\r\n",
        "+from bson.objectid import ObjectId\r\n",
        "+from mongoengine.errors import InvalidQueryError, DoesNotExist\r\n",
        "+from app.pydantic_models.project_http_models import PlanGenerationInput\r\n",
        "+from app.utils.mongo_encoder import serialize_mongodb_doc\r\n",
        "+\r\n",
        "+\r\n",
        "+async def get_structured_project(project_id: str, current_user=None):\r\n",
        "+    \"\"\"\r\n",
        "+    Get a complete structured representation of a project with all its\r\n",
        "+    nested milestones, tasks, and subtasks.\r\n",
        "+    \r\n",
        "+    Args:\r\n",
        "+        project_id: The string ID of the project to retrieve\r\n",
        "+        current_user: Optional user for access control checks\r\n",
        "+        \r\n",
        "+    Returns:\r\n",
        "+        A fully structured JSON-compatible dictionary with all project details\r\n",
        "+        \r\n",
        "+    Raises:\r\n",
        "+        ValueError: For invalid project ID format\r\n",
        "+        DoesNotExist: If project not found\r\n",
        "+        PermissionError: If current_user doesn't have access to the project\r\n",
        "+    \"\"\"\r\n",
        "+    try:\r\n",
        "+        # Convert string ID to ObjectId for MongoDB query\r\n",
        "+        project = Project.objects(id=project_id).first()\r\n",
        "+    except InvalidQueryError:\r\n",
        "+        raise ValueError(f\"Invalid project ID format: {project_id}\")\r\n",
        "+    except DoesNotExist:\r\n",
        "+        raise DoesNotExist(f\"Project with ID {project_id} not found\")\r\n",
        "+    \r\n",
        "+    # Check access permissions if a user was provided\r\n",
        "+    if current_user:\r\n",
        "+        owner_id_str = str(project.owner_id.id) if hasattr(project.owner_id, 'id') else str(project.owner_id)\r\n",
        "+        current_user_id_str = str(current_user.id)\r\n",
        "+        collaborator_ids_str = [str(c.id) if hasattr(c, 'id') else str(c) for c in project.collaborator_ids]\r\n",
        "+        \r\n",
        "+        if owner_id_str != current_user_id_str and current_user_id_str not in collaborator_ids_str:\r\n",
        "+            raise PermissionError(\"Not authorized to access this project\")\r\n",
        "+    \r\n",
        "+\r\n",
        "+    \r\n",
        "+    # Build the basic project structure\r\n",
        "+    project_dict = project.to_mongo().to_dict()\r\n",
        "+    project_dict['id'] = str(project.id)\r\n",
        "+    if '_id' in project_dict:\r\n",
        "+        del project_dict['_id']\r\n",
        "+    \r\n",
        "+    metrics = calculate_plan_metrics(project_dict.get(\"implementation_plan\", {}).get(\"milestones\", []))\r\n",
        "+    project_dict['milestone_count'] = metrics[\"milestone_count\"]\r\n",
        "+    project_dict['task_count'] = metrics[\"task_count\"]\r\n",
        "+    project_dict['subtask_count'] = metrics[\"subtask_count\"]\r\n",
        "+    project_dict['completion_percentage'] = metrics[\"completion_percentage\"]\r\n",
        "+    # Serialize all MongoDB objects to avoid JSON encoding issues\r\n",
        "+    return serialize_mongodb_doc(project_dict)\r\n",
        "+\r\n",
        "+\r\n",
        "+async def create_or_update_project_from_plan(project_data:Dict[Any, Any], current_user:User, existing_project_id: str = None):\r\n",
        "+    \"\"\"Create a new project or update an existing project from AI-generated plan\"\"\"\r\n",
        "+    try:\r\n",
        "+        project = None\r\n",
        "+        \r\n",
        "+        if existing_project_id:\r\n",
        "+            # This is a refinement of an existing project\r\n",
        "+            project = Project.objects(id=ObjectId(existing_project_id)).first()\r\n",
        "+            if not project:\r\n",
        "+                raise Exception(f\"Project with ID {existing_project_id} not found\")\r\n",
        "+              \r\n",
        "+            # Update the project with new plan data\r\n",
        "+            project.name = project_data.get(\"name\", project_data.get(\"name\", \"Untitled Project\"))\r\n",
        "+            project.description = project_data.get(\"description\", project.description)\r\n",
        "+            project.tech_stack = project_data.get(\"tech_stack\", project.tech_stack)\r\n",
        "+            project.experience_level = project_data.get(\"experience_level\", project.experience_level)\r\n",
        "+            project.team_size = project_data.get(\"team_size\", project.team_size)\r\n",
        "+            project.status = project_data.get(\"status\", project.status)\r\n",
        "+            \r\n",
        "+            # Update with enhanced plan data\r\n",
        "+            \r\n",
        "+            project.high_level_plan = project_data.get(\"high_level_plan\", {})\r\n",
        "+            project.technical_architecture = project_data.get(\"technical_architecture\", {})\r\n",
        "+            project.api_endpoints = project_data.get(\"api_endpoints\", {})\r\n",
        "+            project.data_models = project_data.get(\"data_models\", {})\r\n",
        "+            project.ui_components = project_data.get(\"ui_components\", {})\r\n",
        "+            project.implementation_plan = project_data.get(\"implementation_plan\", {})\r\n",
        "+            \r\n",
        "+            project.updated_at = datetime.now(tz=timezone.utc)\r\n",
        "+            project.save()\r\n",
        "+            \r\n",
        "+        else:\r\n",
        "+            # Create a new project\r\n",
        "+            project = Project(\r\n",
        "+                name=project_data.get(\"name\", project_data.get(\"name\", \"Untitled Project\")),\r\n",
        "+                description=project_data.get(\"description\", \"\"),\r\n",
        "+                tech_stack=project_data.get(\"tech_stack\", []),\r\n",
        "+                experience_level=project_data.get(\"experience_level\", \"junior\"),\r\n",
        "+                team_size=project_data.get(\"team_size\", 1),\r\n",
        "+                status=project_data.get(\"status\", \"draft\"),\r\n",
        "+                owner_id=current_user.id,\r\n",
        "+\r\n",
        "+                high_level_plan=project_data.get(\"high_level_plan\", {}),\r\n",
        "+                technical_architecture=project_data.get(\"technical_architecture\", {}),\r\n",
        "+                api_endpoints=project_data.get(\"api_endpoints\", {}),\r\n",
        "+                data_models=project_data.get(\"data_models\", {}),\r\n",
        "+                ui_components=project_data.get(\"ui_components\", {}),\r\n",
        "+                implementation_plan=project_data.get(\"implementation_plan\", {}),\r\n",
        "+                created_at=datetime.now(tz=timezone.utc),\r\n",
        "+                updated_at=datetime.now(tz=timezone.utc)\r\n",
        "+            )\r\n",
        "+            project.save()\r\n",
        "+        \r\n",
        "+        project_id = str(project.id)\r\n",
        "+        \r\n",
        "+        \r\n",
        "+        return project_id\r\n",
        "+        \r\n",
        "+    except Exception as e:\r\n",
        "+        # If anything fails during creation of a new project, clean up\r\n",
        "+        if not existing_project_id and 'project' in locals() and project:\r\n",
        "+            project.delete()\r\n",
        "+            \r\n",
        "+        # Re-raise the exception\r\n",
        "+        raise Exception(f\"Failed to create/update project from plan: {str(e)}\")\r\n",
        "+\r\n",
        "+\r\n",
        "+def calculate_plan_metrics(milestones):\r\n",
        "+    \"\"\"\r\n",
        "+    Count milestones, tasks, and subtasks and calculate completion percentage.\r\n",
        "+    \r\n",
        "+    Args:\r\n",
        "+        milestones: List of milestone objects\r\n",
        "+        \r\n",
        "+    Returns:\r\n",
        "+        dict: Counts and completion percentage\r\n",
        "+    \"\"\"\r\n",
        "+    # Initialize counters\r\n",
        "+    milestone_count = len(milestones)\r\n",
        "+    task_count = 0\r\n",
        "+    subtask_count = 0\r\n",
        "+    \r\n",
        "+    # Track completed items\r\n",
        "+    completed_items = 0\r\n",
        "+    total_items = milestone_count  # Start with milestones\r\n",
        "+    \r\n",
        "+    # Process all milestones\r\n",
        "+    for milestone in milestones:\r\n",
        "+        # Check if milestone is completed\r\n",
        "+        if milestone.get(\"status\") == \"completed\":\r\n",
        "+            completed_items += 1\r\n",
        "+            \r\n",
        "+        # Count tasks\r\n",
        "+        tasks = milestone.get(\"tasks\", [])\r\n",
        "+        task_count += len(tasks)\r\n",
        "+        total_items += len(tasks)\r\n",
        "+        \r\n",
        "+        # Process tasks\r\n",
        "+        for task in tasks:\r\n",
        "+            # Check if task is completed\r\n",
        "+            if task.get(\"status\") == \"completed\":\r\n",
        "+                completed_items += 1\r\n",
        "+                \r\n",
        "+            # Count subtasks\r\n",
        "+            subtasks = task.get(\"subtasks\", [])\r\n",
        "+            subtask_count += len(subtasks)\r\n",
        "+            total_items += len(subtasks)\r\n",
        "+            \r\n",
        "+            # Check completed subtasks\r\n",
        "+            for subtask in subtasks:\r\n",
        "+                if subtask.get(\"status\") == \"completed\":\r\n",
        "+                    completed_items += 1\r\n",
        "+    \r\n",
        "+    # Calculate completion percentage\r\n",
        "+    completion_percentage = 0\r\n",
        "+    if total_items > 0:\r\n",
        "+        completion_percentage = (completed_items / total_items) * 100\r\n",
        "+    \r\n",
        "+    return {\r\n",
        "+        \"milestone_count\": milestone_count,\r\n",
        "+        \"task_count\": task_count,\r\n",
        "+        \"subtask_count\": subtask_count,\r\n",
        "+        \"completion_percentage\": round(completion_percentage, 2)\r\n",
        "     }\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "backend/requirements.txt",
      "status": "modified",
      "additions": 3,
      "deletions": 1,
      "patch": "@@ -60,4 +60,6 @@ zstandard\n graphviz\n selenium\n webdriver-manager\n-langchain-anthropic\n\\ No newline at end of file\n+langchain-anthropic\n+langgraph\n+langgraph-prebuilt\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -60,4 +60,6 @@ zstandard\n",
        " graphviz\n",
        " selenium\n",
        " webdriver-manager\n",
        "-langchain-anthropic\n",
        "\\ No newline at end of file\n",
        "+langchain-anthropic\n",
        "+langgraph\n",
        "+langgraph-prebuilt\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "docker-compose.yml",
      "status": "modified",
      "additions": 13,
      "deletions": 6,
      "patch": "@@ -1,5 +1,3 @@\n-version: '3'\n-\n services:\n   backend:\n     build: ./backend\n@@ -9,10 +7,8 @@ services:\n       - ./backend:/app\n     depends_on:\n       - selenium\n-    environment:\n-      - MONGODB_URI=mongodb+srv://edencohendev:l7pYtAy14Zsqjnnh@projectron.42amkpo.mongodb.net/?retryWrites=true&w=majority&appName=projectron\n-      - OPENAI_API_KEY=${OPENAI_API_KEY}\n-      - SELENIUM_URL=http://selenium:4444\n+    env_file:\n+      ./backend/.env\n \n   selenium:\n     image: selenium/standalone-chrome:4.19.1-20240402\n@@ -24,4 +20,15 @@ services:\n       - SE_NODE_SESSION_TIMEOUT=30\n     shm_size: 2g\n \n+  frontend:\n+    build: ./frontend\n+    ports:\n+      - \"3000:3000\"\n+    volumes:\n+      - ./frontend:/app\n+      - /app/node_modules\n+    environment:\n+      - NEXT_PUBLIC_BACKEND_URL=http://backend:8000\n+    depends_on:\n+      - backend\n # No mongo service needed since we're using Atlas\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,5 +1,3 @@\n",
        "-version: '3'\n",
        "-\n",
        " services:\n",
        "   backend:\n",
        "     build: ./backend\n",
        "@@ -9,10 +7,8 @@ services:\n",
        "       - ./backend:/app\n",
        "     depends_on:\n",
        "       - selenium\n",
        "-    environment:\n",
        "-      - MONGODB_URI=mongodb+srv://edencohendev:l7pYtAy14Zsqjnnh@projectron.42amkpo.mongodb.net/?retryWrites=true&w=majority&appName=projectron\n",
        "-      - OPENAI_API_KEY=${OPENAI_API_KEY}\n",
        "-      - SELENIUM_URL=http://selenium:4444\n",
        "+    env_file:\n",
        "+      ./backend/.env\n",
        " \n",
        "   selenium:\n",
        "     image: selenium/standalone-chrome:4.19.1-20240402\n",
        "@@ -24,4 +20,15 @@ services:\n",
        "       - SE_NODE_SESSION_TIMEOUT=30\n",
        "     shm_size: 2g\n",
        " \n",
        "+  frontend:\n",
        "+    build: ./frontend\n",
        "+    ports:\n",
        "+      - \"3000:3000\"\n",
        "+    volumes:\n",
        "+      - ./frontend:/app\n",
        "+      - /app/node_modules\n",
        "+    environment:\n",
        "+      - NEXT_PUBLIC_BACKEND_URL=http://backend:8000\n",
        "+    depends_on:\n",
        "+      - backend\n",
        " # No mongo service needed since we're using Atlas\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "frontend/Dockerfile",
      "status": "added",
      "additions": 12,
      "deletions": 0,
      "patch": "@@ -0,0 +1,12 @@\n+FROM node:18-alpine\n+\n+WORKDIR /app\n+\n+COPY package*.json ./\n+RUN npm install\n+\n+COPY . .\n+\n+EXPOSE 3000\n+\n+CMD [\"npm\", \"run\", \"dev\"]\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -0,0 +1,12 @@\n",
        "+FROM node:18-alpine\n",
        "+\n",
        "+WORKDIR /app\n",
        "+\n",
        "+COPY package*.json ./\n",
        "+RUN npm install\n",
        "+\n",
        "+COPY . .\n",
        "+\n",
        "+EXPOSE 3000\n",
        "+\n",
        "+CMD [\"npm\", \"run\", \"dev\"]\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "frontend/package-lock.json",
      "status": "modified",
      "additions": 11188,
      "deletions": 11188,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/package.json",
      "status": "modified",
      "additions": 60,
      "deletions": 60,
      "patch": "@@ -1,60 +1,60 @@\n-{\n-  \"name\": \"frontend\",\n-  \"version\": \"0.1.0\",\n-  \"private\": true,\n-  \"scripts\": {\n-    \"dev\": \"next dev\",\n-    \"build\": \"next build\",\n-    \"start\": \"next start\",\n-    \"lint\": \"next lint\"\n-  },\n-  \"dependencies\": {\n-    \"@hookform/resolvers\": \"^5.0.1\",\n-    \"@radix-ui/react-accordion\": \"^1.2.8\",\n-    \"@radix-ui/react-alert-dialog\": \"^1.1.11\",\n-    \"@radix-ui/react-avatar\": \"^1.1.6\",\n-    \"@radix-ui/react-checkbox\": \"^1.2.3\",\n-    \"@radix-ui/react-collapsible\": \"^1.1.8\",\n-    \"@radix-ui/react-dialog\": \"^1.1.10\",\n-    \"@radix-ui/react-dropdown-menu\": \"^2.1.10\",\n-    \"@radix-ui/react-label\": \"^2.1.4\",\n-    \"@radix-ui/react-navigation-menu\": \"^1.2.9\",\n-    \"@radix-ui/react-progress\": \"^1.1.4\",\n-    \"@radix-ui/react-radio-group\": \"^1.3.6\",\n-    \"@radix-ui/react-scroll-area\": \"^1.2.6\",\n-    \"@radix-ui/react-select\": \"^2.2.2\",\n-    \"@radix-ui/react-slot\": \"^1.2.0\",\n-    \"@radix-ui/react-switch\": \"^1.2.2\",\n-    \"@radix-ui/react-tabs\": \"^1.1.7\",\n-    \"@radix-ui/react-toast\": \"^1.2.11\",\n-    \"@radix-ui/react-tooltip\": \"^1.2.3\",\n-    \"class-variance-authority\": \"^0.7.1\",\n-    \"clsx\": \"^2.1.1\",\n-    \"date-fns\": \"^4.1.0\",\n-    \"framer-motion\": \"^12.7.4\",\n-    \"lucide-react\": \"^0.501.0\",\n-    \"next\": \"15.3.1\",\n-    \"next-image-export-optimizer\": \"^1.18.0\",\n-    \"next-themes\": \"^0.4.6\",\n-    \"react\": \"^19.0.0\",\n-    \"react-dom\": \"^19.0.0\",\n-    \"react-hook-form\": \"^7.55.0\",\n-    \"react-intersection-observer\": \"^9.16.0\",\n-    \"tailwind-merge\": \"^3.2.0\",\n-    \"tailwindcss-animate\": \"^1.0.7\",\n-    \"zod\": \"^3.24.3\"\n-  },\n-  \"devDependencies\": {\n-    \"@eslint/eslintrc\": \"^3\",\n-    \"@svgr/webpack\": \"^8.1.0\",\n-    \"@types/node\": \"^20\",\n-    \"@types/react\": \"^19\",\n-    \"@types/react-dom\": \"^19\",\n-    \"autoprefixer\": \"^10.4.21\",\n-    \"eslint\": \"^9\",\n-    \"eslint-config-next\": \"15.3.1\",\n-    \"postcss\": \"^8.5.3\",\n-    \"tailwindcss\": \"^3.4.17\",\n-    \"typescript\": \"^5\"\n-  }\n-}\n+{\r\n+  \"name\": \"frontend\",\r\n+  \"version\": \"0.1.0\",\r\n+  \"private\": true,\r\n+  \"scripts\": {\r\n+    \"dev\": \"next dev\",\r\n+    \"build\": \"next build\",\r\n+    \"start\": \"next start\",\r\n+    \"lint\": \"next lint\"\r\n+  },\r\n+  \"dependencies\": {\r\n+    \"@hookform/resolvers\": \"^5.0.1\",\r\n+    \"@radix-ui/react-accordion\": \"^1.2.8\",\r\n+    \"@radix-ui/react-alert-dialog\": \"^1.1.11\",\r\n+    \"@radix-ui/react-avatar\": \"^1.1.6\",\r\n+    \"@radix-ui/react-checkbox\": \"^1.2.3\",\r\n+    \"@radix-ui/react-collapsible\": \"^1.1.8\",\r\n+    \"@radix-ui/react-dialog\": \"^1.1.10\",\r\n+    \"@radix-ui/react-dropdown-menu\": \"^2.1.10\",\r\n+    \"@radix-ui/react-label\": \"^2.1.4\",\r\n+    \"@radix-ui/react-navigation-menu\": \"^1.2.9\",\r\n+    \"@radix-ui/react-progress\": \"^1.1.4\",\r\n+    \"@radix-ui/react-radio-group\": \"^1.3.6\",\r\n+    \"@radix-ui/react-scroll-area\": \"^1.2.6\",\r\n+    \"@radix-ui/react-select\": \"^2.2.2\",\r\n+    \"@radix-ui/react-slot\": \"^1.2.0\",\r\n+    \"@radix-ui/react-switch\": \"^1.2.2\",\r\n+    \"@radix-ui/react-tabs\": \"^1.1.7\",\r\n+    \"@radix-ui/react-toast\": \"^1.2.11\",\r\n+    \"@radix-ui/react-tooltip\": \"^1.2.3\",\r\n+    \"class-variance-authority\": \"^0.7.1\",\r\n+    \"clsx\": \"^2.1.1\",\r\n+    \"date-fns\": \"^4.1.0\",\r\n+    \"framer-motion\": \"^12.7.4\",\r\n+    \"lucide-react\": \"^0.501.0\",\r\n+    \"next\": \"15.3.1\",\r\n+    \"next-image-export-optimizer\": \"^1.18.0\",\r\n+    \"next-themes\": \"^0.4.6\",\r\n+    \"react\": \"^19.0.0\",\r\n+    \"react-dom\": \"^19.0.0\",\r\n+    \"react-hook-form\": \"^7.55.0\",\r\n+    \"react-intersection-observer\": \"^9.16.0\",\r\n+    \"tailwind-merge\": \"^3.2.0\",\r\n+    \"tailwindcss-animate\": \"^1.0.7\",\r\n+    \"zod\": \"^3.24.3\"\r\n+  },\r\n+  \"devDependencies\": {\r\n+    \"@eslint/eslintrc\": \"^3\",\r\n+    \"@svgr/webpack\": \"^8.1.0\",\r\n+    \"@types/node\": \"^20\",\r\n+    \"@types/react\": \"^19\",\r\n+    \"@types/react-dom\": \"^19\",\r\n+    \"autoprefixer\": \"^10.4.21\",\r\n+    \"eslint\": \"^9\",\r\n+    \"eslint-config-next\": \"15.3.1\",\r\n+    \"postcss\": \"^8.5.3\",\r\n+    \"tailwindcss\": \"^3.4.17\",\r\n+    \"typescript\": \"^5\"\r\n+  }\r\n+}\r",
      "patch_lines": [
        "@@ -1,60 +1,60 @@\n",
        "-{\n",
        "-  \"name\": \"frontend\",\n",
        "-  \"version\": \"0.1.0\",\n",
        "-  \"private\": true,\n",
        "-  \"scripts\": {\n",
        "-    \"dev\": \"next dev\",\n",
        "-    \"build\": \"next build\",\n",
        "-    \"start\": \"next start\",\n",
        "-    \"lint\": \"next lint\"\n",
        "-  },\n",
        "-  \"dependencies\": {\n",
        "-    \"@hookform/resolvers\": \"^5.0.1\",\n",
        "-    \"@radix-ui/react-accordion\": \"^1.2.8\",\n",
        "-    \"@radix-ui/react-alert-dialog\": \"^1.1.11\",\n",
        "-    \"@radix-ui/react-avatar\": \"^1.1.6\",\n",
        "-    \"@radix-ui/react-checkbox\": \"^1.2.3\",\n",
        "-    \"@radix-ui/react-collapsible\": \"^1.1.8\",\n",
        "-    \"@radix-ui/react-dialog\": \"^1.1.10\",\n",
        "-    \"@radix-ui/react-dropdown-menu\": \"^2.1.10\",\n",
        "-    \"@radix-ui/react-label\": \"^2.1.4\",\n",
        "-    \"@radix-ui/react-navigation-menu\": \"^1.2.9\",\n",
        "-    \"@radix-ui/react-progress\": \"^1.1.4\",\n",
        "-    \"@radix-ui/react-radio-group\": \"^1.3.6\",\n",
        "-    \"@radix-ui/react-scroll-area\": \"^1.2.6\",\n",
        "-    \"@radix-ui/react-select\": \"^2.2.2\",\n",
        "-    \"@radix-ui/react-slot\": \"^1.2.0\",\n",
        "-    \"@radix-ui/react-switch\": \"^1.2.2\",\n",
        "-    \"@radix-ui/react-tabs\": \"^1.1.7\",\n",
        "-    \"@radix-ui/react-toast\": \"^1.2.11\",\n",
        "-    \"@radix-ui/react-tooltip\": \"^1.2.3\",\n",
        "-    \"class-variance-authority\": \"^0.7.1\",\n",
        "-    \"clsx\": \"^2.1.1\",\n",
        "-    \"date-fns\": \"^4.1.0\",\n",
        "-    \"framer-motion\": \"^12.7.4\",\n",
        "-    \"lucide-react\": \"^0.501.0\",\n",
        "-    \"next\": \"15.3.1\",\n",
        "-    \"next-image-export-optimizer\": \"^1.18.0\",\n",
        "-    \"next-themes\": \"^0.4.6\",\n",
        "-    \"react\": \"^19.0.0\",\n",
        "-    \"react-dom\": \"^19.0.0\",\n",
        "-    \"react-hook-form\": \"^7.55.0\",\n",
        "-    \"react-intersection-observer\": \"^9.16.0\",\n",
        "-    \"tailwind-merge\": \"^3.2.0\",\n",
        "-    \"tailwindcss-animate\": \"^1.0.7\",\n",
        "-    \"zod\": \"^3.24.3\"\n",
        "-  },\n",
        "-  \"devDependencies\": {\n",
        "-    \"@eslint/eslintrc\": \"^3\",\n",
        "-    \"@svgr/webpack\": \"^8.1.0\",\n",
        "-    \"@types/node\": \"^20\",\n",
        "-    \"@types/react\": \"^19\",\n",
        "-    \"@types/react-dom\": \"^19\",\n",
        "-    \"autoprefixer\": \"^10.4.21\",\n",
        "-    \"eslint\": \"^9\",\n",
        "-    \"eslint-config-next\": \"15.3.1\",\n",
        "-    \"postcss\": \"^8.5.3\",\n",
        "-    \"tailwindcss\": \"^3.4.17\",\n",
        "-    \"typescript\": \"^5\"\n",
        "-  }\n",
        "-}\n",
        "+{\r\n",
        "+  \"name\": \"frontend\",\r\n",
        "+  \"version\": \"0.1.0\",\r\n",
        "+  \"private\": true,\r\n",
        "+  \"scripts\": {\r\n",
        "+    \"dev\": \"next dev\",\r\n",
        "+    \"build\": \"next build\",\r\n",
        "+    \"start\": \"next start\",\r\n",
        "+    \"lint\": \"next lint\"\r\n",
        "+  },\r\n",
        "+  \"dependencies\": {\r\n",
        "+    \"@hookform/resolvers\": \"^5.0.1\",\r\n",
        "+    \"@radix-ui/react-accordion\": \"^1.2.8\",\r\n",
        "+    \"@radix-ui/react-alert-dialog\": \"^1.1.11\",\r\n",
        "+    \"@radix-ui/react-avatar\": \"^1.1.6\",\r\n",
        "+    \"@radix-ui/react-checkbox\": \"^1.2.3\",\r\n",
        "+    \"@radix-ui/react-collapsible\": \"^1.1.8\",\r\n",
        "+    \"@radix-ui/react-dialog\": \"^1.1.10\",\r\n",
        "+    \"@radix-ui/react-dropdown-menu\": \"^2.1.10\",\r\n",
        "+    \"@radix-ui/react-label\": \"^2.1.4\",\r\n",
        "+    \"@radix-ui/react-navigation-menu\": \"^1.2.9\",\r\n",
        "+    \"@radix-ui/react-progress\": \"^1.1.4\",\r\n",
        "+    \"@radix-ui/react-radio-group\": \"^1.3.6\",\r\n",
        "+    \"@radix-ui/react-scroll-area\": \"^1.2.6\",\r\n",
        "+    \"@radix-ui/react-select\": \"^2.2.2\",\r\n",
        "+    \"@radix-ui/react-slot\": \"^1.2.0\",\r\n",
        "+    \"@radix-ui/react-switch\": \"^1.2.2\",\r\n",
        "+    \"@radix-ui/react-tabs\": \"^1.1.7\",\r\n",
        "+    \"@radix-ui/react-toast\": \"^1.2.11\",\r\n",
        "+    \"@radix-ui/react-tooltip\": \"^1.2.3\",\r\n",
        "+    \"class-variance-authority\": \"^0.7.1\",\r\n",
        "+    \"clsx\": \"^2.1.1\",\r\n",
        "+    \"date-fns\": \"^4.1.0\",\r\n",
        "+    \"framer-motion\": \"^12.7.4\",\r\n",
        "+    \"lucide-react\": \"^0.501.0\",\r\n",
        "+    \"next\": \"15.3.1\",\r\n",
        "+    \"next-image-export-optimizer\": \"^1.18.0\",\r\n",
        "+    \"next-themes\": \"^0.4.6\",\r\n",
        "+    \"react\": \"^19.0.0\",\r\n",
        "+    \"react-dom\": \"^19.0.0\",\r\n",
        "+    \"react-hook-form\": \"^7.55.0\",\r\n",
        "+    \"react-intersection-observer\": \"^9.16.0\",\r\n",
        "+    \"tailwind-merge\": \"^3.2.0\",\r\n",
        "+    \"tailwindcss-animate\": \"^1.0.7\",\r\n",
        "+    \"zod\": \"^3.24.3\"\r\n",
        "+  },\r\n",
        "+  \"devDependencies\": {\r\n",
        "+    \"@eslint/eslintrc\": \"^3\",\r\n",
        "+    \"@svgr/webpack\": \"^8.1.0\",\r\n",
        "+    \"@types/node\": \"^20\",\r\n",
        "+    \"@types/react\": \"^19\",\r\n",
        "+    \"@types/react-dom\": \"^19\",\r\n",
        "+    \"autoprefixer\": \"^10.4.21\",\r\n",
        "+    \"eslint\": \"^9\",\r\n",
        "+    \"eslint-config-next\": \"15.3.1\",\r\n",
        "+    \"postcss\": \"^8.5.3\",\r\n",
        "+    \"tailwindcss\": \"^3.4.17\",\r\n",
        "+    \"typescript\": \"^5\"\r\n",
        "+  }\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/app/auth/verify-email/confirm/page.tsx",
      "status": "modified",
      "additions": 14,
      "deletions": 14,
      "patch": "@@ -1,15 +1,15 @@\n-\"use client\";\n-\n-import { useSearchParams } from \"next/navigation\";\n-import { EmailVerificationConfirm } from \"@/components/auth/email-verification-confirm\";\n-\n-export default function VerifyEmailConfirmPage() {\n-  const searchParams = useSearchParams();\n-  const token = searchParams.get(\"token\");\n-  \n-  return (\n-    <div className=\"flex items-center justify-center min-h-screen bg-primary-background\">\n-      <EmailVerificationConfirm token={token} />\n-    </div>\n-  );\n+\"use client\";\r\n+\r\n+import { useSearchParams } from \"next/navigation\";\r\n+import { EmailVerificationConfirm } from \"@/components/auth/email-verification-confirm\";\r\n+\r\n+export default function VerifyEmailConfirmPage() {\r\n+  const searchParams = useSearchParams();\r\n+  const token = searchParams.get(\"token\");\r\n+  \r\n+  return (\r\n+    <div className=\"flex items-center justify-center min-h-screen bg-primary-background\">\r\n+      <EmailVerificationConfirm token={token} />\r\n+    </div>\r\n+  );\r\n }\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,15 +1,15 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useSearchParams } from \"next/navigation\";\n",
        "-import { EmailVerificationConfirm } from \"@/components/auth/email-verification-confirm\";\n",
        "-\n",
        "-export default function VerifyEmailConfirmPage() {\n",
        "-  const searchParams = useSearchParams();\n",
        "-  const token = searchParams.get(\"token\");\n",
        "-  \n",
        "-  return (\n",
        "-    <div className=\"flex items-center justify-center min-h-screen bg-primary-background\">\n",
        "-      <EmailVerificationConfirm token={token} />\n",
        "-    </div>\n",
        "-  );\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useSearchParams } from \"next/navigation\";\r\n",
        "+import { EmailVerificationConfirm } from \"@/components/auth/email-verification-confirm\";\r\n",
        "+\r\n",
        "+export default function VerifyEmailConfirmPage() {\r\n",
        "+  const searchParams = useSearchParams();\r\n",
        "+  const token = searchParams.get(\"token\");\r\n",
        "+  \r\n",
        "+  return (\r\n",
        "+    <div className=\"flex items-center justify-center min-h-screen bg-primary-background\">\r\n",
        "+      <EmailVerificationConfirm token={token} />\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        " }\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "frontend/src/app/globals.css",
      "status": "modified",
      "additions": 256,
      "deletions": 256,
      "patch": "@@ -1,256 +1,256 @@\n-@tailwind base;\n-@tailwind components;\n-@tailwind utilities;\n-\n-:root {\n-  --radius: 0.625rem;\n-\n-  --radius-sm: calc(var(--radius) - 4px);\n-  --radius-md: calc(var(--radius) - 2px);\n-  --radius-lg: var(--radius);\n-  --radius-xl: calc(var(--radius) + 4px);\n-\n-  /* Light theme (not used, but keeping for structure) */\n-  --background: #ffffff;\n-  --foreground: #0b0b0c;\n-  --card: #ffffff;\n-  --card-foreground: #0b0b0c;\n-  --popover: #ffffff;\n-  --popover-foreground: #0b0b0c;\n-  --primary: #12e88f;\n-  --primary-foreground: #ffffff;\n-  --secondary: #f5f5f5;\n-  --secondary-foreground: #0b0b0c;\n-  --muted: #f5f5f5;\n-  --muted-foreground: #707070;\n-  --accent: #f5f5f5;\n-  --accent-foreground: #0b0b0c;\n-  --destructive: #ff4e4e;\n-  --border: #e0e0e0;\n-  --input: #e0e0e0;\n-  --ring: #12e88f;\n-  --primary-rgb: 18, 232, 143; /* Based on #12E88F */\n-  --background-rgb: 11, 11, 12; /* Based on #0B0B0C */\n-\n-  scroll-behavior: smooth;\n-}\n-\n-/* Using the exact colors from Projectron design system */\n-.dark {\n-  /* Backgrounds */\n-  --background: #0b0b0c;\n-  --foreground: #ffffff;\n-  --card: #101014;\n-  --card-foreground: #ffffff;\n-  --popover: #101014;\n-  --popover-foreground: #ffffff;\n-\n-  /* Actions */\n-  --primary: #13ef95;\n-  --primary-foreground: #ffffff;\n-  --secondary: #17171b;\n-  --secondary-foreground: #ffffff;\n-\n-  /* Text and UI */\n-  --muted: #17171b;\n-  --muted-foreground: #b3b3b3;\n-  --accent: #17171b;\n-  --accent-foreground: #ffffff;\n-  --destructive: #ff4e4e;\n-  --border: #303030;\n-  --input: #303030;\n-  --ring: #10c676;\n-  --primary-gradient: #14b2dd;\n-}\n-\n-/* Semantic aliases for Projectron design system */\n-:root {\n-  --primary-background: var(--background);\n-  --secondary-background: var(--card);\n-  --hover-active: var(--secondary);\n-  --primary-cta: var(--primary);\n-  --cta-hover: var(--ring);\n-  --primary-text: var(--foreground);\n-  --secondary-text: var(--muted-foreground);\n-  --disabled-text: #707070;\n-  --divider: var(--border);\n-}\n-\n-@layer base {\n-  input:focus,\n-  input:focus-visible,\n-  textarea:focus,\n-  textarea:focus-visible {\n-    outline: none !important;\n-    box-shadow: none !important; /* kills both the native outline and Tailwind\u2019s ring-shadow */\n-  }\n-}\n-\n-@layer utilities {\n-  .gradient-border {\n-    position: relative;\n-    background-clip: padding-box;\n-    border: 0.5px solid transparent; /* Thinner border */\n-    z-index: 0;\n-  }\n-\n-  .gradient-border::before {\n-    content: \"\";\n-    position: absolute;\n-    top: 0;\n-    right: 0;\n-    bottom: 0;\n-    left: 0;\n-    z-index: -1;\n-    margin: -0.5px; /* Thinner border (0.5px) */\n-    border-radius: inherit;\n-    background: linear-gradient(\n-      135deg,\n-      var(--primary-cta, #12e88f) 0%,\n-      var(--primary-gradient, #10c676) 100%\n-    );\n-  }\n-\n-  /* Adjust the inner background to match the thinner border */\n-  .gradient-border::after {\n-    content: \"\";\n-    position: absolute;\n-    top: 0.4px;\n-    right: 0.4px;\n-    bottom: 0.4px;\n-    left: 0.4px;\n-    z-index: -1;\n-    border-radius: inherit;\n-    background: var(--secondary-background, #101014);\n-  }\n-\n-  /* Border radius classes remain the same */\n-  .gradient-border-square {\n-    border-radius: 0.5rem;\n-  }\n-\n-  .gradient-border-rounded {\n-    border-radius: 0.75rem;\n-  }\n-\n-  .gradient-border-full {\n-    border-radius: 9999px;\n-  }\n-}\n-\n-@layer components {\n-  h1 {\n-    font-size: 2.5rem;\n-    line-height: 1.2;\n-    font-weight: 700;\n-  }\n-\n-  h2 {\n-    font-size: 2rem;\n-    line-height: 1.3;\n-    font-weight: 600;\n-  }\n-\n-  h3 {\n-    font-size: 1.5rem;\n-    line-height: 1.4;\n-    font-weight: 600;\n-  }\n-\n-  h4 {\n-    font-size: 1.25rem;\n-    line-height: 1.5;\n-    font-weight: 500;\n-  }\n-\n-  body {\n-    font-size: 0.875rem;\n-    line-height: 1.6;\n-    font-weight: 400;\n-  }\n-\n-  .body-large {\n-    font-size: 1rem;\n-    line-height: 1.6;\n-    font-weight: 400;\n-  }\n-\n-  .caption {\n-    font-size: 0.75rem;\n-    line-height: 1.4;\n-    font-weight: 400;\n-  }\n-}\n-\n-html {\n-  -webkit-font-smoothing: antialiased;\n-  -moz-osx-font-smoothing: grayscale;\n-  scroll-padding-top: 80px;\n-}\n-\n-* {\n-  border-color: var(--border);\n-}\n-\n-body {\n-  background-color: var(--background);\n-  color: var(--foreground);\n-}\n-\n-/* Animation utilities */\n-@keyframes spin {\n-  to {\n-    transform: rotate(360deg);\n-  }\n-}\n-\n-.animate-spin {\n-  animation: spin 1s linear infinite;\n-}\n-\n-@keyframes ping {\n-  75%,\n-  100% {\n-    transform: scale(2);\n-    opacity: 0;\n-  }\n-}\n-\n-.animate-ping {\n-  animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;\n-}\n-\n-.text-balance {\n-  text-wrap: balance;\n-}\n-\n-/* Custom utilities */\n-.text-balance {\n-  text-wrap: balance;\n-}\n-\n-/* 3D transform utilities */\n-.preserve-3d {\n-  transform-style: preserve-3d;\n-}\n-\n-.perspective {\n-  perspective: 600px;\n-}\n-\n-.scrollbar-thin::-webkit-scrollbar {\n-  width: 4px;\n-}\n-\n-.scrollbar-thin::-webkit-scrollbar-track {\n-  background: transparent;\n-}\n-\n-.scrollbar-thin::-webkit-scrollbar-thumb {\n-  background: rgba(120, 120, 120, 0.2);\n-  border-radius: 10px;\n-}\n-\n-.scrollbar-thin::-webkit-scrollbar-thumb:hover {\n-  background: rgba(120, 120, 120, 0.3);\n-}\n+@tailwind base;\r\n+@tailwind components;\r\n+@tailwind utilities;\r\n+\r\n+:root {\r\n+  --radius: 0.625rem;\r\n+\r\n+  --radius-sm: calc(var(--radius) - 4px);\r\n+  --radius-md: calc(var(--radius) - 2px);\r\n+  --radius-lg: var(--radius);\r\n+  --radius-xl: calc(var(--radius) + 4px);\r\n+\r\n+  /* Light theme (not used, but keeping for structure) */\r\n+  --background: #ffffff;\r\n+  --foreground: #0b0b0c;\r\n+  --card: #ffffff;\r\n+  --card-foreground: #0b0b0c;\r\n+  --popover: #ffffff;\r\n+  --popover-foreground: #0b0b0c;\r\n+  --primary: #12e88f;\r\n+  --primary-foreground: #ffffff;\r\n+  --secondary: #f5f5f5;\r\n+  --secondary-foreground: #0b0b0c;\r\n+  --muted: #f5f5f5;\r\n+  --muted-foreground: #707070;\r\n+  --accent: #f5f5f5;\r\n+  --accent-foreground: #0b0b0c;\r\n+  --destructive: #ff4e4e;\r\n+  --border: #e0e0e0;\r\n+  --input: #e0e0e0;\r\n+  --ring: #12e88f;\r\n+  --primary-rgb: 18, 232, 143; /* Based on #12E88F */\r\n+  --background-rgb: 11, 11, 12; /* Based on #0B0B0C */\r\n+\r\n+  scroll-behavior: smooth;\r\n+}\r\n+\r\n+/* Using the exact colors from Projectron design system */\r\n+.dark {\r\n+  /* Backgrounds */\r\n+  --background: #0b0b0c;\r\n+  --foreground: #ffffff;\r\n+  --card: #101014;\r\n+  --card-foreground: #ffffff;\r\n+  --popover: #101014;\r\n+  --popover-foreground: #ffffff;\r\n+\r\n+  /* Actions */\r\n+  --primary: #13ef95;\r\n+  --primary-foreground: #ffffff;\r\n+  --secondary: #17171b;\r\n+  --secondary-foreground: #ffffff;\r\n+\r\n+  /* Text and UI */\r\n+  --muted: #17171b;\r\n+  --muted-foreground: #b3b3b3;\r\n+  --accent: #17171b;\r\n+  --accent-foreground: #ffffff;\r\n+  --destructive: #ff4e4e;\r\n+  --border: #303030;\r\n+  --input: #303030;\r\n+  --ring: #10c676;\r\n+  --primary-gradient: #14b2dd;\r\n+}\r\n+\r\n+/* Semantic aliases for Projectron design system */\r\n+:root {\r\n+  --primary-background: var(--background);\r\n+  --secondary-background: var(--card);\r\n+  --hover-active: var(--secondary);\r\n+  --primary-cta: var(--primary);\r\n+  --cta-hover: var(--ring);\r\n+  --primary-text: var(--foreground);\r\n+  --secondary-text: var(--muted-foreground);\r\n+  --disabled-text: #707070;\r\n+  --divider: var(--border);\r\n+}\r\n+\r\n+@layer base {\r\n+  input:focus,\r\n+  input:focus-visible,\r\n+  textarea:focus,\r\n+  textarea:focus-visible {\r\n+    outline: none !important;\r\n+    box-shadow: none !important; /* kills both the native outline and Tailwind\u2019s ring-shadow */\r\n+  }\r\n+}\r\n+\r\n+@layer utilities {\r\n+  .gradient-border {\r\n+    position: relative;\r\n+    background-clip: padding-box;\r\n+    border: 0.5px solid transparent; /* Thinner border */\r\n+    z-index: 0;\r\n+  }\r\n+\r\n+  .gradient-border::before {\r\n+    content: \"\";\r\n+    position: absolute;\r\n+    top: 0;\r\n+    right: 0;\r\n+    bottom: 0;\r\n+    left: 0;\r\n+    z-index: -1;\r\n+    margin: -0.5px; /* Thinner border (0.5px) */\r\n+    border-radius: inherit;\r\n+    background: linear-gradient(\r\n+      135deg,\r\n+      var(--primary-cta, #12e88f) 0%,\r\n+      var(--primary-gradient, #10c676) 100%\r\n+    );\r\n+  }\r\n+\r\n+  /* Adjust the inner background to match the thinner border */\r\n+  .gradient-border::after {\r\n+    content: \"\";\r\n+    position: absolute;\r\n+    top: 0.4px;\r\n+    right: 0.4px;\r\n+    bottom: 0.4px;\r\n+    left: 0.4px;\r\n+    z-index: -1;\r\n+    border-radius: inherit;\r\n+    background: var(--secondary-background, #101014);\r\n+  }\r\n+\r\n+  /* Border radius classes remain the same */\r\n+  .gradient-border-square {\r\n+    border-radius: 0.5rem;\r\n+  }\r\n+\r\n+  .gradient-border-rounded {\r\n+    border-radius: 0.75rem;\r\n+  }\r\n+\r\n+  .gradient-border-full {\r\n+    border-radius: 9999px;\r\n+  }\r\n+}\r\n+\r\n+@layer components {\r\n+  h1 {\r\n+    font-size: 2.5rem;\r\n+    line-height: 1.2;\r\n+    font-weight: 700;\r\n+  }\r\n+\r\n+  h2 {\r\n+    font-size: 2rem;\r\n+    line-height: 1.3;\r\n+    font-weight: 600;\r\n+  }\r\n+\r\n+  h3 {\r\n+    font-size: 1.5rem;\r\n+    line-height: 1.4;\r\n+    font-weight: 600;\r\n+  }\r\n+\r\n+  h4 {\r\n+    font-size: 1.25rem;\r\n+    line-height: 1.5;\r\n+    font-weight: 500;\r\n+  }\r\n+\r\n+  body {\r\n+    font-size: 0.875rem;\r\n+    line-height: 1.6;\r\n+    font-weight: 400;\r\n+  }\r\n+\r\n+  .body-large {\r\n+    font-size: 1rem;\r\n+    line-height: 1.6;\r\n+    font-weight: 400;\r\n+  }\r\n+\r\n+  .caption {\r\n+    font-size: 0.75rem;\r\n+    line-height: 1.4;\r\n+    font-weight: 400;\r\n+  }\r\n+}\r\n+\r\n+html {\r\n+  -webkit-font-smoothing: antialiased;\r\n+  -moz-osx-font-smoothing: grayscale;\r\n+  scroll-padding-top: 80px;\r\n+}\r\n+\r\n+* {\r\n+  border-color: var(--border);\r\n+}\r\n+\r\n+body {\r\n+  background-color: var(--background);\r\n+  color: var(--foreground);\r\n+}\r\n+\r\n+/* Animation utilities */\r\n+@keyframes spin {\r\n+  to {\r\n+    transform: rotate(360deg);\r\n+  }\r\n+}\r\n+\r\n+.animate-spin {\r\n+  animation: spin 1s linear infinite;\r\n+}\r\n+\r\n+@keyframes ping {\r\n+  75%,\r\n+  100% {\r\n+    transform: scale(2);\r\n+    opacity: 0;\r\n+  }\r\n+}\r\n+\r\n+.animate-ping {\r\n+  animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;\r\n+}\r\n+\r\n+.text-balance {\r\n+  text-wrap: balance;\r\n+}\r\n+\r\n+/* Custom utilities */\r\n+.text-balance {\r\n+  text-wrap: balance;\r\n+}\r\n+\r\n+/* 3D transform utilities */\r\n+.preserve-3d {\r\n+  transform-style: preserve-3d;\r\n+}\r\n+\r\n+.perspective {\r\n+  perspective: 600px;\r\n+}\r\n+\r\n+.scrollbar-thin::-webkit-scrollbar {\r\n+  width: 4px;\r\n+}\r\n+\r\n+.scrollbar-thin::-webkit-scrollbar-track {\r\n+  background: transparent;\r\n+}\r\n+\r\n+.scrollbar-thin::-webkit-scrollbar-thumb {\r\n+  background: rgba(120, 120, 120, 0.2);\r\n+  border-radius: 10px;\r\n+}\r\n+\r\n+.scrollbar-thin::-webkit-scrollbar-thumb:hover {\r\n+  background: rgba(120, 120, 120, 0.3);\r\n+}\r",
      "patch_lines": [
        "@@ -1,256 +1,256 @@\n",
        "-@tailwind base;\n",
        "-@tailwind components;\n",
        "-@tailwind utilities;\n",
        "-\n",
        "-:root {\n",
        "-  --radius: 0.625rem;\n",
        "-\n",
        "-  --radius-sm: calc(var(--radius) - 4px);\n",
        "-  --radius-md: calc(var(--radius) - 2px);\n",
        "-  --radius-lg: var(--radius);\n",
        "-  --radius-xl: calc(var(--radius) + 4px);\n",
        "-\n",
        "-  /* Light theme (not used, but keeping for structure) */\n",
        "-  --background: #ffffff;\n",
        "-  --foreground: #0b0b0c;\n",
        "-  --card: #ffffff;\n",
        "-  --card-foreground: #0b0b0c;\n",
        "-  --popover: #ffffff;\n",
        "-  --popover-foreground: #0b0b0c;\n",
        "-  --primary: #12e88f;\n",
        "-  --primary-foreground: #ffffff;\n",
        "-  --secondary: #f5f5f5;\n",
        "-  --secondary-foreground: #0b0b0c;\n",
        "-  --muted: #f5f5f5;\n",
        "-  --muted-foreground: #707070;\n",
        "-  --accent: #f5f5f5;\n",
        "-  --accent-foreground: #0b0b0c;\n",
        "-  --destructive: #ff4e4e;\n",
        "-  --border: #e0e0e0;\n",
        "-  --input: #e0e0e0;\n",
        "-  --ring: #12e88f;\n",
        "-  --primary-rgb: 18, 232, 143; /* Based on #12E88F */\n",
        "-  --background-rgb: 11, 11, 12; /* Based on #0B0B0C */\n",
        "-\n",
        "-  scroll-behavior: smooth;\n",
        "-}\n",
        "-\n",
        "-/* Using the exact colors from Projectron design system */\n",
        "-.dark {\n",
        "-  /* Backgrounds */\n",
        "-  --background: #0b0b0c;\n",
        "-  --foreground: #ffffff;\n",
        "-  --card: #101014;\n",
        "-  --card-foreground: #ffffff;\n",
        "-  --popover: #101014;\n",
        "-  --popover-foreground: #ffffff;\n",
        "-\n",
        "-  /* Actions */\n",
        "-  --primary: #13ef95;\n",
        "-  --primary-foreground: #ffffff;\n",
        "-  --secondary: #17171b;\n",
        "-  --secondary-foreground: #ffffff;\n",
        "-\n",
        "-  /* Text and UI */\n",
        "-  --muted: #17171b;\n",
        "-  --muted-foreground: #b3b3b3;\n",
        "-  --accent: #17171b;\n",
        "-  --accent-foreground: #ffffff;\n",
        "-  --destructive: #ff4e4e;\n",
        "-  --border: #303030;\n",
        "-  --input: #303030;\n",
        "-  --ring: #10c676;\n",
        "-  --primary-gradient: #14b2dd;\n",
        "-}\n",
        "-\n",
        "-/* Semantic aliases for Projectron design system */\n",
        "-:root {\n",
        "-  --primary-background: var(--background);\n",
        "-  --secondary-background: var(--card);\n",
        "-  --hover-active: var(--secondary);\n",
        "-  --primary-cta: var(--primary);\n",
        "-  --cta-hover: var(--ring);\n",
        "-  --primary-text: var(--foreground);\n",
        "-  --secondary-text: var(--muted-foreground);\n",
        "-  --disabled-text: #707070;\n",
        "-  --divider: var(--border);\n",
        "-}\n",
        "-\n",
        "-@layer base {\n",
        "-  input:focus,\n",
        "-  input:focus-visible,\n",
        "-  textarea:focus,\n",
        "-  textarea:focus-visible {\n",
        "-    outline: none !important;\n",
        "-    box-shadow: none !important; /* kills both the native outline and Tailwind\u2019s ring-shadow */\n",
        "-  }\n",
        "-}\n",
        "-\n",
        "-@layer utilities {\n",
        "-  .gradient-border {\n",
        "-    position: relative;\n",
        "-    background-clip: padding-box;\n",
        "-    border: 0.5px solid transparent; /* Thinner border */\n",
        "-    z-index: 0;\n",
        "-  }\n",
        "-\n",
        "-  .gradient-border::before {\n",
        "-    content: \"\";\n",
        "-    position: absolute;\n",
        "-    top: 0;\n",
        "-    right: 0;\n",
        "-    bottom: 0;\n",
        "-    left: 0;\n",
        "-    z-index: -1;\n",
        "-    margin: -0.5px; /* Thinner border (0.5px) */\n",
        "-    border-radius: inherit;\n",
        "-    background: linear-gradient(\n",
        "-      135deg,\n",
        "-      var(--primary-cta, #12e88f) 0%,\n",
        "-      var(--primary-gradient, #10c676) 100%\n",
        "-    );\n",
        "-  }\n",
        "-\n",
        "-  /* Adjust the inner background to match the thinner border */\n",
        "-  .gradient-border::after {\n",
        "-    content: \"\";\n",
        "-    position: absolute;\n",
        "-    top: 0.4px;\n",
        "-    right: 0.4px;\n",
        "-    bottom: 0.4px;\n",
        "-    left: 0.4px;\n",
        "-    z-index: -1;\n",
        "-    border-radius: inherit;\n",
        "-    background: var(--secondary-background, #101014);\n",
        "-  }\n",
        "-\n",
        "-  /* Border radius classes remain the same */\n",
        "-  .gradient-border-square {\n",
        "-    border-radius: 0.5rem;\n",
        "-  }\n",
        "-\n",
        "-  .gradient-border-rounded {\n",
        "-    border-radius: 0.75rem;\n",
        "-  }\n",
        "-\n",
        "-  .gradient-border-full {\n",
        "-    border-radius: 9999px;\n",
        "-  }\n",
        "-}\n",
        "-\n",
        "-@layer components {\n",
        "-  h1 {\n",
        "-    font-size: 2.5rem;\n",
        "-    line-height: 1.2;\n",
        "-    font-weight: 700;\n",
        "-  }\n",
        "-\n",
        "-  h2 {\n",
        "-    font-size: 2rem;\n",
        "-    line-height: 1.3;\n",
        "-    font-weight: 600;\n",
        "-  }\n",
        "-\n",
        "-  h3 {\n",
        "-    font-size: 1.5rem;\n",
        "-    line-height: 1.4;\n",
        "-    font-weight: 600;\n",
        "-  }\n",
        "-\n",
        "-  h4 {\n",
        "-    font-size: 1.25rem;\n",
        "-    line-height: 1.5;\n",
        "-    font-weight: 500;\n",
        "-  }\n",
        "-\n",
        "-  body {\n",
        "-    font-size: 0.875rem;\n",
        "-    line-height: 1.6;\n",
        "-    font-weight: 400;\n",
        "-  }\n",
        "-\n",
        "-  .body-large {\n",
        "-    font-size: 1rem;\n",
        "-    line-height: 1.6;\n",
        "-    font-weight: 400;\n",
        "-  }\n",
        "-\n",
        "-  .caption {\n",
        "-    font-size: 0.75rem;\n",
        "-    line-height: 1.4;\n",
        "-    font-weight: 400;\n",
        "-  }\n",
        "-}\n",
        "-\n",
        "-html {\n",
        "-  -webkit-font-smoothing: antialiased;\n",
        "-  -moz-osx-font-smoothing: grayscale;\n",
        "-  scroll-padding-top: 80px;\n",
        "-}\n",
        "-\n",
        "-* {\n",
        "-  border-color: var(--border);\n",
        "-}\n",
        "-\n",
        "-body {\n",
        "-  background-color: var(--background);\n",
        "-  color: var(--foreground);\n",
        "-}\n",
        "-\n",
        "-/* Animation utilities */\n",
        "-@keyframes spin {\n",
        "-  to {\n",
        "-    transform: rotate(360deg);\n",
        "-  }\n",
        "-}\n",
        "-\n",
        "-.animate-spin {\n",
        "-  animation: spin 1s linear infinite;\n",
        "-}\n",
        "-\n",
        "-@keyframes ping {\n",
        "-  75%,\n",
        "-  100% {\n",
        "-    transform: scale(2);\n",
        "-    opacity: 0;\n",
        "-  }\n",
        "-}\n",
        "-\n",
        "-.animate-ping {\n",
        "-  animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;\n",
        "-}\n",
        "-\n",
        "-.text-balance {\n",
        "-  text-wrap: balance;\n",
        "-}\n",
        "-\n",
        "-/* Custom utilities */\n",
        "-.text-balance {\n",
        "-  text-wrap: balance;\n",
        "-}\n",
        "-\n",
        "-/* 3D transform utilities */\n",
        "-.preserve-3d {\n",
        "-  transform-style: preserve-3d;\n",
        "-}\n",
        "-\n",
        "-.perspective {\n",
        "-  perspective: 600px;\n",
        "-}\n",
        "-\n",
        "-.scrollbar-thin::-webkit-scrollbar {\n",
        "-  width: 4px;\n",
        "-}\n",
        "-\n",
        "-.scrollbar-thin::-webkit-scrollbar-track {\n",
        "-  background: transparent;\n",
        "-}\n",
        "-\n",
        "-.scrollbar-thin::-webkit-scrollbar-thumb {\n",
        "-  background: rgba(120, 120, 120, 0.2);\n",
        "-  border-radius: 10px;\n",
        "-}\n",
        "-\n",
        "-.scrollbar-thin::-webkit-scrollbar-thumb:hover {\n",
        "-  background: rgba(120, 120, 120, 0.3);\n",
        "-}\n",
        "+@tailwind base;\r\n",
        "+@tailwind components;\r\n",
        "+@tailwind utilities;\r\n",
        "+\r\n",
        "+:root {\r\n",
        "+  --radius: 0.625rem;\r\n",
        "+\r\n",
        "+  --radius-sm: calc(var(--radius) - 4px);\r\n",
        "+  --radius-md: calc(var(--radius) - 2px);\r\n",
        "+  --radius-lg: var(--radius);\r\n",
        "+  --radius-xl: calc(var(--radius) + 4px);\r\n",
        "+\r\n",
        "+  /* Light theme (not used, but keeping for structure) */\r\n",
        "+  --background: #ffffff;\r\n",
        "+  --foreground: #0b0b0c;\r\n",
        "+  --card: #ffffff;\r\n",
        "+  --card-foreground: #0b0b0c;\r\n",
        "+  --popover: #ffffff;\r\n",
        "+  --popover-foreground: #0b0b0c;\r\n",
        "+  --primary: #12e88f;\r\n",
        "+  --primary-foreground: #ffffff;\r\n",
        "+  --secondary: #f5f5f5;\r\n",
        "+  --secondary-foreground: #0b0b0c;\r\n",
        "+  --muted: #f5f5f5;\r\n",
        "+  --muted-foreground: #707070;\r\n",
        "+  --accent: #f5f5f5;\r\n",
        "+  --accent-foreground: #0b0b0c;\r\n",
        "+  --destructive: #ff4e4e;\r\n",
        "+  --border: #e0e0e0;\r\n",
        "+  --input: #e0e0e0;\r\n",
        "+  --ring: #12e88f;\r\n",
        "+  --primary-rgb: 18, 232, 143; /* Based on #12E88F */\r\n",
        "+  --background-rgb: 11, 11, 12; /* Based on #0B0B0C */\r\n",
        "+\r\n",
        "+  scroll-behavior: smooth;\r\n",
        "+}\r\n",
        "+\r\n",
        "+/* Using the exact colors from Projectron design system */\r\n",
        "+.dark {\r\n",
        "+  /* Backgrounds */\r\n",
        "+  --background: #0b0b0c;\r\n",
        "+  --foreground: #ffffff;\r\n",
        "+  --card: #101014;\r\n",
        "+  --card-foreground: #ffffff;\r\n",
        "+  --popover: #101014;\r\n",
        "+  --popover-foreground: #ffffff;\r\n",
        "+\r\n",
        "+  /* Actions */\r\n",
        "+  --primary: #13ef95;\r\n",
        "+  --primary-foreground: #ffffff;\r\n",
        "+  --secondary: #17171b;\r\n",
        "+  --secondary-foreground: #ffffff;\r\n",
        "+\r\n",
        "+  /* Text and UI */\r\n",
        "+  --muted: #17171b;\r\n",
        "+  --muted-foreground: #b3b3b3;\r\n",
        "+  --accent: #17171b;\r\n",
        "+  --accent-foreground: #ffffff;\r\n",
        "+  --destructive: #ff4e4e;\r\n",
        "+  --border: #303030;\r\n",
        "+  --input: #303030;\r\n",
        "+  --ring: #10c676;\r\n",
        "+  --primary-gradient: #14b2dd;\r\n",
        "+}\r\n",
        "+\r\n",
        "+/* Semantic aliases for Projectron design system */\r\n",
        "+:root {\r\n",
        "+  --primary-background: var(--background);\r\n",
        "+  --secondary-background: var(--card);\r\n",
        "+  --hover-active: var(--secondary);\r\n",
        "+  --primary-cta: var(--primary);\r\n",
        "+  --cta-hover: var(--ring);\r\n",
        "+  --primary-text: var(--foreground);\r\n",
        "+  --secondary-text: var(--muted-foreground);\r\n",
        "+  --disabled-text: #707070;\r\n",
        "+  --divider: var(--border);\r\n",
        "+}\r\n",
        "+\r\n",
        "+@layer base {\r\n",
        "+  input:focus,\r\n",
        "+  input:focus-visible,\r\n",
        "+  textarea:focus,\r\n",
        "+  textarea:focus-visible {\r\n",
        "+    outline: none !important;\r\n",
        "+    box-shadow: none !important; /* kills both the native outline and Tailwind\u2019s ring-shadow */\r\n",
        "+  }\r\n",
        "+}\r\n",
        "+\r\n",
        "+@layer utilities {\r\n",
        "+  .gradient-border {\r\n",
        "+    position: relative;\r\n",
        "+    background-clip: padding-box;\r\n",
        "+    border: 0.5px solid transparent; /* Thinner border */\r\n",
        "+    z-index: 0;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  .gradient-border::before {\r\n",
        "+    content: \"\";\r\n",
        "+    position: absolute;\r\n",
        "+    top: 0;\r\n",
        "+    right: 0;\r\n",
        "+    bottom: 0;\r\n",
        "+    left: 0;\r\n",
        "+    z-index: -1;\r\n",
        "+    margin: -0.5px; /* Thinner border (0.5px) */\r\n",
        "+    border-radius: inherit;\r\n",
        "+    background: linear-gradient(\r\n",
        "+      135deg,\r\n",
        "+      var(--primary-cta, #12e88f) 0%,\r\n",
        "+      var(--primary-gradient, #10c676) 100%\r\n",
        "+    );\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  /* Adjust the inner background to match the thinner border */\r\n",
        "+  .gradient-border::after {\r\n",
        "+    content: \"\";\r\n",
        "+    position: absolute;\r\n",
        "+    top: 0.4px;\r\n",
        "+    right: 0.4px;\r\n",
        "+    bottom: 0.4px;\r\n",
        "+    left: 0.4px;\r\n",
        "+    z-index: -1;\r\n",
        "+    border-radius: inherit;\r\n",
        "+    background: var(--secondary-background, #101014);\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  /* Border radius classes remain the same */\r\n",
        "+  .gradient-border-square {\r\n",
        "+    border-radius: 0.5rem;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  .gradient-border-rounded {\r\n",
        "+    border-radius: 0.75rem;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  .gradient-border-full {\r\n",
        "+    border-radius: 9999px;\r\n",
        "+  }\r\n",
        "+}\r\n",
        "+\r\n",
        "+@layer components {\r\n",
        "+  h1 {\r\n",
        "+    font-size: 2.5rem;\r\n",
        "+    line-height: 1.2;\r\n",
        "+    font-weight: 700;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  h2 {\r\n",
        "+    font-size: 2rem;\r\n",
        "+    line-height: 1.3;\r\n",
        "+    font-weight: 600;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  h3 {\r\n",
        "+    font-size: 1.5rem;\r\n",
        "+    line-height: 1.4;\r\n",
        "+    font-weight: 600;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  h4 {\r\n",
        "+    font-size: 1.25rem;\r\n",
        "+    line-height: 1.5;\r\n",
        "+    font-weight: 500;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  body {\r\n",
        "+    font-size: 0.875rem;\r\n",
        "+    line-height: 1.6;\r\n",
        "+    font-weight: 400;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  .body-large {\r\n",
        "+    font-size: 1rem;\r\n",
        "+    line-height: 1.6;\r\n",
        "+    font-weight: 400;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  .caption {\r\n",
        "+    font-size: 0.75rem;\r\n",
        "+    line-height: 1.4;\r\n",
        "+    font-weight: 400;\r\n",
        "+  }\r\n",
        "+}\r\n",
        "+\r\n",
        "+html {\r\n",
        "+  -webkit-font-smoothing: antialiased;\r\n",
        "+  -moz-osx-font-smoothing: grayscale;\r\n",
        "+  scroll-padding-top: 80px;\r\n",
        "+}\r\n",
        "+\r\n",
        "+* {\r\n",
        "+  border-color: var(--border);\r\n",
        "+}\r\n",
        "+\r\n",
        "+body {\r\n",
        "+  background-color: var(--background);\r\n",
        "+  color: var(--foreground);\r\n",
        "+}\r\n",
        "+\r\n",
        "+/* Animation utilities */\r\n",
        "+@keyframes spin {\r\n",
        "+  to {\r\n",
        "+    transform: rotate(360deg);\r\n",
        "+  }\r\n",
        "+}\r\n",
        "+\r\n",
        "+.animate-spin {\r\n",
        "+  animation: spin 1s linear infinite;\r\n",
        "+}\r\n",
        "+\r\n",
        "+@keyframes ping {\r\n",
        "+  75%,\r\n",
        "+  100% {\r\n",
        "+    transform: scale(2);\r\n",
        "+    opacity: 0;\r\n",
        "+  }\r\n",
        "+}\r\n",
        "+\r\n",
        "+.animate-ping {\r\n",
        "+  animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;\r\n",
        "+}\r\n",
        "+\r\n",
        "+.text-balance {\r\n",
        "+  text-wrap: balance;\r\n",
        "+}\r\n",
        "+\r\n",
        "+/* Custom utilities */\r\n",
        "+.text-balance {\r\n",
        "+  text-wrap: balance;\r\n",
        "+}\r\n",
        "+\r\n",
        "+/* 3D transform utilities */\r\n",
        "+.preserve-3d {\r\n",
        "+  transform-style: preserve-3d;\r\n",
        "+}\r\n",
        "+\r\n",
        "+.perspective {\r\n",
        "+  perspective: 600px;\r\n",
        "+}\r\n",
        "+\r\n",
        "+.scrollbar-thin::-webkit-scrollbar {\r\n",
        "+  width: 4px;\r\n",
        "+}\r\n",
        "+\r\n",
        "+.scrollbar-thin::-webkit-scrollbar-track {\r\n",
        "+  background: transparent;\r\n",
        "+}\r\n",
        "+\r\n",
        "+.scrollbar-thin::-webkit-scrollbar-thumb {\r\n",
        "+  background: rgba(120, 120, 120, 0.2);\r\n",
        "+  border-radius: 10px;\r\n",
        "+}\r\n",
        "+\r\n",
        "+.scrollbar-thin::-webkit-scrollbar-thumb:hover {\r\n",
        "+  background: rgba(120, 120, 120, 0.3);\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/app/page.tsx",
      "status": "modified",
      "additions": 20,
      "deletions": 20,
      "patch": "@@ -1,20 +1,20 @@\n-import { LandingLayout } from \"@/components/layout/landing-layout\";\n-import TabFeatures from \"@/components/sections/feature-carousel\";\n-import { HeroSection } from \"@/components/sections/hero-section\";\n-import HowItWorks from \"@/components/sections/how-it-works\";\n-import PainPointCards from \"@/components/sections/pain-points-section\";\n-\n-export default function HomePage() {\n-  return (\n-    <LandingLayout>\n-      <HeroSection />\n-      {/* <ProblemSolutionSection /> */}\n-      <HowItWorks />\n-      <PainPointCards />\n-      <TabFeatures />\n-\n-      {/* The rest of the sections will be added as we implement them */}\n-      <div className=\"container mx-auto py-24\"></div>\n-    </LandingLayout>\n-  );\n-}\n+import { LandingLayout } from \"@/components/layout/landing-layout\";\r\n+import TabFeatures from \"@/components/sections/feature-carousel\";\r\n+import { HeroSection } from \"@/components/sections/hero-section\";\r\n+import HowItWorks from \"@/components/sections/how-it-works\";\r\n+import PainPointCards from \"@/components/sections/pain-points-section\";\r\n+\r\n+export default function HomePage() {\r\n+  return (\r\n+    <LandingLayout>\r\n+      <HeroSection />\r\n+      {/* <ProblemSolutionSection /> */}\r\n+      <HowItWorks />\r\n+      <PainPointCards />\r\n+      <TabFeatures />\r\n+\r\n+      {/* The rest of the sections will be added as we implement them */}\r\n+      <div className=\"container mx-auto py-24\"></div>\r\n+    </LandingLayout>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,20 +1,20 @@\n",
        "-import { LandingLayout } from \"@/components/layout/landing-layout\";\n",
        "-import TabFeatures from \"@/components/sections/feature-carousel\";\n",
        "-import { HeroSection } from \"@/components/sections/hero-section\";\n",
        "-import HowItWorks from \"@/components/sections/how-it-works\";\n",
        "-import PainPointCards from \"@/components/sections/pain-points-section\";\n",
        "-\n",
        "-export default function HomePage() {\n",
        "-  return (\n",
        "-    <LandingLayout>\n",
        "-      <HeroSection />\n",
        "-      {/* <ProblemSolutionSection /> */}\n",
        "-      <HowItWorks />\n",
        "-      <PainPointCards />\n",
        "-      <TabFeatures />\n",
        "-\n",
        "-      {/* The rest of the sections will be added as we implement them */}\n",
        "-      <div className=\"container mx-auto py-24\"></div>\n",
        "-    </LandingLayout>\n",
        "-  );\n",
        "-}\n",
        "+import { LandingLayout } from \"@/components/layout/landing-layout\";\r\n",
        "+import TabFeatures from \"@/components/sections/feature-carousel\";\r\n",
        "+import { HeroSection } from \"@/components/sections/hero-section\";\r\n",
        "+import HowItWorks from \"@/components/sections/how-it-works\";\r\n",
        "+import PainPointCards from \"@/components/sections/pain-points-section\";\r\n",
        "+\r\n",
        "+export default function HomePage() {\r\n",
        "+  return (\r\n",
        "+    <LandingLayout>\r\n",
        "+      <HeroSection />\r\n",
        "+      {/* <ProblemSolutionSection /> */}\r\n",
        "+      <HowItWorks />\r\n",
        "+      <PainPointCards />\r\n",
        "+      <TabFeatures />\r\n",
        "+\r\n",
        "+      {/* The rest of the sections will be added as we implement them */}\r\n",
        "+      <div className=\"container mx-auto py-24\"></div>\r\n",
        "+    </LandingLayout>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/app/projects/[id]/page.tsx",
      "status": "modified",
      "additions": 68,
      "deletions": 68,
      "patch": "@@ -1,68 +1,68 @@\n-\"use client\";\n-\n-import { useEffect, useState } from \"react\";\n-import { useParams, useRouter } from \"next/navigation\";\n-import { Project } from \"@/types\";\n-import { getProjectById } from \"@/lib/projects\";\n-import { AppLayout } from \"@/components/layout/app-layout\";\n-import { ProjectHeader } from \"@/components/projects/project-header\";\n-import { ProjectTabs } from \"@/components/projects/project-tabs\";\n-import { ProjectLoadingSkeleton } from \"@/components/projects/project-loading-skeleton\";\n-import { ProjectError } from \"@/components/projects/project-error\";\n-import { useAuth } from \"@/contexts/auth-context\";\n-\n-export default function ProjectPage() {\n-  const { id } = useParams() as { id: string };\n-  const { isAuthenticated, isLoading } = useAuth();\n-  const router = useRouter();\n-\n-  const [project, setProject] = useState<Project | null>(null);\n-  const [isLoadingProject, setIsLoadingProject] = useState(true);\n-  const [error, setError] = useState<string | null>(null);\n-\n-  useEffect(() => {\n-    // Redirect to login if not authenticated\n-    if (isLoading) return;\n-    if (!isAuthenticated) {\n-      console.log(\"User not authenticated, redirecting to login...\");\n-      router.push(\"/auth/login\");\n-      return;\n-    }\n-\n-    async function fetchProject() {\n-      try {\n-        console.log(`Fetching project with ID: ${id}`);\n-        setIsLoadingProject(true);\n-        const projectData = await getProjectById(id);\n-        console.log(projectData);\n-        setProject(projectData);\n-      } catch (err) {\n-        console.error(\"Failed to fetch project:\", err);\n-        setError(\"Failed to load project details. Please try again later.\");\n-      } finally {\n-        setIsLoadingProject(false);\n-      }\n-    }\n-\n-    fetchProject();\n-  }, [id, isAuthenticated, router, isLoading]);\n-\n-  return (\n-    <AppLayout>\n-      <div className=\"container sm:px-4 px-[0.15rem] py-6 mx-auto\">\n-        {isLoading || isLoadingProject ? (\n-          <ProjectLoadingSkeleton />\n-        ) : error ? (\n-          <ProjectError message={error} />\n-        ) : project ? (\n-          <div className=\"space-y-6 animate-fade-in\">\n-            <ProjectHeader project={project} setProject={setProject} />\n-            <ProjectTabs project={project} />\n-          </div>\n-        ) : (\n-          <ProjectError message=\"Project not found\" />\n-        )}\n-      </div>\n-    </AppLayout>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useEffect, useState } from \"react\";\r\n+import { useParams, useRouter } from \"next/navigation\";\r\n+import { Project } from \"@/types\";\r\n+import { getProjectById } from \"@/lib/projects\";\r\n+import { AppLayout } from \"@/components/layout/app-layout\";\r\n+import { ProjectHeader } from \"@/components/projects/project-header\";\r\n+import { ProjectTabs } from \"@/components/projects/project-tabs\";\r\n+import { ProjectLoadingSkeleton } from \"@/components/projects/project-loading-skeleton\";\r\n+import { ProjectError } from \"@/components/projects/project-error\";\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+\r\n+export default function ProjectPage() {\r\n+  const { id } = useParams() as { id: string };\r\n+  const { isAuthenticated, isLoading } = useAuth();\r\n+  const router = useRouter();\r\n+\r\n+  const [project, setProject] = useState<Project | null>(null);\r\n+  const [isLoadingProject, setIsLoadingProject] = useState(true);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+\r\n+  useEffect(() => {\r\n+    // Redirect to login if not authenticated\r\n+    if (isLoading) return;\r\n+    if (!isAuthenticated) {\r\n+      console.log(\"User not authenticated, redirecting to login...\");\r\n+      router.push(\"/auth/login\");\r\n+      return;\r\n+    }\r\n+\r\n+    async function fetchProject() {\r\n+      try {\r\n+        console.log(`Fetching project with ID: ${id}`);\r\n+        setIsLoadingProject(true);\r\n+        const projectData = await getProjectById(id);\r\n+        console.log(projectData);\r\n+        setProject(projectData);\r\n+      } catch (err) {\r\n+        console.error(\"Failed to fetch project:\", err);\r\n+        setError(\"Failed to load project details. Please try again later.\");\r\n+      } finally {\r\n+        setIsLoadingProject(false);\r\n+      }\r\n+    }\r\n+\r\n+    fetchProject();\r\n+  }, [id, isAuthenticated, router, isLoading]);\r\n+\r\n+  return (\r\n+    <AppLayout>\r\n+      <div className=\"container sm:px-4 px-[0.15rem] py-6 mx-auto\">\r\n+        {isLoading || isLoadingProject ? (\r\n+          <ProjectLoadingSkeleton />\r\n+        ) : error ? (\r\n+          <ProjectError message={error} />\r\n+        ) : project ? (\r\n+          <div className=\"space-y-6 animate-fade-in\">\r\n+            <ProjectHeader project={project} setProject={setProject} />\r\n+            <ProjectTabs project={project} />\r\n+          </div>\r\n+        ) : (\r\n+          <ProjectError message=\"Project not found\" />\r\n+        )}\r\n+      </div>\r\n+    </AppLayout>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,68 +1,68 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useEffect, useState } from \"react\";\n",
        "-import { useParams, useRouter } from \"next/navigation\";\n",
        "-import { Project } from \"@/types\";\n",
        "-import { getProjectById } from \"@/lib/projects\";\n",
        "-import { AppLayout } from \"@/components/layout/app-layout\";\n",
        "-import { ProjectHeader } from \"@/components/projects/project-header\";\n",
        "-import { ProjectTabs } from \"@/components/projects/project-tabs\";\n",
        "-import { ProjectLoadingSkeleton } from \"@/components/projects/project-loading-skeleton\";\n",
        "-import { ProjectError } from \"@/components/projects/project-error\";\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-\n",
        "-export default function ProjectPage() {\n",
        "-  const { id } = useParams() as { id: string };\n",
        "-  const { isAuthenticated, isLoading } = useAuth();\n",
        "-  const router = useRouter();\n",
        "-\n",
        "-  const [project, setProject] = useState<Project | null>(null);\n",
        "-  const [isLoadingProject, setIsLoadingProject] = useState(true);\n",
        "-  const [error, setError] = useState<string | null>(null);\n",
        "-\n",
        "-  useEffect(() => {\n",
        "-    // Redirect to login if not authenticated\n",
        "-    if (isLoading) return;\n",
        "-    if (!isAuthenticated) {\n",
        "-      console.log(\"User not authenticated, redirecting to login...\");\n",
        "-      router.push(\"/auth/login\");\n",
        "-      return;\n",
        "-    }\n",
        "-\n",
        "-    async function fetchProject() {\n",
        "-      try {\n",
        "-        console.log(`Fetching project with ID: ${id}`);\n",
        "-        setIsLoadingProject(true);\n",
        "-        const projectData = await getProjectById(id);\n",
        "-        console.log(projectData);\n",
        "-        setProject(projectData);\n",
        "-      } catch (err) {\n",
        "-        console.error(\"Failed to fetch project:\", err);\n",
        "-        setError(\"Failed to load project details. Please try again later.\");\n",
        "-      } finally {\n",
        "-        setIsLoadingProject(false);\n",
        "-      }\n",
        "-    }\n",
        "-\n",
        "-    fetchProject();\n",
        "-  }, [id, isAuthenticated, router, isLoading]);\n",
        "-\n",
        "-  return (\n",
        "-    <AppLayout>\n",
        "-      <div className=\"container sm:px-4 px-[0.15rem] py-6 mx-auto\">\n",
        "-        {isLoading || isLoadingProject ? (\n",
        "-          <ProjectLoadingSkeleton />\n",
        "-        ) : error ? (\n",
        "-          <ProjectError message={error} />\n",
        "-        ) : project ? (\n",
        "-          <div className=\"space-y-6 animate-fade-in\">\n",
        "-            <ProjectHeader project={project} setProject={setProject} />\n",
        "-            <ProjectTabs project={project} />\n",
        "-          </div>\n",
        "-        ) : (\n",
        "-          <ProjectError message=\"Project not found\" />\n",
        "-        )}\n",
        "-      </div>\n",
        "-    </AppLayout>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useEffect, useState } from \"react\";\r\n",
        "+import { useParams, useRouter } from \"next/navigation\";\r\n",
        "+import { Project } from \"@/types\";\r\n",
        "+import { getProjectById } from \"@/lib/projects\";\r\n",
        "+import { AppLayout } from \"@/components/layout/app-layout\";\r\n",
        "+import { ProjectHeader } from \"@/components/projects/project-header\";\r\n",
        "+import { ProjectTabs } from \"@/components/projects/project-tabs\";\r\n",
        "+import { ProjectLoadingSkeleton } from \"@/components/projects/project-loading-skeleton\";\r\n",
        "+import { ProjectError } from \"@/components/projects/project-error\";\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+\r\n",
        "+export default function ProjectPage() {\r\n",
        "+  const { id } = useParams() as { id: string };\r\n",
        "+  const { isAuthenticated, isLoading } = useAuth();\r\n",
        "+  const router = useRouter();\r\n",
        "+\r\n",
        "+  const [project, setProject] = useState<Project | null>(null);\r\n",
        "+  const [isLoadingProject, setIsLoadingProject] = useState(true);\r\n",
        "+  const [error, setError] = useState<string | null>(null);\r\n",
        "+\r\n",
        "+  useEffect(() => {\r\n",
        "+    // Redirect to login if not authenticated\r\n",
        "+    if (isLoading) return;\r\n",
        "+    if (!isAuthenticated) {\r\n",
        "+      console.log(\"User not authenticated, redirecting to login...\");\r\n",
        "+      router.push(\"/auth/login\");\r\n",
        "+      return;\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    async function fetchProject() {\r\n",
        "+      try {\r\n",
        "+        console.log(`Fetching project with ID: ${id}`);\r\n",
        "+        setIsLoadingProject(true);\r\n",
        "+        const projectData = await getProjectById(id);\r\n",
        "+        console.log(projectData);\r\n",
        "+        setProject(projectData);\r\n",
        "+      } catch (err) {\r\n",
        "+        console.error(\"Failed to fetch project:\", err);\r\n",
        "+        setError(\"Failed to load project details. Please try again later.\");\r\n",
        "+      } finally {\r\n",
        "+        setIsLoadingProject(false);\r\n",
        "+      }\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    fetchProject();\r\n",
        "+  }, [id, isAuthenticated, router, isLoading]);\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <AppLayout>\r\n",
        "+      <div className=\"container sm:px-4 px-[0.15rem] py-6 mx-auto\">\r\n",
        "+        {isLoading || isLoadingProject ? (\r\n",
        "+          <ProjectLoadingSkeleton />\r\n",
        "+        ) : error ? (\r\n",
        "+          <ProjectError message={error} />\r\n",
        "+        ) : project ? (\r\n",
        "+          <div className=\"space-y-6 animate-fade-in\">\r\n",
        "+            <ProjectHeader project={project} setProject={setProject} />\r\n",
        "+            <ProjectTabs project={project} />\r\n",
        "+          </div>\r\n",
        "+        ) : (\r\n",
        "+          <ProjectError message=\"Project not found\" />\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+    </AppLayout>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/app/projects/new/page.tsx",
      "status": "modified",
      "additions": 158,
      "deletions": 158,
      "patch": "@@ -1,158 +1,158 @@\n-\"use client\";\n-\n-import { useState } from \"react\";\n-import { useRouter } from \"next/navigation\";\n-import { apiClient } from \"@/lib/api\";\n-import { getToken } from \"@/lib/auth\";\n-import { Card } from \"@/components/ui/card\";\n-import { PlanGenerationInput } from \"@/components/projects/new/types\";\n-import { PlanGenerationForm } from \"@/components/projects/new/components/plan-generation-form\";\n-import { ClarificationQuestionsSection } from \"@/components/projects/new/components/clarification-questions-section\";\n-\n-export default function NewProjectPage() {\n-  const router = useRouter();\n-  const [step, setStep] = useState<\"input\" | \"clarification\" | \"generating\">(\n-    \"input\"\n-  );\n-  const [projectInput, setProjectInput] = useState<PlanGenerationInput | null>(\n-    null\n-  );\n-  const [questions, setQuestions] = useState<string[]>([]);\n-  const [answers, setAnswers] = useState<Record<string, string>>({});\n-  const [isGeneratingQuestions, setIsGeneratingQuestions] = useState(false);\n-  const [isGeneratingPlan, setIsGeneratingPlan] = useState(false);\n-  const [error, setError] = useState<string | null>(null);\n-\n-  // Handle form submission to generate clarification questions\n-  const handleGenerateQuestions = async (formData: PlanGenerationInput) => {\n-    setIsGeneratingQuestions(true);\n-    setError(null);\n-\n-    try {\n-      const token = getToken();\n-      if (!token) {\n-        throw new Error(\"Not authenticated\");\n-      }\n-\n-      const response = await apiClient<{ questions: string[] }>(\n-        \"/plan/clarify\",\n-        {\n-          method: \"POST\",\n-          body: formData,\n-          token,\n-        }\n-      );\n-\n-      setProjectInput(formData);\n-      setQuestions(response.questions);\n-      setStep(\"clarification\");\n-    } catch (err) {\n-      console.error(\"Error generating questions:\", err);\n-      setError(\n-        err instanceof Error\n-          ? err.message\n-          : \"Failed to generate questions. Please try again.\"\n-      );\n-    } finally {\n-      setIsGeneratingQuestions(false);\n-    }\n-  };\n-\n-  // Handle submission of clarification answers to generate the plan\n-  const handleGeneratePlan = async (\n-    questionAnswers: Record<string, string>\n-  ) => {\n-    if (!projectInput) return;\n-\n-    setIsGeneratingPlan(true);\n-    setError(null);\n-    setStep(\"generating\");\n-\n-    try {\n-      const token = getToken();\n-      if (!token) {\n-        throw new Error(\"Not authenticated\");\n-      }\n-      const requestBody = {\n-        name: projectInput.name,\n-        description: projectInput.description,\n-        tech_stack: projectInput.tech_stack,\n-        experience_level: projectInput.experience_level,\n-        team_size: projectInput.team_size,\n-        time_scale: projectInput.time_scale,\n-        custom_hours:\n-          projectInput.time_scale === \"custom\"\n-            ? projectInput.custom_hours\n-            : null,\n-        clarification_qa: questionAnswers,\n-      };\n-      console.log(requestBody);\n-      const response = await apiClient<{\n-        structured_plan: any;\n-        project_id: string;\n-      }>(\"/plan/generate-plan\", {\n-        method: \"POST\",\n-        body: {\n-          input_data: { ...projectInput },\n-          clarification_qa: questionAnswers,\n-        },\n-        token,\n-      });\n-\n-      // Redirect to the newly created project\n-      router.push(`/projects/${response.project_id}`);\n-    } catch (err) {\n-      console.error(\"Error generating plan:\", err);\n-      setError(\n-        err instanceof Error\n-          ? err.message\n-          : \"Failed to generate plan. Please try again.\"\n-      );\n-      setStep(\"clarification\"); // Stay on the clarification step\n-    } finally {\n-      setIsGeneratingPlan(false);\n-    }\n-  };\n-\n-  return (\n-    <div className=\"container max-w-4xl mx-auto py-8 px-4\">\n-      <h1 className=\"text-3xl font-bold mb-8 text-center\">\n-        Create New Project\n-      </h1>\n-\n-      {error && (\n-        <div className=\"bg-red-950/30 border border-red-500/50 text-red-400 px-4 py-3 rounded-md mb-6\">\n-          {error}\n-        </div>\n-      )}\n-\n-      <Card className=\"border border-divider bg-secondary-background p-6\">\n-        {step === \"input\" && (\n-          <PlanGenerationForm\n-            onSubmit={handleGenerateQuestions}\n-            isLoading={isGeneratingQuestions}\n-          />\n-        )}\n-\n-        {step === \"clarification\" && (\n-          <ClarificationQuestionsSection\n-            questions={questions}\n-            onSubmit={handleGeneratePlan}\n-            isLoading={isGeneratingPlan}\n-          />\n-        )}\n-\n-        {step === \"generating\" && (\n-          <div className=\"flex flex-col items-center justify-center py-16\">\n-            <div className=\"w-16 h-16 border-4 border-t-primary-cta rounded-full animate-spin mb-4\"></div>\n-            <p className=\"text-lg\">Generating your project plan...</p>\n-            <p className=\"text-sm text-secondary-text mt-2\">\n-              This may take a minute or two. We're crafting a comprehensive\n-              project plan for you.\n-            </p>\n-          </div>\n-        )}\n-      </Card>\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import { apiClient } from \"@/lib/api\";\r\n+import { getToken } from \"@/lib/auth\";\r\n+import { Card } from \"@/components/ui/card\";\r\n+import { PlanGenerationInput } from \"@/components/projects/new/types\";\r\n+import { PlanGenerationForm } from \"@/components/projects/new/components/plan-generation-form\";\r\n+import { ClarificationQuestionsSection } from \"@/components/projects/new/components/clarification-questions-section\";\r\n+\r\n+export default function NewProjectPage() {\r\n+  const router = useRouter();\r\n+  const [step, setStep] = useState<\"input\" | \"clarification\" | \"generating\">(\r\n+    \"input\"\r\n+  );\r\n+  const [projectInput, setProjectInput] = useState<PlanGenerationInput | null>(\r\n+    null\r\n+  );\r\n+  const [questions, setQuestions] = useState<string[]>([]);\r\n+  const [answers, setAnswers] = useState<Record<string, string>>({});\r\n+  const [isGeneratingQuestions, setIsGeneratingQuestions] = useState(false);\r\n+  const [isGeneratingPlan, setIsGeneratingPlan] = useState(false);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+\r\n+  // Handle form submission to generate clarification questions\r\n+  const handleGenerateQuestions = async (formData: PlanGenerationInput) => {\r\n+    setIsGeneratingQuestions(true);\r\n+    setError(null);\r\n+\r\n+    try {\r\n+      const token = getToken();\r\n+      if (!token) {\r\n+        throw new Error(\"Not authenticated\");\r\n+      }\r\n+\r\n+      const response = await apiClient<{ questions: string[] }>(\r\n+        \"/plan/clarify\",\r\n+        {\r\n+          method: \"POST\",\r\n+          body: formData,\r\n+          token,\r\n+        }\r\n+      );\r\n+\r\n+      setProjectInput(formData);\r\n+      setQuestions(response.questions);\r\n+      setStep(\"clarification\");\r\n+    } catch (err) {\r\n+      console.error(\"Error generating questions:\", err);\r\n+      setError(\r\n+        err instanceof Error\r\n+          ? err.message\r\n+          : \"Failed to generate questions. Please try again.\"\r\n+      );\r\n+    } finally {\r\n+      setIsGeneratingQuestions(false);\r\n+    }\r\n+  };\r\n+\r\n+  // Handle submission of clarification answers to generate the plan\r\n+  const handleGeneratePlan = async (\r\n+    questionAnswers: Record<string, string>\r\n+  ) => {\r\n+    if (!projectInput) return;\r\n+\r\n+    setIsGeneratingPlan(true);\r\n+    setError(null);\r\n+    setStep(\"generating\");\r\n+\r\n+    try {\r\n+      const token = getToken();\r\n+      if (!token) {\r\n+        throw new Error(\"Not authenticated\");\r\n+      }\r\n+      const requestBody = {\r\n+        name: projectInput.name,\r\n+        description: projectInput.description,\r\n+        tech_stack: projectInput.tech_stack,\r\n+        experience_level: projectInput.experience_level,\r\n+        team_size: projectInput.team_size,\r\n+        time_scale: projectInput.time_scale,\r\n+        custom_hours:\r\n+          projectInput.time_scale === \"custom\"\r\n+            ? projectInput.custom_hours\r\n+            : null,\r\n+        clarification_qa: questionAnswers,\r\n+      };\r\n+      console.log(requestBody);\r\n+      const response = await apiClient<{\r\n+        structured_plan: any;\r\n+        project_id: string;\r\n+      }>(\"/plan/generate-plan\", {\r\n+        method: \"POST\",\r\n+        body: {\r\n+          input_data: { ...projectInput },\r\n+          clarification_qa: questionAnswers,\r\n+        },\r\n+        token,\r\n+      });\r\n+\r\n+      // Redirect to the newly created project\r\n+      router.push(`/projects/${response.project_id}`);\r\n+    } catch (err) {\r\n+      console.error(\"Error generating plan:\", err);\r\n+      setError(\r\n+        err instanceof Error\r\n+          ? err.message\r\n+          : \"Failed to generate plan. Please try again.\"\r\n+      );\r\n+      setStep(\"clarification\"); // Stay on the clarification step\r\n+    } finally {\r\n+      setIsGeneratingPlan(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"container max-w-4xl mx-auto py-8 px-4\">\r\n+      <h1 className=\"text-3xl font-bold mb-8 text-center\">\r\n+        Create New Project\r\n+      </h1>\r\n+\r\n+      {error && (\r\n+        <div className=\"bg-red-950/30 border border-red-500/50 text-red-400 px-4 py-3 rounded-md mb-6\">\r\n+          {error}\r\n+        </div>\r\n+      )}\r\n+\r\n+      <Card className=\"border border-divider bg-secondary-background p-6\">\r\n+        {step === \"input\" && (\r\n+          <PlanGenerationForm\r\n+            onSubmit={handleGenerateQuestions}\r\n+            isLoading={isGeneratingQuestions}\r\n+          />\r\n+        )}\r\n+\r\n+        {step === \"clarification\" && (\r\n+          <ClarificationQuestionsSection\r\n+            questions={questions}\r\n+            onSubmit={handleGeneratePlan}\r\n+            isLoading={isGeneratingPlan}\r\n+          />\r\n+        )}\r\n+\r\n+        {step === \"generating\" && (\r\n+          <div className=\"flex flex-col items-center justify-center py-16\">\r\n+            <div className=\"w-16 h-16 border-4 border-t-primary-cta rounded-full animate-spin mb-4\"></div>\r\n+            <p className=\"text-lg\">Generating your project plan...</p>\r\n+            <p className=\"text-sm text-secondary-text mt-2\">\r\n+              This may take a minute or two. We're crafting a comprehensive\r\n+              project plan for you.\r\n+            </p>\r\n+          </div>\r\n+        )}\r\n+      </Card>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,158 +1,158 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState } from \"react\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-import { apiClient } from \"@/lib/api\";\n",
        "-import { getToken } from \"@/lib/auth\";\n",
        "-import { Card } from \"@/components/ui/card\";\n",
        "-import { PlanGenerationInput } from \"@/components/projects/new/types\";\n",
        "-import { PlanGenerationForm } from \"@/components/projects/new/components/plan-generation-form\";\n",
        "-import { ClarificationQuestionsSection } from \"@/components/projects/new/components/clarification-questions-section\";\n",
        "-\n",
        "-export default function NewProjectPage() {\n",
        "-  const router = useRouter();\n",
        "-  const [step, setStep] = useState<\"input\" | \"clarification\" | \"generating\">(\n",
        "-    \"input\"\n",
        "-  );\n",
        "-  const [projectInput, setProjectInput] = useState<PlanGenerationInput | null>(\n",
        "-    null\n",
        "-  );\n",
        "-  const [questions, setQuestions] = useState<string[]>([]);\n",
        "-  const [answers, setAnswers] = useState<Record<string, string>>({});\n",
        "-  const [isGeneratingQuestions, setIsGeneratingQuestions] = useState(false);\n",
        "-  const [isGeneratingPlan, setIsGeneratingPlan] = useState(false);\n",
        "-  const [error, setError] = useState<string | null>(null);\n",
        "-\n",
        "-  // Handle form submission to generate clarification questions\n",
        "-  const handleGenerateQuestions = async (formData: PlanGenerationInput) => {\n",
        "-    setIsGeneratingQuestions(true);\n",
        "-    setError(null);\n",
        "-\n",
        "-    try {\n",
        "-      const token = getToken();\n",
        "-      if (!token) {\n",
        "-        throw new Error(\"Not authenticated\");\n",
        "-      }\n",
        "-\n",
        "-      const response = await apiClient<{ questions: string[] }>(\n",
        "-        \"/plan/clarify\",\n",
        "-        {\n",
        "-          method: \"POST\",\n",
        "-          body: formData,\n",
        "-          token,\n",
        "-        }\n",
        "-      );\n",
        "-\n",
        "-      setProjectInput(formData);\n",
        "-      setQuestions(response.questions);\n",
        "-      setStep(\"clarification\");\n",
        "-    } catch (err) {\n",
        "-      console.error(\"Error generating questions:\", err);\n",
        "-      setError(\n",
        "-        err instanceof Error\n",
        "-          ? err.message\n",
        "-          : \"Failed to generate questions. Please try again.\"\n",
        "-      );\n",
        "-    } finally {\n",
        "-      setIsGeneratingQuestions(false);\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  // Handle submission of clarification answers to generate the plan\n",
        "-  const handleGeneratePlan = async (\n",
        "-    questionAnswers: Record<string, string>\n",
        "-  ) => {\n",
        "-    if (!projectInput) return;\n",
        "-\n",
        "-    setIsGeneratingPlan(true);\n",
        "-    setError(null);\n",
        "-    setStep(\"generating\");\n",
        "-\n",
        "-    try {\n",
        "-      const token = getToken();\n",
        "-      if (!token) {\n",
        "-        throw new Error(\"Not authenticated\");\n",
        "-      }\n",
        "-      const requestBody = {\n",
        "-        name: projectInput.name,\n",
        "-        description: projectInput.description,\n",
        "-        tech_stack: projectInput.tech_stack,\n",
        "-        experience_level: projectInput.experience_level,\n",
        "-        team_size: projectInput.team_size,\n",
        "-        time_scale: projectInput.time_scale,\n",
        "-        custom_hours:\n",
        "-          projectInput.time_scale === \"custom\"\n",
        "-            ? projectInput.custom_hours\n",
        "-            : null,\n",
        "-        clarification_qa: questionAnswers,\n",
        "-      };\n",
        "-      console.log(requestBody);\n",
        "-      const response = await apiClient<{\n",
        "-        structured_plan: any;\n",
        "-        project_id: string;\n",
        "-      }>(\"/plan/generate-plan\", {\n",
        "-        method: \"POST\",\n",
        "-        body: {\n",
        "-          input_data: { ...projectInput },\n",
        "-          clarification_qa: questionAnswers,\n",
        "-        },\n",
        "-        token,\n",
        "-      });\n",
        "-\n",
        "-      // Redirect to the newly created project\n",
        "-      router.push(`/projects/${response.project_id}`);\n",
        "-    } catch (err) {\n",
        "-      console.error(\"Error generating plan:\", err);\n",
        "-      setError(\n",
        "-        err instanceof Error\n",
        "-          ? err.message\n",
        "-          : \"Failed to generate plan. Please try again.\"\n",
        "-      );\n",
        "-      setStep(\"clarification\"); // Stay on the clarification step\n",
        "-    } finally {\n",
        "-      setIsGeneratingPlan(false);\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"container max-w-4xl mx-auto py-8 px-4\">\n",
        "-      <h1 className=\"text-3xl font-bold mb-8 text-center\">\n",
        "-        Create New Project\n",
        "-      </h1>\n",
        "-\n",
        "-      {error && (\n",
        "-        <div className=\"bg-red-950/30 border border-red-500/50 text-red-400 px-4 py-3 rounded-md mb-6\">\n",
        "-          {error}\n",
        "-        </div>\n",
        "-      )}\n",
        "-\n",
        "-      <Card className=\"border border-divider bg-secondary-background p-6\">\n",
        "-        {step === \"input\" && (\n",
        "-          <PlanGenerationForm\n",
        "-            onSubmit={handleGenerateQuestions}\n",
        "-            isLoading={isGeneratingQuestions}\n",
        "-          />\n",
        "-        )}\n",
        "-\n",
        "-        {step === \"clarification\" && (\n",
        "-          <ClarificationQuestionsSection\n",
        "-            questions={questions}\n",
        "-            onSubmit={handleGeneratePlan}\n",
        "-            isLoading={isGeneratingPlan}\n",
        "-          />\n",
        "-        )}\n",
        "-\n",
        "-        {step === \"generating\" && (\n",
        "-          <div className=\"flex flex-col items-center justify-center py-16\">\n",
        "-            <div className=\"w-16 h-16 border-4 border-t-primary-cta rounded-full animate-spin mb-4\"></div>\n",
        "-            <p className=\"text-lg\">Generating your project plan...</p>\n",
        "-            <p className=\"text-sm text-secondary-text mt-2\">\n",
        "-              This may take a minute or two. We're crafting a comprehensive\n",
        "-              project plan for you.\n",
        "-            </p>\n",
        "-          </div>\n",
        "-        )}\n",
        "-      </Card>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+import { apiClient } from \"@/lib/api\";\r\n",
        "+import { getToken } from \"@/lib/auth\";\r\n",
        "+import { Card } from \"@/components/ui/card\";\r\n",
        "+import { PlanGenerationInput } from \"@/components/projects/new/types\";\r\n",
        "+import { PlanGenerationForm } from \"@/components/projects/new/components/plan-generation-form\";\r\n",
        "+import { ClarificationQuestionsSection } from \"@/components/projects/new/components/clarification-questions-section\";\r\n",
        "+\r\n",
        "+export default function NewProjectPage() {\r\n",
        "+  const router = useRouter();\r\n",
        "+  const [step, setStep] = useState<\"input\" | \"clarification\" | \"generating\">(\r\n",
        "+    \"input\"\r\n",
        "+  );\r\n",
        "+  const [projectInput, setProjectInput] = useState<PlanGenerationInput | null>(\r\n",
        "+    null\r\n",
        "+  );\r\n",
        "+  const [questions, setQuestions] = useState<string[]>([]);\r\n",
        "+  const [answers, setAnswers] = useState<Record<string, string>>({});\r\n",
        "+  const [isGeneratingQuestions, setIsGeneratingQuestions] = useState(false);\r\n",
        "+  const [isGeneratingPlan, setIsGeneratingPlan] = useState(false);\r\n",
        "+  const [error, setError] = useState<string | null>(null);\r\n",
        "+\r\n",
        "+  // Handle form submission to generate clarification questions\r\n",
        "+  const handleGenerateQuestions = async (formData: PlanGenerationInput) => {\r\n",
        "+    setIsGeneratingQuestions(true);\r\n",
        "+    setError(null);\r\n",
        "+\r\n",
        "+    try {\r\n",
        "+      const token = getToken();\r\n",
        "+      if (!token) {\r\n",
        "+        throw new Error(\"Not authenticated\");\r\n",
        "+      }\r\n",
        "+\r\n",
        "+      const response = await apiClient<{ questions: string[] }>(\r\n",
        "+        \"/plan/clarify\",\r\n",
        "+        {\r\n",
        "+          method: \"POST\",\r\n",
        "+          body: formData,\r\n",
        "+          token,\r\n",
        "+        }\r\n",
        "+      );\r\n",
        "+\r\n",
        "+      setProjectInput(formData);\r\n",
        "+      setQuestions(response.questions);\r\n",
        "+      setStep(\"clarification\");\r\n",
        "+    } catch (err) {\r\n",
        "+      console.error(\"Error generating questions:\", err);\r\n",
        "+      setError(\r\n",
        "+        err instanceof Error\r\n",
        "+          ? err.message\r\n",
        "+          : \"Failed to generate questions. Please try again.\"\r\n",
        "+      );\r\n",
        "+    } finally {\r\n",
        "+      setIsGeneratingQuestions(false);\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle submission of clarification answers to generate the plan\r\n",
        "+  const handleGeneratePlan = async (\r\n",
        "+    questionAnswers: Record<string, string>\r\n",
        "+  ) => {\r\n",
        "+    if (!projectInput) return;\r\n",
        "+\r\n",
        "+    setIsGeneratingPlan(true);\r\n",
        "+    setError(null);\r\n",
        "+    setStep(\"generating\");\r\n",
        "+\r\n",
        "+    try {\r\n",
        "+      const token = getToken();\r\n",
        "+      if (!token) {\r\n",
        "+        throw new Error(\"Not authenticated\");\r\n",
        "+      }\r\n",
        "+      const requestBody = {\r\n",
        "+        name: projectInput.name,\r\n",
        "+        description: projectInput.description,\r\n",
        "+        tech_stack: projectInput.tech_stack,\r\n",
        "+        experience_level: projectInput.experience_level,\r\n",
        "+        team_size: projectInput.team_size,\r\n",
        "+        time_scale: projectInput.time_scale,\r\n",
        "+        custom_hours:\r\n",
        "+          projectInput.time_scale === \"custom\"\r\n",
        "+            ? projectInput.custom_hours\r\n",
        "+            : null,\r\n",
        "+        clarification_qa: questionAnswers,\r\n",
        "+      };\r\n",
        "+      console.log(requestBody);\r\n",
        "+      const response = await apiClient<{\r\n",
        "+        structured_plan: any;\r\n",
        "+        project_id: string;\r\n",
        "+      }>(\"/plan/generate-plan\", {\r\n",
        "+        method: \"POST\",\r\n",
        "+        body: {\r\n",
        "+          input_data: { ...projectInput },\r\n",
        "+          clarification_qa: questionAnswers,\r\n",
        "+        },\r\n",
        "+        token,\r\n",
        "+      });\r\n",
        "+\r\n",
        "+      // Redirect to the newly created project\r\n",
        "+      router.push(`/projects/${response.project_id}`);\r\n",
        "+    } catch (err) {\r\n",
        "+      console.error(\"Error generating plan:\", err);\r\n",
        "+      setError(\r\n",
        "+        err instanceof Error\r\n",
        "+          ? err.message\r\n",
        "+          : \"Failed to generate plan. Please try again.\"\r\n",
        "+      );\r\n",
        "+      setStep(\"clarification\"); // Stay on the clarification step\r\n",
        "+    } finally {\r\n",
        "+      setIsGeneratingPlan(false);\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"container max-w-4xl mx-auto py-8 px-4\">\r\n",
        "+      <h1 className=\"text-3xl font-bold mb-8 text-center\">\r\n",
        "+        Create New Project\r\n",
        "+      </h1>\r\n",
        "+\r\n",
        "+      {error && (\r\n",
        "+        <div className=\"bg-red-950/30 border border-red-500/50 text-red-400 px-4 py-3 rounded-md mb-6\">\r\n",
        "+          {error}\r\n",
        "+        </div>\r\n",
        "+      )}\r\n",
        "+\r\n",
        "+      <Card className=\"border border-divider bg-secondary-background p-6\">\r\n",
        "+        {step === \"input\" && (\r\n",
        "+          <PlanGenerationForm\r\n",
        "+            onSubmit={handleGenerateQuestions}\r\n",
        "+            isLoading={isGeneratingQuestions}\r\n",
        "+          />\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {step === \"clarification\" && (\r\n",
        "+          <ClarificationQuestionsSection\r\n",
        "+            questions={questions}\r\n",
        "+            onSubmit={handleGeneratePlan}\r\n",
        "+            isLoading={isGeneratingPlan}\r\n",
        "+          />\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {step === \"generating\" && (\r\n",
        "+          <div className=\"flex flex-col items-center justify-center py-16\">\r\n",
        "+            <div className=\"w-16 h-16 border-4 border-t-primary-cta rounded-full animate-spin mb-4\"></div>\r\n",
        "+            <p className=\"text-lg\">Generating your project plan...</p>\r\n",
        "+            <p className=\"text-sm text-secondary-text mt-2\">\r\n",
        "+              This may take a minute or two. We're crafting a comprehensive\r\n",
        "+              project plan for you.\r\n",
        "+            </p>\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+      </Card>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/app/projects/page.tsx",
      "status": "modified",
      "additions": 173,
      "deletions": 173,
      "patch": "@@ -1,173 +1,173 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import { useAuth } from \"@/contexts/auth-context\";\n-import { getProjects } from \"@/lib/projects\";\n-import { ProjectListItem } from \"@/types\";\n-import { ProjectsList } from \"@/components/projects/projects-list\";\n-import { SearchProjects } from \"@/components/projects/search-projects\";\n-import { Button } from \"@/components/ui/button\";\n-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n-import Link from \"next/link\";\n-import { Skeleton } from \"@/components/ui/skeleton\";\n-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { capitalizeWords } from \"@/lib/utils\";\n-import { AppLayout } from \"@/components/layout/app-layout\";\n-import { useRouter } from \"next/navigation\";\n-\n-// Loading skeleton for projects grid\n-function ProjectsLoadingSkeleton() {\n-  return (\n-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n-      {Array.from({ length: 6 }).map((_, i) => (\n-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n-      ))}\n-    </div>\n-  );\n-}\n-\n-export default function ProjectsPage() {\n-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n-    []\n-  );\n-  const [isLoading, setIsLoading] = useState(true);\n-  const [error, setError] = useState<string | null>(null);\n-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n-  const router = useRouter();\n-  // Fetch projects on component mount\n-  useEffect(() => {\n-    async function fetchProjects() {\n-      if (authLoading) return;\n-      if (!isAuthenticated) {\n-        console.log(\"User not authenticated, redirecting to login...\");\n-        router.push(\"/auth/login\");\n-        return;\n-      }\n-\n-      try {\n-        setIsLoading(true);\n-        const projectsData = await getProjects();\n-        console.log(projectsData);\n-        setProjects(projectsData);\n-        setFilteredProjects(projectsData);\n-      } catch (err) {\n-        console.error(\"Failed to fetch projects:\", err);\n-        setError(\"Failed to load projects. Please try again later.\");\n-      } finally {\n-        setIsLoading(false);\n-      }\n-    }\n-\n-    fetchProjects();\n-  }, [isAuthenticated, authLoading]);\n-\n-  // Apply filters and search\n-  useEffect(() => {\n-    let result = [...projects];\n-\n-    // Apply status filter if not \"all\"\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  }, [projects, statusFilter]);\n-\n-  // Handle search functionality\n-  const handleSearch = (query: string) => {\n-    if (!query.trim()) {\n-      // Just apply status filter\n-      let result = [...projects];\n-      if (statusFilter !== \"all\") {\n-        result = result.filter((project) => project.status === statusFilter);\n-      }\n-      setFilteredProjects(result);\n-      return;\n-    }\n-\n-    // Apply both search and status filter\n-    let result = projects.filter(\n-      (project) =>\n-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n-        project.description.toLowerCase().includes(query.toLowerCase())\n-    );\n-\n-    if (statusFilter !== \"all\") {\n-      result = result.filter((project) => project.status === statusFilter);\n-    }\n-\n-    setFilteredProjects(result);\n-  };\n-\n-  const handleStatusFilterChange = (value: string) => {\n-    setStatusFilter(value);\n-  };\n-\n-  return (\n-    <AppLayout>\n-      <div className=\"container mx-auto px-2 py-8\">\n-        <div className=\"mb-8\">\n-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n-          {user && (\n-            <p className=\"text-secondary-text\">\n-              Welcome back, {capitalizeWords(user.full_name)}\n-            </p>\n-          )}\n-        </div>\n-\n-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n-            <div className=\"w-full sm:w-64\">\n-              <SearchProjects onSearch={handleSearch} />\n-            </div>\n-\n-            <Select\n-              value={statusFilter}\n-              onValueChange={handleStatusFilterChange}\n-            >\n-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n-                <SelectValue placeholder=\"Filter by status\" />\n-              </SelectTrigger>\n-              <SelectContent className=\"bg-secondary-background border-divider\">\n-                <SelectItem value=\"all\">All Projects</SelectItem>\n-                <SelectItem value=\"draft\">Draft</SelectItem>\n-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n-                <SelectItem value=\"completed\">Completed</SelectItem>\n-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n-              </SelectContent>\n-            </Select>\n-          </div>\n-\n-          <Link href=\"/projects/new\">\n-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n-              New Project\n-            </Button>\n-          </Link>\n-        </div>\n-\n-        {error && (\n-          <Alert variant=\"destructive\" className=\"mb-6\">\n-            <AlertCircle className=\"h-4 w-4\" />\n-            <AlertDescription>{error}</AlertDescription>\n-          </Alert>\n-        )}\n-\n-        {isLoading ? (\n-          <ProjectsLoadingSkeleton />\n-        ) : (\n-          <ProjectsList projects={filteredProjects} />\n-        )}\n-      </div>\n-    </AppLayout>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import { getProjects } from \"@/lib/projects\";\r\n+import { ProjectListItem } from \"@/types\";\r\n+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n+import Link from \"next/link\";\r\n+import { Skeleton } from \"@/components/ui/skeleton\";\r\n+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { capitalizeWords } from \"@/lib/utils\";\r\n+import { AppLayout } from \"@/components/layout/app-layout\";\r\n+import { useRouter } from \"next/navigation\";\r\n+\r\n+// Loading skeleton for projects grid\r\n+function ProjectsLoadingSkeleton() {\r\n+  return (\r\n+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n+      {Array.from({ length: 6 }).map((_, i) => (\r\n+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n+      ))}\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default function ProjectsPage() {\r\n+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n+    []\r\n+  );\r\n+  const [isLoading, setIsLoading] = useState(true);\r\n+  const [error, setError] = useState<string | null>(null);\r\n+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n+  const router = useRouter();\r\n+  // Fetch projects on component mount\r\n+  useEffect(() => {\r\n+    async function fetchProjects() {\r\n+      if (authLoading) return;\r\n+      if (!isAuthenticated) {\r\n+        console.log(\"User not authenticated, redirecting to login...\");\r\n+        router.push(\"/auth/login\");\r\n+        return;\r\n+      }\r\n+\r\n+      try {\r\n+        setIsLoading(true);\r\n+        const projectsData = await getProjects();\r\n+        console.log(projectsData);\r\n+        setProjects(projectsData);\r\n+        setFilteredProjects(projectsData);\r\n+      } catch (err) {\r\n+        console.error(\"Failed to fetch projects:\", err);\r\n+        setError(\"Failed to load projects. Please try again later.\");\r\n+      } finally {\r\n+        setIsLoading(false);\r\n+      }\r\n+    }\r\n+\r\n+    fetchProjects();\r\n+  }, [isAuthenticated, authLoading]);\r\n+\r\n+  // Apply filters and search\r\n+  useEffect(() => {\r\n+    let result = [...projects];\r\n+\r\n+    // Apply status filter if not \"all\"\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  }, [projects, statusFilter]);\r\n+\r\n+  // Handle search functionality\r\n+  const handleSearch = (query: string) => {\r\n+    if (!query.trim()) {\r\n+      // Just apply status filter\r\n+      let result = [...projects];\r\n+      if (statusFilter !== \"all\") {\r\n+        result = result.filter((project) => project.status === statusFilter);\r\n+      }\r\n+      setFilteredProjects(result);\r\n+      return;\r\n+    }\r\n+\r\n+    // Apply both search and status filter\r\n+    let result = projects.filter(\r\n+      (project) =>\r\n+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n+        project.description.toLowerCase().includes(query.toLowerCase())\r\n+    );\r\n+\r\n+    if (statusFilter !== \"all\") {\r\n+      result = result.filter((project) => project.status === statusFilter);\r\n+    }\r\n+\r\n+    setFilteredProjects(result);\r\n+  };\r\n+\r\n+  const handleStatusFilterChange = (value: string) => {\r\n+    setStatusFilter(value);\r\n+  };\r\n+\r\n+  return (\r\n+    <AppLayout>\r\n+      <div className=\"container mx-auto px-2 py-8\">\r\n+        <div className=\"mb-8\">\r\n+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n+          {user && (\r\n+            <p className=\"text-secondary-text\">\r\n+              Welcome back, {capitalizeWords(user.full_name)}\r\n+            </p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n+            <div className=\"w-full sm:w-64\">\r\n+              <SearchProjects onSearch={handleSearch} />\r\n+            </div>\r\n+\r\n+            <Select\r\n+              value={statusFilter}\r\n+              onValueChange={handleStatusFilterChange}\r\n+            >\r\n+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n+                <SelectValue placeholder=\"Filter by status\" />\r\n+              </SelectTrigger>\r\n+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n+              </SelectContent>\r\n+            </Select>\r\n+          </div>\r\n+\r\n+          <Link href=\"/projects/new\">\r\n+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n+              New Project\r\n+            </Button>\r\n+          </Link>\r\n+        </div>\r\n+\r\n+        {error && (\r\n+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n+            <AlertCircle className=\"h-4 w-4\" />\r\n+            <AlertDescription>{error}</AlertDescription>\r\n+          </Alert>\r\n+        )}\r\n+\r\n+        {isLoading ? (\r\n+          <ProjectsLoadingSkeleton />\r\n+        ) : (\r\n+          <ProjectsList projects={filteredProjects} />\r\n+        )}\r\n+      </div>\r\n+    </AppLayout>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,173 +1,173 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import { getProjects } from \"@/lib/projects\";\n",
        "-import { ProjectListItem } from \"@/types\";\n",
        "-import { ProjectsList } from \"@/components/projects/projects-list\";\n",
        "-import { SearchProjects } from \"@/components/projects/search-projects\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\n",
        "-import Link from \"next/link\";\n",
        "-import { Skeleton } from \"@/components/ui/skeleton\";\n",
        "-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { capitalizeWords } from \"@/lib/utils\";\n",
        "-import { AppLayout } from \"@/components/layout/app-layout\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-\n",
        "-// Loading skeleton for projects grid\n",
        "-function ProjectsLoadingSkeleton() {\n",
        "-  return (\n",
        "-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n",
        "-      {Array.from({ length: 6 }).map((_, i) => (\n",
        "-        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\n",
        "-      ))}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-export default function ProjectsPage() {\n",
        "-  const [projects, setProjects] = useState<ProjectListItem[]>([]);\n",
        "-  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\n",
        "-    []\n",
        "-  );\n",
        "-  const [isLoading, setIsLoading] = useState(true);\n",
        "-  const [error, setError] = useState<string | null>(null);\n",
        "-  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\n",
        "-  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\n",
        "-  const router = useRouter();\n",
        "-  // Fetch projects on component mount\n",
        "-  useEffect(() => {\n",
        "-    async function fetchProjects() {\n",
        "-      if (authLoading) return;\n",
        "-      if (!isAuthenticated) {\n",
        "-        console.log(\"User not authenticated, redirecting to login...\");\n",
        "-        router.push(\"/auth/login\");\n",
        "-        return;\n",
        "-      }\n",
        "-\n",
        "-      try {\n",
        "-        setIsLoading(true);\n",
        "-        const projectsData = await getProjects();\n",
        "-        console.log(projectsData);\n",
        "-        setProjects(projectsData);\n",
        "-        setFilteredProjects(projectsData);\n",
        "-      } catch (err) {\n",
        "-        console.error(\"Failed to fetch projects:\", err);\n",
        "-        setError(\"Failed to load projects. Please try again later.\");\n",
        "-      } finally {\n",
        "-        setIsLoading(false);\n",
        "-      }\n",
        "-    }\n",
        "-\n",
        "-    fetchProjects();\n",
        "-  }, [isAuthenticated, authLoading]);\n",
        "-\n",
        "-  // Apply filters and search\n",
        "-  useEffect(() => {\n",
        "-    let result = [...projects];\n",
        "-\n",
        "-    // Apply status filter if not \"all\"\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  }, [projects, statusFilter]);\n",
        "-\n",
        "-  // Handle search functionality\n",
        "-  const handleSearch = (query: string) => {\n",
        "-    if (!query.trim()) {\n",
        "-      // Just apply status filter\n",
        "-      let result = [...projects];\n",
        "-      if (statusFilter !== \"all\") {\n",
        "-        result = result.filter((project) => project.status === statusFilter);\n",
        "-      }\n",
        "-      setFilteredProjects(result);\n",
        "-      return;\n",
        "-    }\n",
        "-\n",
        "-    // Apply both search and status filter\n",
        "-    let result = projects.filter(\n",
        "-      (project) =>\n",
        "-        project.name.toLowerCase().includes(query.toLowerCase()) ||\n",
        "-        project.description.toLowerCase().includes(query.toLowerCase())\n",
        "-    );\n",
        "-\n",
        "-    if (statusFilter !== \"all\") {\n",
        "-      result = result.filter((project) => project.status === statusFilter);\n",
        "-    }\n",
        "-\n",
        "-    setFilteredProjects(result);\n",
        "-  };\n",
        "-\n",
        "-  const handleStatusFilterChange = (value: string) => {\n",
        "-    setStatusFilter(value);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <AppLayout>\n",
        "-      <div className=\"container mx-auto px-2 py-8\">\n",
        "-        <div className=\"mb-8\">\n",
        "-          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\n",
        "-          {user && (\n",
        "-            <p className=\"text-secondary-text\">\n",
        "-              Welcome back, {capitalizeWords(user.full_name)}\n",
        "-            </p>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n",
        "-          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\n",
        "-            <div className=\"w-full sm:w-64\">\n",
        "-              <SearchProjects onSearch={handleSearch} />\n",
        "-            </div>\n",
        "-\n",
        "-            <Select\n",
        "-              value={statusFilter}\n",
        "-              onValueChange={handleStatusFilterChange}\n",
        "-            >\n",
        "-              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\n",
        "-                <SelectValue placeholder=\"Filter by status\" />\n",
        "-              </SelectTrigger>\n",
        "-              <SelectContent className=\"bg-secondary-background border-divider\">\n",
        "-                <SelectItem value=\"all\">All Projects</SelectItem>\n",
        "-                <SelectItem value=\"draft\">Draft</SelectItem>\n",
        "-                <SelectItem value=\"in_progress\">In Progress</SelectItem>\n",
        "-                <SelectItem value=\"completed\">Completed</SelectItem>\n",
        "-                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n",
        "-              </SelectContent>\n",
        "-            </Select>\n",
        "-          </div>\n",
        "-\n",
        "-          <Link href=\"/projects/new\">\n",
        "-            <Button variant=\"outline\" className=\"gradient-border w-fit\">\n",
        "-              <PlusCircle className=\"mr-2 h-4 w-4\" />\n",
        "-              New Project\n",
        "-            </Button>\n",
        "-          </Link>\n",
        "-        </div>\n",
        "-\n",
        "-        {error && (\n",
        "-          <Alert variant=\"destructive\" className=\"mb-6\">\n",
        "-            <AlertCircle className=\"h-4 w-4\" />\n",
        "-            <AlertDescription>{error}</AlertDescription>\n",
        "-          </Alert>\n",
        "-        )}\n",
        "-\n",
        "-        {isLoading ? (\n",
        "-          <ProjectsLoadingSkeleton />\n",
        "-        ) : (\n",
        "-          <ProjectsList projects={filteredProjects} />\n",
        "-        )}\n",
        "-      </div>\n",
        "-    </AppLayout>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import { getProjects } from \"@/lib/projects\";\r\n",
        "+import { ProjectListItem } from \"@/types\";\r\n",
        "+import { ProjectsList } from \"@/components/projects/projects-list\";\r\n",
        "+import { SearchProjects } from \"@/components/projects/search-projects\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { AlertCircle, PlusCircle, Router } from \"lucide-react\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import { Skeleton } from \"@/components/ui/skeleton\";\r\n",
        "+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { capitalizeWords } from \"@/lib/utils\";\r\n",
        "+import { AppLayout } from \"@/components/layout/app-layout\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+\r\n",
        "+// Loading skeleton for projects grid\r\n",
        "+function ProjectsLoadingSkeleton() {\r\n",
        "+  return (\r\n",
        "+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n",
        "+      {Array.from({ length: 6 }).map((_, i) => (\r\n",
        "+        <Skeleton key={i} className=\"h-64 w-full rounded-lg\" />\r\n",
        "+      ))}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+export default function ProjectsPage() {\r\n",
        "+  const [projects, setProjects] = useState<ProjectListItem[]>([]);\r\n",
        "+  const [filteredProjects, setFilteredProjects] = useState<ProjectListItem[]>(\r\n",
        "+    []\r\n",
        "+  );\r\n",
        "+  const [isLoading, setIsLoading] = useState(true);\r\n",
        "+  const [error, setError] = useState<string | null>(null);\r\n",
        "+  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n",
        "+  const { isAuthenticated, user, isLoading: authLoading } = useAuth();\r\n",
        "+  const router = useRouter();\r\n",
        "+  // Fetch projects on component mount\r\n",
        "+  useEffect(() => {\r\n",
        "+    async function fetchProjects() {\r\n",
        "+      if (authLoading) return;\r\n",
        "+      if (!isAuthenticated) {\r\n",
        "+        console.log(\"User not authenticated, redirecting to login...\");\r\n",
        "+        router.push(\"/auth/login\");\r\n",
        "+        return;\r\n",
        "+      }\r\n",
        "+\r\n",
        "+      try {\r\n",
        "+        setIsLoading(true);\r\n",
        "+        const projectsData = await getProjects();\r\n",
        "+        console.log(projectsData);\r\n",
        "+        setProjects(projectsData);\r\n",
        "+        setFilteredProjects(projectsData);\r\n",
        "+      } catch (err) {\r\n",
        "+        console.error(\"Failed to fetch projects:\", err);\r\n",
        "+        setError(\"Failed to load projects. Please try again later.\");\r\n",
        "+      } finally {\r\n",
        "+        setIsLoading(false);\r\n",
        "+      }\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    fetchProjects();\r\n",
        "+  }, [isAuthenticated, authLoading]);\r\n",
        "+\r\n",
        "+  // Apply filters and search\r\n",
        "+  useEffect(() => {\r\n",
        "+    let result = [...projects];\r\n",
        "+\r\n",
        "+    // Apply status filter if not \"all\"\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  }, [projects, statusFilter]);\r\n",
        "+\r\n",
        "+  // Handle search functionality\r\n",
        "+  const handleSearch = (query: string) => {\r\n",
        "+    if (!query.trim()) {\r\n",
        "+      // Just apply status filter\r\n",
        "+      let result = [...projects];\r\n",
        "+      if (statusFilter !== \"all\") {\r\n",
        "+        result = result.filter((project) => project.status === statusFilter);\r\n",
        "+      }\r\n",
        "+      setFilteredProjects(result);\r\n",
        "+      return;\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    // Apply both search and status filter\r\n",
        "+    let result = projects.filter(\r\n",
        "+      (project) =>\r\n",
        "+        project.name.toLowerCase().includes(query.toLowerCase()) ||\r\n",
        "+        project.description.toLowerCase().includes(query.toLowerCase())\r\n",
        "+    );\r\n",
        "+\r\n",
        "+    if (statusFilter !== \"all\") {\r\n",
        "+      result = result.filter((project) => project.status === statusFilter);\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    setFilteredProjects(result);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  const handleStatusFilterChange = (value: string) => {\r\n",
        "+    setStatusFilter(value);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <AppLayout>\r\n",
        "+      <div className=\"container mx-auto px-2 py-8\">\r\n",
        "+        <div className=\"mb-8\">\r\n",
        "+          <h1 className=\"text-3xl font-bold mb-2\">My Projects</h1>\r\n",
        "+          {user && (\r\n",
        "+            <p className=\"text-secondary-text\">\r\n",
        "+              Welcome back, {capitalizeWords(user.full_name)}\r\n",
        "+            </p>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"mb-8 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\r\n",
        "+          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n",
        "+            <div className=\"w-full sm:w-64\">\r\n",
        "+              <SearchProjects onSearch={handleSearch} />\r\n",
        "+            </div>\r\n",
        "+\r\n",
        "+            <Select\r\n",
        "+              value={statusFilter}\r\n",
        "+              onValueChange={handleStatusFilterChange}\r\n",
        "+            >\r\n",
        "+              <SelectTrigger className=\"w-full sm:w-40 bg-secondary-background border-divider\">\r\n",
        "+                <SelectValue placeholder=\"Filter by status\" />\r\n",
        "+              </SelectTrigger>\r\n",
        "+              <SelectContent className=\"bg-secondary-background border-divider\">\r\n",
        "+                <SelectItem value=\"all\">All Projects</SelectItem>\r\n",
        "+                <SelectItem value=\"draft\">Draft</SelectItem>\r\n",
        "+                <SelectItem value=\"in_progress\">In Progress</SelectItem>\r\n",
        "+                <SelectItem value=\"completed\">Completed</SelectItem>\r\n",
        "+                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n",
        "+              </SelectContent>\r\n",
        "+            </Select>\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <Link href=\"/projects/new\">\r\n",
        "+            <Button variant=\"outline\" className=\"gradient-border w-fit\">\r\n",
        "+              <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n",
        "+              New Project\r\n",
        "+            </Button>\r\n",
        "+          </Link>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {error && (\r\n",
        "+          <Alert variant=\"destructive\" className=\"mb-6\">\r\n",
        "+            <AlertCircle className=\"h-4 w-4\" />\r\n",
        "+            <AlertDescription>{error}</AlertDescription>\r\n",
        "+          </Alert>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {isLoading ? (\r\n",
        "+          <ProjectsLoadingSkeleton />\r\n",
        "+        ) : (\r\n",
        "+          <ProjectsList projects={filteredProjects} />\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+    </AppLayout>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/auth/email-verification-confirm.tsx",
      "status": "modified",
      "additions": 101,
      "deletions": 101,
      "patch": "@@ -1,102 +1,102 @@\n-\"use client\";\n-\n-import { useEffect, useState } from \"react\";\n-import { useRouter } from \"next/navigation\";\n-import { useAuth } from \"@/contexts/auth-context\";\n-import { Button } from \"@/components/ui/button\";\n-import { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\n-import { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\n-import { CheckCircle, XCircle, Loader2 } from \"lucide-react\";\n-\n-interface EmailVerificationConfirmProps {\n-  token: string | null;\n-}\n-\n-export function EmailVerificationConfirm({ token }: EmailVerificationConfirmProps) {\n-  const router = useRouter();\n-  const { verifyEmail } = useAuth();\n-  \n-  const [status, setStatus] = useState<\"loading\" | \"success\" | \"error\">(\"loading\");\n-  const [message, setMessage] = useState<string>(\"\");\n-\n-  useEffect(() => {\n-    const verifyToken = async () => {\n-      if (!token) {\n-        setStatus(\"error\");\n-        setMessage(\"Verification token is missing. Please check your email link.\");\n-        return;\n-      }\n-\n-      try {\n-        // Call the verifyEmail function from auth context\n-        const success = await verifyEmail(token);\n-        \n-        if (success) {\n-          setStatus(\"success\");\n-          setMessage(\"Your email has been successfully verified. You can now log in to your account.\");\n-        } else {\n-          setStatus(\"error\");\n-          setMessage(\"Email verification failed. The token may be invalid or expired.\");\n-        }\n-      } catch (err) {\n-        setStatus(\"error\");\n-        setMessage(\"An error occurred during verification. Please try again later.\");\n-        console.error(\"Verification error:\", err);\n-      }\n-    };\n-\n-    verifyToken();\n-  }, [token, verifyEmail]);\n-\n-  const handleContinue = () => {\n-    if (status === \"success\") {\n-      router.push(\"/auth/login\");\n-    } else {\n-      router.push(\"/auth/verify-email\");\n-    }\n-  };\n-\n-  return (\n-    <Card className=\"w-full max-w-md mx-4 bg-secondary-background border border-divider text-primary-text\">\n-      <CardHeader>\n-        <CardTitle className=\"text-2xl font-bold text-center\">Email Verification</CardTitle>\n-      </CardHeader>\n-      <CardContent className=\"space-y-6\">\n-        {status === \"loading\" && (\n-          <div className=\"flex flex-col items-center py-8 space-y-4\">\n-            <Loader2 className=\"h-12 w-12 text-primary-cta animate-spin\" />\n-            <p className=\"text-secondary-text\">Verifying your email address...</p>\n-          </div>\n-        )}\n-\n-        {status === \"success\" && (\n-          <Alert className=\"border-primary-cta bg-secondary-background/50\">\n-            <CheckCircle className=\"h-5 w-5 text-primary-cta\" />\n-            <AlertTitle className=\"ml-2\">Verification Successful</AlertTitle>\n-            <AlertDescription className=\"ml-2 text-secondary-text\">\n-              {message}\n-            </AlertDescription>\n-          </Alert>\n-        )}\n-\n-        {status === \"error\" && (\n-          <Alert className=\"border-red-500 bg-secondary-background/50\">\n-            <XCircle className=\"h-5 w-5 text-red-500\" />\n-            <AlertTitle className=\"ml-2\">Verification Failed</AlertTitle>\n-            <AlertDescription className=\"ml-2 text-secondary-text\">\n-              {message}\n-            </AlertDescription>\n-          </Alert>\n-        )}\n-      </CardContent>\n-      <CardFooter>\n-        <Button\n-          onClick={handleContinue}\n-          className=\"w-full bg-primary-cta hover:bg-[#10C676] text-primary-text\"\n-        >\n-          {status === \"success\" ? \"Continue to Login\" : \"Go Back\"}\n-        </Button>\n-      </CardFooter>\n-    </Card>\n-  );\n+\"use client\";\r\n+\r\n+import { useEffect, useState } from \"react\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\r\n+import { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\r\n+import { CheckCircle, XCircle, Loader2 } from \"lucide-react\";\r\n+\r\n+interface EmailVerificationConfirmProps {\r\n+  token: string | null;\r\n+}\r\n+\r\n+export function EmailVerificationConfirm({ token }: EmailVerificationConfirmProps) {\r\n+  const router = useRouter();\r\n+  const { verifyEmail } = useAuth();\r\n+  \r\n+  const [status, setStatus] = useState<\"loading\" | \"success\" | \"error\">(\"loading\");\r\n+  const [message, setMessage] = useState<string>(\"\");\r\n+\r\n+  useEffect(() => {\r\n+    const verifyToken = async () => {\r\n+      if (!token) {\r\n+        setStatus(\"error\");\r\n+        setMessage(\"Verification token is missing. Please check your email link.\");\r\n+        return;\r\n+      }\r\n+\r\n+      try {\r\n+        // Call the verifyEmail function from auth context\r\n+        const success = await verifyEmail(token);\r\n+        \r\n+        if (success) {\r\n+          setStatus(\"success\");\r\n+          setMessage(\"Your email has been successfully verified. You can now log in to your account.\");\r\n+        } else {\r\n+          setStatus(\"error\");\r\n+          setMessage(\"Email verification failed. The token may be invalid or expired.\");\r\n+        }\r\n+      } catch (err) {\r\n+        setStatus(\"error\");\r\n+        setMessage(\"An error occurred during verification. Please try again later.\");\r\n+        console.error(\"Verification error:\", err);\r\n+      }\r\n+    };\r\n+\r\n+    verifyToken();\r\n+  }, [token, verifyEmail]);\r\n+\r\n+  const handleContinue = () => {\r\n+    if (status === \"success\") {\r\n+      router.push(\"/auth/login\");\r\n+    } else {\r\n+      router.push(\"/auth/verify-email\");\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <Card className=\"w-full max-w-md mx-4 bg-secondary-background border border-divider text-primary-text\">\r\n+      <CardHeader>\r\n+        <CardTitle className=\"text-2xl font-bold text-center\">Email Verification</CardTitle>\r\n+      </CardHeader>\r\n+      <CardContent className=\"space-y-6\">\r\n+        {status === \"loading\" && (\r\n+          <div className=\"flex flex-col items-center py-8 space-y-4\">\r\n+            <Loader2 className=\"h-12 w-12 text-primary-cta animate-spin\" />\r\n+            <p className=\"text-secondary-text\">Verifying your email address...</p>\r\n+          </div>\r\n+        )}\r\n+\r\n+        {status === \"success\" && (\r\n+          <Alert className=\"border-primary-cta bg-secondary-background/50\">\r\n+            <CheckCircle className=\"h-5 w-5 text-primary-cta\" />\r\n+            <AlertTitle className=\"ml-2\">Verification Successful</AlertTitle>\r\n+            <AlertDescription className=\"ml-2 text-secondary-text\">\r\n+              {message}\r\n+            </AlertDescription>\r\n+          </Alert>\r\n+        )}\r\n+\r\n+        {status === \"error\" && (\r\n+          <Alert className=\"border-red-500 bg-secondary-background/50\">\r\n+            <XCircle className=\"h-5 w-5 text-red-500\" />\r\n+            <AlertTitle className=\"ml-2\">Verification Failed</AlertTitle>\r\n+            <AlertDescription className=\"ml-2 text-secondary-text\">\r\n+              {message}\r\n+            </AlertDescription>\r\n+          </Alert>\r\n+        )}\r\n+      </CardContent>\r\n+      <CardFooter>\r\n+        <Button\r\n+          onClick={handleContinue}\r\n+          className=\"w-full bg-primary-cta hover:bg-[#10C676] text-primary-text\"\r\n+        >\r\n+          {status === \"success\" ? \"Continue to Login\" : \"Go Back\"}\r\n+        </Button>\r\n+      </CardFooter>\r\n+    </Card>\r\n+  );\r\n }\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,102 +1,102 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useEffect, useState } from \"react\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\n",
        "-import { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\n",
        "-import { CheckCircle, XCircle, Loader2 } from \"lucide-react\";\n",
        "-\n",
        "-interface EmailVerificationConfirmProps {\n",
        "-  token: string | null;\n",
        "-}\n",
        "-\n",
        "-export function EmailVerificationConfirm({ token }: EmailVerificationConfirmProps) {\n",
        "-  const router = useRouter();\n",
        "-  const { verifyEmail } = useAuth();\n",
        "-  \n",
        "-  const [status, setStatus] = useState<\"loading\" | \"success\" | \"error\">(\"loading\");\n",
        "-  const [message, setMessage] = useState<string>(\"\");\n",
        "-\n",
        "-  useEffect(() => {\n",
        "-    const verifyToken = async () => {\n",
        "-      if (!token) {\n",
        "-        setStatus(\"error\");\n",
        "-        setMessage(\"Verification token is missing. Please check your email link.\");\n",
        "-        return;\n",
        "-      }\n",
        "-\n",
        "-      try {\n",
        "-        // Call the verifyEmail function from auth context\n",
        "-        const success = await verifyEmail(token);\n",
        "-        \n",
        "-        if (success) {\n",
        "-          setStatus(\"success\");\n",
        "-          setMessage(\"Your email has been successfully verified. You can now log in to your account.\");\n",
        "-        } else {\n",
        "-          setStatus(\"error\");\n",
        "-          setMessage(\"Email verification failed. The token may be invalid or expired.\");\n",
        "-        }\n",
        "-      } catch (err) {\n",
        "-        setStatus(\"error\");\n",
        "-        setMessage(\"An error occurred during verification. Please try again later.\");\n",
        "-        console.error(\"Verification error:\", err);\n",
        "-      }\n",
        "-    };\n",
        "-\n",
        "-    verifyToken();\n",
        "-  }, [token, verifyEmail]);\n",
        "-\n",
        "-  const handleContinue = () => {\n",
        "-    if (status === \"success\") {\n",
        "-      router.push(\"/auth/login\");\n",
        "-    } else {\n",
        "-      router.push(\"/auth/verify-email\");\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <Card className=\"w-full max-w-md mx-4 bg-secondary-background border border-divider text-primary-text\">\n",
        "-      <CardHeader>\n",
        "-        <CardTitle className=\"text-2xl font-bold text-center\">Email Verification</CardTitle>\n",
        "-      </CardHeader>\n",
        "-      <CardContent className=\"space-y-6\">\n",
        "-        {status === \"loading\" && (\n",
        "-          <div className=\"flex flex-col items-center py-8 space-y-4\">\n",
        "-            <Loader2 className=\"h-12 w-12 text-primary-cta animate-spin\" />\n",
        "-            <p className=\"text-secondary-text\">Verifying your email address...</p>\n",
        "-          </div>\n",
        "-        )}\n",
        "-\n",
        "-        {status === \"success\" && (\n",
        "-          <Alert className=\"border-primary-cta bg-secondary-background/50\">\n",
        "-            <CheckCircle className=\"h-5 w-5 text-primary-cta\" />\n",
        "-            <AlertTitle className=\"ml-2\">Verification Successful</AlertTitle>\n",
        "-            <AlertDescription className=\"ml-2 text-secondary-text\">\n",
        "-              {message}\n",
        "-            </AlertDescription>\n",
        "-          </Alert>\n",
        "-        )}\n",
        "-\n",
        "-        {status === \"error\" && (\n",
        "-          <Alert className=\"border-red-500 bg-secondary-background/50\">\n",
        "-            <XCircle className=\"h-5 w-5 text-red-500\" />\n",
        "-            <AlertTitle className=\"ml-2\">Verification Failed</AlertTitle>\n",
        "-            <AlertDescription className=\"ml-2 text-secondary-text\">\n",
        "-              {message}\n",
        "-            </AlertDescription>\n",
        "-          </Alert>\n",
        "-        )}\n",
        "-      </CardContent>\n",
        "-      <CardFooter>\n",
        "-        <Button\n",
        "-          onClick={handleContinue}\n",
        "-          className=\"w-full bg-primary-cta hover:bg-[#10C676] text-primary-text\"\n",
        "-        >\n",
        "-          {status === \"success\" ? \"Continue to Login\" : \"Go Back\"}\n",
        "-        </Button>\n",
        "-      </CardFooter>\n",
        "-    </Card>\n",
        "-  );\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useEffect, useState } from \"react\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Card, CardContent, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\r\n",
        "+import { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\r\n",
        "+import { CheckCircle, XCircle, Loader2 } from \"lucide-react\";\r\n",
        "+\r\n",
        "+interface EmailVerificationConfirmProps {\r\n",
        "+  token: string | null;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function EmailVerificationConfirm({ token }: EmailVerificationConfirmProps) {\r\n",
        "+  const router = useRouter();\r\n",
        "+  const { verifyEmail } = useAuth();\r\n",
        "+  \r\n",
        "+  const [status, setStatus] = useState<\"loading\" | \"success\" | \"error\">(\"loading\");\r\n",
        "+  const [message, setMessage] = useState<string>(\"\");\r\n",
        "+\r\n",
        "+  useEffect(() => {\r\n",
        "+    const verifyToken = async () => {\r\n",
        "+      if (!token) {\r\n",
        "+        setStatus(\"error\");\r\n",
        "+        setMessage(\"Verification token is missing. Please check your email link.\");\r\n",
        "+        return;\r\n",
        "+      }\r\n",
        "+\r\n",
        "+      try {\r\n",
        "+        // Call the verifyEmail function from auth context\r\n",
        "+        const success = await verifyEmail(token);\r\n",
        "+        \r\n",
        "+        if (success) {\r\n",
        "+          setStatus(\"success\");\r\n",
        "+          setMessage(\"Your email has been successfully verified. You can now log in to your account.\");\r\n",
        "+        } else {\r\n",
        "+          setStatus(\"error\");\r\n",
        "+          setMessage(\"Email verification failed. The token may be invalid or expired.\");\r\n",
        "+        }\r\n",
        "+      } catch (err) {\r\n",
        "+        setStatus(\"error\");\r\n",
        "+        setMessage(\"An error occurred during verification. Please try again later.\");\r\n",
        "+        console.error(\"Verification error:\", err);\r\n",
        "+      }\r\n",
        "+    };\r\n",
        "+\r\n",
        "+    verifyToken();\r\n",
        "+  }, [token, verifyEmail]);\r\n",
        "+\r\n",
        "+  const handleContinue = () => {\r\n",
        "+    if (status === \"success\") {\r\n",
        "+      router.push(\"/auth/login\");\r\n",
        "+    } else {\r\n",
        "+      router.push(\"/auth/verify-email\");\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <Card className=\"w-full max-w-md mx-4 bg-secondary-background border border-divider text-primary-text\">\r\n",
        "+      <CardHeader>\r\n",
        "+        <CardTitle className=\"text-2xl font-bold text-center\">Email Verification</CardTitle>\r\n",
        "+      </CardHeader>\r\n",
        "+      <CardContent className=\"space-y-6\">\r\n",
        "+        {status === \"loading\" && (\r\n",
        "+          <div className=\"flex flex-col items-center py-8 space-y-4\">\r\n",
        "+            <Loader2 className=\"h-12 w-12 text-primary-cta animate-spin\" />\r\n",
        "+            <p className=\"text-secondary-text\">Verifying your email address...</p>\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {status === \"success\" && (\r\n",
        "+          <Alert className=\"border-primary-cta bg-secondary-background/50\">\r\n",
        "+            <CheckCircle className=\"h-5 w-5 text-primary-cta\" />\r\n",
        "+            <AlertTitle className=\"ml-2\">Verification Successful</AlertTitle>\r\n",
        "+            <AlertDescription className=\"ml-2 text-secondary-text\">\r\n",
        "+              {message}\r\n",
        "+            </AlertDescription>\r\n",
        "+          </Alert>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {status === \"error\" && (\r\n",
        "+          <Alert className=\"border-red-500 bg-secondary-background/50\">\r\n",
        "+            <XCircle className=\"h-5 w-5 text-red-500\" />\r\n",
        "+            <AlertTitle className=\"ml-2\">Verification Failed</AlertTitle>\r\n",
        "+            <AlertDescription className=\"ml-2 text-secondary-text\">\r\n",
        "+              {message}\r\n",
        "+            </AlertDescription>\r\n",
        "+          </Alert>\r\n",
        "+        )}\r\n",
        "+      </CardContent>\r\n",
        "+      <CardFooter>\r\n",
        "+        <Button\r\n",
        "+          onClick={handleContinue}\r\n",
        "+          className=\"w-full bg-primary-cta hover:bg-[#10C676] text-primary-text\"\r\n",
        "+        >\r\n",
        "+          {status === \"success\" ? \"Continue to Login\" : \"Go Back\"}\r\n",
        "+        </Button>\r\n",
        "+      </CardFooter>\r\n",
        "+    </Card>\r\n",
        "+  );\r\n",
        " }\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "frontend/src/components/auth/login-form.tsx",
      "status": "modified",
      "additions": 145,
      "deletions": 145,
      "patch": "@@ -1,145 +1,145 @@\n-// src/components/auth/login-form.tsx\n-\"use client\";\n-\n-import { useState } from \"react\";\n-import { useForm } from \"react-hook-form\";\n-import { zodResolver } from \"@hookform/resolvers/zod\";\n-import * as z from \"zod\";\n-import Link from \"next/link\";\n-import { useAuth } from \"@/contexts/auth-context\";\n-import { Button } from \"@/components/ui/button\";\n-import { Input } from \"@/components/ui/input\";\n-import {\n-  Form,\n-  FormControl,\n-  FormField,\n-  FormItem,\n-  FormLabel,\n-  FormMessage,\n-} from \"@/components/ui/form\";\n-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n-import { Loader2 } from \"lucide-react\";\n-\n-// Form validation schema\n-const loginSchema = z.object({\n-  email: z.string().email({ message: \"Please enter a valid email address\" }),\n-  password: z\n-    .string()\n-    .min(8, { message: \"Password must be at least 8 characters\" }),\n-});\n-\n-type LoginFormValues = z.infer<typeof loginSchema>;\n-\n-export function LoginForm() {\n-  const { login, error } = useAuth();\n-  const [isSubmitting, setIsSubmitting] = useState(false);\n-\n-  // Initialize form\n-  const form = useForm<LoginFormValues>({\n-    resolver: zodResolver(loginSchema),\n-    defaultValues: {\n-      email: \"\",\n-      password: \"\",\n-    },\n-  });\n-\n-  // Form submission handler\n-  const onSubmit = async (values: LoginFormValues) => {\n-    setIsSubmitting(true);\n-    try {\n-      await login(values.email, values.password);\n-    } finally {\n-      setIsSubmitting(false);\n-    }\n-  };\n-\n-  return (\n-    <div>\n-      <h2 className=\"text-h3 font-semibold text-primary-text text-center\">\n-        Log in\n-      </h2>\n-\n-      {error && (\n-        <Alert variant=\"destructive\" className=\"mt-4\">\n-          <AlertDescription>{error}</AlertDescription>\n-        </Alert>\n-      )}\n-\n-      <Form {...form}>\n-        <form onSubmit={form.handleSubmit(onSubmit)} className=\"mt-6 space-y-6\">\n-          <FormField\n-            control={form.control}\n-            name=\"email\"\n-            render={({ field }) => (\n-              <FormItem>\n-                <FormLabel className=\"text-primary-text\">Email</FormLabel>\n-                <FormControl>\n-                  <Input\n-                    placeholder=\"you@example.com\"\n-                    type=\"email\"\n-                    autoComplete=\"email\"\n-                    disabled={isSubmitting}\n-                    {...field}\n-                  />\n-                </FormControl>\n-                <FormMessage />\n-              </FormItem>\n-            )}\n-          />\n-\n-          <FormField\n-            control={form.control}\n-            name=\"password\"\n-            render={({ field }) => (\n-              <FormItem>\n-                <div className=\"flex items-center justify-between\">\n-                  <FormLabel className=\"text-primary-text\">Password</FormLabel>\n-                  <Link\n-                    href=\"/auth/forgot-password\"\n-                    className=\"text-caption text-primary-cta hover:text-cta-hover\"\n-                  >\n-                    Forgot password?\n-                  </Link>\n-                </div>\n-                <FormControl>\n-                  <Input\n-                    placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\n-                    type=\"password\"\n-                    autoComplete=\"current-password\"\n-                    disabled={isSubmitting}\n-                    {...field}\n-                  />\n-                </FormControl>\n-                <FormMessage />\n-              </FormItem>\n-            )}\n-          />\n-\n-          <Button\n-            type=\"submit\"\n-            className=\"w-full text-black font-bold\"\n-            disabled={isSubmitting}\n-          >\n-            {isSubmitting ? (\n-              <>\n-                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> Logging in...\n-              </>\n-            ) : (\n-              \"Log in\"\n-            )}\n-          </Button>\n-\n-          <div className=\"text-sm text-center text-secondary-text\">\n-            Don't have an account?{\" \"}\n-            <Link\n-              href=\"/auth/register\"\n-              className=\"text-primary-cta hover:text-cta-hover font-medium\"\n-            >\n-              Sign up\n-            </Link>\n-          </div>\n-        </form>\n-      </Form>\n-    </div>\n-  );\n-}\n+// src/components/auth/login-form.tsx\r\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { useForm } from \"react-hook-form\";\r\n+import { zodResolver } from \"@hookform/resolvers/zod\";\r\n+import * as z from \"zod\";\r\n+import Link from \"next/link\";\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import {\r\n+  Form,\r\n+  FormControl,\r\n+  FormField,\r\n+  FormItem,\r\n+  FormLabel,\r\n+  FormMessage,\r\n+} from \"@/components/ui/form\";\r\n+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n+import { Loader2 } from \"lucide-react\";\r\n+\r\n+// Form validation schema\r\n+const loginSchema = z.object({\r\n+  email: z.string().email({ message: \"Please enter a valid email address\" }),\r\n+  password: z\r\n+    .string()\r\n+    .min(8, { message: \"Password must be at least 8 characters\" }),\r\n+});\r\n+\r\n+type LoginFormValues = z.infer<typeof loginSchema>;\r\n+\r\n+export function LoginForm() {\r\n+  const { login, error } = useAuth();\r\n+  const [isSubmitting, setIsSubmitting] = useState(false);\r\n+\r\n+  // Initialize form\r\n+  const form = useForm<LoginFormValues>({\r\n+    resolver: zodResolver(loginSchema),\r\n+    defaultValues: {\r\n+      email: \"\",\r\n+      password: \"\",\r\n+    },\r\n+  });\r\n+\r\n+  // Form submission handler\r\n+  const onSubmit = async (values: LoginFormValues) => {\r\n+    setIsSubmitting(true);\r\n+    try {\r\n+      await login(values.email, values.password);\r\n+    } finally {\r\n+      setIsSubmitting(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div>\r\n+      <h2 className=\"text-h3 font-semibold text-primary-text text-center\">\r\n+        Log in\r\n+      </h2>\r\n+\r\n+      {error && (\r\n+        <Alert variant=\"destructive\" className=\"mt-4\">\r\n+          <AlertDescription>{error}</AlertDescription>\r\n+        </Alert>\r\n+      )}\r\n+\r\n+      <Form {...form}>\r\n+        <form onSubmit={form.handleSubmit(onSubmit)} className=\"mt-6 space-y-6\">\r\n+          <FormField\r\n+            control={form.control}\r\n+            name=\"email\"\r\n+            render={({ field }) => (\r\n+              <FormItem>\r\n+                <FormLabel className=\"text-primary-text\">Email</FormLabel>\r\n+                <FormControl>\r\n+                  <Input\r\n+                    placeholder=\"you@example.com\"\r\n+                    type=\"email\"\r\n+                    autoComplete=\"email\"\r\n+                    disabled={isSubmitting}\r\n+                    {...field}\r\n+                  />\r\n+                </FormControl>\r\n+                <FormMessage />\r\n+              </FormItem>\r\n+            )}\r\n+          />\r\n+\r\n+          <FormField\r\n+            control={form.control}\r\n+            name=\"password\"\r\n+            render={({ field }) => (\r\n+              <FormItem>\r\n+                <div className=\"flex items-center justify-between\">\r\n+                  <FormLabel className=\"text-primary-text\">Password</FormLabel>\r\n+                  <Link\r\n+                    href=\"/auth/forgot-password\"\r\n+                    className=\"text-caption text-primary-cta hover:text-cta-hover\"\r\n+                  >\r\n+                    Forgot password?\r\n+                  </Link>\r\n+                </div>\r\n+                <FormControl>\r\n+                  <Input\r\n+                    placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\r\n+                    type=\"password\"\r\n+                    autoComplete=\"current-password\"\r\n+                    disabled={isSubmitting}\r\n+                    {...field}\r\n+                  />\r\n+                </FormControl>\r\n+                <FormMessage />\r\n+              </FormItem>\r\n+            )}\r\n+          />\r\n+\r\n+          <Button\r\n+            type=\"submit\"\r\n+            className=\"w-full text-black font-bold\"\r\n+            disabled={isSubmitting}\r\n+          >\r\n+            {isSubmitting ? (\r\n+              <>\r\n+                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> Logging in...\r\n+              </>\r\n+            ) : (\r\n+              \"Log in\"\r\n+            )}\r\n+          </Button>\r\n+\r\n+          <div className=\"text-sm text-center text-secondary-text\">\r\n+            Don't have an account?{\" \"}\r\n+            <Link\r\n+              href=\"/auth/register\"\r\n+              className=\"text-primary-cta hover:text-cta-hover font-medium\"\r\n+            >\r\n+              Sign up\r\n+            </Link>\r\n+          </div>\r\n+        </form>\r\n+      </Form>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,145 +1,145 @@\n",
        "-// src/components/auth/login-form.tsx\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState } from \"react\";\n",
        "-import { useForm } from \"react-hook-form\";\n",
        "-import { zodResolver } from \"@hookform/resolvers/zod\";\n",
        "-import * as z from \"zod\";\n",
        "-import Link from \"next/link\";\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import {\n",
        "-  Form,\n",
        "-  FormControl,\n",
        "-  FormField,\n",
        "-  FormItem,\n",
        "-  FormLabel,\n",
        "-  FormMessage,\n",
        "-} from \"@/components/ui/form\";\n",
        "-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n",
        "-import { Loader2 } from \"lucide-react\";\n",
        "-\n",
        "-// Form validation schema\n",
        "-const loginSchema = z.object({\n",
        "-  email: z.string().email({ message: \"Please enter a valid email address\" }),\n",
        "-  password: z\n",
        "-    .string()\n",
        "-    .min(8, { message: \"Password must be at least 8 characters\" }),\n",
        "-});\n",
        "-\n",
        "-type LoginFormValues = z.infer<typeof loginSchema>;\n",
        "-\n",
        "-export function LoginForm() {\n",
        "-  const { login, error } = useAuth();\n",
        "-  const [isSubmitting, setIsSubmitting] = useState(false);\n",
        "-\n",
        "-  // Initialize form\n",
        "-  const form = useForm<LoginFormValues>({\n",
        "-    resolver: zodResolver(loginSchema),\n",
        "-    defaultValues: {\n",
        "-      email: \"\",\n",
        "-      password: \"\",\n",
        "-    },\n",
        "-  });\n",
        "-\n",
        "-  // Form submission handler\n",
        "-  const onSubmit = async (values: LoginFormValues) => {\n",
        "-    setIsSubmitting(true);\n",
        "-    try {\n",
        "-      await login(values.email, values.password);\n",
        "-    } finally {\n",
        "-      setIsSubmitting(false);\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <div>\n",
        "-      <h2 className=\"text-h3 font-semibold text-primary-text text-center\">\n",
        "-        Log in\n",
        "-      </h2>\n",
        "-\n",
        "-      {error && (\n",
        "-        <Alert variant=\"destructive\" className=\"mt-4\">\n",
        "-          <AlertDescription>{error}</AlertDescription>\n",
        "-        </Alert>\n",
        "-      )}\n",
        "-\n",
        "-      <Form {...form}>\n",
        "-        <form onSubmit={form.handleSubmit(onSubmit)} className=\"mt-6 space-y-6\">\n",
        "-          <FormField\n",
        "-            control={form.control}\n",
        "-            name=\"email\"\n",
        "-            render={({ field }) => (\n",
        "-              <FormItem>\n",
        "-                <FormLabel className=\"text-primary-text\">Email</FormLabel>\n",
        "-                <FormControl>\n",
        "-                  <Input\n",
        "-                    placeholder=\"you@example.com\"\n",
        "-                    type=\"email\"\n",
        "-                    autoComplete=\"email\"\n",
        "-                    disabled={isSubmitting}\n",
        "-                    {...field}\n",
        "-                  />\n",
        "-                </FormControl>\n",
        "-                <FormMessage />\n",
        "-              </FormItem>\n",
        "-            )}\n",
        "-          />\n",
        "-\n",
        "-          <FormField\n",
        "-            control={form.control}\n",
        "-            name=\"password\"\n",
        "-            render={({ field }) => (\n",
        "-              <FormItem>\n",
        "-                <div className=\"flex items-center justify-between\">\n",
        "-                  <FormLabel className=\"text-primary-text\">Password</FormLabel>\n",
        "-                  <Link\n",
        "-                    href=\"/auth/forgot-password\"\n",
        "-                    className=\"text-caption text-primary-cta hover:text-cta-hover\"\n",
        "-                  >\n",
        "-                    Forgot password?\n",
        "-                  </Link>\n",
        "-                </div>\n",
        "-                <FormControl>\n",
        "-                  <Input\n",
        "-                    placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\n",
        "-                    type=\"password\"\n",
        "-                    autoComplete=\"current-password\"\n",
        "-                    disabled={isSubmitting}\n",
        "-                    {...field}\n",
        "-                  />\n",
        "-                </FormControl>\n",
        "-                <FormMessage />\n",
        "-              </FormItem>\n",
        "-            )}\n",
        "-          />\n",
        "-\n",
        "-          <Button\n",
        "-            type=\"submit\"\n",
        "-            className=\"w-full text-black font-bold\"\n",
        "-            disabled={isSubmitting}\n",
        "-          >\n",
        "-            {isSubmitting ? (\n",
        "-              <>\n",
        "-                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> Logging in...\n",
        "-              </>\n",
        "-            ) : (\n",
        "-              \"Log in\"\n",
        "-            )}\n",
        "-          </Button>\n",
        "-\n",
        "-          <div className=\"text-sm text-center text-secondary-text\">\n",
        "-            Don't have an account?{\" \"}\n",
        "-            <Link\n",
        "-              href=\"/auth/register\"\n",
        "-              className=\"text-primary-cta hover:text-cta-hover font-medium\"\n",
        "-            >\n",
        "-              Sign up\n",
        "-            </Link>\n",
        "-          </div>\n",
        "-        </form>\n",
        "-      </Form>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+// src/components/auth/login-form.tsx\r\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import { useForm } from \"react-hook-form\";\r\n",
        "+import { zodResolver } from \"@hookform/resolvers/zod\";\r\n",
        "+import * as z from \"zod\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import {\r\n",
        "+  Form,\r\n",
        "+  FormControl,\r\n",
        "+  FormField,\r\n",
        "+  FormItem,\r\n",
        "+  FormLabel,\r\n",
        "+  FormMessage,\r\n",
        "+} from \"@/components/ui/form\";\r\n",
        "+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n",
        "+import { Loader2 } from \"lucide-react\";\r\n",
        "+\r\n",
        "+// Form validation schema\r\n",
        "+const loginSchema = z.object({\r\n",
        "+  email: z.string().email({ message: \"Please enter a valid email address\" }),\r\n",
        "+  password: z\r\n",
        "+    .string()\r\n",
        "+    .min(8, { message: \"Password must be at least 8 characters\" }),\r\n",
        "+});\r\n",
        "+\r\n",
        "+type LoginFormValues = z.infer<typeof loginSchema>;\r\n",
        "+\r\n",
        "+export function LoginForm() {\r\n",
        "+  const { login, error } = useAuth();\r\n",
        "+  const [isSubmitting, setIsSubmitting] = useState(false);\r\n",
        "+\r\n",
        "+  // Initialize form\r\n",
        "+  const form = useForm<LoginFormValues>({\r\n",
        "+    resolver: zodResolver(loginSchema),\r\n",
        "+    defaultValues: {\r\n",
        "+      email: \"\",\r\n",
        "+      password: \"\",\r\n",
        "+    },\r\n",
        "+  });\r\n",
        "+\r\n",
        "+  // Form submission handler\r\n",
        "+  const onSubmit = async (values: LoginFormValues) => {\r\n",
        "+    setIsSubmitting(true);\r\n",
        "+    try {\r\n",
        "+      await login(values.email, values.password);\r\n",
        "+    } finally {\r\n",
        "+      setIsSubmitting(false);\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div>\r\n",
        "+      <h2 className=\"text-h3 font-semibold text-primary-text text-center\">\r\n",
        "+        Log in\r\n",
        "+      </h2>\r\n",
        "+\r\n",
        "+      {error && (\r\n",
        "+        <Alert variant=\"destructive\" className=\"mt-4\">\r\n",
        "+          <AlertDescription>{error}</AlertDescription>\r\n",
        "+        </Alert>\r\n",
        "+      )}\r\n",
        "+\r\n",
        "+      <Form {...form}>\r\n",
        "+        <form onSubmit={form.handleSubmit(onSubmit)} className=\"mt-6 space-y-6\">\r\n",
        "+          <FormField\r\n",
        "+            control={form.control}\r\n",
        "+            name=\"email\"\r\n",
        "+            render={({ field }) => (\r\n",
        "+              <FormItem>\r\n",
        "+                <FormLabel className=\"text-primary-text\">Email</FormLabel>\r\n",
        "+                <FormControl>\r\n",
        "+                  <Input\r\n",
        "+                    placeholder=\"you@example.com\"\r\n",
        "+                    type=\"email\"\r\n",
        "+                    autoComplete=\"email\"\r\n",
        "+                    disabled={isSubmitting}\r\n",
        "+                    {...field}\r\n",
        "+                  />\r\n",
        "+                </FormControl>\r\n",
        "+                <FormMessage />\r\n",
        "+              </FormItem>\r\n",
        "+            )}\r\n",
        "+          />\r\n",
        "+\r\n",
        "+          <FormField\r\n",
        "+            control={form.control}\r\n",
        "+            name=\"password\"\r\n",
        "+            render={({ field }) => (\r\n",
        "+              <FormItem>\r\n",
        "+                <div className=\"flex items-center justify-between\">\r\n",
        "+                  <FormLabel className=\"text-primary-text\">Password</FormLabel>\r\n",
        "+                  <Link\r\n",
        "+                    href=\"/auth/forgot-password\"\r\n",
        "+                    className=\"text-caption text-primary-cta hover:text-cta-hover\"\r\n",
        "+                  >\r\n",
        "+                    Forgot password?\r\n",
        "+                  </Link>\r\n",
        "+                </div>\r\n",
        "+                <FormControl>\r\n",
        "+                  <Input\r\n",
        "+                    placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\r\n",
        "+                    type=\"password\"\r\n",
        "+                    autoComplete=\"current-password\"\r\n",
        "+                    disabled={isSubmitting}\r\n",
        "+                    {...field}\r\n",
        "+                  />\r\n",
        "+                </FormControl>\r\n",
        "+                <FormMessage />\r\n",
        "+              </FormItem>\r\n",
        "+            )}\r\n",
        "+          />\r\n",
        "+\r\n",
        "+          <Button\r\n",
        "+            type=\"submit\"\r\n",
        "+            className=\"w-full text-black font-bold\"\r\n",
        "+            disabled={isSubmitting}\r\n",
        "+          >\r\n",
        "+            {isSubmitting ? (\r\n",
        "+              <>\r\n",
        "+                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> Logging in...\r\n",
        "+              </>\r\n",
        "+            ) : (\r\n",
        "+              \"Log in\"\r\n",
        "+            )}\r\n",
        "+          </Button>\r\n",
        "+\r\n",
        "+          <div className=\"text-sm text-center text-secondary-text\">\r\n",
        "+            Don't have an account?{\" \"}\r\n",
        "+            <Link\r\n",
        "+              href=\"/auth/register\"\r\n",
        "+              className=\"text-primary-cta hover:text-cta-hover font-medium\"\r\n",
        "+            >\r\n",
        "+              Sign up\r\n",
        "+            </Link>\r\n",
        "+          </div>\r\n",
        "+        </form>\r\n",
        "+      </Form>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/auth/register-form.tsx",
      "status": "modified",
      "additions": 196,
      "deletions": 196,
      "patch": "@@ -1,196 +1,196 @@\n-\"use client\";\n-\n-import { useState } from \"react\";\n-import { useForm } from \"react-hook-form\";\n-import { zodResolver } from \"@hookform/resolvers/zod\";\n-import * as z from \"zod\";\n-import Link from \"next/link\";\n-import { useAuth } from \"@/contexts/auth-context\";\n-import { Button } from \"@/components/ui/button\";\n-import { Input } from \"@/components/ui/input\";\n-import {\n-  Form,\n-  FormControl,\n-  FormField,\n-  FormItem,\n-  FormLabel,\n-  FormMessage,\n-} from \"@/components/ui/form\";\n-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n-import { Loader2 } from \"lucide-react\";\n-import Logo from \"../../../public/logo.svg\";\n-\n-// Form validation schema\n-const registerSchema = z\n-  .object({\n-    full_name: z\n-      .string()\n-      .min(2, { message: \"Full name must be at least 2 characters\" }),\n-    email: z.string().email({ message: \"Please enter a valid email address\" }),\n-    password: z\n-      .string()\n-      .min(8, { message: \"Password must be at least 8 characters\" }),\n-    confirmPassword: z\n-      .string()\n-      .min(8, { message: \"Please confirm your password\" }),\n-  })\n-  .refine((data) => data.password === data.confirmPassword, {\n-    message: \"Passwords do not match\",\n-    path: [\"confirmPassword\"],\n-  });\n-\n-type RegisterFormValues = z.infer<typeof registerSchema>;\n-\n-export function RegisterForm() {\n-  const { register, error } = useAuth();\n-  const [isSubmitting, setIsSubmitting] = useState(false);\n-\n-  // Initialize form\n-  const form = useForm<RegisterFormValues>({\n-    resolver: zodResolver(registerSchema),\n-    defaultValues: {\n-      full_name: \"\",\n-      email: \"\",\n-      password: \"\",\n-      confirmPassword: \"\",\n-    },\n-  });\n-\n-  // Form submission handler\n-  const onSubmit = async (values: RegisterFormValues) => {\n-    setIsSubmitting(true);\n-    try {\n-      await register(values.email, values.password, values.full_name);\n-    } finally {\n-      setIsSubmitting(false);\n-    }\n-  };\n-\n-  return (\n-    <div className=\"\">\n-      <h2 className=\"text-h3 font-semibold text-primary-text text-center \">\n-        Create an account\n-      </h2>\n-      <p className=\"mt-2 text-md text-center text-secondary-text\">\n-        Start planning you first project for free\n-      </p>\n-\n-      {error && (\n-        <Alert variant=\"destructive\" className=\"mt-4\">\n-          <AlertDescription>{error}</AlertDescription>\n-        </Alert>\n-      )}\n-\n-      <Form {...form}>\n-        <form onSubmit={form.handleSubmit(onSubmit)} className=\"mt-6 space-y-6\">\n-          <FormField\n-            control={form.control}\n-            name=\"full_name\"\n-            render={({ field }) => (\n-              <FormItem>\n-                <FormLabel className=\"text-primary-text\">Full name</FormLabel>\n-                <FormControl>\n-                  <Input\n-                    placeholder=\"John Doe\"\n-                    autoComplete=\"name\"\n-                    disabled={isSubmitting}\n-                    {...field}\n-                  />\n-                </FormControl>\n-                <FormMessage />\n-              </FormItem>\n-            )}\n-          />\n-\n-          <FormField\n-            control={form.control}\n-            name=\"email\"\n-            render={({ field }) => (\n-              <FormItem>\n-                <FormLabel className=\"text-primary-text\">Email</FormLabel>\n-                <FormControl>\n-                  <Input\n-                    placeholder=\"you@example.com\"\n-                    type=\"email\"\n-                    autoComplete=\"email\"\n-                    disabled={isSubmitting}\n-                    {...field}\n-                  />\n-                </FormControl>\n-                <FormMessage />\n-              </FormItem>\n-            )}\n-          />\n-\n-          <FormField\n-            control={form.control}\n-            name=\"password\"\n-            render={({ field }) => (\n-              <FormItem>\n-                <FormLabel className=\"text-primary-text\">Password</FormLabel>\n-                <FormControl>\n-                  <Input\n-                    placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\n-                    type=\"password\"\n-                    autoComplete=\"new-password\"\n-                    disabled={isSubmitting}\n-                    {...field}\n-                  />\n-                </FormControl>\n-                <FormMessage />\n-              </FormItem>\n-            )}\n-          />\n-\n-          <FormField\n-            control={form.control}\n-            name=\"confirmPassword\"\n-            render={({ field }) => (\n-              <FormItem>\n-                <FormLabel className=\"text-primary-text\">\n-                  Confirm password\n-                </FormLabel>\n-                <FormControl>\n-                  <Input\n-                    placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\n-                    type=\"password\"\n-                    autoComplete=\"new-password\"\n-                    disabled={isSubmitting}\n-                    {...field}\n-                  />\n-                </FormControl>\n-                <FormMessage />\n-              </FormItem>\n-            )}\n-          />\n-\n-          <Button\n-            type=\"submit\"\n-            variant=\"cta\"\n-            className=\"w-full text-black\"\n-            disabled={isSubmitting}\n-          >\n-            {isSubmitting ? (\n-              <>\n-                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> Creating\n-                account...\n-              </>\n-            ) : (\n-              \"Sign up\"\n-            )}\n-          </Button>\n-\n-          <div className=\"text-sm text-center text-secondary-text\">\n-            Already have an account?{\" \"}\n-            <Link\n-              href=\"/auth/login\"\n-              className=\"text-primary-cta hover:text-cta-hover font-medium\"\n-            >\n-              Log in\n-            </Link>\n-          </div>\n-        </form>\n-      </Form>\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { useForm } from \"react-hook-form\";\r\n+import { zodResolver } from \"@hookform/resolvers/zod\";\r\n+import * as z from \"zod\";\r\n+import Link from \"next/link\";\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import {\r\n+  Form,\r\n+  FormControl,\r\n+  FormField,\r\n+  FormItem,\r\n+  FormLabel,\r\n+  FormMessage,\r\n+} from \"@/components/ui/form\";\r\n+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n+import { Loader2 } from \"lucide-react\";\r\n+import Logo from \"../../../public/logo.svg\";\r\n+\r\n+// Form validation schema\r\n+const registerSchema = z\r\n+  .object({\r\n+    full_name: z\r\n+      .string()\r\n+      .min(2, { message: \"Full name must be at least 2 characters\" }),\r\n+    email: z.string().email({ message: \"Please enter a valid email address\" }),\r\n+    password: z\r\n+      .string()\r\n+      .min(8, { message: \"Password must be at least 8 characters\" }),\r\n+    confirmPassword: z\r\n+      .string()\r\n+      .min(8, { message: \"Please confirm your password\" }),\r\n+  })\r\n+  .refine((data) => data.password === data.confirmPassword, {\r\n+    message: \"Passwords do not match\",\r\n+    path: [\"confirmPassword\"],\r\n+  });\r\n+\r\n+type RegisterFormValues = z.infer<typeof registerSchema>;\r\n+\r\n+export function RegisterForm() {\r\n+  const { register, error } = useAuth();\r\n+  const [isSubmitting, setIsSubmitting] = useState(false);\r\n+\r\n+  // Initialize form\r\n+  const form = useForm<RegisterFormValues>({\r\n+    resolver: zodResolver(registerSchema),\r\n+    defaultValues: {\r\n+      full_name: \"\",\r\n+      email: \"\",\r\n+      password: \"\",\r\n+      confirmPassword: \"\",\r\n+    },\r\n+  });\r\n+\r\n+  // Form submission handler\r\n+  const onSubmit = async (values: RegisterFormValues) => {\r\n+    setIsSubmitting(true);\r\n+    try {\r\n+      await register(values.email, values.password, values.full_name);\r\n+    } finally {\r\n+      setIsSubmitting(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"\">\r\n+      <h2 className=\"text-h3 font-semibold text-primary-text text-center \">\r\n+        Create an account\r\n+      </h2>\r\n+      <p className=\"mt-2 text-md text-center text-secondary-text\">\r\n+        Start planning you first project for free\r\n+      </p>\r\n+\r\n+      {error && (\r\n+        <Alert variant=\"destructive\" className=\"mt-4\">\r\n+          <AlertDescription>{error}</AlertDescription>\r\n+        </Alert>\r\n+      )}\r\n+\r\n+      <Form {...form}>\r\n+        <form onSubmit={form.handleSubmit(onSubmit)} className=\"mt-6 space-y-6\">\r\n+          <FormField\r\n+            control={form.control}\r\n+            name=\"full_name\"\r\n+            render={({ field }) => (\r\n+              <FormItem>\r\n+                <FormLabel className=\"text-primary-text\">Full name</FormLabel>\r\n+                <FormControl>\r\n+                  <Input\r\n+                    placeholder=\"John Doe\"\r\n+                    autoComplete=\"name\"\r\n+                    disabled={isSubmitting}\r\n+                    {...field}\r\n+                  />\r\n+                </FormControl>\r\n+                <FormMessage />\r\n+              </FormItem>\r\n+            )}\r\n+          />\r\n+\r\n+          <FormField\r\n+            control={form.control}\r\n+            name=\"email\"\r\n+            render={({ field }) => (\r\n+              <FormItem>\r\n+                <FormLabel className=\"text-primary-text\">Email</FormLabel>\r\n+                <FormControl>\r\n+                  <Input\r\n+                    placeholder=\"you@example.com\"\r\n+                    type=\"email\"\r\n+                    autoComplete=\"email\"\r\n+                    disabled={isSubmitting}\r\n+                    {...field}\r\n+                  />\r\n+                </FormControl>\r\n+                <FormMessage />\r\n+              </FormItem>\r\n+            )}\r\n+          />\r\n+\r\n+          <FormField\r\n+            control={form.control}\r\n+            name=\"password\"\r\n+            render={({ field }) => (\r\n+              <FormItem>\r\n+                <FormLabel className=\"text-primary-text\">Password</FormLabel>\r\n+                <FormControl>\r\n+                  <Input\r\n+                    placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\r\n+                    type=\"password\"\r\n+                    autoComplete=\"new-password\"\r\n+                    disabled={isSubmitting}\r\n+                    {...field}\r\n+                  />\r\n+                </FormControl>\r\n+                <FormMessage />\r\n+              </FormItem>\r\n+            )}\r\n+          />\r\n+\r\n+          <FormField\r\n+            control={form.control}\r\n+            name=\"confirmPassword\"\r\n+            render={({ field }) => (\r\n+              <FormItem>\r\n+                <FormLabel className=\"text-primary-text\">\r\n+                  Confirm password\r\n+                </FormLabel>\r\n+                <FormControl>\r\n+                  <Input\r\n+                    placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\r\n+                    type=\"password\"\r\n+                    autoComplete=\"new-password\"\r\n+                    disabled={isSubmitting}\r\n+                    {...field}\r\n+                  />\r\n+                </FormControl>\r\n+                <FormMessage />\r\n+              </FormItem>\r\n+            )}\r\n+          />\r\n+\r\n+          <Button\r\n+            type=\"submit\"\r\n+            variant=\"cta\"\r\n+            className=\"w-full text-black\"\r\n+            disabled={isSubmitting}\r\n+          >\r\n+            {isSubmitting ? (\r\n+              <>\r\n+                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> Creating\r\n+                account...\r\n+              </>\r\n+            ) : (\r\n+              \"Sign up\"\r\n+            )}\r\n+          </Button>\r\n+\r\n+          <div className=\"text-sm text-center text-secondary-text\">\r\n+            Already have an account?{\" \"}\r\n+            <Link\r\n+              href=\"/auth/login\"\r\n+              className=\"text-primary-cta hover:text-cta-hover font-medium\"\r\n+            >\r\n+              Log in\r\n+            </Link>\r\n+          </div>\r\n+        </form>\r\n+      </Form>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,196 +1,196 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState } from \"react\";\n",
        "-import { useForm } from \"react-hook-form\";\n",
        "-import { zodResolver } from \"@hookform/resolvers/zod\";\n",
        "-import * as z from \"zod\";\n",
        "-import Link from \"next/link\";\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import {\n",
        "-  Form,\n",
        "-  FormControl,\n",
        "-  FormField,\n",
        "-  FormItem,\n",
        "-  FormLabel,\n",
        "-  FormMessage,\n",
        "-} from \"@/components/ui/form\";\n",
        "-import { Alert, AlertDescription } from \"@/components/ui/alert\";\n",
        "-import { Loader2 } from \"lucide-react\";\n",
        "-import Logo from \"../../../public/logo.svg\";\n",
        "-\n",
        "-// Form validation schema\n",
        "-const registerSchema = z\n",
        "-  .object({\n",
        "-    full_name: z\n",
        "-      .string()\n",
        "-      .min(2, { message: \"Full name must be at least 2 characters\" }),\n",
        "-    email: z.string().email({ message: \"Please enter a valid email address\" }),\n",
        "-    password: z\n",
        "-      .string()\n",
        "-      .min(8, { message: \"Password must be at least 8 characters\" }),\n",
        "-    confirmPassword: z\n",
        "-      .string()\n",
        "-      .min(8, { message: \"Please confirm your password\" }),\n",
        "-  })\n",
        "-  .refine((data) => data.password === data.confirmPassword, {\n",
        "-    message: \"Passwords do not match\",\n",
        "-    path: [\"confirmPassword\"],\n",
        "-  });\n",
        "-\n",
        "-type RegisterFormValues = z.infer<typeof registerSchema>;\n",
        "-\n",
        "-export function RegisterForm() {\n",
        "-  const { register, error } = useAuth();\n",
        "-  const [isSubmitting, setIsSubmitting] = useState(false);\n",
        "-\n",
        "-  // Initialize form\n",
        "-  const form = useForm<RegisterFormValues>({\n",
        "-    resolver: zodResolver(registerSchema),\n",
        "-    defaultValues: {\n",
        "-      full_name: \"\",\n",
        "-      email: \"\",\n",
        "-      password: \"\",\n",
        "-      confirmPassword: \"\",\n",
        "-    },\n",
        "-  });\n",
        "-\n",
        "-  // Form submission handler\n",
        "-  const onSubmit = async (values: RegisterFormValues) => {\n",
        "-    setIsSubmitting(true);\n",
        "-    try {\n",
        "-      await register(values.email, values.password, values.full_name);\n",
        "-    } finally {\n",
        "-      setIsSubmitting(false);\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"\">\n",
        "-      <h2 className=\"text-h3 font-semibold text-primary-text text-center \">\n",
        "-        Create an account\n",
        "-      </h2>\n",
        "-      <p className=\"mt-2 text-md text-center text-secondary-text\">\n",
        "-        Start planning you first project for free\n",
        "-      </p>\n",
        "-\n",
        "-      {error && (\n",
        "-        <Alert variant=\"destructive\" className=\"mt-4\">\n",
        "-          <AlertDescription>{error}</AlertDescription>\n",
        "-        </Alert>\n",
        "-      )}\n",
        "-\n",
        "-      <Form {...form}>\n",
        "-        <form onSubmit={form.handleSubmit(onSubmit)} className=\"mt-6 space-y-6\">\n",
        "-          <FormField\n",
        "-            control={form.control}\n",
        "-            name=\"full_name\"\n",
        "-            render={({ field }) => (\n",
        "-              <FormItem>\n",
        "-                <FormLabel className=\"text-primary-text\">Full name</FormLabel>\n",
        "-                <FormControl>\n",
        "-                  <Input\n",
        "-                    placeholder=\"John Doe\"\n",
        "-                    autoComplete=\"name\"\n",
        "-                    disabled={isSubmitting}\n",
        "-                    {...field}\n",
        "-                  />\n",
        "-                </FormControl>\n",
        "-                <FormMessage />\n",
        "-              </FormItem>\n",
        "-            )}\n",
        "-          />\n",
        "-\n",
        "-          <FormField\n",
        "-            control={form.control}\n",
        "-            name=\"email\"\n",
        "-            render={({ field }) => (\n",
        "-              <FormItem>\n",
        "-                <FormLabel className=\"text-primary-text\">Email</FormLabel>\n",
        "-                <FormControl>\n",
        "-                  <Input\n",
        "-                    placeholder=\"you@example.com\"\n",
        "-                    type=\"email\"\n",
        "-                    autoComplete=\"email\"\n",
        "-                    disabled={isSubmitting}\n",
        "-                    {...field}\n",
        "-                  />\n",
        "-                </FormControl>\n",
        "-                <FormMessage />\n",
        "-              </FormItem>\n",
        "-            )}\n",
        "-          />\n",
        "-\n",
        "-          <FormField\n",
        "-            control={form.control}\n",
        "-            name=\"password\"\n",
        "-            render={({ field }) => (\n",
        "-              <FormItem>\n",
        "-                <FormLabel className=\"text-primary-text\">Password</FormLabel>\n",
        "-                <FormControl>\n",
        "-                  <Input\n",
        "-                    placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\n",
        "-                    type=\"password\"\n",
        "-                    autoComplete=\"new-password\"\n",
        "-                    disabled={isSubmitting}\n",
        "-                    {...field}\n",
        "-                  />\n",
        "-                </FormControl>\n",
        "-                <FormMessage />\n",
        "-              </FormItem>\n",
        "-            )}\n",
        "-          />\n",
        "-\n",
        "-          <FormField\n",
        "-            control={form.control}\n",
        "-            name=\"confirmPassword\"\n",
        "-            render={({ field }) => (\n",
        "-              <FormItem>\n",
        "-                <FormLabel className=\"text-primary-text\">\n",
        "-                  Confirm password\n",
        "-                </FormLabel>\n",
        "-                <FormControl>\n",
        "-                  <Input\n",
        "-                    placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\n",
        "-                    type=\"password\"\n",
        "-                    autoComplete=\"new-password\"\n",
        "-                    disabled={isSubmitting}\n",
        "-                    {...field}\n",
        "-                  />\n",
        "-                </FormControl>\n",
        "-                <FormMessage />\n",
        "-              </FormItem>\n",
        "-            )}\n",
        "-          />\n",
        "-\n",
        "-          <Button\n",
        "-            type=\"submit\"\n",
        "-            variant=\"cta\"\n",
        "-            className=\"w-full text-black\"\n",
        "-            disabled={isSubmitting}\n",
        "-          >\n",
        "-            {isSubmitting ? (\n",
        "-              <>\n",
        "-                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> Creating\n",
        "-                account...\n",
        "-              </>\n",
        "-            ) : (\n",
        "-              \"Sign up\"\n",
        "-            )}\n",
        "-          </Button>\n",
        "-\n",
        "-          <div className=\"text-sm text-center text-secondary-text\">\n",
        "-            Already have an account?{\" \"}\n",
        "-            <Link\n",
        "-              href=\"/auth/login\"\n",
        "-              className=\"text-primary-cta hover:text-cta-hover font-medium\"\n",
        "-            >\n",
        "-              Log in\n",
        "-            </Link>\n",
        "-          </div>\n",
        "-        </form>\n",
        "-      </Form>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import { useForm } from \"react-hook-form\";\r\n",
        "+import { zodResolver } from \"@hookform/resolvers/zod\";\r\n",
        "+import * as z from \"zod\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import {\r\n",
        "+  Form,\r\n",
        "+  FormControl,\r\n",
        "+  FormField,\r\n",
        "+  FormItem,\r\n",
        "+  FormLabel,\r\n",
        "+  FormMessage,\r\n",
        "+} from \"@/components/ui/form\";\r\n",
        "+import { Alert, AlertDescription } from \"@/components/ui/alert\";\r\n",
        "+import { Loader2 } from \"lucide-react\";\r\n",
        "+import Logo from \"../../../public/logo.svg\";\r\n",
        "+\r\n",
        "+// Form validation schema\r\n",
        "+const registerSchema = z\r\n",
        "+  .object({\r\n",
        "+    full_name: z\r\n",
        "+      .string()\r\n",
        "+      .min(2, { message: \"Full name must be at least 2 characters\" }),\r\n",
        "+    email: z.string().email({ message: \"Please enter a valid email address\" }),\r\n",
        "+    password: z\r\n",
        "+      .string()\r\n",
        "+      .min(8, { message: \"Password must be at least 8 characters\" }),\r\n",
        "+    confirmPassword: z\r\n",
        "+      .string()\r\n",
        "+      .min(8, { message: \"Please confirm your password\" }),\r\n",
        "+  })\r\n",
        "+  .refine((data) => data.password === data.confirmPassword, {\r\n",
        "+    message: \"Passwords do not match\",\r\n",
        "+    path: [\"confirmPassword\"],\r\n",
        "+  });\r\n",
        "+\r\n",
        "+type RegisterFormValues = z.infer<typeof registerSchema>;\r\n",
        "+\r\n",
        "+export function RegisterForm() {\r\n",
        "+  const { register, error } = useAuth();\r\n",
        "+  const [isSubmitting, setIsSubmitting] = useState(false);\r\n",
        "+\r\n",
        "+  // Initialize form\r\n",
        "+  const form = useForm<RegisterFormValues>({\r\n",
        "+    resolver: zodResolver(registerSchema),\r\n",
        "+    defaultValues: {\r\n",
        "+      full_name: \"\",\r\n",
        "+      email: \"\",\r\n",
        "+      password: \"\",\r\n",
        "+      confirmPassword: \"\",\r\n",
        "+    },\r\n",
        "+  });\r\n",
        "+\r\n",
        "+  // Form submission handler\r\n",
        "+  const onSubmit = async (values: RegisterFormValues) => {\r\n",
        "+    setIsSubmitting(true);\r\n",
        "+    try {\r\n",
        "+      await register(values.email, values.password, values.full_name);\r\n",
        "+    } finally {\r\n",
        "+      setIsSubmitting(false);\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"\">\r\n",
        "+      <h2 className=\"text-h3 font-semibold text-primary-text text-center \">\r\n",
        "+        Create an account\r\n",
        "+      </h2>\r\n",
        "+      <p className=\"mt-2 text-md text-center text-secondary-text\">\r\n",
        "+        Start planning you first project for free\r\n",
        "+      </p>\r\n",
        "+\r\n",
        "+      {error && (\r\n",
        "+        <Alert variant=\"destructive\" className=\"mt-4\">\r\n",
        "+          <AlertDescription>{error}</AlertDescription>\r\n",
        "+        </Alert>\r\n",
        "+      )}\r\n",
        "+\r\n",
        "+      <Form {...form}>\r\n",
        "+        <form onSubmit={form.handleSubmit(onSubmit)} className=\"mt-6 space-y-6\">\r\n",
        "+          <FormField\r\n",
        "+            control={form.control}\r\n",
        "+            name=\"full_name\"\r\n",
        "+            render={({ field }) => (\r\n",
        "+              <FormItem>\r\n",
        "+                <FormLabel className=\"text-primary-text\">Full name</FormLabel>\r\n",
        "+                <FormControl>\r\n",
        "+                  <Input\r\n",
        "+                    placeholder=\"John Doe\"\r\n",
        "+                    autoComplete=\"name\"\r\n",
        "+                    disabled={isSubmitting}\r\n",
        "+                    {...field}\r\n",
        "+                  />\r\n",
        "+                </FormControl>\r\n",
        "+                <FormMessage />\r\n",
        "+              </FormItem>\r\n",
        "+            )}\r\n",
        "+          />\r\n",
        "+\r\n",
        "+          <FormField\r\n",
        "+            control={form.control}\r\n",
        "+            name=\"email\"\r\n",
        "+            render={({ field }) => (\r\n",
        "+              <FormItem>\r\n",
        "+                <FormLabel className=\"text-primary-text\">Email</FormLabel>\r\n",
        "+                <FormControl>\r\n",
        "+                  <Input\r\n",
        "+                    placeholder=\"you@example.com\"\r\n",
        "+                    type=\"email\"\r\n",
        "+                    autoComplete=\"email\"\r\n",
        "+                    disabled={isSubmitting}\r\n",
        "+                    {...field}\r\n",
        "+                  />\r\n",
        "+                </FormControl>\r\n",
        "+                <FormMessage />\r\n",
        "+              </FormItem>\r\n",
        "+            )}\r\n",
        "+          />\r\n",
        "+\r\n",
        "+          <FormField\r\n",
        "+            control={form.control}\r\n",
        "+            name=\"password\"\r\n",
        "+            render={({ field }) => (\r\n",
        "+              <FormItem>\r\n",
        "+                <FormLabel className=\"text-primary-text\">Password</FormLabel>\r\n",
        "+                <FormControl>\r\n",
        "+                  <Input\r\n",
        "+                    placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\r\n",
        "+                    type=\"password\"\r\n",
        "+                    autoComplete=\"new-password\"\r\n",
        "+                    disabled={isSubmitting}\r\n",
        "+                    {...field}\r\n",
        "+                  />\r\n",
        "+                </FormControl>\r\n",
        "+                <FormMessage />\r\n",
        "+              </FormItem>\r\n",
        "+            )}\r\n",
        "+          />\r\n",
        "+\r\n",
        "+          <FormField\r\n",
        "+            control={form.control}\r\n",
        "+            name=\"confirmPassword\"\r\n",
        "+            render={({ field }) => (\r\n",
        "+              <FormItem>\r\n",
        "+                <FormLabel className=\"text-primary-text\">\r\n",
        "+                  Confirm password\r\n",
        "+                </FormLabel>\r\n",
        "+                <FormControl>\r\n",
        "+                  <Input\r\n",
        "+                    placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\"\r\n",
        "+                    type=\"password\"\r\n",
        "+                    autoComplete=\"new-password\"\r\n",
        "+                    disabled={isSubmitting}\r\n",
        "+                    {...field}\r\n",
        "+                  />\r\n",
        "+                </FormControl>\r\n",
        "+                <FormMessage />\r\n",
        "+              </FormItem>\r\n",
        "+            )}\r\n",
        "+          />\r\n",
        "+\r\n",
        "+          <Button\r\n",
        "+            type=\"submit\"\r\n",
        "+            variant=\"cta\"\r\n",
        "+            className=\"w-full text-black\"\r\n",
        "+            disabled={isSubmitting}\r\n",
        "+          >\r\n",
        "+            {isSubmitting ? (\r\n",
        "+              <>\r\n",
        "+                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> Creating\r\n",
        "+                account...\r\n",
        "+              </>\r\n",
        "+            ) : (\r\n",
        "+              \"Sign up\"\r\n",
        "+            )}\r\n",
        "+          </Button>\r\n",
        "+\r\n",
        "+          <div className=\"text-sm text-center text-secondary-text\">\r\n",
        "+            Already have an account?{\" \"}\r\n",
        "+            <Link\r\n",
        "+              href=\"/auth/login\"\r\n",
        "+              className=\"text-primary-cta hover:text-cta-hover font-medium\"\r\n",
        "+            >\r\n",
        "+              Log in\r\n",
        "+            </Link>\r\n",
        "+          </div>\r\n",
        "+        </form>\r\n",
        "+      </Form>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/layout/app-layout.tsx",
      "status": "modified",
      "additions": 54,
      "deletions": 54,
      "patch": "@@ -1,54 +1,54 @@\n-// src/components/layout/app-layout.tsx\n-\"use client\";\n-\n-import { useAuth } from \"@/contexts/auth-context\";\n-import { Navbar } from \"./main-nav\";\n-import { useRouter } from \"next/navigation\";\n-import { useEffect } from \"react\";\n-import LoadingScreen from \"../ui/loading-screen\";\n-import { Toaster } from \"../ui/toaster\";\n-\n-interface AppLayoutProps {\n-  children: React.ReactNode;\n-}\n-\n-export function AppLayout({ children }: AppLayoutProps) {\n-  const { isAuthenticated, isLoading } = useAuth();\n-  const router = useRouter();\n-\n-  useEffect(() => {\n-    // Redirect to login if not authenticated and not loading\n-    if (!isAuthenticated && !isLoading) {\n-      router.push(\"/auth/login\");\n-    }\n-  }, [isAuthenticated, isLoading, router]);\n-\n-  // Show loading screen while checking authentication\n-  if (isLoading) {\n-    return <LoadingScreen />;\n-  }\n-\n-  // Don't render the content until authentication is confirmed\n-  if (!isAuthenticated) {\n-    return null;\n-  }\n-\n-  return (\n-    <div className=\"flex flex-col min-h-screen bg-primary-background\">\n-      <Navbar />\n-      <main className=\"flex-1\">\n-        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6\">\n-          {children}\n-          <Toaster />\n-        </div>\n-      </main>\n-      <footer className=\"bg-secondary-background border-t border-divider py-4\">\n-        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n-          <p className=\"text-center text-sm text-secondary-text\">\n-            &copy; {new Date().getFullYear()} Projectron. All rights reserved.\n-          </p>\n-        </div>\n-      </footer>\n-    </div>\n-  );\n-}\n+// src/components/layout/app-layout.tsx\r\n+\"use client\";\r\n+\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import { Navbar } from \"./main-nav\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import { useEffect } from \"react\";\r\n+import LoadingScreen from \"../ui/loading-screen\";\r\n+import { Toaster } from \"../ui/toaster\";\r\n+\r\n+interface AppLayoutProps {\r\n+  children: React.ReactNode;\r\n+}\r\n+\r\n+export function AppLayout({ children }: AppLayoutProps) {\r\n+  const { isAuthenticated, isLoading } = useAuth();\r\n+  const router = useRouter();\r\n+\r\n+  useEffect(() => {\r\n+    // Redirect to login if not authenticated and not loading\r\n+    if (!isAuthenticated && !isLoading) {\r\n+      router.push(\"/auth/login\");\r\n+    }\r\n+  }, [isAuthenticated, isLoading, router]);\r\n+\r\n+  // Show loading screen while checking authentication\r\n+  if (isLoading) {\r\n+    return <LoadingScreen />;\r\n+  }\r\n+\r\n+  // Don't render the content until authentication is confirmed\r\n+  if (!isAuthenticated) {\r\n+    return null;\r\n+  }\r\n+\r\n+  return (\r\n+    <div className=\"flex flex-col min-h-screen bg-primary-background\">\r\n+      <Navbar />\r\n+      <main className=\"flex-1\">\r\n+        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6\">\r\n+          {children}\r\n+          <Toaster />\r\n+        </div>\r\n+      </main>\r\n+      <footer className=\"bg-secondary-background border-t border-divider py-4\">\r\n+        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n+          <p className=\"text-center text-sm text-secondary-text\">\r\n+            &copy; {new Date().getFullYear()} Projectron. All rights reserved.\r\n+          </p>\r\n+        </div>\r\n+      </footer>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,54 +1,54 @@\n",
        "-// src/components/layout/app-layout.tsx\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import { Navbar } from \"./main-nav\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-import { useEffect } from \"react\";\n",
        "-import LoadingScreen from \"../ui/loading-screen\";\n",
        "-import { Toaster } from \"../ui/toaster\";\n",
        "-\n",
        "-interface AppLayoutProps {\n",
        "-  children: React.ReactNode;\n",
        "-}\n",
        "-\n",
        "-export function AppLayout({ children }: AppLayoutProps) {\n",
        "-  const { isAuthenticated, isLoading } = useAuth();\n",
        "-  const router = useRouter();\n",
        "-\n",
        "-  useEffect(() => {\n",
        "-    // Redirect to login if not authenticated and not loading\n",
        "-    if (!isAuthenticated && !isLoading) {\n",
        "-      router.push(\"/auth/login\");\n",
        "-    }\n",
        "-  }, [isAuthenticated, isLoading, router]);\n",
        "-\n",
        "-  // Show loading screen while checking authentication\n",
        "-  if (isLoading) {\n",
        "-    return <LoadingScreen />;\n",
        "-  }\n",
        "-\n",
        "-  // Don't render the content until authentication is confirmed\n",
        "-  if (!isAuthenticated) {\n",
        "-    return null;\n",
        "-  }\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"flex flex-col min-h-screen bg-primary-background\">\n",
        "-      <Navbar />\n",
        "-      <main className=\"flex-1\">\n",
        "-        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6\">\n",
        "-          {children}\n",
        "-          <Toaster />\n",
        "-        </div>\n",
        "-      </main>\n",
        "-      <footer className=\"bg-secondary-background border-t border-divider py-4\">\n",
        "-        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n",
        "-          <p className=\"text-center text-sm text-secondary-text\">\n",
        "-            &copy; {new Date().getFullYear()} Projectron. All rights reserved.\n",
        "-          </p>\n",
        "-        </div>\n",
        "-      </footer>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+// src/components/layout/app-layout.tsx\r\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import { Navbar } from \"./main-nav\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+import { useEffect } from \"react\";\r\n",
        "+import LoadingScreen from \"../ui/loading-screen\";\r\n",
        "+import { Toaster } from \"../ui/toaster\";\r\n",
        "+\r\n",
        "+interface AppLayoutProps {\r\n",
        "+  children: React.ReactNode;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function AppLayout({ children }: AppLayoutProps) {\r\n",
        "+  const { isAuthenticated, isLoading } = useAuth();\r\n",
        "+  const router = useRouter();\r\n",
        "+\r\n",
        "+  useEffect(() => {\r\n",
        "+    // Redirect to login if not authenticated and not loading\r\n",
        "+    if (!isAuthenticated && !isLoading) {\r\n",
        "+      router.push(\"/auth/login\");\r\n",
        "+    }\r\n",
        "+  }, [isAuthenticated, isLoading, router]);\r\n",
        "+\r\n",
        "+  // Show loading screen while checking authentication\r\n",
        "+  if (isLoading) {\r\n",
        "+    return <LoadingScreen />;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  // Don't render the content until authentication is confirmed\r\n",
        "+  if (!isAuthenticated) {\r\n",
        "+    return null;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"flex flex-col min-h-screen bg-primary-background\">\r\n",
        "+      <Navbar />\r\n",
        "+      <main className=\"flex-1\">\r\n",
        "+        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6\">\r\n",
        "+          {children}\r\n",
        "+          <Toaster />\r\n",
        "+        </div>\r\n",
        "+      </main>\r\n",
        "+      <footer className=\"bg-secondary-background border-t border-divider py-4\">\r\n",
        "+        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n",
        "+          <p className=\"text-center text-sm text-secondary-text\">\r\n",
        "+            &copy; {new Date().getFullYear()} Projectron. All rights reserved.\r\n",
        "+          </p>\r\n",
        "+        </div>\r\n",
        "+      </footer>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/layout/auth-layout.tsx",
      "status": "modified",
      "additions": 56,
      "deletions": 56,
      "patch": "@@ -1,56 +1,56 @@\n-// src/components/layout/auth-layout.tsx\n-\"use client\";\n-\n-import { useAuth } from \"@/contexts/auth-context\";\n-import { useRouter } from \"next/navigation\";\n-import { useEffect } from \"react\";\n-import Link from \"next/link\";\n-import LoadingScreen from \"../ui/loading-screen\";\n-import Logo from \"../../../public/logo.svg\";\n-interface AuthLayoutProps {\n-  children: React.ReactNode;\n-}\n-\n-export function AuthLayout({ children }: AuthLayoutProps) {\n-  const { isAuthenticated, isLoading } = useAuth();\n-  const router = useRouter();\n-\n-  useEffect(() => {\n-    // Redirect to projects if already authenticated and not loading\n-    if (isAuthenticated && !isLoading) {\n-      router.push(\"/projects\");\n-    }\n-  }, [isAuthenticated, isLoading, router]);\n-\n-  // Show loading screen while checking authentication\n-  if (isLoading) {\n-    return <LoadingScreen />;\n-  }\n-\n-  // Don't render the content if already authenticated\n-  if (isAuthenticated) {\n-    return null;\n-  }\n-\n-  return (\n-    <div className=\"flex min-h-screen flex-col bg-primary-background\">\n-      <Link href=\"/\" className=\"flex items-center justify-center\">\n-        <Logo className=\"h-14 md:h-20 mt-4 m-auto\" />\n-      </Link>\n-      <div className=\"flex flex-1 flex-col justify-center px-6 pt-2 pb-10 lg:px-8\">\n-        <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-md\">\n-          <div className=\"bg-secondary-background py-8 px-6 shadow-lg rounded-lg sm:px-10 border border-divider\">\n-            {children}\n-          </div>\n-        </div>\n-      </div>\n-      <footer className=\"border-t border-divider py-4\">\n-        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n-          <p className=\"text-center text-sm text-secondary-text\">\n-            &copy; {new Date().getFullYear()} Projectron. All rights reserved.\n-          </p>\n-        </div>\n-      </footer>\n-    </div>\n-  );\n-}\n+// src/components/layout/auth-layout.tsx\r\n+\"use client\";\r\n+\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import { useEffect } from \"react\";\r\n+import Link from \"next/link\";\r\n+import LoadingScreen from \"../ui/loading-screen\";\r\n+import Logo from \"../../../public/logo.svg\";\r\n+interface AuthLayoutProps {\r\n+  children: React.ReactNode;\r\n+}\r\n+\r\n+export function AuthLayout({ children }: AuthLayoutProps) {\r\n+  const { isAuthenticated, isLoading } = useAuth();\r\n+  const router = useRouter();\r\n+\r\n+  useEffect(() => {\r\n+    // Redirect to projects if already authenticated and not loading\r\n+    if (isAuthenticated && !isLoading) {\r\n+      router.push(\"/projects\");\r\n+    }\r\n+  }, [isAuthenticated, isLoading, router]);\r\n+\r\n+  // Show loading screen while checking authentication\r\n+  if (isLoading) {\r\n+    return <LoadingScreen />;\r\n+  }\r\n+\r\n+  // Don't render the content if already authenticated\r\n+  if (isAuthenticated) {\r\n+    return null;\r\n+  }\r\n+\r\n+  return (\r\n+    <div className=\"flex min-h-screen flex-col bg-primary-background\">\r\n+      <Link href=\"/\" className=\"flex items-center justify-center\">\r\n+        <Logo className=\"h-14 md:h-20 mt-4 m-auto\" />\r\n+      </Link>\r\n+      <div className=\"flex flex-1 flex-col justify-center px-6 pt-2 pb-10 lg:px-8\">\r\n+        <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-md\">\r\n+          <div className=\"bg-secondary-background py-8 px-6 shadow-lg rounded-lg sm:px-10 border border-divider\">\r\n+            {children}\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+      <footer className=\"border-t border-divider py-4\">\r\n+        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n+          <p className=\"text-center text-sm text-secondary-text\">\r\n+            &copy; {new Date().getFullYear()} Projectron. All rights reserved.\r\n+          </p>\r\n+        </div>\r\n+      </footer>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,56 +1,56 @@\n",
        "-// src/components/layout/auth-layout.tsx\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-import { useEffect } from \"react\";\n",
        "-import Link from \"next/link\";\n",
        "-import LoadingScreen from \"../ui/loading-screen\";\n",
        "-import Logo from \"../../../public/logo.svg\";\n",
        "-interface AuthLayoutProps {\n",
        "-  children: React.ReactNode;\n",
        "-}\n",
        "-\n",
        "-export function AuthLayout({ children }: AuthLayoutProps) {\n",
        "-  const { isAuthenticated, isLoading } = useAuth();\n",
        "-  const router = useRouter();\n",
        "-\n",
        "-  useEffect(() => {\n",
        "-    // Redirect to projects if already authenticated and not loading\n",
        "-    if (isAuthenticated && !isLoading) {\n",
        "-      router.push(\"/projects\");\n",
        "-    }\n",
        "-  }, [isAuthenticated, isLoading, router]);\n",
        "-\n",
        "-  // Show loading screen while checking authentication\n",
        "-  if (isLoading) {\n",
        "-    return <LoadingScreen />;\n",
        "-  }\n",
        "-\n",
        "-  // Don't render the content if already authenticated\n",
        "-  if (isAuthenticated) {\n",
        "-    return null;\n",
        "-  }\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"flex min-h-screen flex-col bg-primary-background\">\n",
        "-      <Link href=\"/\" className=\"flex items-center justify-center\">\n",
        "-        <Logo className=\"h-14 md:h-20 mt-4 m-auto\" />\n",
        "-      </Link>\n",
        "-      <div className=\"flex flex-1 flex-col justify-center px-6 pt-2 pb-10 lg:px-8\">\n",
        "-        <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-md\">\n",
        "-          <div className=\"bg-secondary-background py-8 px-6 shadow-lg rounded-lg sm:px-10 border border-divider\">\n",
        "-            {children}\n",
        "-          </div>\n",
        "-        </div>\n",
        "-      </div>\n",
        "-      <footer className=\"border-t border-divider py-4\">\n",
        "-        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n",
        "-          <p className=\"text-center text-sm text-secondary-text\">\n",
        "-            &copy; {new Date().getFullYear()} Projectron. All rights reserved.\n",
        "-          </p>\n",
        "-        </div>\n",
        "-      </footer>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+// src/components/layout/auth-layout.tsx\r\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+import { useEffect } from \"react\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import LoadingScreen from \"../ui/loading-screen\";\r\n",
        "+import Logo from \"../../../public/logo.svg\";\r\n",
        "+interface AuthLayoutProps {\r\n",
        "+  children: React.ReactNode;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function AuthLayout({ children }: AuthLayoutProps) {\r\n",
        "+  const { isAuthenticated, isLoading } = useAuth();\r\n",
        "+  const router = useRouter();\r\n",
        "+\r\n",
        "+  useEffect(() => {\r\n",
        "+    // Redirect to projects if already authenticated and not loading\r\n",
        "+    if (isAuthenticated && !isLoading) {\r\n",
        "+      router.push(\"/projects\");\r\n",
        "+    }\r\n",
        "+  }, [isAuthenticated, isLoading, router]);\r\n",
        "+\r\n",
        "+  // Show loading screen while checking authentication\r\n",
        "+  if (isLoading) {\r\n",
        "+    return <LoadingScreen />;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  // Don't render the content if already authenticated\r\n",
        "+  if (isAuthenticated) {\r\n",
        "+    return null;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"flex min-h-screen flex-col bg-primary-background\">\r\n",
        "+      <Link href=\"/\" className=\"flex items-center justify-center\">\r\n",
        "+        <Logo className=\"h-14 md:h-20 mt-4 m-auto\" />\r\n",
        "+      </Link>\r\n",
        "+      <div className=\"flex flex-1 flex-col justify-center px-6 pt-2 pb-10 lg:px-8\">\r\n",
        "+        <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-md\">\r\n",
        "+          <div className=\"bg-secondary-background py-8 px-6 shadow-lg rounded-lg sm:px-10 border border-divider\">\r\n",
        "+            {children}\r\n",
        "+          </div>\r\n",
        "+        </div>\r\n",
        "+      </div>\r\n",
        "+      <footer className=\"border-t border-divider py-4\">\r\n",
        "+        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n",
        "+          <p className=\"text-center text-sm text-secondary-text\">\r\n",
        "+            &copy; {new Date().getFullYear()} Projectron. All rights reserved.\r\n",
        "+          </p>\r\n",
        "+        </div>\r\n",
        "+      </footer>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/layout/landing-footer.tsx",
      "status": "modified",
      "additions": 96,
      "deletions": 96,
      "patch": "@@ -1,97 +1,97 @@\n-\"use client\";\n-\n-import Link from 'next/link';\n-import { Github, Twitter, Linkedin, Mail } from 'lucide-react';\n-\n-export function LandingFooter() {\n-  return (\n-    <footer className=\"bg-card border-t border-border py-12 px-4 md:px-6\">\n-      <div className=\"container mx-auto\">\n-        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n-          {/* Brand column */}\n-          <div className=\"space-y-4\">\n-            <Link href=\"/\" className=\"flex items-center space-x-2\">\n-              <span className=\"text-2xl font-bold bg-clip-text text-transparent bg-gradient-cta\">\n-                Projectron\n-              </span>\n-            </Link>\n-            <p className=\"text-muted-foreground\">\n-              AI-powered project planning that transforms your ideas into comprehensive development roadmaps.\n-            </p>\n-            <div className=\"flex space-x-4\">\n-              <SocialLink href=\"https://github.com\" icon={<Github size={18} />} />\n-              <SocialLink href=\"https://twitter.com\" icon={<Twitter size={18} />} />\n-              <SocialLink href=\"https://linkedin.com\" icon={<Linkedin size={18} />} />\n-              <SocialLink href=\"mailto:info@projectron.com\" icon={<Mail size={18} />} />\n-            </div>\n-          </div>\n-          \n-          {/* Products */}\n-          <div>\n-            <h3 className=\"text-lg font-semibold mb-4\">Product</h3>\n-            <ul className=\"space-y-2\">\n-              <FooterLink href=\"#features\">Features</FooterLink>\n-              <FooterLink href=\"#how-it-works\">How It Works</FooterLink>\n-              <FooterLink href=\"#pricing\">Pricing</FooterLink>\n-              <FooterLink href=\"#use-cases\">Use Cases</FooterLink>\n-            </ul>\n-          </div>\n-          \n-          {/* Company */}\n-          <div>\n-            <h3 className=\"text-lg font-semibold mb-4\">Company</h3>\n-            <ul className=\"space-y-2\">\n-              <FooterLink href=\"/about\">About Us</FooterLink>\n-              <FooterLink href=\"/blog\">Blog</FooterLink>\n-              <FooterLink href=\"/careers\">Careers</FooterLink>\n-              <FooterLink href=\"/contact\">Contact</FooterLink>\n-            </ul>\n-          </div>\n-          \n-          {/* Legal */}\n-          <div>\n-            <h3 className=\"text-lg font-semibold mb-4\">Legal</h3>\n-            <ul className=\"space-y-2\">\n-              <FooterLink href=\"/terms\">Terms of Service</FooterLink>\n-              <FooterLink href=\"/privacy\">Privacy Policy</FooterLink>\n-              <FooterLink href=\"/cookies\">Cookie Policy</FooterLink>\n-            </ul>\n-          </div>\n-        </div>\n-        \n-        {/* Copyright */}\n-        <div className=\"border-t border-border mt-12 pt-6 text-center text-muted-foreground\">\n-          <p>\u00a9 {new Date().getFullYear()} Projectron. All rights reserved.</p>\n-        </div>\n-      </div>\n-    </footer>\n-  );\n-}\n-\n-// Helper component for footer links\n-function FooterLink({ href, children }: { href: string; children: React.ReactNode }) {\n-  return (\n-    <li>\n-      <Link \n-        href={href} \n-        className=\"text-muted-foreground hover:text-foreground transition-colors duration-200\"\n-      >\n-        {children}\n-      </Link>\n-    </li>\n-  );\n-}\n-\n-// Helper component for social links\n-function SocialLink({ href, icon }: { href: string; icon: React.ReactNode }) {\n-  return (\n-    <Link \n-      href={href} \n-      className=\"text-muted-foreground hover:text-primary transition-colors duration-200\"\n-      target=\"_blank\"\n-      rel=\"noopener noreferrer\"\n-    >\n-      {icon}\n-    </Link>\n-  );\n+\"use client\";\r\n+\r\n+import Link from 'next/link';\r\n+import { Github, Twitter, Linkedin, Mail } from 'lucide-react';\r\n+\r\n+export function LandingFooter() {\r\n+  return (\r\n+    <footer className=\"bg-card border-t border-border py-12 px-4 md:px-6\">\r\n+      <div className=\"container mx-auto\">\r\n+        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n+          {/* Brand column */}\r\n+          <div className=\"space-y-4\">\r\n+            <Link href=\"/\" className=\"flex items-center space-x-2\">\r\n+              <span className=\"text-2xl font-bold bg-clip-text text-transparent bg-gradient-cta\">\r\n+                Projectron\r\n+              </span>\r\n+            </Link>\r\n+            <p className=\"text-muted-foreground\">\r\n+              AI-powered project planning that transforms your ideas into comprehensive development roadmaps.\r\n+            </p>\r\n+            <div className=\"flex space-x-4\">\r\n+              <SocialLink href=\"https://github.com\" icon={<Github size={18} />} />\r\n+              <SocialLink href=\"https://twitter.com\" icon={<Twitter size={18} />} />\r\n+              <SocialLink href=\"https://linkedin.com\" icon={<Linkedin size={18} />} />\r\n+              <SocialLink href=\"mailto:info@projectron.com\" icon={<Mail size={18} />} />\r\n+            </div>\r\n+          </div>\r\n+          \r\n+          {/* Products */}\r\n+          <div>\r\n+            <h3 className=\"text-lg font-semibold mb-4\">Product</h3>\r\n+            <ul className=\"space-y-2\">\r\n+              <FooterLink href=\"#features\">Features</FooterLink>\r\n+              <FooterLink href=\"#how-it-works\">How It Works</FooterLink>\r\n+              <FooterLink href=\"#pricing\">Pricing</FooterLink>\r\n+              <FooterLink href=\"#use-cases\">Use Cases</FooterLink>\r\n+            </ul>\r\n+          </div>\r\n+          \r\n+          {/* Company */}\r\n+          <div>\r\n+            <h3 className=\"text-lg font-semibold mb-4\">Company</h3>\r\n+            <ul className=\"space-y-2\">\r\n+              <FooterLink href=\"/about\">About Us</FooterLink>\r\n+              <FooterLink href=\"/blog\">Blog</FooterLink>\r\n+              <FooterLink href=\"/careers\">Careers</FooterLink>\r\n+              <FooterLink href=\"/contact\">Contact</FooterLink>\r\n+            </ul>\r\n+          </div>\r\n+          \r\n+          {/* Legal */}\r\n+          <div>\r\n+            <h3 className=\"text-lg font-semibold mb-4\">Legal</h3>\r\n+            <ul className=\"space-y-2\">\r\n+              <FooterLink href=\"/terms\">Terms of Service</FooterLink>\r\n+              <FooterLink href=\"/privacy\">Privacy Policy</FooterLink>\r\n+              <FooterLink href=\"/cookies\">Cookie Policy</FooterLink>\r\n+            </ul>\r\n+          </div>\r\n+        </div>\r\n+        \r\n+        {/* Copyright */}\r\n+        <div className=\"border-t border-border mt-12 pt-6 text-center text-muted-foreground\">\r\n+          <p>\u00a9 {new Date().getFullYear()} Projectron. All rights reserved.</p>\r\n+        </div>\r\n+      </div>\r\n+    </footer>\r\n+  );\r\n+}\r\n+\r\n+// Helper component for footer links\r\n+function FooterLink({ href, children }: { href: string; children: React.ReactNode }) {\r\n+  return (\r\n+    <li>\r\n+      <Link \r\n+        href={href} \r\n+        className=\"text-muted-foreground hover:text-foreground transition-colors duration-200\"\r\n+      >\r\n+        {children}\r\n+      </Link>\r\n+    </li>\r\n+  );\r\n+}\r\n+\r\n+// Helper component for social links\r\n+function SocialLink({ href, icon }: { href: string; icon: React.ReactNode }) {\r\n+  return (\r\n+    <Link \r\n+      href={href} \r\n+      className=\"text-muted-foreground hover:text-primary transition-colors duration-200\"\r\n+      target=\"_blank\"\r\n+      rel=\"noopener noreferrer\"\r\n+    >\r\n+      {icon}\r\n+    </Link>\r\n+  );\r\n }\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,97 +1,97 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import Link from 'next/link';\n",
        "-import { Github, Twitter, Linkedin, Mail } from 'lucide-react';\n",
        "-\n",
        "-export function LandingFooter() {\n",
        "-  return (\n",
        "-    <footer className=\"bg-card border-t border-border py-12 px-4 md:px-6\">\n",
        "-      <div className=\"container mx-auto\">\n",
        "-        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n",
        "-          {/* Brand column */}\n",
        "-          <div className=\"space-y-4\">\n",
        "-            <Link href=\"/\" className=\"flex items-center space-x-2\">\n",
        "-              <span className=\"text-2xl font-bold bg-clip-text text-transparent bg-gradient-cta\">\n",
        "-                Projectron\n",
        "-              </span>\n",
        "-            </Link>\n",
        "-            <p className=\"text-muted-foreground\">\n",
        "-              AI-powered project planning that transforms your ideas into comprehensive development roadmaps.\n",
        "-            </p>\n",
        "-            <div className=\"flex space-x-4\">\n",
        "-              <SocialLink href=\"https://github.com\" icon={<Github size={18} />} />\n",
        "-              <SocialLink href=\"https://twitter.com\" icon={<Twitter size={18} />} />\n",
        "-              <SocialLink href=\"https://linkedin.com\" icon={<Linkedin size={18} />} />\n",
        "-              <SocialLink href=\"mailto:info@projectron.com\" icon={<Mail size={18} />} />\n",
        "-            </div>\n",
        "-          </div>\n",
        "-          \n",
        "-          {/* Products */}\n",
        "-          <div>\n",
        "-            <h3 className=\"text-lg font-semibold mb-4\">Product</h3>\n",
        "-            <ul className=\"space-y-2\">\n",
        "-              <FooterLink href=\"#features\">Features</FooterLink>\n",
        "-              <FooterLink href=\"#how-it-works\">How It Works</FooterLink>\n",
        "-              <FooterLink href=\"#pricing\">Pricing</FooterLink>\n",
        "-              <FooterLink href=\"#use-cases\">Use Cases</FooterLink>\n",
        "-            </ul>\n",
        "-          </div>\n",
        "-          \n",
        "-          {/* Company */}\n",
        "-          <div>\n",
        "-            <h3 className=\"text-lg font-semibold mb-4\">Company</h3>\n",
        "-            <ul className=\"space-y-2\">\n",
        "-              <FooterLink href=\"/about\">About Us</FooterLink>\n",
        "-              <FooterLink href=\"/blog\">Blog</FooterLink>\n",
        "-              <FooterLink href=\"/careers\">Careers</FooterLink>\n",
        "-              <FooterLink href=\"/contact\">Contact</FooterLink>\n",
        "-            </ul>\n",
        "-          </div>\n",
        "-          \n",
        "-          {/* Legal */}\n",
        "-          <div>\n",
        "-            <h3 className=\"text-lg font-semibold mb-4\">Legal</h3>\n",
        "-            <ul className=\"space-y-2\">\n",
        "-              <FooterLink href=\"/terms\">Terms of Service</FooterLink>\n",
        "-              <FooterLink href=\"/privacy\">Privacy Policy</FooterLink>\n",
        "-              <FooterLink href=\"/cookies\">Cookie Policy</FooterLink>\n",
        "-            </ul>\n",
        "-          </div>\n",
        "-        </div>\n",
        "-        \n",
        "-        {/* Copyright */}\n",
        "-        <div className=\"border-t border-border mt-12 pt-6 text-center text-muted-foreground\">\n",
        "-          <p>\u00a9 {new Date().getFullYear()} Projectron. All rights reserved.</p>\n",
        "-        </div>\n",
        "-      </div>\n",
        "-    </footer>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-// Helper component for footer links\n",
        "-function FooterLink({ href, children }: { href: string; children: React.ReactNode }) {\n",
        "-  return (\n",
        "-    <li>\n",
        "-      <Link \n",
        "-        href={href} \n",
        "-        className=\"text-muted-foreground hover:text-foreground transition-colors duration-200\"\n",
        "-      >\n",
        "-        {children}\n",
        "-      </Link>\n",
        "-    </li>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-// Helper component for social links\n",
        "-function SocialLink({ href, icon }: { href: string; icon: React.ReactNode }) {\n",
        "-  return (\n",
        "-    <Link \n",
        "-      href={href} \n",
        "-      className=\"text-muted-foreground hover:text-primary transition-colors duration-200\"\n",
        "-      target=\"_blank\"\n",
        "-      rel=\"noopener noreferrer\"\n",
        "-    >\n",
        "-      {icon}\n",
        "-    </Link>\n",
        "-  );\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import Link from 'next/link';\r\n",
        "+import { Github, Twitter, Linkedin, Mail } from 'lucide-react';\r\n",
        "+\r\n",
        "+export function LandingFooter() {\r\n",
        "+  return (\r\n",
        "+    <footer className=\"bg-card border-t border-border py-12 px-4 md:px-6\">\r\n",
        "+      <div className=\"container mx-auto\">\r\n",
        "+        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\r\n",
        "+          {/* Brand column */}\r\n",
        "+          <div className=\"space-y-4\">\r\n",
        "+            <Link href=\"/\" className=\"flex items-center space-x-2\">\r\n",
        "+              <span className=\"text-2xl font-bold bg-clip-text text-transparent bg-gradient-cta\">\r\n",
        "+                Projectron\r\n",
        "+              </span>\r\n",
        "+            </Link>\r\n",
        "+            <p className=\"text-muted-foreground\">\r\n",
        "+              AI-powered project planning that transforms your ideas into comprehensive development roadmaps.\r\n",
        "+            </p>\r\n",
        "+            <div className=\"flex space-x-4\">\r\n",
        "+              <SocialLink href=\"https://github.com\" icon={<Github size={18} />} />\r\n",
        "+              <SocialLink href=\"https://twitter.com\" icon={<Twitter size={18} />} />\r\n",
        "+              <SocialLink href=\"https://linkedin.com\" icon={<Linkedin size={18} />} />\r\n",
        "+              <SocialLink href=\"mailto:info@projectron.com\" icon={<Mail size={18} />} />\r\n",
        "+            </div>\r\n",
        "+          </div>\r\n",
        "+          \r\n",
        "+          {/* Products */}\r\n",
        "+          <div>\r\n",
        "+            <h3 className=\"text-lg font-semibold mb-4\">Product</h3>\r\n",
        "+            <ul className=\"space-y-2\">\r\n",
        "+              <FooterLink href=\"#features\">Features</FooterLink>\r\n",
        "+              <FooterLink href=\"#how-it-works\">How It Works</FooterLink>\r\n",
        "+              <FooterLink href=\"#pricing\">Pricing</FooterLink>\r\n",
        "+              <FooterLink href=\"#use-cases\">Use Cases</FooterLink>\r\n",
        "+            </ul>\r\n",
        "+          </div>\r\n",
        "+          \r\n",
        "+          {/* Company */}\r\n",
        "+          <div>\r\n",
        "+            <h3 className=\"text-lg font-semibold mb-4\">Company</h3>\r\n",
        "+            <ul className=\"space-y-2\">\r\n",
        "+              <FooterLink href=\"/about\">About Us</FooterLink>\r\n",
        "+              <FooterLink href=\"/blog\">Blog</FooterLink>\r\n",
        "+              <FooterLink href=\"/careers\">Careers</FooterLink>\r\n",
        "+              <FooterLink href=\"/contact\">Contact</FooterLink>\r\n",
        "+            </ul>\r\n",
        "+          </div>\r\n",
        "+          \r\n",
        "+          {/* Legal */}\r\n",
        "+          <div>\r\n",
        "+            <h3 className=\"text-lg font-semibold mb-4\">Legal</h3>\r\n",
        "+            <ul className=\"space-y-2\">\r\n",
        "+              <FooterLink href=\"/terms\">Terms of Service</FooterLink>\r\n",
        "+              <FooterLink href=\"/privacy\">Privacy Policy</FooterLink>\r\n",
        "+              <FooterLink href=\"/cookies\">Cookie Policy</FooterLink>\r\n",
        "+            </ul>\r\n",
        "+          </div>\r\n",
        "+        </div>\r\n",
        "+        \r\n",
        "+        {/* Copyright */}\r\n",
        "+        <div className=\"border-t border-border mt-12 pt-6 text-center text-muted-foreground\">\r\n",
        "+          <p>\u00a9 {new Date().getFullYear()} Projectron. All rights reserved.</p>\r\n",
        "+        </div>\r\n",
        "+      </div>\r\n",
        "+    </footer>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+// Helper component for footer links\r\n",
        "+function FooterLink({ href, children }: { href: string; children: React.ReactNode }) {\r\n",
        "+  return (\r\n",
        "+    <li>\r\n",
        "+      <Link \r\n",
        "+        href={href} \r\n",
        "+        className=\"text-muted-foreground hover:text-foreground transition-colors duration-200\"\r\n",
        "+      >\r\n",
        "+        {children}\r\n",
        "+      </Link>\r\n",
        "+    </li>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+// Helper component for social links\r\n",
        "+function SocialLink({ href, icon }: { href: string; icon: React.ReactNode }) {\r\n",
        "+  return (\r\n",
        "+    <Link \r\n",
        "+      href={href} \r\n",
        "+      className=\"text-muted-foreground hover:text-primary transition-colors duration-200\"\r\n",
        "+      target=\"_blank\"\r\n",
        "+      rel=\"noopener noreferrer\"\r\n",
        "+    >\r\n",
        "+      {icon}\r\n",
        "+    </Link>\r\n",
        "+  );\r\n",
        " }\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "frontend/src/components/layout/landing-header.tsx",
      "status": "modified",
      "additions": 187,
      "deletions": 187,
      "patch": "@@ -1,187 +1,187 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import Link from \"next/link\";\n-import { motion, useScroll, useTransform } from \"framer-motion\";\n-import { Menu, X } from \"lucide-react\";\n-import { Button } from \"../ui/button\";\n-import Logo from \"../../../public/logo.svg\";\n-\n-export function LandingHeader() {\n-  // State for mobile menu\n-  const [isMenuOpen, setIsMenuOpen] = useState(false);\n-\n-  // Track scroll position for header effects\n-  const { scrollY } = useScroll();\n-  const [scrollPosition, setScrollPosition] = useState(0);\n-\n-  // Update scroll position\n-  useEffect(() => {\n-    const handleScroll = () => {\n-      setScrollPosition(window.scrollY);\n-    };\n-\n-    window.addEventListener(\"scroll\", handleScroll);\n-    return () => window.removeEventListener(\"scroll\", handleScroll);\n-  }, []);\n-\n-  // Calculate opacity based on scroll position\n-  const opacity =\n-    scrollPosition <= 70\n-      ? 0\n-      : Math.abs(Math.min((scrollPosition - 70) / 70, 1));\n-\n-  // Calculate blur based on scroll position\n-  const blur =\n-    scrollPosition <= 70\n-      ? 0\n-      : Math.abs(Math.min(((scrollPosition - 70) / 70) * 8, 8));\n-\n-  // Close mobile menu when clicking elsewhere\n-  useEffect(() => {\n-    const handleClickOutside = () => {\n-      if (isMenuOpen) setIsMenuOpen(false);\n-    };\n-\n-    document.addEventListener(\"click\", handleClickOutside);\n-    return () => document.removeEventListener(\"click\", handleClickOutside);\n-  }, [isMenuOpen]);\n-\n-  return (\n-    <>\n-      {/* Fixed header that changes style on scroll */}\n-      <header\n-        className=\"fixed top-0 left-0 right-0 z-50 sm:px-4 md:px-6 py-2 transition-all duration-300\"\n-        style={{\n-          backgroundColor: `rgba(var(--background-rgb, 255, 255, 255), ${opacity})`,\n-          backdropFilter: `blur(${blur}px)`,\n-        }}\n-      >\n-        <div className=\"px-2 sm:px-0 sm:container mx-auto flex items-center justify-between\">\n-          {/* Logo */}\n-          <Link href=\"/\" className=\"flex items-center\">\n-            <Logo\n-              className=\"sm:h-14 h-[3.4rem] w-auto\"\n-              aria-label=\"Projectron\"\n-            />\n-          </Link>\n-\n-          {/* Desktop Navigation */}\n-          <nav className=\"hidden md:flex items-center space-x-8\">\n-            <NavLinks />\n-\n-            {/* CTA Button */}\n-            <Link href=\"/auth/register\">\n-              <Button\n-                className=\"bg-white text-primary-background\"\n-                variant=\"outline\"\n-              >\n-                Get Started\n-              </Button>\n-            </Link>\n-          </nav>\n-\n-          {/* Mobile Menu Button */}\n-          <button\n-            className=\"md:hidden text-foreground p-2\"\n-            onClick={(e) => {\n-              e.stopPropagation();\n-              setIsMenuOpen(!isMenuOpen);\n-            }}\n-          >\n-            {isMenuOpen ? <X size={24} /> : <Menu size={24} />}\n-          </button>\n-        </div>\n-      </header>\n-\n-      {/* Mobile Navigation Menu */}\n-      {isMenuOpen && (\n-        <motion.div\n-          className=\"fixed inset-0 z-40 bg-background pt-20 px-4\"\n-          initial={{ opacity: 0, y: -20 }}\n-          animate={{ opacity: 1, y: 0 }}\n-          transition={{ duration: 0.2 }}\n-          onClick={(e) => e.stopPropagation()}\n-        >\n-          <nav className=\"flex flex-col items-center space-y-6 mt-8\">\n-            <MobileNavLinks closeMenu={() => setIsMenuOpen(false)} />\n-\n-            <Link href=\"/auth/register\" onClick={() => setIsMenuOpen(false)}>\n-              <Button variant=\"outline\" className=\"w-full\">\n-                Get Started\n-              </Button>\n-            </Link>\n-          </nav>\n-        </motion.div>\n-      )}\n-    </>\n-  );\n-}\n-\n-// Shared navigation links\n-function NavLinks() {\n-  return (\n-    <>\n-      <Link\n-        href=\"#features\"\n-        className=\"text-foreground hover:text-primary transition-colors duration-200\"\n-      >\n-        Features\n-      </Link>\n-      <Link\n-        href=\"#how-it-works\"\n-        className=\"text-foreground hover:text-primary transition-colors duration-200\"\n-      >\n-        How It Works\n-      </Link>\n-      <Link\n-        href=\"#pricing\"\n-        className=\"text-foreground hover:text-primary transition-colors duration-200\"\n-      >\n-        Pricing\n-      </Link>\n-      <Link\n-        href=\"/auth/login\"\n-        className=\"text-foreground hover:text-primary transition-colors duration-200\"\n-      >\n-        Login\n-      </Link>\n-    </>\n-  );\n-}\n-\n-// Mobile navigation links with close menu functionality\n-function MobileNavLinks({ closeMenu }: { closeMenu: () => void }) {\n-  return (\n-    <>\n-      <Link\n-        href=\"#features\"\n-        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\n-        onClick={closeMenu}\n-      >\n-        Features\n-      </Link>\n-      <Link\n-        href=\"#how-it-works\"\n-        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\n-        onClick={closeMenu}\n-      >\n-        How It Works\n-      </Link>\n-      <Link\n-        href=\"#pricing\"\n-        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\n-        onClick={closeMenu}\n-      >\n-        Pricing\n-      </Link>\n-      <Link\n-        href=\"/auth/login\"\n-        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\n-        onClick={closeMenu}\n-      >\n-        Login\n-      </Link>\n-    </>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import Link from \"next/link\";\r\n+import { motion, useScroll, useTransform } from \"framer-motion\";\r\n+import { Menu, X } from \"lucide-react\";\r\n+import { Button } from \"../ui/button\";\r\n+import Logo from \"../../../public/logo.svg\";\r\n+\r\n+export function LandingHeader() {\r\n+  // State for mobile menu\r\n+  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n+\r\n+  // Track scroll position for header effects\r\n+  const { scrollY } = useScroll();\r\n+  const [scrollPosition, setScrollPosition] = useState(0);\r\n+\r\n+  // Update scroll position\r\n+  useEffect(() => {\r\n+    const handleScroll = () => {\r\n+      setScrollPosition(window.scrollY);\r\n+    };\r\n+\r\n+    window.addEventListener(\"scroll\", handleScroll);\r\n+    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n+  }, []);\r\n+\r\n+  // Calculate opacity based on scroll position\r\n+  const opacity =\r\n+    scrollPosition <= 70\r\n+      ? 0\r\n+      : Math.abs(Math.min((scrollPosition - 70) / 70, 1));\r\n+\r\n+  // Calculate blur based on scroll position\r\n+  const blur =\r\n+    scrollPosition <= 70\r\n+      ? 0\r\n+      : Math.abs(Math.min(((scrollPosition - 70) / 70) * 8, 8));\r\n+\r\n+  // Close mobile menu when clicking elsewhere\r\n+  useEffect(() => {\r\n+    const handleClickOutside = () => {\r\n+      if (isMenuOpen) setIsMenuOpen(false);\r\n+    };\r\n+\r\n+    document.addEventListener(\"click\", handleClickOutside);\r\n+    return () => document.removeEventListener(\"click\", handleClickOutside);\r\n+  }, [isMenuOpen]);\r\n+\r\n+  return (\r\n+    <>\r\n+      {/* Fixed header that changes style on scroll */}\r\n+      <header\r\n+        className=\"fixed top-0 left-0 right-0 z-50 sm:px-4 md:px-6 py-2 transition-all duration-300\"\r\n+        style={{\r\n+          backgroundColor: `rgba(var(--background-rgb, 255, 255, 255), ${opacity})`,\r\n+          backdropFilter: `blur(${blur}px)`,\r\n+        }}\r\n+      >\r\n+        <div className=\"px-2 sm:px-0 sm:container mx-auto flex items-center justify-between\">\r\n+          {/* Logo */}\r\n+          <Link href=\"/\" className=\"flex items-center\">\r\n+            <Logo\r\n+              className=\"sm:h-14 h-[3.4rem] w-auto\"\r\n+              aria-label=\"Projectron\"\r\n+            />\r\n+          </Link>\r\n+\r\n+          {/* Desktop Navigation */}\r\n+          <nav className=\"hidden md:flex items-center space-x-8\">\r\n+            <NavLinks />\r\n+\r\n+            {/* CTA Button */}\r\n+            <Link href=\"/auth/register\">\r\n+              <Button\r\n+                className=\"bg-white text-primary-background\"\r\n+                variant=\"outline\"\r\n+              >\r\n+                Get Started\r\n+              </Button>\r\n+            </Link>\r\n+          </nav>\r\n+\r\n+          {/* Mobile Menu Button */}\r\n+          <button\r\n+            className=\"md:hidden text-foreground p-2\"\r\n+            onClick={(e) => {\r\n+              e.stopPropagation();\r\n+              setIsMenuOpen(!isMenuOpen);\r\n+            }}\r\n+          >\r\n+            {isMenuOpen ? <X size={24} /> : <Menu size={24} />}\r\n+          </button>\r\n+        </div>\r\n+      </header>\r\n+\r\n+      {/* Mobile Navigation Menu */}\r\n+      {isMenuOpen && (\r\n+        <motion.div\r\n+          className=\"fixed inset-0 z-40 bg-background pt-20 px-4\"\r\n+          initial={{ opacity: 0, y: -20 }}\r\n+          animate={{ opacity: 1, y: 0 }}\r\n+          transition={{ duration: 0.2 }}\r\n+          onClick={(e) => e.stopPropagation()}\r\n+        >\r\n+          <nav className=\"flex flex-col items-center space-y-6 mt-8\">\r\n+            <MobileNavLinks closeMenu={() => setIsMenuOpen(false)} />\r\n+\r\n+            <Link href=\"/auth/register\" onClick={() => setIsMenuOpen(false)}>\r\n+              <Button variant=\"outline\" className=\"w-full\">\r\n+                Get Started\r\n+              </Button>\r\n+            </Link>\r\n+          </nav>\r\n+        </motion.div>\r\n+      )}\r\n+    </>\r\n+  );\r\n+}\r\n+\r\n+// Shared navigation links\r\n+function NavLinks() {\r\n+  return (\r\n+    <>\r\n+      <Link\r\n+        href=\"#features\"\r\n+        className=\"text-foreground hover:text-primary transition-colors duration-200\"\r\n+      >\r\n+        Features\r\n+      </Link>\r\n+      <Link\r\n+        href=\"#how-it-works\"\r\n+        className=\"text-foreground hover:text-primary transition-colors duration-200\"\r\n+      >\r\n+        How It Works\r\n+      </Link>\r\n+      <Link\r\n+        href=\"#pricing\"\r\n+        className=\"text-foreground hover:text-primary transition-colors duration-200\"\r\n+      >\r\n+        Pricing\r\n+      </Link>\r\n+      <Link\r\n+        href=\"/auth/login\"\r\n+        className=\"text-foreground hover:text-primary transition-colors duration-200\"\r\n+      >\r\n+        Login\r\n+      </Link>\r\n+    </>\r\n+  );\r\n+}\r\n+\r\n+// Mobile navigation links with close menu functionality\r\n+function MobileNavLinks({ closeMenu }: { closeMenu: () => void }) {\r\n+  return (\r\n+    <>\r\n+      <Link\r\n+        href=\"#features\"\r\n+        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\r\n+        onClick={closeMenu}\r\n+      >\r\n+        Features\r\n+      </Link>\r\n+      <Link\r\n+        href=\"#how-it-works\"\r\n+        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\r\n+        onClick={closeMenu}\r\n+      >\r\n+        How It Works\r\n+      </Link>\r\n+      <Link\r\n+        href=\"#pricing\"\r\n+        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\r\n+        onClick={closeMenu}\r\n+      >\r\n+        Pricing\r\n+      </Link>\r\n+      <Link\r\n+        href=\"/auth/login\"\r\n+        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\r\n+        onClick={closeMenu}\r\n+      >\r\n+        Login\r\n+      </Link>\r\n+    </>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,187 +1,187 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import Link from \"next/link\";\n",
        "-import { motion, useScroll, useTransform } from \"framer-motion\";\n",
        "-import { Menu, X } from \"lucide-react\";\n",
        "-import { Button } from \"../ui/button\";\n",
        "-import Logo from \"../../../public/logo.svg\";\n",
        "-\n",
        "-export function LandingHeader() {\n",
        "-  // State for mobile menu\n",
        "-  const [isMenuOpen, setIsMenuOpen] = useState(false);\n",
        "-\n",
        "-  // Track scroll position for header effects\n",
        "-  const { scrollY } = useScroll();\n",
        "-  const [scrollPosition, setScrollPosition] = useState(0);\n",
        "-\n",
        "-  // Update scroll position\n",
        "-  useEffect(() => {\n",
        "-    const handleScroll = () => {\n",
        "-      setScrollPosition(window.scrollY);\n",
        "-    };\n",
        "-\n",
        "-    window.addEventListener(\"scroll\", handleScroll);\n",
        "-    return () => window.removeEventListener(\"scroll\", handleScroll);\n",
        "-  }, []);\n",
        "-\n",
        "-  // Calculate opacity based on scroll position\n",
        "-  const opacity =\n",
        "-    scrollPosition <= 70\n",
        "-      ? 0\n",
        "-      : Math.abs(Math.min((scrollPosition - 70) / 70, 1));\n",
        "-\n",
        "-  // Calculate blur based on scroll position\n",
        "-  const blur =\n",
        "-    scrollPosition <= 70\n",
        "-      ? 0\n",
        "-      : Math.abs(Math.min(((scrollPosition - 70) / 70) * 8, 8));\n",
        "-\n",
        "-  // Close mobile menu when clicking elsewhere\n",
        "-  useEffect(() => {\n",
        "-    const handleClickOutside = () => {\n",
        "-      if (isMenuOpen) setIsMenuOpen(false);\n",
        "-    };\n",
        "-\n",
        "-    document.addEventListener(\"click\", handleClickOutside);\n",
        "-    return () => document.removeEventListener(\"click\", handleClickOutside);\n",
        "-  }, [isMenuOpen]);\n",
        "-\n",
        "-  return (\n",
        "-    <>\n",
        "-      {/* Fixed header that changes style on scroll */}\n",
        "-      <header\n",
        "-        className=\"fixed top-0 left-0 right-0 z-50 sm:px-4 md:px-6 py-2 transition-all duration-300\"\n",
        "-        style={{\n",
        "-          backgroundColor: `rgba(var(--background-rgb, 255, 255, 255), ${opacity})`,\n",
        "-          backdropFilter: `blur(${blur}px)`,\n",
        "-        }}\n",
        "-      >\n",
        "-        <div className=\"px-2 sm:px-0 sm:container mx-auto flex items-center justify-between\">\n",
        "-          {/* Logo */}\n",
        "-          <Link href=\"/\" className=\"flex items-center\">\n",
        "-            <Logo\n",
        "-              className=\"sm:h-14 h-[3.4rem] w-auto\"\n",
        "-              aria-label=\"Projectron\"\n",
        "-            />\n",
        "-          </Link>\n",
        "-\n",
        "-          {/* Desktop Navigation */}\n",
        "-          <nav className=\"hidden md:flex items-center space-x-8\">\n",
        "-            <NavLinks />\n",
        "-\n",
        "-            {/* CTA Button */}\n",
        "-            <Link href=\"/auth/register\">\n",
        "-              <Button\n",
        "-                className=\"bg-white text-primary-background\"\n",
        "-                variant=\"outline\"\n",
        "-              >\n",
        "-                Get Started\n",
        "-              </Button>\n",
        "-            </Link>\n",
        "-          </nav>\n",
        "-\n",
        "-          {/* Mobile Menu Button */}\n",
        "-          <button\n",
        "-            className=\"md:hidden text-foreground p-2\"\n",
        "-            onClick={(e) => {\n",
        "-              e.stopPropagation();\n",
        "-              setIsMenuOpen(!isMenuOpen);\n",
        "-            }}\n",
        "-          >\n",
        "-            {isMenuOpen ? <X size={24} /> : <Menu size={24} />}\n",
        "-          </button>\n",
        "-        </div>\n",
        "-      </header>\n",
        "-\n",
        "-      {/* Mobile Navigation Menu */}\n",
        "-      {isMenuOpen && (\n",
        "-        <motion.div\n",
        "-          className=\"fixed inset-0 z-40 bg-background pt-20 px-4\"\n",
        "-          initial={{ opacity: 0, y: -20 }}\n",
        "-          animate={{ opacity: 1, y: 0 }}\n",
        "-          transition={{ duration: 0.2 }}\n",
        "-          onClick={(e) => e.stopPropagation()}\n",
        "-        >\n",
        "-          <nav className=\"flex flex-col items-center space-y-6 mt-8\">\n",
        "-            <MobileNavLinks closeMenu={() => setIsMenuOpen(false)} />\n",
        "-\n",
        "-            <Link href=\"/auth/register\" onClick={() => setIsMenuOpen(false)}>\n",
        "-              <Button variant=\"outline\" className=\"w-full\">\n",
        "-                Get Started\n",
        "-              </Button>\n",
        "-            </Link>\n",
        "-          </nav>\n",
        "-        </motion.div>\n",
        "-      )}\n",
        "-    </>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-// Shared navigation links\n",
        "-function NavLinks() {\n",
        "-  return (\n",
        "-    <>\n",
        "-      <Link\n",
        "-        href=\"#features\"\n",
        "-        className=\"text-foreground hover:text-primary transition-colors duration-200\"\n",
        "-      >\n",
        "-        Features\n",
        "-      </Link>\n",
        "-      <Link\n",
        "-        href=\"#how-it-works\"\n",
        "-        className=\"text-foreground hover:text-primary transition-colors duration-200\"\n",
        "-      >\n",
        "-        How It Works\n",
        "-      </Link>\n",
        "-      <Link\n",
        "-        href=\"#pricing\"\n",
        "-        className=\"text-foreground hover:text-primary transition-colors duration-200\"\n",
        "-      >\n",
        "-        Pricing\n",
        "-      </Link>\n",
        "-      <Link\n",
        "-        href=\"/auth/login\"\n",
        "-        className=\"text-foreground hover:text-primary transition-colors duration-200\"\n",
        "-      >\n",
        "-        Login\n",
        "-      </Link>\n",
        "-    </>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-// Mobile navigation links with close menu functionality\n",
        "-function MobileNavLinks({ closeMenu }: { closeMenu: () => void }) {\n",
        "-  return (\n",
        "-    <>\n",
        "-      <Link\n",
        "-        href=\"#features\"\n",
        "-        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\n",
        "-        onClick={closeMenu}\n",
        "-      >\n",
        "-        Features\n",
        "-      </Link>\n",
        "-      <Link\n",
        "-        href=\"#how-it-works\"\n",
        "-        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\n",
        "-        onClick={closeMenu}\n",
        "-      >\n",
        "-        How It Works\n",
        "-      </Link>\n",
        "-      <Link\n",
        "-        href=\"#pricing\"\n",
        "-        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\n",
        "-        onClick={closeMenu}\n",
        "-      >\n",
        "-        Pricing\n",
        "-      </Link>\n",
        "-      <Link\n",
        "-        href=\"/auth/login\"\n",
        "-        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\n",
        "-        onClick={closeMenu}\n",
        "-      >\n",
        "-        Login\n",
        "-      </Link>\n",
        "-    </>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import { motion, useScroll, useTransform } from \"framer-motion\";\r\n",
        "+import { Menu, X } from \"lucide-react\";\r\n",
        "+import { Button } from \"../ui/button\";\r\n",
        "+import Logo from \"../../../public/logo.svg\";\r\n",
        "+\r\n",
        "+export function LandingHeader() {\r\n",
        "+  // State for mobile menu\r\n",
        "+  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n",
        "+\r\n",
        "+  // Track scroll position for header effects\r\n",
        "+  const { scrollY } = useScroll();\r\n",
        "+  const [scrollPosition, setScrollPosition] = useState(0);\r\n",
        "+\r\n",
        "+  // Update scroll position\r\n",
        "+  useEffect(() => {\r\n",
        "+    const handleScroll = () => {\r\n",
        "+      setScrollPosition(window.scrollY);\r\n",
        "+    };\r\n",
        "+\r\n",
        "+    window.addEventListener(\"scroll\", handleScroll);\r\n",
        "+    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n",
        "+  }, []);\r\n",
        "+\r\n",
        "+  // Calculate opacity based on scroll position\r\n",
        "+  const opacity =\r\n",
        "+    scrollPosition <= 70\r\n",
        "+      ? 0\r\n",
        "+      : Math.abs(Math.min((scrollPosition - 70) / 70, 1));\r\n",
        "+\r\n",
        "+  // Calculate blur based on scroll position\r\n",
        "+  const blur =\r\n",
        "+    scrollPosition <= 70\r\n",
        "+      ? 0\r\n",
        "+      : Math.abs(Math.min(((scrollPosition - 70) / 70) * 8, 8));\r\n",
        "+\r\n",
        "+  // Close mobile menu when clicking elsewhere\r\n",
        "+  useEffect(() => {\r\n",
        "+    const handleClickOutside = () => {\r\n",
        "+      if (isMenuOpen) setIsMenuOpen(false);\r\n",
        "+    };\r\n",
        "+\r\n",
        "+    document.addEventListener(\"click\", handleClickOutside);\r\n",
        "+    return () => document.removeEventListener(\"click\", handleClickOutside);\r\n",
        "+  }, [isMenuOpen]);\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <>\r\n",
        "+      {/* Fixed header that changes style on scroll */}\r\n",
        "+      <header\r\n",
        "+        className=\"fixed top-0 left-0 right-0 z-50 sm:px-4 md:px-6 py-2 transition-all duration-300\"\r\n",
        "+        style={{\r\n",
        "+          backgroundColor: `rgba(var(--background-rgb, 255, 255, 255), ${opacity})`,\r\n",
        "+          backdropFilter: `blur(${blur}px)`,\r\n",
        "+        }}\r\n",
        "+      >\r\n",
        "+        <div className=\"px-2 sm:px-0 sm:container mx-auto flex items-center justify-between\">\r\n",
        "+          {/* Logo */}\r\n",
        "+          <Link href=\"/\" className=\"flex items-center\">\r\n",
        "+            <Logo\r\n",
        "+              className=\"sm:h-14 h-[3.4rem] w-auto\"\r\n",
        "+              aria-label=\"Projectron\"\r\n",
        "+            />\r\n",
        "+          </Link>\r\n",
        "+\r\n",
        "+          {/* Desktop Navigation */}\r\n",
        "+          <nav className=\"hidden md:flex items-center space-x-8\">\r\n",
        "+            <NavLinks />\r\n",
        "+\r\n",
        "+            {/* CTA Button */}\r\n",
        "+            <Link href=\"/auth/register\">\r\n",
        "+              <Button\r\n",
        "+                className=\"bg-white text-primary-background\"\r\n",
        "+                variant=\"outline\"\r\n",
        "+              >\r\n",
        "+                Get Started\r\n",
        "+              </Button>\r\n",
        "+            </Link>\r\n",
        "+          </nav>\r\n",
        "+\r\n",
        "+          {/* Mobile Menu Button */}\r\n",
        "+          <button\r\n",
        "+            className=\"md:hidden text-foreground p-2\"\r\n",
        "+            onClick={(e) => {\r\n",
        "+              e.stopPropagation();\r\n",
        "+              setIsMenuOpen(!isMenuOpen);\r\n",
        "+            }}\r\n",
        "+          >\r\n",
        "+            {isMenuOpen ? <X size={24} /> : <Menu size={24} />}\r\n",
        "+          </button>\r\n",
        "+        </div>\r\n",
        "+      </header>\r\n",
        "+\r\n",
        "+      {/* Mobile Navigation Menu */}\r\n",
        "+      {isMenuOpen && (\r\n",
        "+        <motion.div\r\n",
        "+          className=\"fixed inset-0 z-40 bg-background pt-20 px-4\"\r\n",
        "+          initial={{ opacity: 0, y: -20 }}\r\n",
        "+          animate={{ opacity: 1, y: 0 }}\r\n",
        "+          transition={{ duration: 0.2 }}\r\n",
        "+          onClick={(e) => e.stopPropagation()}\r\n",
        "+        >\r\n",
        "+          <nav className=\"flex flex-col items-center space-y-6 mt-8\">\r\n",
        "+            <MobileNavLinks closeMenu={() => setIsMenuOpen(false)} />\r\n",
        "+\r\n",
        "+            <Link href=\"/auth/register\" onClick={() => setIsMenuOpen(false)}>\r\n",
        "+              <Button variant=\"outline\" className=\"w-full\">\r\n",
        "+                Get Started\r\n",
        "+              </Button>\r\n",
        "+            </Link>\r\n",
        "+          </nav>\r\n",
        "+        </motion.div>\r\n",
        "+      )}\r\n",
        "+    </>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+// Shared navigation links\r\n",
        "+function NavLinks() {\r\n",
        "+  return (\r\n",
        "+    <>\r\n",
        "+      <Link\r\n",
        "+        href=\"#features\"\r\n",
        "+        className=\"text-foreground hover:text-primary transition-colors duration-200\"\r\n",
        "+      >\r\n",
        "+        Features\r\n",
        "+      </Link>\r\n",
        "+      <Link\r\n",
        "+        href=\"#how-it-works\"\r\n",
        "+        className=\"text-foreground hover:text-primary transition-colors duration-200\"\r\n",
        "+      >\r\n",
        "+        How It Works\r\n",
        "+      </Link>\r\n",
        "+      <Link\r\n",
        "+        href=\"#pricing\"\r\n",
        "+        className=\"text-foreground hover:text-primary transition-colors duration-200\"\r\n",
        "+      >\r\n",
        "+        Pricing\r\n",
        "+      </Link>\r\n",
        "+      <Link\r\n",
        "+        href=\"/auth/login\"\r\n",
        "+        className=\"text-foreground hover:text-primary transition-colors duration-200\"\r\n",
        "+      >\r\n",
        "+        Login\r\n",
        "+      </Link>\r\n",
        "+    </>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+// Mobile navigation links with close menu functionality\r\n",
        "+function MobileNavLinks({ closeMenu }: { closeMenu: () => void }) {\r\n",
        "+  return (\r\n",
        "+    <>\r\n",
        "+      <Link\r\n",
        "+        href=\"#features\"\r\n",
        "+        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\r\n",
        "+        onClick={closeMenu}\r\n",
        "+      >\r\n",
        "+        Features\r\n",
        "+      </Link>\r\n",
        "+      <Link\r\n",
        "+        href=\"#how-it-works\"\r\n",
        "+        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\r\n",
        "+        onClick={closeMenu}\r\n",
        "+      >\r\n",
        "+        How It Works\r\n",
        "+      </Link>\r\n",
        "+      <Link\r\n",
        "+        href=\"#pricing\"\r\n",
        "+        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\r\n",
        "+        onClick={closeMenu}\r\n",
        "+      >\r\n",
        "+        Pricing\r\n",
        "+      </Link>\r\n",
        "+      <Link\r\n",
        "+        href=\"/auth/login\"\r\n",
        "+        className=\"text-xl font-medium text-foreground hover:text-primary transition-colors duration-200 w-full text-center py-3\"\r\n",
        "+        onClick={closeMenu}\r\n",
        "+      >\r\n",
        "+        Login\r\n",
        "+      </Link>\r\n",
        "+    </>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/layout/main-nav.tsx",
      "status": "modified",
      "additions": 203,
      "deletions": 203,
      "patch": "@@ -1,203 +1,203 @@\n-\"use client\";\n-\n-import { useAuth } from \"@/contexts/auth-context\";\n-import Link from \"next/link\";\n-import { usePathname } from \"next/navigation\";\n-import { LayoutDashboard, LogOut, Menu, Settings, User, X } from \"lucide-react\";\n-import { Button } from \"@/components/ui/button\";\n-import {\n-  DropdownMenu,\n-  DropdownMenuContent,\n-  DropdownMenuItem,\n-  DropdownMenuSeparator,\n-  DropdownMenuTrigger,\n-} from \"@/components/ui/dropdown-menu\";\n-import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\n-import { cn, capitalizeWords } from \"@/lib/utils\";\n-import { useState } from \"react\";\n-import Logo from \"../../../public/logo.svg\";\n-\n-export function Navbar() {\n-  const { user, logout } = useAuth();\n-  const pathname = usePathname();\n-  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n-\n-  const navItems = [\n-    {\n-      name: \"My Projects\",\n-      href: \"/projects\",\n-      icon: LayoutDashboard,\n-    },\n-  ];\n-\n-  const getInitials = (name?: string) => {\n-    if (!name) return \"U\";\n-    return name\n-      .split(\" \")\n-      .map((part) => part[0])\n-      .join(\"\")\n-      .toUpperCase()\n-      .substring(0, 2);\n-  };\n-\n-  return (\n-    <>\n-      {/* Desktop navbar */}\n-      <header className=\"sticky top-0 z-40 border-b border-divider bg-secondary-background\">\n-        <div className=\"container flex h-16 items-center justify-between px-4\">\n-          <div className=\"flex items-center my-auto h-fit\">\n-            <Logo className=\"left-0 h-12 w-fit\" />\n-          </div>\n-\n-          <div className=\"flex items-center gap-3\">\n-            <nav className=\"ml-8 hidden md:flex\">\n-              <ul className=\"flex space-x-4 right-0\">\n-                {navItems.map((item) => (\n-                  <li key={item.name}>\n-                    <Link href={item.href}>\n-                      <Button\n-                        variant=\"outline\"\n-                        className={cn(\n-                          \"flex items-center px-3 py-2 text-sm transition-colors hover:bg-hover-active\"\n-                        )}\n-                      >\n-                        <item.icon className=\"mr-2 h-4 w-4\" />\n-                        {item.name}\n-                      </Button>\n-                    </Link>\n-                  </li>\n-                ))}\n-              </ul>\n-            </nav>\n-            {/* User menu dropdown */}\n-            {user && (\n-              <DropdownMenu>\n-                <DropdownMenuTrigger asChild>\n-                  <Button\n-                    variant=\"ghost\"\n-                    className=\"relative h-10 w-10 rounded-full focus:ring-0 focus:ring-offset-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none\"\n-                  >\n-                    <Avatar>\n-                      <AvatarFallback className=\"bg-transparent text-white gradient-border gradient-border-full\">\n-                        {getInitials(user.full_name)}\n-                      </AvatarFallback>\n-                    </Avatar>\n-                  </Button>\n-                </DropdownMenuTrigger>\n-                <DropdownMenuContent\n-                  align=\"end\"\n-                  className=\"w-56 bg-secondary-background border-divider\"\n-                >\n-                  <div className=\"flex items-center justify-start gap-2 p-2\">\n-                    <div className=\"flex flex-col space-y-0.5\">\n-                      <p className=\"text-sm font-medium\">{user.full_name}</p>\n-                      <p className=\"text-xs text-secondary-text\">\n-                        {user.email}\n-                      </p>\n-                    </div>\n-                  </div>\n-                  <DropdownMenuSeparator />\n-                  <DropdownMenuItem asChild>\n-                    <Link href=\"/profile\" className=\"cursor-pointer\">\n-                      <User className=\"mr-2 h-4 w-4\" />\n-                      <span>Profile</span>\n-                    </Link>\n-                  </DropdownMenuItem>\n-                  <DropdownMenuItem asChild>\n-                    <Link href=\"/settings\" className=\"cursor-pointer\">\n-                      <Settings className=\"mr-2 h-4 w-4\" />\n-                      <span>Settings</span>\n-                    </Link>\n-                  </DropdownMenuItem>\n-                  <DropdownMenuSeparator />\n-                  <DropdownMenuItem\n-                    className=\"text-destructive focus:text-destructive cursor-pointer\"\n-                    onClick={logout}\n-                  >\n-                    <LogOut className=\"mr-2 h-4 w-4\" />\n-                    <span>Log out</span>\n-                  </DropdownMenuItem>\n-                </DropdownMenuContent>\n-              </DropdownMenu>\n-            )}\n-\n-            {/* Mobile menu button */}\n-            <Button\n-              variant=\"ghost\"\n-              size=\"icon\"\n-              className=\"ml-2 md:hidden\"\n-              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n-            >\n-              {mobileMenuOpen ? (\n-                <X className=\"h-5 w-5\" />\n-              ) : (\n-                <Menu className=\"h-5 w-5\" />\n-              )}\n-            </Button>\n-          </div>\n-        </div>\n-      </header>\n-\n-      {/* Mobile menu */}\n-      {mobileMenuOpen && (\n-        <div className=\"fixed inset-0 top-16 z-30 md:hidden bg-secondary-background\">\n-          <nav className=\"p-4\">\n-            <ul className=\"space-y-4\">\n-              {navItems.map((item) => (\n-                <li key={item.name}>\n-                  <Link\n-                    href={item.href}\n-                    className={cn(\n-                      \"flex items-center py-2 text-lg\",\n-                      pathname?.startsWith(item.href)\n-                        ? \"text-primary-text\"\n-                        : \"text-secondary-text\"\n-                    )}\n-                    onClick={() => setMobileMenuOpen(false)}\n-                  >\n-                    <item.icon className=\"mr-3 h-5 w-5\" />\n-                    {item.name}\n-                  </Link>\n-                </li>\n-              ))}\n-              <li>\n-                <Link\n-                  href=\"/profile\"\n-                  className=\"flex items-center py-2 text-lg text-secondary-text\"\n-                  onClick={() => setMobileMenuOpen(false)}\n-                >\n-                  <User className=\"mr-3 h-5 w-5\" />\n-                  Profile\n-                </Link>\n-              </li>\n-              <li>\n-                <Link\n-                  href=\"/settings\"\n-                  className=\"flex items-center py-2 text-lg text-secondary-text\"\n-                  onClick={() => setMobileMenuOpen(false)}\n-                >\n-                  <Settings className=\"mr-3 h-5 w-5\" />\n-                  Settings\n-                </Link>\n-              </li>\n-              <li>\n-                <button\n-                  className=\"flex items-center py-2 text-lg text-destructive w-full text-left\"\n-                  onClick={() => {\n-                    setMobileMenuOpen(false);\n-                    logout();\n-                  }}\n-                >\n-                  <LogOut className=\"mr-3 h-5 w-5\" />\n-                  Log out\n-                </button>\n-              </li>\n-            </ul>\n-          </nav>\n-        </div>\n-      )}\n-    </>\n-  );\n-}\n-\n-export default Navbar;\n+\"use client\";\r\n+\r\n+import { useAuth } from \"@/contexts/auth-context\";\r\n+import Link from \"next/link\";\r\n+import { usePathname } from \"next/navigation\";\r\n+import { LayoutDashboard, LogOut, Menu, Settings, User, X } from \"lucide-react\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import {\r\n+  DropdownMenu,\r\n+  DropdownMenuContent,\r\n+  DropdownMenuItem,\r\n+  DropdownMenuSeparator,\r\n+  DropdownMenuTrigger,\r\n+} from \"@/components/ui/dropdown-menu\";\r\n+import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\n+import { cn, capitalizeWords } from \"@/lib/utils\";\r\n+import { useState } from \"react\";\r\n+import Logo from \"../../../public/logo.svg\";\r\n+\r\n+export function Navbar() {\r\n+  const { user, logout } = useAuth();\r\n+  const pathname = usePathname();\r\n+  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n+\r\n+  const navItems = [\r\n+    {\r\n+      name: \"My Projects\",\r\n+      href: \"/projects\",\r\n+      icon: LayoutDashboard,\r\n+    },\r\n+  ];\r\n+\r\n+  const getInitials = (name?: string) => {\r\n+    if (!name) return \"U\";\r\n+    return name\r\n+      .split(\" \")\r\n+      .map((part) => part[0])\r\n+      .join(\"\")\r\n+      .toUpperCase()\r\n+      .substring(0, 2);\r\n+  };\r\n+\r\n+  return (\r\n+    <>\r\n+      {/* Desktop navbar */}\r\n+      <header className=\"sticky top-0 z-40 border-b border-divider bg-secondary-background\">\r\n+        <div className=\"container flex h-16 items-center justify-between px-4\">\r\n+          <div className=\"flex items-center my-auto h-fit\">\r\n+            <Logo className=\"left-0 h-12 w-fit\" />\r\n+          </div>\r\n+\r\n+          <div className=\"flex items-center gap-3\">\r\n+            <nav className=\"ml-8 hidden md:flex\">\r\n+              <ul className=\"flex space-x-4 right-0\">\r\n+                {navItems.map((item) => (\r\n+                  <li key={item.name}>\r\n+                    <Link href={item.href}>\r\n+                      <Button\r\n+                        variant=\"outline\"\r\n+                        className={cn(\r\n+                          \"flex items-center px-3 py-2 text-sm transition-colors hover:bg-hover-active\"\r\n+                        )}\r\n+                      >\r\n+                        <item.icon className=\"mr-2 h-4 w-4\" />\r\n+                        {item.name}\r\n+                      </Button>\r\n+                    </Link>\r\n+                  </li>\r\n+                ))}\r\n+              </ul>\r\n+            </nav>\r\n+            {/* User menu dropdown */}\r\n+            {user && (\r\n+              <DropdownMenu>\r\n+                <DropdownMenuTrigger asChild>\r\n+                  <Button\r\n+                    variant=\"ghost\"\r\n+                    className=\"relative h-10 w-10 rounded-full focus:ring-0 focus:ring-offset-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none\"\r\n+                  >\r\n+                    <Avatar>\r\n+                      <AvatarFallback className=\"bg-transparent text-white gradient-border gradient-border-full\">\r\n+                        {getInitials(user.full_name)}\r\n+                      </AvatarFallback>\r\n+                    </Avatar>\r\n+                  </Button>\r\n+                </DropdownMenuTrigger>\r\n+                <DropdownMenuContent\r\n+                  align=\"end\"\r\n+                  className=\"w-56 bg-secondary-background border-divider\"\r\n+                >\r\n+                  <div className=\"flex items-center justify-start gap-2 p-2\">\r\n+                    <div className=\"flex flex-col space-y-0.5\">\r\n+                      <p className=\"text-sm font-medium\">{user.full_name}</p>\r\n+                      <p className=\"text-xs text-secondary-text\">\r\n+                        {user.email}\r\n+                      </p>\r\n+                    </div>\r\n+                  </div>\r\n+                  <DropdownMenuSeparator />\r\n+                  <DropdownMenuItem asChild>\r\n+                    <Link href=\"/profile\" className=\"cursor-pointer\">\r\n+                      <User className=\"mr-2 h-4 w-4\" />\r\n+                      <span>Profile</span>\r\n+                    </Link>\r\n+                  </DropdownMenuItem>\r\n+                  <DropdownMenuItem asChild>\r\n+                    <Link href=\"/settings\" className=\"cursor-pointer\">\r\n+                      <Settings className=\"mr-2 h-4 w-4\" />\r\n+                      <span>Settings</span>\r\n+                    </Link>\r\n+                  </DropdownMenuItem>\r\n+                  <DropdownMenuSeparator />\r\n+                  <DropdownMenuItem\r\n+                    className=\"text-destructive focus:text-destructive cursor-pointer\"\r\n+                    onClick={logout}\r\n+                  >\r\n+                    <LogOut className=\"mr-2 h-4 w-4\" />\r\n+                    <span>Log out</span>\r\n+                  </DropdownMenuItem>\r\n+                </DropdownMenuContent>\r\n+              </DropdownMenu>\r\n+            )}\r\n+\r\n+            {/* Mobile menu button */}\r\n+            <Button\r\n+              variant=\"ghost\"\r\n+              size=\"icon\"\r\n+              className=\"ml-2 md:hidden\"\r\n+              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n+            >\r\n+              {mobileMenuOpen ? (\r\n+                <X className=\"h-5 w-5\" />\r\n+              ) : (\r\n+                <Menu className=\"h-5 w-5\" />\r\n+              )}\r\n+            </Button>\r\n+          </div>\r\n+        </div>\r\n+      </header>\r\n+\r\n+      {/* Mobile menu */}\r\n+      {mobileMenuOpen && (\r\n+        <div className=\"fixed inset-0 top-16 z-30 md:hidden bg-secondary-background\">\r\n+          <nav className=\"p-4\">\r\n+            <ul className=\"space-y-4\">\r\n+              {navItems.map((item) => (\r\n+                <li key={item.name}>\r\n+                  <Link\r\n+                    href={item.href}\r\n+                    className={cn(\r\n+                      \"flex items-center py-2 text-lg\",\r\n+                      pathname?.startsWith(item.href)\r\n+                        ? \"text-primary-text\"\r\n+                        : \"text-secondary-text\"\r\n+                    )}\r\n+                    onClick={() => setMobileMenuOpen(false)}\r\n+                  >\r\n+                    <item.icon className=\"mr-3 h-5 w-5\" />\r\n+                    {item.name}\r\n+                  </Link>\r\n+                </li>\r\n+              ))}\r\n+              <li>\r\n+                <Link\r\n+                  href=\"/profile\"\r\n+                  className=\"flex items-center py-2 text-lg text-secondary-text\"\r\n+                  onClick={() => setMobileMenuOpen(false)}\r\n+                >\r\n+                  <User className=\"mr-3 h-5 w-5\" />\r\n+                  Profile\r\n+                </Link>\r\n+              </li>\r\n+              <li>\r\n+                <Link\r\n+                  href=\"/settings\"\r\n+                  className=\"flex items-center py-2 text-lg text-secondary-text\"\r\n+                  onClick={() => setMobileMenuOpen(false)}\r\n+                >\r\n+                  <Settings className=\"mr-3 h-5 w-5\" />\r\n+                  Settings\r\n+                </Link>\r\n+              </li>\r\n+              <li>\r\n+                <button\r\n+                  className=\"flex items-center py-2 text-lg text-destructive w-full text-left\"\r\n+                  onClick={() => {\r\n+                    setMobileMenuOpen(false);\r\n+                    logout();\r\n+                  }}\r\n+                >\r\n+                  <LogOut className=\"mr-3 h-5 w-5\" />\r\n+                  Log out\r\n+                </button>\r\n+              </li>\r\n+            </ul>\r\n+          </nav>\r\n+        </div>\r\n+      )}\r\n+    </>\r\n+  );\r\n+}\r\n+\r\n+export default Navbar;\r",
      "patch_lines": [
        "@@ -1,203 +1,203 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useAuth } from \"@/contexts/auth-context\";\n",
        "-import Link from \"next/link\";\n",
        "-import { usePathname } from \"next/navigation\";\n",
        "-import { LayoutDashboard, LogOut, Menu, Settings, User, X } from \"lucide-react\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import {\n",
        "-  DropdownMenu,\n",
        "-  DropdownMenuContent,\n",
        "-  DropdownMenuItem,\n",
        "-  DropdownMenuSeparator,\n",
        "-  DropdownMenuTrigger,\n",
        "-} from \"@/components/ui/dropdown-menu\";\n",
        "-import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\n",
        "-import { cn, capitalizeWords } from \"@/lib/utils\";\n",
        "-import { useState } from \"react\";\n",
        "-import Logo from \"../../../public/logo.svg\";\n",
        "-\n",
        "-export function Navbar() {\n",
        "-  const { user, logout } = useAuth();\n",
        "-  const pathname = usePathname();\n",
        "-  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n",
        "-\n",
        "-  const navItems = [\n",
        "-    {\n",
        "-      name: \"My Projects\",\n",
        "-      href: \"/projects\",\n",
        "-      icon: LayoutDashboard,\n",
        "-    },\n",
        "-  ];\n",
        "-\n",
        "-  const getInitials = (name?: string) => {\n",
        "-    if (!name) return \"U\";\n",
        "-    return name\n",
        "-      .split(\" \")\n",
        "-      .map((part) => part[0])\n",
        "-      .join(\"\")\n",
        "-      .toUpperCase()\n",
        "-      .substring(0, 2);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <>\n",
        "-      {/* Desktop navbar */}\n",
        "-      <header className=\"sticky top-0 z-40 border-b border-divider bg-secondary-background\">\n",
        "-        <div className=\"container flex h-16 items-center justify-between px-4\">\n",
        "-          <div className=\"flex items-center my-auto h-fit\">\n",
        "-            <Logo className=\"left-0 h-12 w-fit\" />\n",
        "-          </div>\n",
        "-\n",
        "-          <div className=\"flex items-center gap-3\">\n",
        "-            <nav className=\"ml-8 hidden md:flex\">\n",
        "-              <ul className=\"flex space-x-4 right-0\">\n",
        "-                {navItems.map((item) => (\n",
        "-                  <li key={item.name}>\n",
        "-                    <Link href={item.href}>\n",
        "-                      <Button\n",
        "-                        variant=\"outline\"\n",
        "-                        className={cn(\n",
        "-                          \"flex items-center px-3 py-2 text-sm transition-colors hover:bg-hover-active\"\n",
        "-                        )}\n",
        "-                      >\n",
        "-                        <item.icon className=\"mr-2 h-4 w-4\" />\n",
        "-                        {item.name}\n",
        "-                      </Button>\n",
        "-                    </Link>\n",
        "-                  </li>\n",
        "-                ))}\n",
        "-              </ul>\n",
        "-            </nav>\n",
        "-            {/* User menu dropdown */}\n",
        "-            {user && (\n",
        "-              <DropdownMenu>\n",
        "-                <DropdownMenuTrigger asChild>\n",
        "-                  <Button\n",
        "-                    variant=\"ghost\"\n",
        "-                    className=\"relative h-10 w-10 rounded-full focus:ring-0 focus:ring-offset-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none\"\n",
        "-                  >\n",
        "-                    <Avatar>\n",
        "-                      <AvatarFallback className=\"bg-transparent text-white gradient-border gradient-border-full\">\n",
        "-                        {getInitials(user.full_name)}\n",
        "-                      </AvatarFallback>\n",
        "-                    </Avatar>\n",
        "-                  </Button>\n",
        "-                </DropdownMenuTrigger>\n",
        "-                <DropdownMenuContent\n",
        "-                  align=\"end\"\n",
        "-                  className=\"w-56 bg-secondary-background border-divider\"\n",
        "-                >\n",
        "-                  <div className=\"flex items-center justify-start gap-2 p-2\">\n",
        "-                    <div className=\"flex flex-col space-y-0.5\">\n",
        "-                      <p className=\"text-sm font-medium\">{user.full_name}</p>\n",
        "-                      <p className=\"text-xs text-secondary-text\">\n",
        "-                        {user.email}\n",
        "-                      </p>\n",
        "-                    </div>\n",
        "-                  </div>\n",
        "-                  <DropdownMenuSeparator />\n",
        "-                  <DropdownMenuItem asChild>\n",
        "-                    <Link href=\"/profile\" className=\"cursor-pointer\">\n",
        "-                      <User className=\"mr-2 h-4 w-4\" />\n",
        "-                      <span>Profile</span>\n",
        "-                    </Link>\n",
        "-                  </DropdownMenuItem>\n",
        "-                  <DropdownMenuItem asChild>\n",
        "-                    <Link href=\"/settings\" className=\"cursor-pointer\">\n",
        "-                      <Settings className=\"mr-2 h-4 w-4\" />\n",
        "-                      <span>Settings</span>\n",
        "-                    </Link>\n",
        "-                  </DropdownMenuItem>\n",
        "-                  <DropdownMenuSeparator />\n",
        "-                  <DropdownMenuItem\n",
        "-                    className=\"text-destructive focus:text-destructive cursor-pointer\"\n",
        "-                    onClick={logout}\n",
        "-                  >\n",
        "-                    <LogOut className=\"mr-2 h-4 w-4\" />\n",
        "-                    <span>Log out</span>\n",
        "-                  </DropdownMenuItem>\n",
        "-                </DropdownMenuContent>\n",
        "-              </DropdownMenu>\n",
        "-            )}\n",
        "-\n",
        "-            {/* Mobile menu button */}\n",
        "-            <Button\n",
        "-              variant=\"ghost\"\n",
        "-              size=\"icon\"\n",
        "-              className=\"ml-2 md:hidden\"\n",
        "-              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n",
        "-            >\n",
        "-              {mobileMenuOpen ? (\n",
        "-                <X className=\"h-5 w-5\" />\n",
        "-              ) : (\n",
        "-                <Menu className=\"h-5 w-5\" />\n",
        "-              )}\n",
        "-            </Button>\n",
        "-          </div>\n",
        "-        </div>\n",
        "-      </header>\n",
        "-\n",
        "-      {/* Mobile menu */}\n",
        "-      {mobileMenuOpen && (\n",
        "-        <div className=\"fixed inset-0 top-16 z-30 md:hidden bg-secondary-background\">\n",
        "-          <nav className=\"p-4\">\n",
        "-            <ul className=\"space-y-4\">\n",
        "-              {navItems.map((item) => (\n",
        "-                <li key={item.name}>\n",
        "-                  <Link\n",
        "-                    href={item.href}\n",
        "-                    className={cn(\n",
        "-                      \"flex items-center py-2 text-lg\",\n",
        "-                      pathname?.startsWith(item.href)\n",
        "-                        ? \"text-primary-text\"\n",
        "-                        : \"text-secondary-text\"\n",
        "-                    )}\n",
        "-                    onClick={() => setMobileMenuOpen(false)}\n",
        "-                  >\n",
        "-                    <item.icon className=\"mr-3 h-5 w-5\" />\n",
        "-                    {item.name}\n",
        "-                  </Link>\n",
        "-                </li>\n",
        "-              ))}\n",
        "-              <li>\n",
        "-                <Link\n",
        "-                  href=\"/profile\"\n",
        "-                  className=\"flex items-center py-2 text-lg text-secondary-text\"\n",
        "-                  onClick={() => setMobileMenuOpen(false)}\n",
        "-                >\n",
        "-                  <User className=\"mr-3 h-5 w-5\" />\n",
        "-                  Profile\n",
        "-                </Link>\n",
        "-              </li>\n",
        "-              <li>\n",
        "-                <Link\n",
        "-                  href=\"/settings\"\n",
        "-                  className=\"flex items-center py-2 text-lg text-secondary-text\"\n",
        "-                  onClick={() => setMobileMenuOpen(false)}\n",
        "-                >\n",
        "-                  <Settings className=\"mr-3 h-5 w-5\" />\n",
        "-                  Settings\n",
        "-                </Link>\n",
        "-              </li>\n",
        "-              <li>\n",
        "-                <button\n",
        "-                  className=\"flex items-center py-2 text-lg text-destructive w-full text-left\"\n",
        "-                  onClick={() => {\n",
        "-                    setMobileMenuOpen(false);\n",
        "-                    logout();\n",
        "-                  }}\n",
        "-                >\n",
        "-                  <LogOut className=\"mr-3 h-5 w-5\" />\n",
        "-                  Log out\n",
        "-                </button>\n",
        "-              </li>\n",
        "-            </ul>\n",
        "-          </nav>\n",
        "-        </div>\n",
        "-      )}\n",
        "-    </>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-export default Navbar;\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useAuth } from \"@/contexts/auth-context\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import { usePathname } from \"next/navigation\";\r\n",
        "+import { LayoutDashboard, LogOut, Menu, Settings, User, X } from \"lucide-react\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import {\r\n",
        "+  DropdownMenu,\r\n",
        "+  DropdownMenuContent,\r\n",
        "+  DropdownMenuItem,\r\n",
        "+  DropdownMenuSeparator,\r\n",
        "+  DropdownMenuTrigger,\r\n",
        "+} from \"@/components/ui/dropdown-menu\";\r\n",
        "+import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\n",
        "+import { cn, capitalizeWords } from \"@/lib/utils\";\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import Logo from \"../../../public/logo.svg\";\r\n",
        "+\r\n",
        "+export function Navbar() {\r\n",
        "+  const { user, logout } = useAuth();\r\n",
        "+  const pathname = usePathname();\r\n",
        "+  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n",
        "+\r\n",
        "+  const navItems = [\r\n",
        "+    {\r\n",
        "+      name: \"My Projects\",\r\n",
        "+      href: \"/projects\",\r\n",
        "+      icon: LayoutDashboard,\r\n",
        "+    },\r\n",
        "+  ];\r\n",
        "+\r\n",
        "+  const getInitials = (name?: string) => {\r\n",
        "+    if (!name) return \"U\";\r\n",
        "+    return name\r\n",
        "+      .split(\" \")\r\n",
        "+      .map((part) => part[0])\r\n",
        "+      .join(\"\")\r\n",
        "+      .toUpperCase()\r\n",
        "+      .substring(0, 2);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <>\r\n",
        "+      {/* Desktop navbar */}\r\n",
        "+      <header className=\"sticky top-0 z-40 border-b border-divider bg-secondary-background\">\r\n",
        "+        <div className=\"container flex h-16 items-center justify-between px-4\">\r\n",
        "+          <div className=\"flex items-center my-auto h-fit\">\r\n",
        "+            <Logo className=\"left-0 h-12 w-fit\" />\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <div className=\"flex items-center gap-3\">\r\n",
        "+            <nav className=\"ml-8 hidden md:flex\">\r\n",
        "+              <ul className=\"flex space-x-4 right-0\">\r\n",
        "+                {navItems.map((item) => (\r\n",
        "+                  <li key={item.name}>\r\n",
        "+                    <Link href={item.href}>\r\n",
        "+                      <Button\r\n",
        "+                        variant=\"outline\"\r\n",
        "+                        className={cn(\r\n",
        "+                          \"flex items-center px-3 py-2 text-sm transition-colors hover:bg-hover-active\"\r\n",
        "+                        )}\r\n",
        "+                      >\r\n",
        "+                        <item.icon className=\"mr-2 h-4 w-4\" />\r\n",
        "+                        {item.name}\r\n",
        "+                      </Button>\r\n",
        "+                    </Link>\r\n",
        "+                  </li>\r\n",
        "+                ))}\r\n",
        "+              </ul>\r\n",
        "+            </nav>\r\n",
        "+            {/* User menu dropdown */}\r\n",
        "+            {user && (\r\n",
        "+              <DropdownMenu>\r\n",
        "+                <DropdownMenuTrigger asChild>\r\n",
        "+                  <Button\r\n",
        "+                    variant=\"ghost\"\r\n",
        "+                    className=\"relative h-10 w-10 rounded-full focus:ring-0 focus:ring-offset-0 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none\"\r\n",
        "+                  >\r\n",
        "+                    <Avatar>\r\n",
        "+                      <AvatarFallback className=\"bg-transparent text-white gradient-border gradient-border-full\">\r\n",
        "+                        {getInitials(user.full_name)}\r\n",
        "+                      </AvatarFallback>\r\n",
        "+                    </Avatar>\r\n",
        "+                  </Button>\r\n",
        "+                </DropdownMenuTrigger>\r\n",
        "+                <DropdownMenuContent\r\n",
        "+                  align=\"end\"\r\n",
        "+                  className=\"w-56 bg-secondary-background border-divider\"\r\n",
        "+                >\r\n",
        "+                  <div className=\"flex items-center justify-start gap-2 p-2\">\r\n",
        "+                    <div className=\"flex flex-col space-y-0.5\">\r\n",
        "+                      <p className=\"text-sm font-medium\">{user.full_name}</p>\r\n",
        "+                      <p className=\"text-xs text-secondary-text\">\r\n",
        "+                        {user.email}\r\n",
        "+                      </p>\r\n",
        "+                    </div>\r\n",
        "+                  </div>\r\n",
        "+                  <DropdownMenuSeparator />\r\n",
        "+                  <DropdownMenuItem asChild>\r\n",
        "+                    <Link href=\"/profile\" className=\"cursor-pointer\">\r\n",
        "+                      <User className=\"mr-2 h-4 w-4\" />\r\n",
        "+                      <span>Profile</span>\r\n",
        "+                    </Link>\r\n",
        "+                  </DropdownMenuItem>\r\n",
        "+                  <DropdownMenuItem asChild>\r\n",
        "+                    <Link href=\"/settings\" className=\"cursor-pointer\">\r\n",
        "+                      <Settings className=\"mr-2 h-4 w-4\" />\r\n",
        "+                      <span>Settings</span>\r\n",
        "+                    </Link>\r\n",
        "+                  </DropdownMenuItem>\r\n",
        "+                  <DropdownMenuSeparator />\r\n",
        "+                  <DropdownMenuItem\r\n",
        "+                    className=\"text-destructive focus:text-destructive cursor-pointer\"\r\n",
        "+                    onClick={logout}\r\n",
        "+                  >\r\n",
        "+                    <LogOut className=\"mr-2 h-4 w-4\" />\r\n",
        "+                    <span>Log out</span>\r\n",
        "+                  </DropdownMenuItem>\r\n",
        "+                </DropdownMenuContent>\r\n",
        "+              </DropdownMenu>\r\n",
        "+            )}\r\n",
        "+\r\n",
        "+            {/* Mobile menu button */}\r\n",
        "+            <Button\r\n",
        "+              variant=\"ghost\"\r\n",
        "+              size=\"icon\"\r\n",
        "+              className=\"ml-2 md:hidden\"\r\n",
        "+              onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n",
        "+            >\r\n",
        "+              {mobileMenuOpen ? (\r\n",
        "+                <X className=\"h-5 w-5\" />\r\n",
        "+              ) : (\r\n",
        "+                <Menu className=\"h-5 w-5\" />\r\n",
        "+              )}\r\n",
        "+            </Button>\r\n",
        "+          </div>\r\n",
        "+        </div>\r\n",
        "+      </header>\r\n",
        "+\r\n",
        "+      {/* Mobile menu */}\r\n",
        "+      {mobileMenuOpen && (\r\n",
        "+        <div className=\"fixed inset-0 top-16 z-30 md:hidden bg-secondary-background\">\r\n",
        "+          <nav className=\"p-4\">\r\n",
        "+            <ul className=\"space-y-4\">\r\n",
        "+              {navItems.map((item) => (\r\n",
        "+                <li key={item.name}>\r\n",
        "+                  <Link\r\n",
        "+                    href={item.href}\r\n",
        "+                    className={cn(\r\n",
        "+                      \"flex items-center py-2 text-lg\",\r\n",
        "+                      pathname?.startsWith(item.href)\r\n",
        "+                        ? \"text-primary-text\"\r\n",
        "+                        : \"text-secondary-text\"\r\n",
        "+                    )}\r\n",
        "+                    onClick={() => setMobileMenuOpen(false)}\r\n",
        "+                  >\r\n",
        "+                    <item.icon className=\"mr-3 h-5 w-5\" />\r\n",
        "+                    {item.name}\r\n",
        "+                  </Link>\r\n",
        "+                </li>\r\n",
        "+              ))}\r\n",
        "+              <li>\r\n",
        "+                <Link\r\n",
        "+                  href=\"/profile\"\r\n",
        "+                  className=\"flex items-center py-2 text-lg text-secondary-text\"\r\n",
        "+                  onClick={() => setMobileMenuOpen(false)}\r\n",
        "+                >\r\n",
        "+                  <User className=\"mr-3 h-5 w-5\" />\r\n",
        "+                  Profile\r\n",
        "+                </Link>\r\n",
        "+              </li>\r\n",
        "+              <li>\r\n",
        "+                <Link\r\n",
        "+                  href=\"/settings\"\r\n",
        "+                  className=\"flex items-center py-2 text-lg text-secondary-text\"\r\n",
        "+                  onClick={() => setMobileMenuOpen(false)}\r\n",
        "+                >\r\n",
        "+                  <Settings className=\"mr-3 h-5 w-5\" />\r\n",
        "+                  Settings\r\n",
        "+                </Link>\r\n",
        "+              </li>\r\n",
        "+              <li>\r\n",
        "+                <button\r\n",
        "+                  className=\"flex items-center py-2 text-lg text-destructive w-full text-left\"\r\n",
        "+                  onClick={() => {\r\n",
        "+                    setMobileMenuOpen(false);\r\n",
        "+                    logout();\r\n",
        "+                  }}\r\n",
        "+                >\r\n",
        "+                  <LogOut className=\"mr-3 h-5 w-5\" />\r\n",
        "+                  Log out\r\n",
        "+                </button>\r\n",
        "+              </li>\r\n",
        "+            </ul>\r\n",
        "+          </nav>\r\n",
        "+        </div>\r\n",
        "+      )}\r\n",
        "+    </>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+export default Navbar;\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/empty-projects.tsx",
      "status": "modified",
      "additions": 25,
      "deletions": 25,
      "patch": "@@ -1,25 +1,25 @@\n-\"use client\";\n-\n-import { FolderIcon, PlusCircle } from \"lucide-react\";\n-import { Button } from \"@/components/ui/button\";\n-import Link from \"next/link\";\n-\n-export function EmptyProjects() {\n-  return (\n-    <div className=\"flex flex-col items-center justify-center p-8 py-16 text-center border border-divider rounded-lg bg-secondary-background\">\n-      <div className=\"mb-4 rounded-full bg-hover-active p-3\">\n-        <FolderIcon className=\"h-10 w-10 text-primary-cta\" />\n-      </div>\n-      <h3 className=\"mb-2 text-xl font-semibold\">No projects yet</h3>\n-      <p className=\"mb-6 text-secondary-text\">\n-        Create your first project to get started with Projectron\n-      </p>\n-      <Link href=\"/projects/new\">\n-        <Button variant=\"outline\" className=\"flex items-center\">\n-          <PlusCircle className=\"mr-2 h-4 w-4\" />\n-          Create a Project\n-        </Button>\n-      </Link>\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { FolderIcon, PlusCircle } from \"lucide-react\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import Link from \"next/link\";\r\n+\r\n+export function EmptyProjects() {\r\n+  return (\r\n+    <div className=\"flex flex-col items-center justify-center p-8 py-16 text-center border border-divider rounded-lg bg-secondary-background\">\r\n+      <div className=\"mb-4 rounded-full bg-hover-active p-3\">\r\n+        <FolderIcon className=\"h-10 w-10 text-primary-cta\" />\r\n+      </div>\r\n+      <h3 className=\"mb-2 text-xl font-semibold\">No projects yet</h3>\r\n+      <p className=\"mb-6 text-secondary-text\">\r\n+        Create your first project to get started with Projectron\r\n+      </p>\r\n+      <Link href=\"/projects/new\">\r\n+        <Button variant=\"outline\" className=\"flex items-center\">\r\n+          <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n+          Create a Project\r\n+        </Button>\r\n+      </Link>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,25 +1,25 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { FolderIcon, PlusCircle } from \"lucide-react\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import Link from \"next/link\";\n",
        "-\n",
        "-export function EmptyProjects() {\n",
        "-  return (\n",
        "-    <div className=\"flex flex-col items-center justify-center p-8 py-16 text-center border border-divider rounded-lg bg-secondary-background\">\n",
        "-      <div className=\"mb-4 rounded-full bg-hover-active p-3\">\n",
        "-        <FolderIcon className=\"h-10 w-10 text-primary-cta\" />\n",
        "-      </div>\n",
        "-      <h3 className=\"mb-2 text-xl font-semibold\">No projects yet</h3>\n",
        "-      <p className=\"mb-6 text-secondary-text\">\n",
        "-        Create your first project to get started with Projectron\n",
        "-      </p>\n",
        "-      <Link href=\"/projects/new\">\n",
        "-        <Button variant=\"outline\" className=\"flex items-center\">\n",
        "-          <PlusCircle className=\"mr-2 h-4 w-4\" />\n",
        "-          Create a Project\n",
        "-        </Button>\n",
        "-      </Link>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { FolderIcon, PlusCircle } from \"lucide-react\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+\r\n",
        "+export function EmptyProjects() {\r\n",
        "+  return (\r\n",
        "+    <div className=\"flex flex-col items-center justify-center p-8 py-16 text-center border border-divider rounded-lg bg-secondary-background\">\r\n",
        "+      <div className=\"mb-4 rounded-full bg-hover-active p-3\">\r\n",
        "+        <FolderIcon className=\"h-10 w-10 text-primary-cta\" />\r\n",
        "+      </div>\r\n",
        "+      <h3 className=\"mb-2 text-xl font-semibold\">No projects yet</h3>\r\n",
        "+      <p className=\"mb-6 text-secondary-text\">\r\n",
        "+        Create your first project to get started with Projectron\r\n",
        "+      </p>\r\n",
        "+      <Link href=\"/projects/new\">\r\n",
        "+        <Button variant=\"outline\" className=\"flex items-center\">\r\n",
        "+          <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n",
        "+          Create a Project\r\n",
        "+        </Button>\r\n",
        "+      </Link>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/new/components/clarification-questions-section.tsx",
      "status": "modified",
      "additions": 215,
      "deletions": 215,
      "patch": "@@ -1,215 +1,215 @@\n-\"use client\";\n-\n-import { useEffect, useState } from \"react\";\n-import { Button } from \"@/components/ui/button\";\n-import { Textarea } from \"@/components/ui/textarea\";\n-import { Loader2, Edit, Check } from \"lucide-react\";\n-import { TypewriterText } from \"./typewriter-text\";\n-\n-interface ClarificationQuestionsSectionProps {\n-  questions: string[];\n-  onSubmit: (answers: Record<string, string>) => void;\n-  isLoading: boolean;\n-}\n-\n-export function ClarificationQuestionsSection({\n-  questions,\n-  onSubmit,\n-  isLoading,\n-}: ClarificationQuestionsSectionProps) {\n-  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n-  const [answers, setAnswers] = useState<Record<string, string>>({});\n-  const [typingComplete, setTypingComplete] = useState(false);\n-  const [allQuestionsAnswered, setAllQuestionsAnswered] = useState(false);\n-  const [editingQuestionIndex, setEditingQuestionIndex] = useState<\n-    number | null\n-  >(null);\n-\n-  // Check if all questions have been shown and answered\n-  useEffect(() => {\n-    if (\n-      currentQuestionIndex >= questions.length &&\n-      Object.keys(answers).length === questions.length\n-    ) {\n-      setAllQuestionsAnswered(true);\n-    }\n-  }, [currentQuestionIndex, answers, questions.length]);\n-\n-  // Handle answer input for the current question\n-  const handleAnswerChange = (\n-    value: string,\n-    questionIndex = currentQuestionIndex\n-  ) => {\n-    if (questionIndex < questions.length) {\n-      setAnswers((prev) => ({\n-        ...prev,\n-        [questions[questionIndex]]: value,\n-      }));\n-    }\n-  };\n-\n-  // Handle proceeding to the next question\n-  const handleNextQuestion = () => {\n-    if (\n-      currentQuestionIndex < questions.length &&\n-      answers[questions[currentQuestionIndex]]?.trim()\n-    ) {\n-      setCurrentQuestionIndex((prev) => prev + 1);\n-      setTypingComplete(false);\n-    }\n-  };\n-\n-  // Handle \"Let Projectron Decide\" button click\n-  const handleLetProjectronDecide = () => {\n-    handleAnswerChange(\n-      \"Choose the best approach based on project requirements.\"\n-    );\n-    setCurrentQuestionIndex((prev) => prev + 1);\n-    setTypingComplete(false);\n-  };\n-\n-  // Handle edit button click for an answered question\n-  const handleEditQuestion = (index: number) => {\n-    setEditingQuestionIndex(index);\n-  };\n-\n-  // Handle save button click after editing a question\n-  const handleSaveEdit = () => {\n-    setEditingQuestionIndex(null);\n-  };\n-\n-  // Handle submission of all answers\n-  const handleSubmitAnswers = () => {\n-    onSubmit(answers);\n-  };\n-\n-  return (\n-    <div className=\"space-y-6\">\n-      <h2 className=\"text-xl font-semibold mb-4\">\n-        Let's Clarify Your Project Requirements\n-      </h2>\n-      <p className=\"text-secondary-text mb-6\">\n-        Please answer these questions to help us understand your project better.\n-        This will ensure your generated plan is as accurate and detailed as\n-        possible.\n-      </p>\n-\n-      <div className=\"space-y-8\">\n-        {/* Display questions that have already been asked and answered */}\n-        {questions.slice(0, currentQuestionIndex).map((question, index) => (\n-          <div\n-            key={index}\n-            className=\"space-y-2 border border-divider/30 rounded-md p-4 bg-secondary-background/30\"\n-          >\n-            <div className=\"font-medium text-primary-text\">{question}</div>\n-\n-            {editingQuestionIndex === index ? (\n-              // Editing mode\n-              <div className=\"space-y-2\">\n-                <Textarea\n-                  value={answers[question] || \"\"}\n-                  onChange={(e) => handleAnswerChange(e.target.value, index)}\n-                  className=\"bg-primary-background min-h-[120px]\"\n-                />\n-                <div className=\"flex justify-end\">\n-                  <Button\n-                    type=\"button\"\n-                    onClick={handleSaveEdit}\n-                    className=\"bg-primary-cta hover:bg-primary-cta/90\"\n-                  >\n-                    <Check className=\"mr-2 h-4 w-4\" />\n-                    Save\n-                  </Button>\n-                </div>\n-              </div>\n-            ) : (\n-              // View mode\n-              <div className=\"flex justify-between items-start gap-4\">\n-                <div className=\"bg-primary-background/50 border border-divider p-3 rounded-md flex-1\">\n-                  {answers[question]}\n-                </div>\n-                <Button\n-                  type=\"button\"\n-                  onClick={() => handleEditQuestion(index)}\n-                  variant=\"outline\"\n-                  size=\"sm\"\n-                  className=\"flex-shrink-0\"\n-                >\n-                  <Edit className=\"h-4 w-4 mr-1\" />\n-                  Edit\n-                </Button>\n-              </div>\n-            )}\n-          </div>\n-        ))}\n-\n-        {/* Current question with typewriter effect */}\n-        {currentQuestionIndex < questions.length && (\n-          <div className=\"space-y-3 border border-divider/30 rounded-md p-4 bg-secondary-background/30\">\n-            <TypewriterText\n-              text={questions[currentQuestionIndex]}\n-              onComplete={() => setTypingComplete(true)}\n-              className=\"font-medium text-primary-text\"\n-            />\n-\n-            {typingComplete && (\n-              <>\n-                <Textarea\n-                  value={answers[questions[currentQuestionIndex]] || \"\"}\n-                  onChange={(e) => handleAnswerChange(e.target.value)}\n-                  placeholder=\"Type your answer here...\"\n-                  className=\"bg-primary-background min-h-[120px]\"\n-                />\n-                <div className=\"flex justify-end gap-3\">\n-                  <Button\n-                    type=\"button\"\n-                    variant=\"cta\"\n-                    onClick={handleLetProjectronDecide}\n-                    className=\"text-background bg-white hover:bg-hover-active hover:text-white hover:border-gray-700 border\"\n-                  >\n-                    Decide For Me\n-                  </Button>\n-                  <Button\n-                    type=\"button\"\n-                    variant=\"cta\"\n-                    onClick={handleNextQuestion}\n-                    disabled={!answers[questions[currentQuestionIndex]]?.trim()}\n-                    className=\"bg-primary-cta text-black font-semi-bold inline-block hover:bg-hover-active hover:text-white hover:border-gray-700 border\"\n-                  >\n-                    Next Question\n-                  </Button>\n-                </div>\n-              </>\n-            )}\n-          </div>\n-        )}\n-\n-        {/* Submit button when all questions are answered */}\n-        {allQuestionsAnswered && (\n-          <div className=\"pt-4 border-t border-divider\">\n-            <div className=\"flex flex-col sm:flex-row justify-between items-center gap-4\">\n-              <p className=\"text-secondary-text text-center sm:text-left\">\n-                Thank you for answering all the questions! We're ready to\n-                generate your project plan.\n-              </p>\n-              <Button\n-                onClick={handleSubmitAnswers}\n-                disabled={isLoading}\n-                className=\"bg-primary-cta hover:bg-primary-cta/90\"\n-              >\n-                {isLoading ? (\n-                  <>\n-                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n-                    Generating Plan...\n-                  </>\n-                ) : (\n-                  <>Generate Project Plan</>\n-                )}\n-              </Button>\n-            </div>\n-          </div>\n-        )}\n-      </div>\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useEffect, useState } from \"react\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Textarea } from \"@/components/ui/textarea\";\r\n+import { Loader2, Edit, Check } from \"lucide-react\";\r\n+import { TypewriterText } from \"./typewriter-text\";\r\n+\r\n+interface ClarificationQuestionsSectionProps {\r\n+  questions: string[];\r\n+  onSubmit: (answers: Record<string, string>) => void;\r\n+  isLoading: boolean;\r\n+}\r\n+\r\n+export function ClarificationQuestionsSection({\r\n+  questions,\r\n+  onSubmit,\r\n+  isLoading,\r\n+}: ClarificationQuestionsSectionProps) {\r\n+  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n+  const [answers, setAnswers] = useState<Record<string, string>>({});\r\n+  const [typingComplete, setTypingComplete] = useState(false);\r\n+  const [allQuestionsAnswered, setAllQuestionsAnswered] = useState(false);\r\n+  const [editingQuestionIndex, setEditingQuestionIndex] = useState<\r\n+    number | null\r\n+  >(null);\r\n+\r\n+  // Check if all questions have been shown and answered\r\n+  useEffect(() => {\r\n+    if (\r\n+      currentQuestionIndex >= questions.length &&\r\n+      Object.keys(answers).length === questions.length\r\n+    ) {\r\n+      setAllQuestionsAnswered(true);\r\n+    }\r\n+  }, [currentQuestionIndex, answers, questions.length]);\r\n+\r\n+  // Handle answer input for the current question\r\n+  const handleAnswerChange = (\r\n+    value: string,\r\n+    questionIndex = currentQuestionIndex\r\n+  ) => {\r\n+    if (questionIndex < questions.length) {\r\n+      setAnswers((prev) => ({\r\n+        ...prev,\r\n+        [questions[questionIndex]]: value,\r\n+      }));\r\n+    }\r\n+  };\r\n+\r\n+  // Handle proceeding to the next question\r\n+  const handleNextQuestion = () => {\r\n+    if (\r\n+      currentQuestionIndex < questions.length &&\r\n+      answers[questions[currentQuestionIndex]]?.trim()\r\n+    ) {\r\n+      setCurrentQuestionIndex((prev) => prev + 1);\r\n+      setTypingComplete(false);\r\n+    }\r\n+  };\r\n+\r\n+  // Handle \"Let Projectron Decide\" button click\r\n+  const handleLetProjectronDecide = () => {\r\n+    handleAnswerChange(\r\n+      \"Choose the best approach based on project requirements.\"\r\n+    );\r\n+    setCurrentQuestionIndex((prev) => prev + 1);\r\n+    setTypingComplete(false);\r\n+  };\r\n+\r\n+  // Handle edit button click for an answered question\r\n+  const handleEditQuestion = (index: number) => {\r\n+    setEditingQuestionIndex(index);\r\n+  };\r\n+\r\n+  // Handle save button click after editing a question\r\n+  const handleSaveEdit = () => {\r\n+    setEditingQuestionIndex(null);\r\n+  };\r\n+\r\n+  // Handle submission of all answers\r\n+  const handleSubmitAnswers = () => {\r\n+    onSubmit(answers);\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"space-y-6\">\r\n+      <h2 className=\"text-xl font-semibold mb-4\">\r\n+        Let's Clarify Your Project Requirements\r\n+      </h2>\r\n+      <p className=\"text-secondary-text mb-6\">\r\n+        Please answer these questions to help us understand your project better.\r\n+        This will ensure your generated plan is as accurate and detailed as\r\n+        possible.\r\n+      </p>\r\n+\r\n+      <div className=\"space-y-8\">\r\n+        {/* Display questions that have already been asked and answered */}\r\n+        {questions.slice(0, currentQuestionIndex).map((question, index) => (\r\n+          <div\r\n+            key={index}\r\n+            className=\"space-y-2 border border-divider/30 rounded-md p-4 bg-secondary-background/30\"\r\n+          >\r\n+            <div className=\"font-medium text-primary-text\">{question}</div>\r\n+\r\n+            {editingQuestionIndex === index ? (\r\n+              // Editing mode\r\n+              <div className=\"space-y-2\">\r\n+                <Textarea\r\n+                  value={answers[question] || \"\"}\r\n+                  onChange={(e) => handleAnswerChange(e.target.value, index)}\r\n+                  className=\"bg-primary-background min-h-[120px]\"\r\n+                />\r\n+                <div className=\"flex justify-end\">\r\n+                  <Button\r\n+                    type=\"button\"\r\n+                    onClick={handleSaveEdit}\r\n+                    className=\"bg-primary-cta hover:bg-primary-cta/90\"\r\n+                  >\r\n+                    <Check className=\"mr-2 h-4 w-4\" />\r\n+                    Save\r\n+                  </Button>\r\n+                </div>\r\n+              </div>\r\n+            ) : (\r\n+              // View mode\r\n+              <div className=\"flex justify-between items-start gap-4\">\r\n+                <div className=\"bg-primary-background/50 border border-divider p-3 rounded-md flex-1\">\r\n+                  {answers[question]}\r\n+                </div>\r\n+                <Button\r\n+                  type=\"button\"\r\n+                  onClick={() => handleEditQuestion(index)}\r\n+                  variant=\"outline\"\r\n+                  size=\"sm\"\r\n+                  className=\"flex-shrink-0\"\r\n+                >\r\n+                  <Edit className=\"h-4 w-4 mr-1\" />\r\n+                  Edit\r\n+                </Button>\r\n+              </div>\r\n+            )}\r\n+          </div>\r\n+        ))}\r\n+\r\n+        {/* Current question with typewriter effect */}\r\n+        {currentQuestionIndex < questions.length && (\r\n+          <div className=\"space-y-3 border border-divider/30 rounded-md p-4 bg-secondary-background/30\">\r\n+            <TypewriterText\r\n+              text={questions[currentQuestionIndex]}\r\n+              onComplete={() => setTypingComplete(true)}\r\n+              className=\"font-medium text-primary-text\"\r\n+            />\r\n+\r\n+            {typingComplete && (\r\n+              <>\r\n+                <Textarea\r\n+                  value={answers[questions[currentQuestionIndex]] || \"\"}\r\n+                  onChange={(e) => handleAnswerChange(e.target.value)}\r\n+                  placeholder=\"Type your answer here...\"\r\n+                  className=\"bg-primary-background min-h-[120px]\"\r\n+                />\r\n+                <div className=\"flex justify-end gap-3\">\r\n+                  <Button\r\n+                    type=\"button\"\r\n+                    variant=\"cta\"\r\n+                    onClick={handleLetProjectronDecide}\r\n+                    className=\"text-background bg-white hover:bg-hover-active hover:text-white hover:border-gray-700 border\"\r\n+                  >\r\n+                    Decide For Me\r\n+                  </Button>\r\n+                  <Button\r\n+                    type=\"button\"\r\n+                    variant=\"cta\"\r\n+                    onClick={handleNextQuestion}\r\n+                    disabled={!answers[questions[currentQuestionIndex]]?.trim()}\r\n+                    className=\"bg-primary-cta text-black font-semi-bold inline-block hover:bg-hover-active hover:text-white hover:border-gray-700 border\"\r\n+                  >\r\n+                    Next Question\r\n+                  </Button>\r\n+                </div>\r\n+              </>\r\n+            )}\r\n+          </div>\r\n+        )}\r\n+\r\n+        {/* Submit button when all questions are answered */}\r\n+        {allQuestionsAnswered && (\r\n+          <div className=\"pt-4 border-t border-divider\">\r\n+            <div className=\"flex flex-col sm:flex-row justify-between items-center gap-4\">\r\n+              <p className=\"text-secondary-text text-center sm:text-left\">\r\n+                Thank you for answering all the questions! We're ready to\r\n+                generate your project plan.\r\n+              </p>\r\n+              <Button\r\n+                onClick={handleSubmitAnswers}\r\n+                disabled={isLoading}\r\n+                className=\"bg-primary-cta hover:bg-primary-cta/90\"\r\n+              >\r\n+                {isLoading ? (\r\n+                  <>\r\n+                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n+                    Generating Plan...\r\n+                  </>\r\n+                ) : (\r\n+                  <>Generate Project Plan</>\r\n+                )}\r\n+              </Button>\r\n+            </div>\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,215 +1,215 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useEffect, useState } from \"react\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Textarea } from \"@/components/ui/textarea\";\n",
        "-import { Loader2, Edit, Check } from \"lucide-react\";\n",
        "-import { TypewriterText } from \"./typewriter-text\";\n",
        "-\n",
        "-interface ClarificationQuestionsSectionProps {\n",
        "-  questions: string[];\n",
        "-  onSubmit: (answers: Record<string, string>) => void;\n",
        "-  isLoading: boolean;\n",
        "-}\n",
        "-\n",
        "-export function ClarificationQuestionsSection({\n",
        "-  questions,\n",
        "-  onSubmit,\n",
        "-  isLoading,\n",
        "-}: ClarificationQuestionsSectionProps) {\n",
        "-  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n",
        "-  const [answers, setAnswers] = useState<Record<string, string>>({});\n",
        "-  const [typingComplete, setTypingComplete] = useState(false);\n",
        "-  const [allQuestionsAnswered, setAllQuestionsAnswered] = useState(false);\n",
        "-  const [editingQuestionIndex, setEditingQuestionIndex] = useState<\n",
        "-    number | null\n",
        "-  >(null);\n",
        "-\n",
        "-  // Check if all questions have been shown and answered\n",
        "-  useEffect(() => {\n",
        "-    if (\n",
        "-      currentQuestionIndex >= questions.length &&\n",
        "-      Object.keys(answers).length === questions.length\n",
        "-    ) {\n",
        "-      setAllQuestionsAnswered(true);\n",
        "-    }\n",
        "-  }, [currentQuestionIndex, answers, questions.length]);\n",
        "-\n",
        "-  // Handle answer input for the current question\n",
        "-  const handleAnswerChange = (\n",
        "-    value: string,\n",
        "-    questionIndex = currentQuestionIndex\n",
        "-  ) => {\n",
        "-    if (questionIndex < questions.length) {\n",
        "-      setAnswers((prev) => ({\n",
        "-        ...prev,\n",
        "-        [questions[questionIndex]]: value,\n",
        "-      }));\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  // Handle proceeding to the next question\n",
        "-  const handleNextQuestion = () => {\n",
        "-    if (\n",
        "-      currentQuestionIndex < questions.length &&\n",
        "-      answers[questions[currentQuestionIndex]]?.trim()\n",
        "-    ) {\n",
        "-      setCurrentQuestionIndex((prev) => prev + 1);\n",
        "-      setTypingComplete(false);\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  // Handle \"Let Projectron Decide\" button click\n",
        "-  const handleLetProjectronDecide = () => {\n",
        "-    handleAnswerChange(\n",
        "-      \"Choose the best approach based on project requirements.\"\n",
        "-    );\n",
        "-    setCurrentQuestionIndex((prev) => prev + 1);\n",
        "-    setTypingComplete(false);\n",
        "-  };\n",
        "-\n",
        "-  // Handle edit button click for an answered question\n",
        "-  const handleEditQuestion = (index: number) => {\n",
        "-    setEditingQuestionIndex(index);\n",
        "-  };\n",
        "-\n",
        "-  // Handle save button click after editing a question\n",
        "-  const handleSaveEdit = () => {\n",
        "-    setEditingQuestionIndex(null);\n",
        "-  };\n",
        "-\n",
        "-  // Handle submission of all answers\n",
        "-  const handleSubmitAnswers = () => {\n",
        "-    onSubmit(answers);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"space-y-6\">\n",
        "-      <h2 className=\"text-xl font-semibold mb-4\">\n",
        "-        Let's Clarify Your Project Requirements\n",
        "-      </h2>\n",
        "-      <p className=\"text-secondary-text mb-6\">\n",
        "-        Please answer these questions to help us understand your project better.\n",
        "-        This will ensure your generated plan is as accurate and detailed as\n",
        "-        possible.\n",
        "-      </p>\n",
        "-\n",
        "-      <div className=\"space-y-8\">\n",
        "-        {/* Display questions that have already been asked and answered */}\n",
        "-        {questions.slice(0, currentQuestionIndex).map((question, index) => (\n",
        "-          <div\n",
        "-            key={index}\n",
        "-            className=\"space-y-2 border border-divider/30 rounded-md p-4 bg-secondary-background/30\"\n",
        "-          >\n",
        "-            <div className=\"font-medium text-primary-text\">{question}</div>\n",
        "-\n",
        "-            {editingQuestionIndex === index ? (\n",
        "-              // Editing mode\n",
        "-              <div className=\"space-y-2\">\n",
        "-                <Textarea\n",
        "-                  value={answers[question] || \"\"}\n",
        "-                  onChange={(e) => handleAnswerChange(e.target.value, index)}\n",
        "-                  className=\"bg-primary-background min-h-[120px]\"\n",
        "-                />\n",
        "-                <div className=\"flex justify-end\">\n",
        "-                  <Button\n",
        "-                    type=\"button\"\n",
        "-                    onClick={handleSaveEdit}\n",
        "-                    className=\"bg-primary-cta hover:bg-primary-cta/90\"\n",
        "-                  >\n",
        "-                    <Check className=\"mr-2 h-4 w-4\" />\n",
        "-                    Save\n",
        "-                  </Button>\n",
        "-                </div>\n",
        "-              </div>\n",
        "-            ) : (\n",
        "-              // View mode\n",
        "-              <div className=\"flex justify-between items-start gap-4\">\n",
        "-                <div className=\"bg-primary-background/50 border border-divider p-3 rounded-md flex-1\">\n",
        "-                  {answers[question]}\n",
        "-                </div>\n",
        "-                <Button\n",
        "-                  type=\"button\"\n",
        "-                  onClick={() => handleEditQuestion(index)}\n",
        "-                  variant=\"outline\"\n",
        "-                  size=\"sm\"\n",
        "-                  className=\"flex-shrink-0\"\n",
        "-                >\n",
        "-                  <Edit className=\"h-4 w-4 mr-1\" />\n",
        "-                  Edit\n",
        "-                </Button>\n",
        "-              </div>\n",
        "-            )}\n",
        "-          </div>\n",
        "-        ))}\n",
        "-\n",
        "-        {/* Current question with typewriter effect */}\n",
        "-        {currentQuestionIndex < questions.length && (\n",
        "-          <div className=\"space-y-3 border border-divider/30 rounded-md p-4 bg-secondary-background/30\">\n",
        "-            <TypewriterText\n",
        "-              text={questions[currentQuestionIndex]}\n",
        "-              onComplete={() => setTypingComplete(true)}\n",
        "-              className=\"font-medium text-primary-text\"\n",
        "-            />\n",
        "-\n",
        "-            {typingComplete && (\n",
        "-              <>\n",
        "-                <Textarea\n",
        "-                  value={answers[questions[currentQuestionIndex]] || \"\"}\n",
        "-                  onChange={(e) => handleAnswerChange(e.target.value)}\n",
        "-                  placeholder=\"Type your answer here...\"\n",
        "-                  className=\"bg-primary-background min-h-[120px]\"\n",
        "-                />\n",
        "-                <div className=\"flex justify-end gap-3\">\n",
        "-                  <Button\n",
        "-                    type=\"button\"\n",
        "-                    variant=\"cta\"\n",
        "-                    onClick={handleLetProjectronDecide}\n",
        "-                    className=\"text-background bg-white hover:bg-hover-active hover:text-white hover:border-gray-700 border\"\n",
        "-                  >\n",
        "-                    Decide For Me\n",
        "-                  </Button>\n",
        "-                  <Button\n",
        "-                    type=\"button\"\n",
        "-                    variant=\"cta\"\n",
        "-                    onClick={handleNextQuestion}\n",
        "-                    disabled={!answers[questions[currentQuestionIndex]]?.trim()}\n",
        "-                    className=\"bg-primary-cta text-black font-semi-bold inline-block hover:bg-hover-active hover:text-white hover:border-gray-700 border\"\n",
        "-                  >\n",
        "-                    Next Question\n",
        "-                  </Button>\n",
        "-                </div>\n",
        "-              </>\n",
        "-            )}\n",
        "-          </div>\n",
        "-        )}\n",
        "-\n",
        "-        {/* Submit button when all questions are answered */}\n",
        "-        {allQuestionsAnswered && (\n",
        "-          <div className=\"pt-4 border-t border-divider\">\n",
        "-            <div className=\"flex flex-col sm:flex-row justify-between items-center gap-4\">\n",
        "-              <p className=\"text-secondary-text text-center sm:text-left\">\n",
        "-                Thank you for answering all the questions! We're ready to\n",
        "-                generate your project plan.\n",
        "-              </p>\n",
        "-              <Button\n",
        "-                onClick={handleSubmitAnswers}\n",
        "-                disabled={isLoading}\n",
        "-                className=\"bg-primary-cta hover:bg-primary-cta/90\"\n",
        "-              >\n",
        "-                {isLoading ? (\n",
        "-                  <>\n",
        "-                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n",
        "-                    Generating Plan...\n",
        "-                  </>\n",
        "-                ) : (\n",
        "-                  <>Generate Project Plan</>\n",
        "-                )}\n",
        "-              </Button>\n",
        "-            </div>\n",
        "-          </div>\n",
        "-        )}\n",
        "-      </div>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useEffect, useState } from \"react\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Textarea } from \"@/components/ui/textarea\";\r\n",
        "+import { Loader2, Edit, Check } from \"lucide-react\";\r\n",
        "+import { TypewriterText } from \"./typewriter-text\";\r\n",
        "+\r\n",
        "+interface ClarificationQuestionsSectionProps {\r\n",
        "+  questions: string[];\r\n",
        "+  onSubmit: (answers: Record<string, string>) => void;\r\n",
        "+  isLoading: boolean;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function ClarificationQuestionsSection({\r\n",
        "+  questions,\r\n",
        "+  onSubmit,\r\n",
        "+  isLoading,\r\n",
        "+}: ClarificationQuestionsSectionProps) {\r\n",
        "+  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n",
        "+  const [answers, setAnswers] = useState<Record<string, string>>({});\r\n",
        "+  const [typingComplete, setTypingComplete] = useState(false);\r\n",
        "+  const [allQuestionsAnswered, setAllQuestionsAnswered] = useState(false);\r\n",
        "+  const [editingQuestionIndex, setEditingQuestionIndex] = useState<\r\n",
        "+    number | null\r\n",
        "+  >(null);\r\n",
        "+\r\n",
        "+  // Check if all questions have been shown and answered\r\n",
        "+  useEffect(() => {\r\n",
        "+    if (\r\n",
        "+      currentQuestionIndex >= questions.length &&\r\n",
        "+      Object.keys(answers).length === questions.length\r\n",
        "+    ) {\r\n",
        "+      setAllQuestionsAnswered(true);\r\n",
        "+    }\r\n",
        "+  }, [currentQuestionIndex, answers, questions.length]);\r\n",
        "+\r\n",
        "+  // Handle answer input for the current question\r\n",
        "+  const handleAnswerChange = (\r\n",
        "+    value: string,\r\n",
        "+    questionIndex = currentQuestionIndex\r\n",
        "+  ) => {\r\n",
        "+    if (questionIndex < questions.length) {\r\n",
        "+      setAnswers((prev) => ({\r\n",
        "+        ...prev,\r\n",
        "+        [questions[questionIndex]]: value,\r\n",
        "+      }));\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle proceeding to the next question\r\n",
        "+  const handleNextQuestion = () => {\r\n",
        "+    if (\r\n",
        "+      currentQuestionIndex < questions.length &&\r\n",
        "+      answers[questions[currentQuestionIndex]]?.trim()\r\n",
        "+    ) {\r\n",
        "+      setCurrentQuestionIndex((prev) => prev + 1);\r\n",
        "+      setTypingComplete(false);\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle \"Let Projectron Decide\" button click\r\n",
        "+  const handleLetProjectronDecide = () => {\r\n",
        "+    handleAnswerChange(\r\n",
        "+      \"Choose the best approach based on project requirements.\"\r\n",
        "+    );\r\n",
        "+    setCurrentQuestionIndex((prev) => prev + 1);\r\n",
        "+    setTypingComplete(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle edit button click for an answered question\r\n",
        "+  const handleEditQuestion = (index: number) => {\r\n",
        "+    setEditingQuestionIndex(index);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle save button click after editing a question\r\n",
        "+  const handleSaveEdit = () => {\r\n",
        "+    setEditingQuestionIndex(null);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle submission of all answers\r\n",
        "+  const handleSubmitAnswers = () => {\r\n",
        "+    onSubmit(answers);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"space-y-6\">\r\n",
        "+      <h2 className=\"text-xl font-semibold mb-4\">\r\n",
        "+        Let's Clarify Your Project Requirements\r\n",
        "+      </h2>\r\n",
        "+      <p className=\"text-secondary-text mb-6\">\r\n",
        "+        Please answer these questions to help us understand your project better.\r\n",
        "+        This will ensure your generated plan is as accurate and detailed as\r\n",
        "+        possible.\r\n",
        "+      </p>\r\n",
        "+\r\n",
        "+      <div className=\"space-y-8\">\r\n",
        "+        {/* Display questions that have already been asked and answered */}\r\n",
        "+        {questions.slice(0, currentQuestionIndex).map((question, index) => (\r\n",
        "+          <div\r\n",
        "+            key={index}\r\n",
        "+            className=\"space-y-2 border border-divider/30 rounded-md p-4 bg-secondary-background/30\"\r\n",
        "+          >\r\n",
        "+            <div className=\"font-medium text-primary-text\">{question}</div>\r\n",
        "+\r\n",
        "+            {editingQuestionIndex === index ? (\r\n",
        "+              // Editing mode\r\n",
        "+              <div className=\"space-y-2\">\r\n",
        "+                <Textarea\r\n",
        "+                  value={answers[question] || \"\"}\r\n",
        "+                  onChange={(e) => handleAnswerChange(e.target.value, index)}\r\n",
        "+                  className=\"bg-primary-background min-h-[120px]\"\r\n",
        "+                />\r\n",
        "+                <div className=\"flex justify-end\">\r\n",
        "+                  <Button\r\n",
        "+                    type=\"button\"\r\n",
        "+                    onClick={handleSaveEdit}\r\n",
        "+                    className=\"bg-primary-cta hover:bg-primary-cta/90\"\r\n",
        "+                  >\r\n",
        "+                    <Check className=\"mr-2 h-4 w-4\" />\r\n",
        "+                    Save\r\n",
        "+                  </Button>\r\n",
        "+                </div>\r\n",
        "+              </div>\r\n",
        "+            ) : (\r\n",
        "+              // View mode\r\n",
        "+              <div className=\"flex justify-between items-start gap-4\">\r\n",
        "+                <div className=\"bg-primary-background/50 border border-divider p-3 rounded-md flex-1\">\r\n",
        "+                  {answers[question]}\r\n",
        "+                </div>\r\n",
        "+                <Button\r\n",
        "+                  type=\"button\"\r\n",
        "+                  onClick={() => handleEditQuestion(index)}\r\n",
        "+                  variant=\"outline\"\r\n",
        "+                  size=\"sm\"\r\n",
        "+                  className=\"flex-shrink-0\"\r\n",
        "+                >\r\n",
        "+                  <Edit className=\"h-4 w-4 mr-1\" />\r\n",
        "+                  Edit\r\n",
        "+                </Button>\r\n",
        "+              </div>\r\n",
        "+            )}\r\n",
        "+          </div>\r\n",
        "+        ))}\r\n",
        "+\r\n",
        "+        {/* Current question with typewriter effect */}\r\n",
        "+        {currentQuestionIndex < questions.length && (\r\n",
        "+          <div className=\"space-y-3 border border-divider/30 rounded-md p-4 bg-secondary-background/30\">\r\n",
        "+            <TypewriterText\r\n",
        "+              text={questions[currentQuestionIndex]}\r\n",
        "+              onComplete={() => setTypingComplete(true)}\r\n",
        "+              className=\"font-medium text-primary-text\"\r\n",
        "+            />\r\n",
        "+\r\n",
        "+            {typingComplete && (\r\n",
        "+              <>\r\n",
        "+                <Textarea\r\n",
        "+                  value={answers[questions[currentQuestionIndex]] || \"\"}\r\n",
        "+                  onChange={(e) => handleAnswerChange(e.target.value)}\r\n",
        "+                  placeholder=\"Type your answer here...\"\r\n",
        "+                  className=\"bg-primary-background min-h-[120px]\"\r\n",
        "+                />\r\n",
        "+                <div className=\"flex justify-end gap-3\">\r\n",
        "+                  <Button\r\n",
        "+                    type=\"button\"\r\n",
        "+                    variant=\"cta\"\r\n",
        "+                    onClick={handleLetProjectronDecide}\r\n",
        "+                    className=\"text-background bg-white hover:bg-hover-active hover:text-white hover:border-gray-700 border\"\r\n",
        "+                  >\r\n",
        "+                    Decide For Me\r\n",
        "+                  </Button>\r\n",
        "+                  <Button\r\n",
        "+                    type=\"button\"\r\n",
        "+                    variant=\"cta\"\r\n",
        "+                    onClick={handleNextQuestion}\r\n",
        "+                    disabled={!answers[questions[currentQuestionIndex]]?.trim()}\r\n",
        "+                    className=\"bg-primary-cta text-black font-semi-bold inline-block hover:bg-hover-active hover:text-white hover:border-gray-700 border\"\r\n",
        "+                  >\r\n",
        "+                    Next Question\r\n",
        "+                  </Button>\r\n",
        "+                </div>\r\n",
        "+              </>\r\n",
        "+            )}\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {/* Submit button when all questions are answered */}\r\n",
        "+        {allQuestionsAnswered && (\r\n",
        "+          <div className=\"pt-4 border-t border-divider\">\r\n",
        "+            <div className=\"flex flex-col sm:flex-row justify-between items-center gap-4\">\r\n",
        "+              <p className=\"text-secondary-text text-center sm:text-left\">\r\n",
        "+                Thank you for answering all the questions! We're ready to\r\n",
        "+                generate your project plan.\r\n",
        "+              </p>\r\n",
        "+              <Button\r\n",
        "+                onClick={handleSubmitAnswers}\r\n",
        "+                disabled={isLoading}\r\n",
        "+                className=\"bg-primary-cta hover:bg-primary-cta/90\"\r\n",
        "+              >\r\n",
        "+                {isLoading ? (\r\n",
        "+                  <>\r\n",
        "+                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n",
        "+                    Generating Plan...\r\n",
        "+                  </>\r\n",
        "+                ) : (\r\n",
        "+                  <>Generate Project Plan</>\r\n",
        "+                )}\r\n",
        "+              </Button>\r\n",
        "+            </div>\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/new/components/plan-generation-form.tsx",
      "status": "modified",
      "additions": 303,
      "deletions": 303,
      "patch": "@@ -1,303 +1,303 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import { useForm, Controller } from \"react-hook-form\";\n-import { zodResolver } from \"@hookform/resolvers/zod\";\n-import * as z from \"zod\";\n-import { Input } from \"@/components/ui/input\";\n-import { Textarea } from \"@/components/ui/textarea\";\n-import { Button } from \"@/components/ui/button\";\n-import { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\n-import { Label } from \"@/components/ui/label\";\n-import { Loader2 } from \"lucide-react\";\n-import { TechStackSelector } from \"./tech-stack-selector\";\n-import { TimeScale, PlanGenerationInput } from \"../types\";\n-\n-// Define form validation schema\n-const formSchema = z.object({\n-  name: z\n-    .string()\n-    .min(3, { message: \"Project name must be at least 3 characters\" }),\n-  description: z\n-    .string()\n-    .min(10, { message: \"Description must be at least 10 characters\" }),\n-  experience_level: z.enum([\"student\", \"junior\", \"mid\", \"senior\"], {\n-    required_error: \"Please select an experience level\",\n-  }),\n-  team_size: z.coerce.number().int().min(1).max(10),\n-  time_scale: z.enum([\"small\", \"medium\", \"large\", \"custom\"], {\n-    required_error: \"Please select a time scale\",\n-  }),\n-  custom_hours: z.coerce.number().int().min(1).max(1000).optional().nullable(),\n-});\n-\n-type FormValues = z.infer<typeof formSchema>;\n-\n-interface PlanGenerationFormProps {\n-  onSubmit: (data: PlanGenerationInput) => void;\n-  isLoading: boolean;\n-}\n-\n-export function PlanGenerationForm({\n-  onSubmit,\n-  isLoading,\n-}: PlanGenerationFormProps) {\n-  const [techStack, setTechStack] = useState<string[]>([]);\n-\n-  const {\n-    register,\n-    handleSubmit,\n-    watch,\n-    control,\n-    setValue,\n-    formState: { errors },\n-  } = useForm<FormValues>({\n-    resolver: zodResolver(formSchema),\n-    defaultValues: {\n-      name: \"\",\n-      description: \"\",\n-      experience_level: \"mid\",\n-      team_size: 1,\n-      time_scale: \"medium\",\n-      custom_hours: null,\n-    },\n-  });\n-\n-  const timeScale = watch(\"time_scale\");\n-  const showCustomHours = timeScale === \"custom\";\n-\n-  // Make sure custom_hours is required when time_scale is custom\n-  useEffect(() => {\n-    if (timeScale === \"custom\") {\n-      setValue(\"custom_hours\", 100); // Set default value\n-    } else {\n-      setValue(\"custom_hours\", null);\n-    }\n-  }, [timeScale, setValue]);\n-\n-  const handleFormSubmit = (data: FormValues) => {\n-    // Convert form time_scale string to TimeScale enum\n-    const mappedTimeScale: TimeScale = data.time_scale as unknown as TimeScale;\n-\n-    const formData: PlanGenerationInput = {\n-      ...data,\n-      time_scale: mappedTimeScale,\n-      tech_stack: techStack,\n-    };\n-\n-    onSubmit(formData);\n-  };\n-\n-  return (\n-    <form onSubmit={handleSubmit(handleFormSubmit)} className=\"space-y-6\">\n-      <h2 className=\"text-xl font-semibold mb-4\">Project Details</h2>\n-\n-      <div className=\"space-y-5\">\n-        <div>\n-          <Label htmlFor=\"name\">Project Name</Label>\n-          <Input\n-            id=\"name\"\n-            placeholder=\"e.g. E-commerce Website\"\n-            {...register(\"name\")}\n-            className=\"bg-primary-background mt-1.5\"\n-          />\n-          {errors.name && (\n-            <p className=\"text-red-400 text-sm mt-1\">{errors.name.message}</p>\n-          )}\n-        </div>\n-\n-        <div>\n-          <Label htmlFor=\"description\">Project Description</Label>\n-          <Textarea\n-            id=\"description\"\n-            placeholder=\"Describe your project, its purpose, and key features...\"\n-            className=\"bg-primary-background mt-1.5 min-h-[100px]\"\n-            {...register(\"description\")}\n-          />\n-          {errors.description && (\n-            <p className=\"text-red-400 text-sm mt-1\">\n-              {errors.description.message}\n-            </p>\n-          )}\n-        </div>\n-\n-        <div>\n-          <Label className=\"mb-3 block\">Technology Stack</Label>\n-          <TechStackSelector selectedTech={techStack} onChange={setTechStack} />\n-        </div>\n-\n-        <div>\n-          <Label className=\"mb-3 block\">Experience Level</Label>\n-          <Controller\n-            name=\"experience_level\"\n-            control={control}\n-            defaultValue=\"mid\"\n-            render={({ field }) => (\n-              <RadioGroup\n-                value={field.value}\n-                onValueChange={field.onChange}\n-                className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 mt-1.5\"\n-              >\n-                <div className=\"flex items-center space-x-2\">\n-                  <RadioGroupItem value=\"student\" id=\"student\" />\n-                  <Label\n-                    htmlFor=\"student\"\n-                    className=\"cursor-pointer hover:text-primary-cta\"\n-                  >\n-                    Student\n-                  </Label>\n-                </div>\n-                <div className=\"flex items-center space-x-2\">\n-                  <RadioGroupItem value=\"junior\" id=\"junior\" />\n-                  <Label\n-                    htmlFor=\"junior\"\n-                    className=\"cursor-pointer hover:text-primary-cta\"\n-                  >\n-                    Junior\n-                  </Label>\n-                </div>\n-                <div className=\"flex items-center space-x-2\">\n-                  <RadioGroupItem value=\"mid\" id=\"mid\" />\n-                  <Label\n-                    htmlFor=\"mid\"\n-                    className=\"cursor-pointer hover:text-primary-cta\"\n-                  >\n-                    Mid-level\n-                  </Label>\n-                </div>\n-                <div className=\"flex items-center space-x-2\">\n-                  <RadioGroupItem value=\"senior\" id=\"senior\" />\n-                  <Label\n-                    htmlFor=\"senior\"\n-                    className=\"cursor-pointer hover:text-primary-cta\"\n-                  >\n-                    Senior\n-                  </Label>\n-                </div>\n-              </RadioGroup>\n-            )}\n-          />\n-          {errors.experience_level && (\n-            <p className=\"text-red-400 text-sm mt-1\">\n-              {errors.experience_level.message}\n-            </p>\n-          )}\n-        </div>\n-\n-        <div>\n-          <Label htmlFor=\"team_size\">Team Size</Label>\n-          <Input\n-            id=\"team_size\"\n-            type=\"number\"\n-            min=\"1\"\n-            max=\"10\"\n-            className=\"bg-primary-background mt-1.5 w-full sm:w-1/4\"\n-            {...register(\"team_size\")}\n-          />\n-          {errors.team_size && (\n-            <p className=\"text-red-400 text-sm mt-1\">\n-              {errors.team_size.message}\n-            </p>\n-          )}\n-        </div>\n-\n-        <div>\n-          <Label className=\"mb-3 block\">Project Time Scale</Label>\n-          <Controller\n-            name=\"time_scale\"\n-            control={control}\n-            defaultValue=\"medium\"\n-            render={({ field }) => (\n-              <RadioGroup\n-                value={field.value}\n-                onValueChange={field.onChange}\n-                className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 mt-1.5\"\n-              >\n-                <div className=\"flex items-center space-x-2\">\n-                  <RadioGroupItem value=\"small\" id=\"small\" />\n-                  <Label\n-                    htmlFor=\"small\"\n-                    className=\"cursor-pointer hover:text-primary-cta\"\n-                  >\n-                    Small (&lt;40 hours)\n-                  </Label>\n-                </div>\n-                <div className=\"flex items-center space-x-2\">\n-                  <RadioGroupItem value=\"medium\" id=\"medium\" />\n-                  <Label\n-                    htmlFor=\"medium\"\n-                    className=\"cursor-pointer hover:text-primary-cta\"\n-                  >\n-                    Medium (40-100 hours)\n-                  </Label>\n-                </div>\n-                <div className=\"flex items-center space-x-2\">\n-                  <RadioGroupItem value=\"large\" id=\"large\" />\n-                  <Label\n-                    htmlFor=\"large\"\n-                    className=\"cursor-pointer hover:text-primary-cta\"\n-                  >\n-                    Large (100-300 hours)\n-                  </Label>\n-                </div>\n-                <div className=\"flex items-center space-x-2\">\n-                  <RadioGroupItem value=\"custom\" id=\"custom\" />\n-                  <Label\n-                    htmlFor=\"custom\"\n-                    className=\"cursor-pointer hover:text-primary-cta\"\n-                  >\n-                    Custom\n-                  </Label>\n-                </div>\n-              </RadioGroup>\n-            )}\n-          />\n-          {errors.time_scale && (\n-            <p className=\"text-red-400 text-sm mt-1\">\n-              {errors.time_scale.message}\n-            </p>\n-          )}\n-        </div>\n-\n-        {showCustomHours && (\n-          <div>\n-            <Label htmlFor=\"custom_hours\">Custom Hours</Label>\n-            <Input\n-              id=\"custom_hours\"\n-              type=\"number\"\n-              min=\"1\"\n-              max=\"1000\"\n-              placeholder=\"Enter hours (1-1000)\"\n-              className=\"bg-primary-background mt-1.5 w-full sm:w-1/4\"\n-              {...register(\"custom_hours\", {\n-                required: timeScale === \"custom\",\n-              })}\n-            />\n-            {errors.custom_hours && (\n-              <p className=\"text-red-400 text-sm mt-1\">\n-                {errors.custom_hours.message}\n-              </p>\n-            )}\n-          </div>\n-        )}\n-      </div>\n-\n-      <div className=\"flex justify-end pt-4\">\n-        <Button\n-          type=\"submit\"\n-          disabled={isLoading}\n-          className=\"bg-primary-cta hover:bg-primary-cta/90\"\n-        >\n-          {isLoading ? (\n-            <>\n-              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n-              Generating Questions...\n-            </>\n-          ) : (\n-            <>Continue</>\n-          )}\n-        </Button>\n-      </div>\n-    </form>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { useForm, Controller } from \"react-hook-form\";\r\n+import { zodResolver } from \"@hookform/resolvers/zod\";\r\n+import * as z from \"zod\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Textarea } from \"@/components/ui/textarea\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\r\n+import { Label } from \"@/components/ui/label\";\r\n+import { Loader2 } from \"lucide-react\";\r\n+import { TechStackSelector } from \"./tech-stack-selector\";\r\n+import { TimeScale, PlanGenerationInput } from \"../types\";\r\n+\r\n+// Define form validation schema\r\n+const formSchema = z.object({\r\n+  name: z\r\n+    .string()\r\n+    .min(3, { message: \"Project name must be at least 3 characters\" }),\r\n+  description: z\r\n+    .string()\r\n+    .min(10, { message: \"Description must be at least 10 characters\" }),\r\n+  experience_level: z.enum([\"student\", \"junior\", \"mid\", \"senior\"], {\r\n+    required_error: \"Please select an experience level\",\r\n+  }),\r\n+  team_size: z.coerce.number().int().min(1).max(10),\r\n+  time_scale: z.enum([\"small\", \"medium\", \"large\", \"custom\"], {\r\n+    required_error: \"Please select a time scale\",\r\n+  }),\r\n+  custom_hours: z.coerce.number().int().min(1).max(1000).optional().nullable(),\r\n+});\r\n+\r\n+type FormValues = z.infer<typeof formSchema>;\r\n+\r\n+interface PlanGenerationFormProps {\r\n+  onSubmit: (data: PlanGenerationInput) => void;\r\n+  isLoading: boolean;\r\n+}\r\n+\r\n+export function PlanGenerationForm({\r\n+  onSubmit,\r\n+  isLoading,\r\n+}: PlanGenerationFormProps) {\r\n+  const [techStack, setTechStack] = useState<string[]>([]);\r\n+\r\n+  const {\r\n+    register,\r\n+    handleSubmit,\r\n+    watch,\r\n+    control,\r\n+    setValue,\r\n+    formState: { errors },\r\n+  } = useForm<FormValues>({\r\n+    resolver: zodResolver(formSchema),\r\n+    defaultValues: {\r\n+      name: \"\",\r\n+      description: \"\",\r\n+      experience_level: \"mid\",\r\n+      team_size: 1,\r\n+      time_scale: \"medium\",\r\n+      custom_hours: null,\r\n+    },\r\n+  });\r\n+\r\n+  const timeScale = watch(\"time_scale\");\r\n+  const showCustomHours = timeScale === \"custom\";\r\n+\r\n+  // Make sure custom_hours is required when time_scale is custom\r\n+  useEffect(() => {\r\n+    if (timeScale === \"custom\") {\r\n+      setValue(\"custom_hours\", 100); // Set default value\r\n+    } else {\r\n+      setValue(\"custom_hours\", null);\r\n+    }\r\n+  }, [timeScale, setValue]);\r\n+\r\n+  const handleFormSubmit = (data: FormValues) => {\r\n+    // Convert form time_scale string to TimeScale enum\r\n+    const mappedTimeScale: TimeScale = data.time_scale as unknown as TimeScale;\r\n+\r\n+    const formData: PlanGenerationInput = {\r\n+      ...data,\r\n+      time_scale: mappedTimeScale,\r\n+      tech_stack: techStack,\r\n+    };\r\n+\r\n+    onSubmit(formData);\r\n+  };\r\n+\r\n+  return (\r\n+    <form onSubmit={handleSubmit(handleFormSubmit)} className=\"space-y-6\">\r\n+      <h2 className=\"text-xl font-semibold mb-4\">Project Details</h2>\r\n+\r\n+      <div className=\"space-y-5\">\r\n+        <div>\r\n+          <Label htmlFor=\"name\">Project Name</Label>\r\n+          <Input\r\n+            id=\"name\"\r\n+            placeholder=\"e.g. E-commerce Website\"\r\n+            {...register(\"name\")}\r\n+            className=\"bg-primary-background mt-1.5\"\r\n+          />\r\n+          {errors.name && (\r\n+            <p className=\"text-red-400 text-sm mt-1\">{errors.name.message}</p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div>\r\n+          <Label htmlFor=\"description\">Project Description</Label>\r\n+          <Textarea\r\n+            id=\"description\"\r\n+            placeholder=\"Describe your project, its purpose, and key features...\"\r\n+            className=\"bg-primary-background mt-1.5 min-h-[100px]\"\r\n+            {...register(\"description\")}\r\n+          />\r\n+          {errors.description && (\r\n+            <p className=\"text-red-400 text-sm mt-1\">\r\n+              {errors.description.message}\r\n+            </p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div>\r\n+          <Label className=\"mb-3 block\">Technology Stack</Label>\r\n+          <TechStackSelector selectedTech={techStack} onChange={setTechStack} />\r\n+        </div>\r\n+\r\n+        <div>\r\n+          <Label className=\"mb-3 block\">Experience Level</Label>\r\n+          <Controller\r\n+            name=\"experience_level\"\r\n+            control={control}\r\n+            defaultValue=\"mid\"\r\n+            render={({ field }) => (\r\n+              <RadioGroup\r\n+                value={field.value}\r\n+                onValueChange={field.onChange}\r\n+                className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 mt-1.5\"\r\n+              >\r\n+                <div className=\"flex items-center space-x-2\">\r\n+                  <RadioGroupItem value=\"student\" id=\"student\" />\r\n+                  <Label\r\n+                    htmlFor=\"student\"\r\n+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n+                  >\r\n+                    Student\r\n+                  </Label>\r\n+                </div>\r\n+                <div className=\"flex items-center space-x-2\">\r\n+                  <RadioGroupItem value=\"junior\" id=\"junior\" />\r\n+                  <Label\r\n+                    htmlFor=\"junior\"\r\n+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n+                  >\r\n+                    Junior\r\n+                  </Label>\r\n+                </div>\r\n+                <div className=\"flex items-center space-x-2\">\r\n+                  <RadioGroupItem value=\"mid\" id=\"mid\" />\r\n+                  <Label\r\n+                    htmlFor=\"mid\"\r\n+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n+                  >\r\n+                    Mid-level\r\n+                  </Label>\r\n+                </div>\r\n+                <div className=\"flex items-center space-x-2\">\r\n+                  <RadioGroupItem value=\"senior\" id=\"senior\" />\r\n+                  <Label\r\n+                    htmlFor=\"senior\"\r\n+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n+                  >\r\n+                    Senior\r\n+                  </Label>\r\n+                </div>\r\n+              </RadioGroup>\r\n+            )}\r\n+          />\r\n+          {errors.experience_level && (\r\n+            <p className=\"text-red-400 text-sm mt-1\">\r\n+              {errors.experience_level.message}\r\n+            </p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div>\r\n+          <Label htmlFor=\"team_size\">Team Size</Label>\r\n+          <Input\r\n+            id=\"team_size\"\r\n+            type=\"number\"\r\n+            min=\"1\"\r\n+            max=\"10\"\r\n+            className=\"bg-primary-background mt-1.5 w-full sm:w-1/4\"\r\n+            {...register(\"team_size\")}\r\n+          />\r\n+          {errors.team_size && (\r\n+            <p className=\"text-red-400 text-sm mt-1\">\r\n+              {errors.team_size.message}\r\n+            </p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div>\r\n+          <Label className=\"mb-3 block\">Project Time Scale</Label>\r\n+          <Controller\r\n+            name=\"time_scale\"\r\n+            control={control}\r\n+            defaultValue=\"medium\"\r\n+            render={({ field }) => (\r\n+              <RadioGroup\r\n+                value={field.value}\r\n+                onValueChange={field.onChange}\r\n+                className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 mt-1.5\"\r\n+              >\r\n+                <div className=\"flex items-center space-x-2\">\r\n+                  <RadioGroupItem value=\"small\" id=\"small\" />\r\n+                  <Label\r\n+                    htmlFor=\"small\"\r\n+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n+                  >\r\n+                    Small (&lt;40 hours)\r\n+                  </Label>\r\n+                </div>\r\n+                <div className=\"flex items-center space-x-2\">\r\n+                  <RadioGroupItem value=\"medium\" id=\"medium\" />\r\n+                  <Label\r\n+                    htmlFor=\"medium\"\r\n+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n+                  >\r\n+                    Medium (40-100 hours)\r\n+                  </Label>\r\n+                </div>\r\n+                <div className=\"flex items-center space-x-2\">\r\n+                  <RadioGroupItem value=\"large\" id=\"large\" />\r\n+                  <Label\r\n+                    htmlFor=\"large\"\r\n+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n+                  >\r\n+                    Large (100-300 hours)\r\n+                  </Label>\r\n+                </div>\r\n+                <div className=\"flex items-center space-x-2\">\r\n+                  <RadioGroupItem value=\"custom\" id=\"custom\" />\r\n+                  <Label\r\n+                    htmlFor=\"custom\"\r\n+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n+                  >\r\n+                    Custom\r\n+                  </Label>\r\n+                </div>\r\n+              </RadioGroup>\r\n+            )}\r\n+          />\r\n+          {errors.time_scale && (\r\n+            <p className=\"text-red-400 text-sm mt-1\">\r\n+              {errors.time_scale.message}\r\n+            </p>\r\n+          )}\r\n+        </div>\r\n+\r\n+        {showCustomHours && (\r\n+          <div>\r\n+            <Label htmlFor=\"custom_hours\">Custom Hours</Label>\r\n+            <Input\r\n+              id=\"custom_hours\"\r\n+              type=\"number\"\r\n+              min=\"1\"\r\n+              max=\"1000\"\r\n+              placeholder=\"Enter hours (1-1000)\"\r\n+              className=\"bg-primary-background mt-1.5 w-full sm:w-1/4\"\r\n+              {...register(\"custom_hours\", {\r\n+                required: timeScale === \"custom\",\r\n+              })}\r\n+            />\r\n+            {errors.custom_hours && (\r\n+              <p className=\"text-red-400 text-sm mt-1\">\r\n+                {errors.custom_hours.message}\r\n+              </p>\r\n+            )}\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+\r\n+      <div className=\"flex justify-end pt-4\">\r\n+        <Button\r\n+          type=\"submit\"\r\n+          disabled={isLoading}\r\n+          className=\"bg-primary-cta hover:bg-primary-cta/90\"\r\n+        >\r\n+          {isLoading ? (\r\n+            <>\r\n+              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n+              Generating Questions...\r\n+            </>\r\n+          ) : (\r\n+            <>Continue</>\r\n+          )}\r\n+        </Button>\r\n+      </div>\r\n+    </form>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,303 +1,303 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import { useForm, Controller } from \"react-hook-form\";\n",
        "-import { zodResolver } from \"@hookform/resolvers/zod\";\n",
        "-import * as z from \"zod\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import { Textarea } from \"@/components/ui/textarea\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\n",
        "-import { Label } from \"@/components/ui/label\";\n",
        "-import { Loader2 } from \"lucide-react\";\n",
        "-import { TechStackSelector } from \"./tech-stack-selector\";\n",
        "-import { TimeScale, PlanGenerationInput } from \"../types\";\n",
        "-\n",
        "-// Define form validation schema\n",
        "-const formSchema = z.object({\n",
        "-  name: z\n",
        "-    .string()\n",
        "-    .min(3, { message: \"Project name must be at least 3 characters\" }),\n",
        "-  description: z\n",
        "-    .string()\n",
        "-    .min(10, { message: \"Description must be at least 10 characters\" }),\n",
        "-  experience_level: z.enum([\"student\", \"junior\", \"mid\", \"senior\"], {\n",
        "-    required_error: \"Please select an experience level\",\n",
        "-  }),\n",
        "-  team_size: z.coerce.number().int().min(1).max(10),\n",
        "-  time_scale: z.enum([\"small\", \"medium\", \"large\", \"custom\"], {\n",
        "-    required_error: \"Please select a time scale\",\n",
        "-  }),\n",
        "-  custom_hours: z.coerce.number().int().min(1).max(1000).optional().nullable(),\n",
        "-});\n",
        "-\n",
        "-type FormValues = z.infer<typeof formSchema>;\n",
        "-\n",
        "-interface PlanGenerationFormProps {\n",
        "-  onSubmit: (data: PlanGenerationInput) => void;\n",
        "-  isLoading: boolean;\n",
        "-}\n",
        "-\n",
        "-export function PlanGenerationForm({\n",
        "-  onSubmit,\n",
        "-  isLoading,\n",
        "-}: PlanGenerationFormProps) {\n",
        "-  const [techStack, setTechStack] = useState<string[]>([]);\n",
        "-\n",
        "-  const {\n",
        "-    register,\n",
        "-    handleSubmit,\n",
        "-    watch,\n",
        "-    control,\n",
        "-    setValue,\n",
        "-    formState: { errors },\n",
        "-  } = useForm<FormValues>({\n",
        "-    resolver: zodResolver(formSchema),\n",
        "-    defaultValues: {\n",
        "-      name: \"\",\n",
        "-      description: \"\",\n",
        "-      experience_level: \"mid\",\n",
        "-      team_size: 1,\n",
        "-      time_scale: \"medium\",\n",
        "-      custom_hours: null,\n",
        "-    },\n",
        "-  });\n",
        "-\n",
        "-  const timeScale = watch(\"time_scale\");\n",
        "-  const showCustomHours = timeScale === \"custom\";\n",
        "-\n",
        "-  // Make sure custom_hours is required when time_scale is custom\n",
        "-  useEffect(() => {\n",
        "-    if (timeScale === \"custom\") {\n",
        "-      setValue(\"custom_hours\", 100); // Set default value\n",
        "-    } else {\n",
        "-      setValue(\"custom_hours\", null);\n",
        "-    }\n",
        "-  }, [timeScale, setValue]);\n",
        "-\n",
        "-  const handleFormSubmit = (data: FormValues) => {\n",
        "-    // Convert form time_scale string to TimeScale enum\n",
        "-    const mappedTimeScale: TimeScale = data.time_scale as unknown as TimeScale;\n",
        "-\n",
        "-    const formData: PlanGenerationInput = {\n",
        "-      ...data,\n",
        "-      time_scale: mappedTimeScale,\n",
        "-      tech_stack: techStack,\n",
        "-    };\n",
        "-\n",
        "-    onSubmit(formData);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <form onSubmit={handleSubmit(handleFormSubmit)} className=\"space-y-6\">\n",
        "-      <h2 className=\"text-xl font-semibold mb-4\">Project Details</h2>\n",
        "-\n",
        "-      <div className=\"space-y-5\">\n",
        "-        <div>\n",
        "-          <Label htmlFor=\"name\">Project Name</Label>\n",
        "-          <Input\n",
        "-            id=\"name\"\n",
        "-            placeholder=\"e.g. E-commerce Website\"\n",
        "-            {...register(\"name\")}\n",
        "-            className=\"bg-primary-background mt-1.5\"\n",
        "-          />\n",
        "-          {errors.name && (\n",
        "-            <p className=\"text-red-400 text-sm mt-1\">{errors.name.message}</p>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div>\n",
        "-          <Label htmlFor=\"description\">Project Description</Label>\n",
        "-          <Textarea\n",
        "-            id=\"description\"\n",
        "-            placeholder=\"Describe your project, its purpose, and key features...\"\n",
        "-            className=\"bg-primary-background mt-1.5 min-h-[100px]\"\n",
        "-            {...register(\"description\")}\n",
        "-          />\n",
        "-          {errors.description && (\n",
        "-            <p className=\"text-red-400 text-sm mt-1\">\n",
        "-              {errors.description.message}\n",
        "-            </p>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div>\n",
        "-          <Label className=\"mb-3 block\">Technology Stack</Label>\n",
        "-          <TechStackSelector selectedTech={techStack} onChange={setTechStack} />\n",
        "-        </div>\n",
        "-\n",
        "-        <div>\n",
        "-          <Label className=\"mb-3 block\">Experience Level</Label>\n",
        "-          <Controller\n",
        "-            name=\"experience_level\"\n",
        "-            control={control}\n",
        "-            defaultValue=\"mid\"\n",
        "-            render={({ field }) => (\n",
        "-              <RadioGroup\n",
        "-                value={field.value}\n",
        "-                onValueChange={field.onChange}\n",
        "-                className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 mt-1.5\"\n",
        "-              >\n",
        "-                <div className=\"flex items-center space-x-2\">\n",
        "-                  <RadioGroupItem value=\"student\" id=\"student\" />\n",
        "-                  <Label\n",
        "-                    htmlFor=\"student\"\n",
        "-                    className=\"cursor-pointer hover:text-primary-cta\"\n",
        "-                  >\n",
        "-                    Student\n",
        "-                  </Label>\n",
        "-                </div>\n",
        "-                <div className=\"flex items-center space-x-2\">\n",
        "-                  <RadioGroupItem value=\"junior\" id=\"junior\" />\n",
        "-                  <Label\n",
        "-                    htmlFor=\"junior\"\n",
        "-                    className=\"cursor-pointer hover:text-primary-cta\"\n",
        "-                  >\n",
        "-                    Junior\n",
        "-                  </Label>\n",
        "-                </div>\n",
        "-                <div className=\"flex items-center space-x-2\">\n",
        "-                  <RadioGroupItem value=\"mid\" id=\"mid\" />\n",
        "-                  <Label\n",
        "-                    htmlFor=\"mid\"\n",
        "-                    className=\"cursor-pointer hover:text-primary-cta\"\n",
        "-                  >\n",
        "-                    Mid-level\n",
        "-                  </Label>\n",
        "-                </div>\n",
        "-                <div className=\"flex items-center space-x-2\">\n",
        "-                  <RadioGroupItem value=\"senior\" id=\"senior\" />\n",
        "-                  <Label\n",
        "-                    htmlFor=\"senior\"\n",
        "-                    className=\"cursor-pointer hover:text-primary-cta\"\n",
        "-                  >\n",
        "-                    Senior\n",
        "-                  </Label>\n",
        "-                </div>\n",
        "-              </RadioGroup>\n",
        "-            )}\n",
        "-          />\n",
        "-          {errors.experience_level && (\n",
        "-            <p className=\"text-red-400 text-sm mt-1\">\n",
        "-              {errors.experience_level.message}\n",
        "-            </p>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div>\n",
        "-          <Label htmlFor=\"team_size\">Team Size</Label>\n",
        "-          <Input\n",
        "-            id=\"team_size\"\n",
        "-            type=\"number\"\n",
        "-            min=\"1\"\n",
        "-            max=\"10\"\n",
        "-            className=\"bg-primary-background mt-1.5 w-full sm:w-1/4\"\n",
        "-            {...register(\"team_size\")}\n",
        "-          />\n",
        "-          {errors.team_size && (\n",
        "-            <p className=\"text-red-400 text-sm mt-1\">\n",
        "-              {errors.team_size.message}\n",
        "-            </p>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div>\n",
        "-          <Label className=\"mb-3 block\">Project Time Scale</Label>\n",
        "-          <Controller\n",
        "-            name=\"time_scale\"\n",
        "-            control={control}\n",
        "-            defaultValue=\"medium\"\n",
        "-            render={({ field }) => (\n",
        "-              <RadioGroup\n",
        "-                value={field.value}\n",
        "-                onValueChange={field.onChange}\n",
        "-                className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 mt-1.5\"\n",
        "-              >\n",
        "-                <div className=\"flex items-center space-x-2\">\n",
        "-                  <RadioGroupItem value=\"small\" id=\"small\" />\n",
        "-                  <Label\n",
        "-                    htmlFor=\"small\"\n",
        "-                    className=\"cursor-pointer hover:text-primary-cta\"\n",
        "-                  >\n",
        "-                    Small (&lt;40 hours)\n",
        "-                  </Label>\n",
        "-                </div>\n",
        "-                <div className=\"flex items-center space-x-2\">\n",
        "-                  <RadioGroupItem value=\"medium\" id=\"medium\" />\n",
        "-                  <Label\n",
        "-                    htmlFor=\"medium\"\n",
        "-                    className=\"cursor-pointer hover:text-primary-cta\"\n",
        "-                  >\n",
        "-                    Medium (40-100 hours)\n",
        "-                  </Label>\n",
        "-                </div>\n",
        "-                <div className=\"flex items-center space-x-2\">\n",
        "-                  <RadioGroupItem value=\"large\" id=\"large\" />\n",
        "-                  <Label\n",
        "-                    htmlFor=\"large\"\n",
        "-                    className=\"cursor-pointer hover:text-primary-cta\"\n",
        "-                  >\n",
        "-                    Large (100-300 hours)\n",
        "-                  </Label>\n",
        "-                </div>\n",
        "-                <div className=\"flex items-center space-x-2\">\n",
        "-                  <RadioGroupItem value=\"custom\" id=\"custom\" />\n",
        "-                  <Label\n",
        "-                    htmlFor=\"custom\"\n",
        "-                    className=\"cursor-pointer hover:text-primary-cta\"\n",
        "-                  >\n",
        "-                    Custom\n",
        "-                  </Label>\n",
        "-                </div>\n",
        "-              </RadioGroup>\n",
        "-            )}\n",
        "-          />\n",
        "-          {errors.time_scale && (\n",
        "-            <p className=\"text-red-400 text-sm mt-1\">\n",
        "-              {errors.time_scale.message}\n",
        "-            </p>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        {showCustomHours && (\n",
        "-          <div>\n",
        "-            <Label htmlFor=\"custom_hours\">Custom Hours</Label>\n",
        "-            <Input\n",
        "-              id=\"custom_hours\"\n",
        "-              type=\"number\"\n",
        "-              min=\"1\"\n",
        "-              max=\"1000\"\n",
        "-              placeholder=\"Enter hours (1-1000)\"\n",
        "-              className=\"bg-primary-background mt-1.5 w-full sm:w-1/4\"\n",
        "-              {...register(\"custom_hours\", {\n",
        "-                required: timeScale === \"custom\",\n",
        "-              })}\n",
        "-            />\n",
        "-            {errors.custom_hours && (\n",
        "-              <p className=\"text-red-400 text-sm mt-1\">\n",
        "-                {errors.custom_hours.message}\n",
        "-              </p>\n",
        "-            )}\n",
        "-          </div>\n",
        "-        )}\n",
        "-      </div>\n",
        "-\n",
        "-      <div className=\"flex justify-end pt-4\">\n",
        "-        <Button\n",
        "-          type=\"submit\"\n",
        "-          disabled={isLoading}\n",
        "-          className=\"bg-primary-cta hover:bg-primary-cta/90\"\n",
        "-        >\n",
        "-          {isLoading ? (\n",
        "-            <>\n",
        "-              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n",
        "-              Generating Questions...\n",
        "-            </>\n",
        "-          ) : (\n",
        "-            <>Continue</>\n",
        "-          )}\n",
        "-        </Button>\n",
        "-      </div>\n",
        "-    </form>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import { useForm, Controller } from \"react-hook-form\";\r\n",
        "+import { zodResolver } from \"@hookform/resolvers/zod\";\r\n",
        "+import * as z from \"zod\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import { Textarea } from \"@/components/ui/textarea\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\r\n",
        "+import { Label } from \"@/components/ui/label\";\r\n",
        "+import { Loader2 } from \"lucide-react\";\r\n",
        "+import { TechStackSelector } from \"./tech-stack-selector\";\r\n",
        "+import { TimeScale, PlanGenerationInput } from \"../types\";\r\n",
        "+\r\n",
        "+// Define form validation schema\r\n",
        "+const formSchema = z.object({\r\n",
        "+  name: z\r\n",
        "+    .string()\r\n",
        "+    .min(3, { message: \"Project name must be at least 3 characters\" }),\r\n",
        "+  description: z\r\n",
        "+    .string()\r\n",
        "+    .min(10, { message: \"Description must be at least 10 characters\" }),\r\n",
        "+  experience_level: z.enum([\"student\", \"junior\", \"mid\", \"senior\"], {\r\n",
        "+    required_error: \"Please select an experience level\",\r\n",
        "+  }),\r\n",
        "+  team_size: z.coerce.number().int().min(1).max(10),\r\n",
        "+  time_scale: z.enum([\"small\", \"medium\", \"large\", \"custom\"], {\r\n",
        "+    required_error: \"Please select a time scale\",\r\n",
        "+  }),\r\n",
        "+  custom_hours: z.coerce.number().int().min(1).max(1000).optional().nullable(),\r\n",
        "+});\r\n",
        "+\r\n",
        "+type FormValues = z.infer<typeof formSchema>;\r\n",
        "+\r\n",
        "+interface PlanGenerationFormProps {\r\n",
        "+  onSubmit: (data: PlanGenerationInput) => void;\r\n",
        "+  isLoading: boolean;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function PlanGenerationForm({\r\n",
        "+  onSubmit,\r\n",
        "+  isLoading,\r\n",
        "+}: PlanGenerationFormProps) {\r\n",
        "+  const [techStack, setTechStack] = useState<string[]>([]);\r\n",
        "+\r\n",
        "+  const {\r\n",
        "+    register,\r\n",
        "+    handleSubmit,\r\n",
        "+    watch,\r\n",
        "+    control,\r\n",
        "+    setValue,\r\n",
        "+    formState: { errors },\r\n",
        "+  } = useForm<FormValues>({\r\n",
        "+    resolver: zodResolver(formSchema),\r\n",
        "+    defaultValues: {\r\n",
        "+      name: \"\",\r\n",
        "+      description: \"\",\r\n",
        "+      experience_level: \"mid\",\r\n",
        "+      team_size: 1,\r\n",
        "+      time_scale: \"medium\",\r\n",
        "+      custom_hours: null,\r\n",
        "+    },\r\n",
        "+  });\r\n",
        "+\r\n",
        "+  const timeScale = watch(\"time_scale\");\r\n",
        "+  const showCustomHours = timeScale === \"custom\";\r\n",
        "+\r\n",
        "+  // Make sure custom_hours is required when time_scale is custom\r\n",
        "+  useEffect(() => {\r\n",
        "+    if (timeScale === \"custom\") {\r\n",
        "+      setValue(\"custom_hours\", 100); // Set default value\r\n",
        "+    } else {\r\n",
        "+      setValue(\"custom_hours\", null);\r\n",
        "+    }\r\n",
        "+  }, [timeScale, setValue]);\r\n",
        "+\r\n",
        "+  const handleFormSubmit = (data: FormValues) => {\r\n",
        "+    // Convert form time_scale string to TimeScale enum\r\n",
        "+    const mappedTimeScale: TimeScale = data.time_scale as unknown as TimeScale;\r\n",
        "+\r\n",
        "+    const formData: PlanGenerationInput = {\r\n",
        "+      ...data,\r\n",
        "+      time_scale: mappedTimeScale,\r\n",
        "+      tech_stack: techStack,\r\n",
        "+    };\r\n",
        "+\r\n",
        "+    onSubmit(formData);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <form onSubmit={handleSubmit(handleFormSubmit)} className=\"space-y-6\">\r\n",
        "+      <h2 className=\"text-xl font-semibold mb-4\">Project Details</h2>\r\n",
        "+\r\n",
        "+      <div className=\"space-y-5\">\r\n",
        "+        <div>\r\n",
        "+          <Label htmlFor=\"name\">Project Name</Label>\r\n",
        "+          <Input\r\n",
        "+            id=\"name\"\r\n",
        "+            placeholder=\"e.g. E-commerce Website\"\r\n",
        "+            {...register(\"name\")}\r\n",
        "+            className=\"bg-primary-background mt-1.5\"\r\n",
        "+          />\r\n",
        "+          {errors.name && (\r\n",
        "+            <p className=\"text-red-400 text-sm mt-1\">{errors.name.message}</p>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div>\r\n",
        "+          <Label htmlFor=\"description\">Project Description</Label>\r\n",
        "+          <Textarea\r\n",
        "+            id=\"description\"\r\n",
        "+            placeholder=\"Describe your project, its purpose, and key features...\"\r\n",
        "+            className=\"bg-primary-background mt-1.5 min-h-[100px]\"\r\n",
        "+            {...register(\"description\")}\r\n",
        "+          />\r\n",
        "+          {errors.description && (\r\n",
        "+            <p className=\"text-red-400 text-sm mt-1\">\r\n",
        "+              {errors.description.message}\r\n",
        "+            </p>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div>\r\n",
        "+          <Label className=\"mb-3 block\">Technology Stack</Label>\r\n",
        "+          <TechStackSelector selectedTech={techStack} onChange={setTechStack} />\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div>\r\n",
        "+          <Label className=\"mb-3 block\">Experience Level</Label>\r\n",
        "+          <Controller\r\n",
        "+            name=\"experience_level\"\r\n",
        "+            control={control}\r\n",
        "+            defaultValue=\"mid\"\r\n",
        "+            render={({ field }) => (\r\n",
        "+              <RadioGroup\r\n",
        "+                value={field.value}\r\n",
        "+                onValueChange={field.onChange}\r\n",
        "+                className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 mt-1.5\"\r\n",
        "+              >\r\n",
        "+                <div className=\"flex items-center space-x-2\">\r\n",
        "+                  <RadioGroupItem value=\"student\" id=\"student\" />\r\n",
        "+                  <Label\r\n",
        "+                    htmlFor=\"student\"\r\n",
        "+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n",
        "+                  >\r\n",
        "+                    Student\r\n",
        "+                  </Label>\r\n",
        "+                </div>\r\n",
        "+                <div className=\"flex items-center space-x-2\">\r\n",
        "+                  <RadioGroupItem value=\"junior\" id=\"junior\" />\r\n",
        "+                  <Label\r\n",
        "+                    htmlFor=\"junior\"\r\n",
        "+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n",
        "+                  >\r\n",
        "+                    Junior\r\n",
        "+                  </Label>\r\n",
        "+                </div>\r\n",
        "+                <div className=\"flex items-center space-x-2\">\r\n",
        "+                  <RadioGroupItem value=\"mid\" id=\"mid\" />\r\n",
        "+                  <Label\r\n",
        "+                    htmlFor=\"mid\"\r\n",
        "+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n",
        "+                  >\r\n",
        "+                    Mid-level\r\n",
        "+                  </Label>\r\n",
        "+                </div>\r\n",
        "+                <div className=\"flex items-center space-x-2\">\r\n",
        "+                  <RadioGroupItem value=\"senior\" id=\"senior\" />\r\n",
        "+                  <Label\r\n",
        "+                    htmlFor=\"senior\"\r\n",
        "+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n",
        "+                  >\r\n",
        "+                    Senior\r\n",
        "+                  </Label>\r\n",
        "+                </div>\r\n",
        "+              </RadioGroup>\r\n",
        "+            )}\r\n",
        "+          />\r\n",
        "+          {errors.experience_level && (\r\n",
        "+            <p className=\"text-red-400 text-sm mt-1\">\r\n",
        "+              {errors.experience_level.message}\r\n",
        "+            </p>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div>\r\n",
        "+          <Label htmlFor=\"team_size\">Team Size</Label>\r\n",
        "+          <Input\r\n",
        "+            id=\"team_size\"\r\n",
        "+            type=\"number\"\r\n",
        "+            min=\"1\"\r\n",
        "+            max=\"10\"\r\n",
        "+            className=\"bg-primary-background mt-1.5 w-full sm:w-1/4\"\r\n",
        "+            {...register(\"team_size\")}\r\n",
        "+          />\r\n",
        "+          {errors.team_size && (\r\n",
        "+            <p className=\"text-red-400 text-sm mt-1\">\r\n",
        "+              {errors.team_size.message}\r\n",
        "+            </p>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div>\r\n",
        "+          <Label className=\"mb-3 block\">Project Time Scale</Label>\r\n",
        "+          <Controller\r\n",
        "+            name=\"time_scale\"\r\n",
        "+            control={control}\r\n",
        "+            defaultValue=\"medium\"\r\n",
        "+            render={({ field }) => (\r\n",
        "+              <RadioGroup\r\n",
        "+                value={field.value}\r\n",
        "+                onValueChange={field.onChange}\r\n",
        "+                className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 mt-1.5\"\r\n",
        "+              >\r\n",
        "+                <div className=\"flex items-center space-x-2\">\r\n",
        "+                  <RadioGroupItem value=\"small\" id=\"small\" />\r\n",
        "+                  <Label\r\n",
        "+                    htmlFor=\"small\"\r\n",
        "+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n",
        "+                  >\r\n",
        "+                    Small (&lt;40 hours)\r\n",
        "+                  </Label>\r\n",
        "+                </div>\r\n",
        "+                <div className=\"flex items-center space-x-2\">\r\n",
        "+                  <RadioGroupItem value=\"medium\" id=\"medium\" />\r\n",
        "+                  <Label\r\n",
        "+                    htmlFor=\"medium\"\r\n",
        "+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n",
        "+                  >\r\n",
        "+                    Medium (40-100 hours)\r\n",
        "+                  </Label>\r\n",
        "+                </div>\r\n",
        "+                <div className=\"flex items-center space-x-2\">\r\n",
        "+                  <RadioGroupItem value=\"large\" id=\"large\" />\r\n",
        "+                  <Label\r\n",
        "+                    htmlFor=\"large\"\r\n",
        "+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n",
        "+                  >\r\n",
        "+                    Large (100-300 hours)\r\n",
        "+                  </Label>\r\n",
        "+                </div>\r\n",
        "+                <div className=\"flex items-center space-x-2\">\r\n",
        "+                  <RadioGroupItem value=\"custom\" id=\"custom\" />\r\n",
        "+                  <Label\r\n",
        "+                    htmlFor=\"custom\"\r\n",
        "+                    className=\"cursor-pointer hover:text-primary-cta\"\r\n",
        "+                  >\r\n",
        "+                    Custom\r\n",
        "+                  </Label>\r\n",
        "+                </div>\r\n",
        "+              </RadioGroup>\r\n",
        "+            )}\r\n",
        "+          />\r\n",
        "+          {errors.time_scale && (\r\n",
        "+            <p className=\"text-red-400 text-sm mt-1\">\r\n",
        "+              {errors.time_scale.message}\r\n",
        "+            </p>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {showCustomHours && (\r\n",
        "+          <div>\r\n",
        "+            <Label htmlFor=\"custom_hours\">Custom Hours</Label>\r\n",
        "+            <Input\r\n",
        "+              id=\"custom_hours\"\r\n",
        "+              type=\"number\"\r\n",
        "+              min=\"1\"\r\n",
        "+              max=\"1000\"\r\n",
        "+              placeholder=\"Enter hours (1-1000)\"\r\n",
        "+              className=\"bg-primary-background mt-1.5 w-full sm:w-1/4\"\r\n",
        "+              {...register(\"custom_hours\", {\r\n",
        "+                required: timeScale === \"custom\",\r\n",
        "+              })}\r\n",
        "+            />\r\n",
        "+            {errors.custom_hours && (\r\n",
        "+              <p className=\"text-red-400 text-sm mt-1\">\r\n",
        "+                {errors.custom_hours.message}\r\n",
        "+              </p>\r\n",
        "+            )}\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      <div className=\"flex justify-end pt-4\">\r\n",
        "+        <Button\r\n",
        "+          type=\"submit\"\r\n",
        "+          disabled={isLoading}\r\n",
        "+          className=\"bg-primary-cta hover:bg-primary-cta/90\"\r\n",
        "+        >\r\n",
        "+          {isLoading ? (\r\n",
        "+            <>\r\n",
        "+              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n",
        "+              Generating Questions...\r\n",
        "+            </>\r\n",
        "+          ) : (\r\n",
        "+            <>Continue</>\r\n",
        "+          )}\r\n",
        "+        </Button>\r\n",
        "+      </div>\r\n",
        "+    </form>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/new/components/tech-stack-selector.tsx",
      "status": "modified",
      "additions": 206,
      "deletions": 206,
      "patch": "@@ -1,206 +1,206 @@\n-\"use client\";\n-\n-import { useState } from \"react\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { Button } from \"@/components/ui/button\";\n-import { Input } from \"@/components/ui/input\";\n-import { X, Plus } from \"lucide-react\";\n-import { Badge } from \"@/components/ui/badge\";\n-\n-// Predefined technology options\n-const PREDEFINED_TECH_OPTIONS = [\n-  // Frontend\n-  \"React\",\n-  \"Angular\",\n-  \"Vue.js\",\n-  \"Next.js\",\n-  \"Svelte\",\n-  \"TypeScript\",\n-  \"JavaScript\",\n-  \"HTML/CSS\",\n-  \"Tailwind CSS\",\n-  \"Material UI\",\n-\n-  // Backend\n-  \"Node.js\",\n-  \"Express\",\n-  \"NestJS\",\n-  \"Django\",\n-  \"Flask\",\n-  \"Ruby on Rails\",\n-  \"Spring Boot\",\n-  \"ASP.NET Core\",\n-  \"FastAPI\",\n-\n-  // Database\n-  \"MongoDB\",\n-  \"PostgreSQL\",\n-  \"MySQL\",\n-  \"SQLite\",\n-  \"Redis\",\n-  \"Firebase\",\n-  \"DynamoDB\",\n-\n-  // Mobile\n-  \"React Native\",\n-  \"Flutter\",\n-  \"Swift\",\n-  \"Kotlin\",\n-\n-  // DevOps/Infra\n-  \"Docker\",\n-  \"Kubernetes\",\n-  \"AWS\",\n-  \"Azure\",\n-  \"Google Cloud\",\n-  \"Vercel\",\n-  \"Netlify\",\n-\n-  // Other\n-  \"GraphQL\",\n-  \"REST API\",\n-  \"WebSockets\",\n-  \"TensorFlow\",\n-  \"PyTorch\",\n-];\n-\n-interface TechStackSelectorProps {\n-  selectedTech: string[];\n-  onChange: (technologies: string[]) => void;\n-}\n-\n-export function TechStackSelector({\n-  selectedTech,\n-  onChange,\n-}: TechStackSelectorProps) {\n-  const [customTech, setCustomTech] = useState(\"\");\n-  const [selectedOption, setSelectedOption] = useState<string | undefined>(\n-    undefined\n-  );\n-\n-  // Filter out already selected technologies\n-  const availableTechOptions = PREDEFINED_TECH_OPTIONS.filter(\n-    (tech) => !selectedTech.includes(tech)\n-  ).sort();\n-\n-  // Add a technology from the dropdown\n-  const handleAddSelectedTech = () => {\n-    if (selectedOption && !selectedTech.includes(selectedOption)) {\n-      onChange([...selectedTech, selectedOption]);\n-      setSelectedOption(undefined); // Reset selection\n-    }\n-  };\n-\n-  // Add a custom technology\n-  const handleAddCustomTech = () => {\n-    if (customTech.trim() && !selectedTech.includes(customTech.trim())) {\n-      onChange([...selectedTech, customTech.trim()]);\n-      setCustomTech(\"\"); // Clear input\n-    }\n-  };\n-\n-  // Handle pressing Enter in the custom tech input\n-  const handleCustomTechKeyDown = (e: React.KeyboardEvent) => {\n-    if (e.key === \"Enter\" && customTech.trim()) {\n-      e.preventDefault();\n-      handleAddCustomTech();\n-    }\n-  };\n-\n-  // Remove a technology\n-  const handleRemoveTech = (techToRemove: string) => {\n-    onChange(selectedTech.filter((tech) => tech !== techToRemove));\n-  };\n-\n-  return (\n-    <div className=\"space-y-4\">\n-      <div className=\"flex flex-wrap gap-2 min-h-[36px]\">\n-        {selectedTech.map((tech) => (\n-          <Badge\n-            key={tech}\n-            variant=\"secondary\"\n-            className=\"bg-secondary-background border border-divider py-1.5 px-2.5\"\n-          >\n-            {tech}\n-            <button\n-              type=\"button\"\n-              onClick={() => handleRemoveTech(tech)}\n-              className=\"ml-1.5 text-secondary-text hover:text-primary-text focus:outline-none\"\n-            >\n-              <X className=\"h-3.5 w-3.5\" />\n-            </button>\n-          </Badge>\n-        ))}\n-        {selectedTech.length === 0 && (\n-          <p className=\"text-secondary-text text-sm\">\n-            No technologies selected\n-          </p>\n-        )}\n-      </div>\n-\n-      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n-        {/* Predefined tech dropdown */}\n-        <div className=\"flex\">\n-          <Select value={selectedOption} onValueChange={setSelectedOption}>\n-            <SelectTrigger\n-              className=\"bg-primary-background flex-1\"\n-              aria-label=\"Select technology\"\n-            >\n-              <SelectValue placeholder=\"Select technology\" />\n-            </SelectTrigger>\n-            <SelectContent className=\"max-h-[300px]\">\n-              {availableTechOptions.length > 0 ? (\n-                availableTechOptions.map((tech) => (\n-                  <SelectItem key={tech} value={tech}>\n-                    {tech}\n-                  </SelectItem>\n-                ))\n-              ) : (\n-                <div className=\"p-2 text-secondary-text text-center text-sm\">\n-                  All predefined options selected\n-                </div>\n-              )}\n-            </SelectContent>\n-          </Select>\n-          <Button\n-            type=\"button\"\n-            size=\"sm\"\n-            onClick={handleAddSelectedTech}\n-            disabled={!selectedOption}\n-            className=\"ml-2 text-primary-cta/90 hover:text-primary-cta border border-divider hover:bg-secondary-background h-10\"\n-            variant=\"outline\"\n-          >\n-            <Plus className=\"h-4 w-4\" />\n-          </Button>\n-        </div>\n-\n-        {/* Custom tech input */}\n-        <div className=\"flex\">\n-          <Input\n-            placeholder=\"Add custom technology\"\n-            value={customTech}\n-            onChange={(e) => setCustomTech(e.target.value)}\n-            onKeyDown={handleCustomTechKeyDown}\n-            className=\"bg-primary-background flex-1\"\n-          />\n-          <Button\n-            type=\"button\"\n-            size=\"sm\"\n-            onClick={handleAddCustomTech}\n-            disabled={!customTech.trim()}\n-            className=\"ml-2 text-primary-cta/90 hover:text-primary-cta border border-divider hover:bg-secondary-background h-10\"\n-            variant=\"outline\"\n-          >\n-            <Plus className=\"h-4 w-4\" />\n-          </Button>\n-        </div>\n-      </div>\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { X, Plus } from \"lucide-react\";\r\n+import { Badge } from \"@/components/ui/badge\";\r\n+\r\n+// Predefined technology options\r\n+const PREDEFINED_TECH_OPTIONS = [\r\n+  // Frontend\r\n+  \"React\",\r\n+  \"Angular\",\r\n+  \"Vue.js\",\r\n+  \"Next.js\",\r\n+  \"Svelte\",\r\n+  \"TypeScript\",\r\n+  \"JavaScript\",\r\n+  \"HTML/CSS\",\r\n+  \"Tailwind CSS\",\r\n+  \"Material UI\",\r\n+\r\n+  // Backend\r\n+  \"Node.js\",\r\n+  \"Express\",\r\n+  \"NestJS\",\r\n+  \"Django\",\r\n+  \"Flask\",\r\n+  \"Ruby on Rails\",\r\n+  \"Spring Boot\",\r\n+  \"ASP.NET Core\",\r\n+  \"FastAPI\",\r\n+\r\n+  // Database\r\n+  \"MongoDB\",\r\n+  \"PostgreSQL\",\r\n+  \"MySQL\",\r\n+  \"SQLite\",\r\n+  \"Redis\",\r\n+  \"Firebase\",\r\n+  \"DynamoDB\",\r\n+\r\n+  // Mobile\r\n+  \"React Native\",\r\n+  \"Flutter\",\r\n+  \"Swift\",\r\n+  \"Kotlin\",\r\n+\r\n+  // DevOps/Infra\r\n+  \"Docker\",\r\n+  \"Kubernetes\",\r\n+  \"AWS\",\r\n+  \"Azure\",\r\n+  \"Google Cloud\",\r\n+  \"Vercel\",\r\n+  \"Netlify\",\r\n+\r\n+  // Other\r\n+  \"GraphQL\",\r\n+  \"REST API\",\r\n+  \"WebSockets\",\r\n+  \"TensorFlow\",\r\n+  \"PyTorch\",\r\n+];\r\n+\r\n+interface TechStackSelectorProps {\r\n+  selectedTech: string[];\r\n+  onChange: (technologies: string[]) => void;\r\n+}\r\n+\r\n+export function TechStackSelector({\r\n+  selectedTech,\r\n+  onChange,\r\n+}: TechStackSelectorProps) {\r\n+  const [customTech, setCustomTech] = useState(\"\");\r\n+  const [selectedOption, setSelectedOption] = useState<string | undefined>(\r\n+    undefined\r\n+  );\r\n+\r\n+  // Filter out already selected technologies\r\n+  const availableTechOptions = PREDEFINED_TECH_OPTIONS.filter(\r\n+    (tech) => !selectedTech.includes(tech)\r\n+  ).sort();\r\n+\r\n+  // Add a technology from the dropdown\r\n+  const handleAddSelectedTech = () => {\r\n+    if (selectedOption && !selectedTech.includes(selectedOption)) {\r\n+      onChange([...selectedTech, selectedOption]);\r\n+      setSelectedOption(undefined); // Reset selection\r\n+    }\r\n+  };\r\n+\r\n+  // Add a custom technology\r\n+  const handleAddCustomTech = () => {\r\n+    if (customTech.trim() && !selectedTech.includes(customTech.trim())) {\r\n+      onChange([...selectedTech, customTech.trim()]);\r\n+      setCustomTech(\"\"); // Clear input\r\n+    }\r\n+  };\r\n+\r\n+  // Handle pressing Enter in the custom tech input\r\n+  const handleCustomTechKeyDown = (e: React.KeyboardEvent) => {\r\n+    if (e.key === \"Enter\" && customTech.trim()) {\r\n+      e.preventDefault();\r\n+      handleAddCustomTech();\r\n+    }\r\n+  };\r\n+\r\n+  // Remove a technology\r\n+  const handleRemoveTech = (techToRemove: string) => {\r\n+    onChange(selectedTech.filter((tech) => tech !== techToRemove));\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"space-y-4\">\r\n+      <div className=\"flex flex-wrap gap-2 min-h-[36px]\">\r\n+        {selectedTech.map((tech) => (\r\n+          <Badge\r\n+            key={tech}\r\n+            variant=\"secondary\"\r\n+            className=\"bg-secondary-background border border-divider py-1.5 px-2.5\"\r\n+          >\r\n+            {tech}\r\n+            <button\r\n+              type=\"button\"\r\n+              onClick={() => handleRemoveTech(tech)}\r\n+              className=\"ml-1.5 text-secondary-text hover:text-primary-text focus:outline-none\"\r\n+            >\r\n+              <X className=\"h-3.5 w-3.5\" />\r\n+            </button>\r\n+          </Badge>\r\n+        ))}\r\n+        {selectedTech.length === 0 && (\r\n+          <p className=\"text-secondary-text text-sm\">\r\n+            No technologies selected\r\n+          </p>\r\n+        )}\r\n+      </div>\r\n+\r\n+      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n+        {/* Predefined tech dropdown */}\r\n+        <div className=\"flex\">\r\n+          <Select value={selectedOption} onValueChange={setSelectedOption}>\r\n+            <SelectTrigger\r\n+              className=\"bg-primary-background flex-1\"\r\n+              aria-label=\"Select technology\"\r\n+            >\r\n+              <SelectValue placeholder=\"Select technology\" />\r\n+            </SelectTrigger>\r\n+            <SelectContent className=\"max-h-[300px]\">\r\n+              {availableTechOptions.length > 0 ? (\r\n+                availableTechOptions.map((tech) => (\r\n+                  <SelectItem key={tech} value={tech}>\r\n+                    {tech}\r\n+                  </SelectItem>\r\n+                ))\r\n+              ) : (\r\n+                <div className=\"p-2 text-secondary-text text-center text-sm\">\r\n+                  All predefined options selected\r\n+                </div>\r\n+              )}\r\n+            </SelectContent>\r\n+          </Select>\r\n+          <Button\r\n+            type=\"button\"\r\n+            size=\"sm\"\r\n+            onClick={handleAddSelectedTech}\r\n+            disabled={!selectedOption}\r\n+            className=\"ml-2 text-primary-cta/90 hover:text-primary-cta border border-divider hover:bg-secondary-background h-10\"\r\n+            variant=\"outline\"\r\n+          >\r\n+            <Plus className=\"h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+\r\n+        {/* Custom tech input */}\r\n+        <div className=\"flex\">\r\n+          <Input\r\n+            placeholder=\"Add custom technology\"\r\n+            value={customTech}\r\n+            onChange={(e) => setCustomTech(e.target.value)}\r\n+            onKeyDown={handleCustomTechKeyDown}\r\n+            className=\"bg-primary-background flex-1\"\r\n+          />\r\n+          <Button\r\n+            type=\"button\"\r\n+            size=\"sm\"\r\n+            onClick={handleAddCustomTech}\r\n+            disabled={!customTech.trim()}\r\n+            className=\"ml-2 text-primary-cta/90 hover:text-primary-cta border border-divider hover:bg-secondary-background h-10\"\r\n+            variant=\"outline\"\r\n+          >\r\n+            <Plus className=\"h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,206 +1,206 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState } from \"react\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import { X, Plus } from \"lucide-react\";\n",
        "-import { Badge } from \"@/components/ui/badge\";\n",
        "-\n",
        "-// Predefined technology options\n",
        "-const PREDEFINED_TECH_OPTIONS = [\n",
        "-  // Frontend\n",
        "-  \"React\",\n",
        "-  \"Angular\",\n",
        "-  \"Vue.js\",\n",
        "-  \"Next.js\",\n",
        "-  \"Svelte\",\n",
        "-  \"TypeScript\",\n",
        "-  \"JavaScript\",\n",
        "-  \"HTML/CSS\",\n",
        "-  \"Tailwind CSS\",\n",
        "-  \"Material UI\",\n",
        "-\n",
        "-  // Backend\n",
        "-  \"Node.js\",\n",
        "-  \"Express\",\n",
        "-  \"NestJS\",\n",
        "-  \"Django\",\n",
        "-  \"Flask\",\n",
        "-  \"Ruby on Rails\",\n",
        "-  \"Spring Boot\",\n",
        "-  \"ASP.NET Core\",\n",
        "-  \"FastAPI\",\n",
        "-\n",
        "-  // Database\n",
        "-  \"MongoDB\",\n",
        "-  \"PostgreSQL\",\n",
        "-  \"MySQL\",\n",
        "-  \"SQLite\",\n",
        "-  \"Redis\",\n",
        "-  \"Firebase\",\n",
        "-  \"DynamoDB\",\n",
        "-\n",
        "-  // Mobile\n",
        "-  \"React Native\",\n",
        "-  \"Flutter\",\n",
        "-  \"Swift\",\n",
        "-  \"Kotlin\",\n",
        "-\n",
        "-  // DevOps/Infra\n",
        "-  \"Docker\",\n",
        "-  \"Kubernetes\",\n",
        "-  \"AWS\",\n",
        "-  \"Azure\",\n",
        "-  \"Google Cloud\",\n",
        "-  \"Vercel\",\n",
        "-  \"Netlify\",\n",
        "-\n",
        "-  // Other\n",
        "-  \"GraphQL\",\n",
        "-  \"REST API\",\n",
        "-  \"WebSockets\",\n",
        "-  \"TensorFlow\",\n",
        "-  \"PyTorch\",\n",
        "-];\n",
        "-\n",
        "-interface TechStackSelectorProps {\n",
        "-  selectedTech: string[];\n",
        "-  onChange: (technologies: string[]) => void;\n",
        "-}\n",
        "-\n",
        "-export function TechStackSelector({\n",
        "-  selectedTech,\n",
        "-  onChange,\n",
        "-}: TechStackSelectorProps) {\n",
        "-  const [customTech, setCustomTech] = useState(\"\");\n",
        "-  const [selectedOption, setSelectedOption] = useState<string | undefined>(\n",
        "-    undefined\n",
        "-  );\n",
        "-\n",
        "-  // Filter out already selected technologies\n",
        "-  const availableTechOptions = PREDEFINED_TECH_OPTIONS.filter(\n",
        "-    (tech) => !selectedTech.includes(tech)\n",
        "-  ).sort();\n",
        "-\n",
        "-  // Add a technology from the dropdown\n",
        "-  const handleAddSelectedTech = () => {\n",
        "-    if (selectedOption && !selectedTech.includes(selectedOption)) {\n",
        "-      onChange([...selectedTech, selectedOption]);\n",
        "-      setSelectedOption(undefined); // Reset selection\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  // Add a custom technology\n",
        "-  const handleAddCustomTech = () => {\n",
        "-    if (customTech.trim() && !selectedTech.includes(customTech.trim())) {\n",
        "-      onChange([...selectedTech, customTech.trim()]);\n",
        "-      setCustomTech(\"\"); // Clear input\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  // Handle pressing Enter in the custom tech input\n",
        "-  const handleCustomTechKeyDown = (e: React.KeyboardEvent) => {\n",
        "-    if (e.key === \"Enter\" && customTech.trim()) {\n",
        "-      e.preventDefault();\n",
        "-      handleAddCustomTech();\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  // Remove a technology\n",
        "-  const handleRemoveTech = (techToRemove: string) => {\n",
        "-    onChange(selectedTech.filter((tech) => tech !== techToRemove));\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"space-y-4\">\n",
        "-      <div className=\"flex flex-wrap gap-2 min-h-[36px]\">\n",
        "-        {selectedTech.map((tech) => (\n",
        "-          <Badge\n",
        "-            key={tech}\n",
        "-            variant=\"secondary\"\n",
        "-            className=\"bg-secondary-background border border-divider py-1.5 px-2.5\"\n",
        "-          >\n",
        "-            {tech}\n",
        "-            <button\n",
        "-              type=\"button\"\n",
        "-              onClick={() => handleRemoveTech(tech)}\n",
        "-              className=\"ml-1.5 text-secondary-text hover:text-primary-text focus:outline-none\"\n",
        "-            >\n",
        "-              <X className=\"h-3.5 w-3.5\" />\n",
        "-            </button>\n",
        "-          </Badge>\n",
        "-        ))}\n",
        "-        {selectedTech.length === 0 && (\n",
        "-          <p className=\"text-secondary-text text-sm\">\n",
        "-            No technologies selected\n",
        "-          </p>\n",
        "-        )}\n",
        "-      </div>\n",
        "-\n",
        "-      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n",
        "-        {/* Predefined tech dropdown */}\n",
        "-        <div className=\"flex\">\n",
        "-          <Select value={selectedOption} onValueChange={setSelectedOption}>\n",
        "-            <SelectTrigger\n",
        "-              className=\"bg-primary-background flex-1\"\n",
        "-              aria-label=\"Select technology\"\n",
        "-            >\n",
        "-              <SelectValue placeholder=\"Select technology\" />\n",
        "-            </SelectTrigger>\n",
        "-            <SelectContent className=\"max-h-[300px]\">\n",
        "-              {availableTechOptions.length > 0 ? (\n",
        "-                availableTechOptions.map((tech) => (\n",
        "-                  <SelectItem key={tech} value={tech}>\n",
        "-                    {tech}\n",
        "-                  </SelectItem>\n",
        "-                ))\n",
        "-              ) : (\n",
        "-                <div className=\"p-2 text-secondary-text text-center text-sm\">\n",
        "-                  All predefined options selected\n",
        "-                </div>\n",
        "-              )}\n",
        "-            </SelectContent>\n",
        "-          </Select>\n",
        "-          <Button\n",
        "-            type=\"button\"\n",
        "-            size=\"sm\"\n",
        "-            onClick={handleAddSelectedTech}\n",
        "-            disabled={!selectedOption}\n",
        "-            className=\"ml-2 text-primary-cta/90 hover:text-primary-cta border border-divider hover:bg-secondary-background h-10\"\n",
        "-            variant=\"outline\"\n",
        "-          >\n",
        "-            <Plus className=\"h-4 w-4\" />\n",
        "-          </Button>\n",
        "-        </div>\n",
        "-\n",
        "-        {/* Custom tech input */}\n",
        "-        <div className=\"flex\">\n",
        "-          <Input\n",
        "-            placeholder=\"Add custom technology\"\n",
        "-            value={customTech}\n",
        "-            onChange={(e) => setCustomTech(e.target.value)}\n",
        "-            onKeyDown={handleCustomTechKeyDown}\n",
        "-            className=\"bg-primary-background flex-1\"\n",
        "-          />\n",
        "-          <Button\n",
        "-            type=\"button\"\n",
        "-            size=\"sm\"\n",
        "-            onClick={handleAddCustomTech}\n",
        "-            disabled={!customTech.trim()}\n",
        "-            className=\"ml-2 text-primary-cta/90 hover:text-primary-cta border border-divider hover:bg-secondary-background h-10\"\n",
        "-            variant=\"outline\"\n",
        "-          >\n",
        "-            <Plus className=\"h-4 w-4\" />\n",
        "-          </Button>\n",
        "-        </div>\n",
        "-      </div>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import { X, Plus } from \"lucide-react\";\r\n",
        "+import { Badge } from \"@/components/ui/badge\";\r\n",
        "+\r\n",
        "+// Predefined technology options\r\n",
        "+const PREDEFINED_TECH_OPTIONS = [\r\n",
        "+  // Frontend\r\n",
        "+  \"React\",\r\n",
        "+  \"Angular\",\r\n",
        "+  \"Vue.js\",\r\n",
        "+  \"Next.js\",\r\n",
        "+  \"Svelte\",\r\n",
        "+  \"TypeScript\",\r\n",
        "+  \"JavaScript\",\r\n",
        "+  \"HTML/CSS\",\r\n",
        "+  \"Tailwind CSS\",\r\n",
        "+  \"Material UI\",\r\n",
        "+\r\n",
        "+  // Backend\r\n",
        "+  \"Node.js\",\r\n",
        "+  \"Express\",\r\n",
        "+  \"NestJS\",\r\n",
        "+  \"Django\",\r\n",
        "+  \"Flask\",\r\n",
        "+  \"Ruby on Rails\",\r\n",
        "+  \"Spring Boot\",\r\n",
        "+  \"ASP.NET Core\",\r\n",
        "+  \"FastAPI\",\r\n",
        "+\r\n",
        "+  // Database\r\n",
        "+  \"MongoDB\",\r\n",
        "+  \"PostgreSQL\",\r\n",
        "+  \"MySQL\",\r\n",
        "+  \"SQLite\",\r\n",
        "+  \"Redis\",\r\n",
        "+  \"Firebase\",\r\n",
        "+  \"DynamoDB\",\r\n",
        "+\r\n",
        "+  // Mobile\r\n",
        "+  \"React Native\",\r\n",
        "+  \"Flutter\",\r\n",
        "+  \"Swift\",\r\n",
        "+  \"Kotlin\",\r\n",
        "+\r\n",
        "+  // DevOps/Infra\r\n",
        "+  \"Docker\",\r\n",
        "+  \"Kubernetes\",\r\n",
        "+  \"AWS\",\r\n",
        "+  \"Azure\",\r\n",
        "+  \"Google Cloud\",\r\n",
        "+  \"Vercel\",\r\n",
        "+  \"Netlify\",\r\n",
        "+\r\n",
        "+  // Other\r\n",
        "+  \"GraphQL\",\r\n",
        "+  \"REST API\",\r\n",
        "+  \"WebSockets\",\r\n",
        "+  \"TensorFlow\",\r\n",
        "+  \"PyTorch\",\r\n",
        "+];\r\n",
        "+\r\n",
        "+interface TechStackSelectorProps {\r\n",
        "+  selectedTech: string[];\r\n",
        "+  onChange: (technologies: string[]) => void;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function TechStackSelector({\r\n",
        "+  selectedTech,\r\n",
        "+  onChange,\r\n",
        "+}: TechStackSelectorProps) {\r\n",
        "+  const [customTech, setCustomTech] = useState(\"\");\r\n",
        "+  const [selectedOption, setSelectedOption] = useState<string | undefined>(\r\n",
        "+    undefined\r\n",
        "+  );\r\n",
        "+\r\n",
        "+  // Filter out already selected technologies\r\n",
        "+  const availableTechOptions = PREDEFINED_TECH_OPTIONS.filter(\r\n",
        "+    (tech) => !selectedTech.includes(tech)\r\n",
        "+  ).sort();\r\n",
        "+\r\n",
        "+  // Add a technology from the dropdown\r\n",
        "+  const handleAddSelectedTech = () => {\r\n",
        "+    if (selectedOption && !selectedTech.includes(selectedOption)) {\r\n",
        "+      onChange([...selectedTech, selectedOption]);\r\n",
        "+      setSelectedOption(undefined); // Reset selection\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Add a custom technology\r\n",
        "+  const handleAddCustomTech = () => {\r\n",
        "+    if (customTech.trim() && !selectedTech.includes(customTech.trim())) {\r\n",
        "+      onChange([...selectedTech, customTech.trim()]);\r\n",
        "+      setCustomTech(\"\"); // Clear input\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle pressing Enter in the custom tech input\r\n",
        "+  const handleCustomTechKeyDown = (e: React.KeyboardEvent) => {\r\n",
        "+    if (e.key === \"Enter\" && customTech.trim()) {\r\n",
        "+      e.preventDefault();\r\n",
        "+      handleAddCustomTech();\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Remove a technology\r\n",
        "+  const handleRemoveTech = (techToRemove: string) => {\r\n",
        "+    onChange(selectedTech.filter((tech) => tech !== techToRemove));\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"space-y-4\">\r\n",
        "+      <div className=\"flex flex-wrap gap-2 min-h-[36px]\">\r\n",
        "+        {selectedTech.map((tech) => (\r\n",
        "+          <Badge\r\n",
        "+            key={tech}\r\n",
        "+            variant=\"secondary\"\r\n",
        "+            className=\"bg-secondary-background border border-divider py-1.5 px-2.5\"\r\n",
        "+          >\r\n",
        "+            {tech}\r\n",
        "+            <button\r\n",
        "+              type=\"button\"\r\n",
        "+              onClick={() => handleRemoveTech(tech)}\r\n",
        "+              className=\"ml-1.5 text-secondary-text hover:text-primary-text focus:outline-none\"\r\n",
        "+            >\r\n",
        "+              <X className=\"h-3.5 w-3.5\" />\r\n",
        "+            </button>\r\n",
        "+          </Badge>\r\n",
        "+        ))}\r\n",
        "+        {selectedTech.length === 0 && (\r\n",
        "+          <p className=\"text-secondary-text text-sm\">\r\n",
        "+            No technologies selected\r\n",
        "+          </p>\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n",
        "+        {/* Predefined tech dropdown */}\r\n",
        "+        <div className=\"flex\">\r\n",
        "+          <Select value={selectedOption} onValueChange={setSelectedOption}>\r\n",
        "+            <SelectTrigger\r\n",
        "+              className=\"bg-primary-background flex-1\"\r\n",
        "+              aria-label=\"Select technology\"\r\n",
        "+            >\r\n",
        "+              <SelectValue placeholder=\"Select technology\" />\r\n",
        "+            </SelectTrigger>\r\n",
        "+            <SelectContent className=\"max-h-[300px]\">\r\n",
        "+              {availableTechOptions.length > 0 ? (\r\n",
        "+                availableTechOptions.map((tech) => (\r\n",
        "+                  <SelectItem key={tech} value={tech}>\r\n",
        "+                    {tech}\r\n",
        "+                  </SelectItem>\r\n",
        "+                ))\r\n",
        "+              ) : (\r\n",
        "+                <div className=\"p-2 text-secondary-text text-center text-sm\">\r\n",
        "+                  All predefined options selected\r\n",
        "+                </div>\r\n",
        "+              )}\r\n",
        "+            </SelectContent>\r\n",
        "+          </Select>\r\n",
        "+          <Button\r\n",
        "+            type=\"button\"\r\n",
        "+            size=\"sm\"\r\n",
        "+            onClick={handleAddSelectedTech}\r\n",
        "+            disabled={!selectedOption}\r\n",
        "+            className=\"ml-2 text-primary-cta/90 hover:text-primary-cta border border-divider hover:bg-secondary-background h-10\"\r\n",
        "+            variant=\"outline\"\r\n",
        "+          >\r\n",
        "+            <Plus className=\"h-4 w-4\" />\r\n",
        "+          </Button>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {/* Custom tech input */}\r\n",
        "+        <div className=\"flex\">\r\n",
        "+          <Input\r\n",
        "+            placeholder=\"Add custom technology\"\r\n",
        "+            value={customTech}\r\n",
        "+            onChange={(e) => setCustomTech(e.target.value)}\r\n",
        "+            onKeyDown={handleCustomTechKeyDown}\r\n",
        "+            className=\"bg-primary-background flex-1\"\r\n",
        "+          />\r\n",
        "+          <Button\r\n",
        "+            type=\"button\"\r\n",
        "+            size=\"sm\"\r\n",
        "+            onClick={handleAddCustomTech}\r\n",
        "+            disabled={!customTech.trim()}\r\n",
        "+            className=\"ml-2 text-primary-cta/90 hover:text-primary-cta border border-divider hover:bg-secondary-background h-10\"\r\n",
        "+            variant=\"outline\"\r\n",
        "+          >\r\n",
        "+            <Plus className=\"h-4 w-4\" />\r\n",
        "+          </Button>\r\n",
        "+        </div>\r\n",
        "+      </div>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/new/components/typewriter-text.tsx",
      "status": "modified",
      "additions": 55,
      "deletions": 55,
      "patch": "@@ -1,55 +1,55 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-\n-interface TypewriterTextProps {\n-  text: string;\n-  onComplete?: () => void;\n-  className?: string;\n-  speed?: number;\n-}\n-\n-export function TypewriterText({\n-  text,\n-  onComplete,\n-  className = \"\",\n-  speed = 100, // Characters per second\n-}: TypewriterTextProps) {\n-  const [displayedText, setDisplayedText] = useState(\"\");\n-  const [currentIndex, setCurrentIndex] = useState(0);\n-  const [isComplete, setIsComplete] = useState(false);\n-\n-  useEffect(() => {\n-    // Reset when text input changes\n-    setDisplayedText(\"\");\n-    setCurrentIndex(0);\n-    setIsComplete(false);\n-  }, [text]);\n-\n-  useEffect(() => {\n-    if (currentIndex < text.length) {\n-      // Calculate typing speed with a bit of randomness for realism\n-      const adjustedSpeed = speed + Math.random() * 60 - 10;\n-\n-      // Set timeout for next character\n-      const timeout = setTimeout(() => {\n-        setDisplayedText((current) => current + text[currentIndex]);\n-        setCurrentIndex((current) => current + 1);\n-      }, 1000 / adjustedSpeed);\n-\n-      return () => clearTimeout(timeout);\n-    } else if (!isComplete) {\n-      setIsComplete(true);\n-      onComplete?.();\n-    }\n-  }, [currentIndex, text, speed, isComplete, onComplete]);\n-\n-  return (\n-    <div className={className}>\n-      {displayedText}\n-      {currentIndex < text.length && (\n-        <span className=\"inline-block w-1.5 h-4 bg-primary-cta/80 ml-0.5 animate-pulse\" />\n-      )}\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+\r\n+interface TypewriterTextProps {\r\n+  text: string;\r\n+  onComplete?: () => void;\r\n+  className?: string;\r\n+  speed?: number;\r\n+}\r\n+\r\n+export function TypewriterText({\r\n+  text,\r\n+  onComplete,\r\n+  className = \"\",\r\n+  speed = 100, // Characters per second\r\n+}: TypewriterTextProps) {\r\n+  const [displayedText, setDisplayedText] = useState(\"\");\r\n+  const [currentIndex, setCurrentIndex] = useState(0);\r\n+  const [isComplete, setIsComplete] = useState(false);\r\n+\r\n+  useEffect(() => {\r\n+    // Reset when text input changes\r\n+    setDisplayedText(\"\");\r\n+    setCurrentIndex(0);\r\n+    setIsComplete(false);\r\n+  }, [text]);\r\n+\r\n+  useEffect(() => {\r\n+    if (currentIndex < text.length) {\r\n+      // Calculate typing speed with a bit of randomness for realism\r\n+      const adjustedSpeed = speed + Math.random() * 60 - 10;\r\n+\r\n+      // Set timeout for next character\r\n+      const timeout = setTimeout(() => {\r\n+        setDisplayedText((current) => current + text[currentIndex]);\r\n+        setCurrentIndex((current) => current + 1);\r\n+      }, 1000 / adjustedSpeed);\r\n+\r\n+      return () => clearTimeout(timeout);\r\n+    } else if (!isComplete) {\r\n+      setIsComplete(true);\r\n+      onComplete?.();\r\n+    }\r\n+  }, [currentIndex, text, speed, isComplete, onComplete]);\r\n+\r\n+  return (\r\n+    <div className={className}>\r\n+      {displayedText}\r\n+      {currentIndex < text.length && (\r\n+        <span className=\"inline-block w-1.5 h-4 bg-primary-cta/80 ml-0.5 animate-pulse\" />\r\n+      )}\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,55 +1,55 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-\n",
        "-interface TypewriterTextProps {\n",
        "-  text: string;\n",
        "-  onComplete?: () => void;\n",
        "-  className?: string;\n",
        "-  speed?: number;\n",
        "-}\n",
        "-\n",
        "-export function TypewriterText({\n",
        "-  text,\n",
        "-  onComplete,\n",
        "-  className = \"\",\n",
        "-  speed = 100, // Characters per second\n",
        "-}: TypewriterTextProps) {\n",
        "-  const [displayedText, setDisplayedText] = useState(\"\");\n",
        "-  const [currentIndex, setCurrentIndex] = useState(0);\n",
        "-  const [isComplete, setIsComplete] = useState(false);\n",
        "-\n",
        "-  useEffect(() => {\n",
        "-    // Reset when text input changes\n",
        "-    setDisplayedText(\"\");\n",
        "-    setCurrentIndex(0);\n",
        "-    setIsComplete(false);\n",
        "-  }, [text]);\n",
        "-\n",
        "-  useEffect(() => {\n",
        "-    if (currentIndex < text.length) {\n",
        "-      // Calculate typing speed with a bit of randomness for realism\n",
        "-      const adjustedSpeed = speed + Math.random() * 60 - 10;\n",
        "-\n",
        "-      // Set timeout for next character\n",
        "-      const timeout = setTimeout(() => {\n",
        "-        setDisplayedText((current) => current + text[currentIndex]);\n",
        "-        setCurrentIndex((current) => current + 1);\n",
        "-      }, 1000 / adjustedSpeed);\n",
        "-\n",
        "-      return () => clearTimeout(timeout);\n",
        "-    } else if (!isComplete) {\n",
        "-      setIsComplete(true);\n",
        "-      onComplete?.();\n",
        "-    }\n",
        "-  }, [currentIndex, text, speed, isComplete, onComplete]);\n",
        "-\n",
        "-  return (\n",
        "-    <div className={className}>\n",
        "-      {displayedText}\n",
        "-      {currentIndex < text.length && (\n",
        "-        <span className=\"inline-block w-1.5 h-4 bg-primary-cta/80 ml-0.5 animate-pulse\" />\n",
        "-      )}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+\r\n",
        "+interface TypewriterTextProps {\r\n",
        "+  text: string;\r\n",
        "+  onComplete?: () => void;\r\n",
        "+  className?: string;\r\n",
        "+  speed?: number;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function TypewriterText({\r\n",
        "+  text,\r\n",
        "+  onComplete,\r\n",
        "+  className = \"\",\r\n",
        "+  speed = 100, // Characters per second\r\n",
        "+}: TypewriterTextProps) {\r\n",
        "+  const [displayedText, setDisplayedText] = useState(\"\");\r\n",
        "+  const [currentIndex, setCurrentIndex] = useState(0);\r\n",
        "+  const [isComplete, setIsComplete] = useState(false);\r\n",
        "+\r\n",
        "+  useEffect(() => {\r\n",
        "+    // Reset when text input changes\r\n",
        "+    setDisplayedText(\"\");\r\n",
        "+    setCurrentIndex(0);\r\n",
        "+    setIsComplete(false);\r\n",
        "+  }, [text]);\r\n",
        "+\r\n",
        "+  useEffect(() => {\r\n",
        "+    if (currentIndex < text.length) {\r\n",
        "+      // Calculate typing speed with a bit of randomness for realism\r\n",
        "+      const adjustedSpeed = speed + Math.random() * 60 - 10;\r\n",
        "+\r\n",
        "+      // Set timeout for next character\r\n",
        "+      const timeout = setTimeout(() => {\r\n",
        "+        setDisplayedText((current) => current + text[currentIndex]);\r\n",
        "+        setCurrentIndex((current) => current + 1);\r\n",
        "+      }, 1000 / adjustedSpeed);\r\n",
        "+\r\n",
        "+      return () => clearTimeout(timeout);\r\n",
        "+    } else if (!isComplete) {\r\n",
        "+      setIsComplete(true);\r\n",
        "+      onComplete?.();\r\n",
        "+    }\r\n",
        "+  }, [currentIndex, text, speed, isComplete, onComplete]);\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className={className}>\r\n",
        "+      {displayedText}\r\n",
        "+      {currentIndex < text.length && (\r\n",
        "+        <span className=\"inline-block w-1.5 h-4 bg-primary-cta/80 ml-0.5 animate-pulse\" />\r\n",
        "+      )}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/new/types.ts",
      "status": "modified",
      "additions": 111,
      "deletions": 111,
      "patch": "@@ -1,111 +1,111 @@\n-// Project related types\n-export interface ProjectListItem {\n-  id: string;\n-  name: string;\n-  description: string;\n-  tech_stack: string[];\n-  created_at: string;\n-  updated_at: string;\n-  thumbnail_url?: string;\n-  completion_percentage: number;\n-}\n-\n-export interface Project extends ProjectListItem {\n-  high_level_plan: any;\n-  architecture: any;\n-  api_endpoints: any;\n-  data_models: any;\n-  ui_components: any;\n-  implementation_plan: any;\n-  diagrams: any;\n-  milestones: any[];\n-}\n-\n-export interface ProjectsResponse {\n-  projects: ProjectListItem[];\n-}\n-\n-// Plan generation related types\n-export enum TimeScale {\n-  SMALL = \"small\", // < 40 hours\n-  MEDIUM = \"medium\", // 40-100 hours\n-  LARGE = \"large\", // 100-300 hours\n-  CUSTOM = \"custom\", // User-defined\n-}\n-\n-export interface PlanGenerationInput {\n-  name: string;\n-  description: string;\n-  tech_stack: string[];\n-  experience_level: string;\n-  team_size: number;\n-  time_scale: TimeScale;\n-  custom_hours?: number | null;\n-}\n-\n-export interface ClarificationResponse {\n-  questions: string[];\n-}\n-\n-export interface PlanGenerationResponse {\n-  structured_plan: any;\n-  project_id: string;\n-}\n-\n-// Implementation plan types\n-export interface Milestone {\n-  name: string;\n-  description: string;\n-  due_date_offset: number;\n-  status: string;\n-  tasks: Task[];\n-}\n-\n-export interface Task {\n-  name: string;\n-  description: string;\n-  status: string;\n-  estimated_hours: number;\n-  priority: string;\n-  subtasks: Subtask[];\n-}\n-\n-export interface Subtask {\n-  name: string;\n-  description: string;\n-  status: string;\n-}\n-\n-export interface UpdateStatusPayload {\n-  type: \"milestone\" | \"task\" | \"subtask\";\n-  milestoneIndex: number;\n-  taskIndex?: number;\n-  subtaskIndex?: number;\n-  newStatus: string;\n-}\n-\n-export interface EditItemPayload {\n-  type: \"milestone\" | \"task\" | \"subtask\";\n-  milestoneIndex: number;\n-  taskIndex?: number;\n-  subtaskIndex?: number;\n-  updatedItem: Milestone | Task | Subtask;\n-}\n-\n-export interface ImplementationPlanTabProps {\n-  project: Project;\n-}\n-\n-export interface DetailedImplementationPlan {\n-  milestones: Milestone[];\n-}\n-\n-// Component related types\n-export interface Component {\n-  name: string;\n-  type: string;\n-  description: string;\n-  functionality: string;\n-  api_endpoints: string[];\n-  data_displayed: string[];\n-}\n+// Project related types\r\n+export interface ProjectListItem {\r\n+  id: string;\r\n+  name: string;\r\n+  description: string;\r\n+  tech_stack: string[];\r\n+  created_at: string;\r\n+  updated_at: string;\r\n+  thumbnail_url?: string;\r\n+  completion_percentage: number;\r\n+}\r\n+\r\n+export interface Project extends ProjectListItem {\r\n+  high_level_plan: any;\r\n+  architecture: any;\r\n+  api_endpoints: any;\r\n+  data_models: any;\r\n+  ui_components: any;\r\n+  implementation_plan: any;\r\n+  diagrams: any;\r\n+  milestones: any[];\r\n+}\r\n+\r\n+export interface ProjectsResponse {\r\n+  projects: ProjectListItem[];\r\n+}\r\n+\r\n+// Plan generation related types\r\n+export enum TimeScale {\r\n+  SMALL = \"small\", // < 40 hours\r\n+  MEDIUM = \"medium\", // 40-100 hours\r\n+  LARGE = \"large\", // 100-300 hours\r\n+  CUSTOM = \"custom\", // User-defined\r\n+}\r\n+\r\n+export interface PlanGenerationInput {\r\n+  name: string;\r\n+  description: string;\r\n+  tech_stack: string[];\r\n+  experience_level: string;\r\n+  team_size: number;\r\n+  time_scale: TimeScale;\r\n+  custom_hours?: number | null;\r\n+}\r\n+\r\n+export interface ClarificationResponse {\r\n+  questions: string[];\r\n+}\r\n+\r\n+export interface PlanGenerationResponse {\r\n+  structured_plan: any;\r\n+  project_id: string;\r\n+}\r\n+\r\n+// Implementation plan types\r\n+export interface Milestone {\r\n+  name: string;\r\n+  description: string;\r\n+  due_date_offset: number;\r\n+  status: string;\r\n+  tasks: Task[];\r\n+}\r\n+\r\n+export interface Task {\r\n+  name: string;\r\n+  description: string;\r\n+  status: string;\r\n+  estimated_hours: number;\r\n+  priority: string;\r\n+  subtasks: Subtask[];\r\n+}\r\n+\r\n+export interface Subtask {\r\n+  name: string;\r\n+  description: string;\r\n+  status: string;\r\n+}\r\n+\r\n+export interface UpdateStatusPayload {\r\n+  type: \"milestone\" | \"task\" | \"subtask\";\r\n+  milestoneIndex: number;\r\n+  taskIndex?: number;\r\n+  subtaskIndex?: number;\r\n+  newStatus: string;\r\n+}\r\n+\r\n+export interface EditItemPayload {\r\n+  type: \"milestone\" | \"task\" | \"subtask\";\r\n+  milestoneIndex: number;\r\n+  taskIndex?: number;\r\n+  subtaskIndex?: number;\r\n+  updatedItem: Milestone | Task | Subtask;\r\n+}\r\n+\r\n+export interface ImplementationPlanTabProps {\r\n+  project: Project;\r\n+}\r\n+\r\n+export interface DetailedImplementationPlan {\r\n+  milestones: Milestone[];\r\n+}\r\n+\r\n+// Component related types\r\n+export interface Component {\r\n+  name: string;\r\n+  type: string;\r\n+  description: string;\r\n+  functionality: string;\r\n+  api_endpoints: string[];\r\n+  data_displayed: string[];\r\n+}\r",
      "patch_lines": [
        "@@ -1,111 +1,111 @@\n",
        "-// Project related types\n",
        "-export interface ProjectListItem {\n",
        "-  id: string;\n",
        "-  name: string;\n",
        "-  description: string;\n",
        "-  tech_stack: string[];\n",
        "-  created_at: string;\n",
        "-  updated_at: string;\n",
        "-  thumbnail_url?: string;\n",
        "-  completion_percentage: number;\n",
        "-}\n",
        "-\n",
        "-export interface Project extends ProjectListItem {\n",
        "-  high_level_plan: any;\n",
        "-  architecture: any;\n",
        "-  api_endpoints: any;\n",
        "-  data_models: any;\n",
        "-  ui_components: any;\n",
        "-  implementation_plan: any;\n",
        "-  diagrams: any;\n",
        "-  milestones: any[];\n",
        "-}\n",
        "-\n",
        "-export interface ProjectsResponse {\n",
        "-  projects: ProjectListItem[];\n",
        "-}\n",
        "-\n",
        "-// Plan generation related types\n",
        "-export enum TimeScale {\n",
        "-  SMALL = \"small\", // < 40 hours\n",
        "-  MEDIUM = \"medium\", // 40-100 hours\n",
        "-  LARGE = \"large\", // 100-300 hours\n",
        "-  CUSTOM = \"custom\", // User-defined\n",
        "-}\n",
        "-\n",
        "-export interface PlanGenerationInput {\n",
        "-  name: string;\n",
        "-  description: string;\n",
        "-  tech_stack: string[];\n",
        "-  experience_level: string;\n",
        "-  team_size: number;\n",
        "-  time_scale: TimeScale;\n",
        "-  custom_hours?: number | null;\n",
        "-}\n",
        "-\n",
        "-export interface ClarificationResponse {\n",
        "-  questions: string[];\n",
        "-}\n",
        "-\n",
        "-export interface PlanGenerationResponse {\n",
        "-  structured_plan: any;\n",
        "-  project_id: string;\n",
        "-}\n",
        "-\n",
        "-// Implementation plan types\n",
        "-export interface Milestone {\n",
        "-  name: string;\n",
        "-  description: string;\n",
        "-  due_date_offset: number;\n",
        "-  status: string;\n",
        "-  tasks: Task[];\n",
        "-}\n",
        "-\n",
        "-export interface Task {\n",
        "-  name: string;\n",
        "-  description: string;\n",
        "-  status: string;\n",
        "-  estimated_hours: number;\n",
        "-  priority: string;\n",
        "-  subtasks: Subtask[];\n",
        "-}\n",
        "-\n",
        "-export interface Subtask {\n",
        "-  name: string;\n",
        "-  description: string;\n",
        "-  status: string;\n",
        "-}\n",
        "-\n",
        "-export interface UpdateStatusPayload {\n",
        "-  type: \"milestone\" | \"task\" | \"subtask\";\n",
        "-  milestoneIndex: number;\n",
        "-  taskIndex?: number;\n",
        "-  subtaskIndex?: number;\n",
        "-  newStatus: string;\n",
        "-}\n",
        "-\n",
        "-export interface EditItemPayload {\n",
        "-  type: \"milestone\" | \"task\" | \"subtask\";\n",
        "-  milestoneIndex: number;\n",
        "-  taskIndex?: number;\n",
        "-  subtaskIndex?: number;\n",
        "-  updatedItem: Milestone | Task | Subtask;\n",
        "-}\n",
        "-\n",
        "-export interface ImplementationPlanTabProps {\n",
        "-  project: Project;\n",
        "-}\n",
        "-\n",
        "-export interface DetailedImplementationPlan {\n",
        "-  milestones: Milestone[];\n",
        "-}\n",
        "-\n",
        "-// Component related types\n",
        "-export interface Component {\n",
        "-  name: string;\n",
        "-  type: string;\n",
        "-  description: string;\n",
        "-  functionality: string;\n",
        "-  api_endpoints: string[];\n",
        "-  data_displayed: string[];\n",
        "-}\n",
        "+// Project related types\r\n",
        "+export interface ProjectListItem {\r\n",
        "+  id: string;\r\n",
        "+  name: string;\r\n",
        "+  description: string;\r\n",
        "+  tech_stack: string[];\r\n",
        "+  created_at: string;\r\n",
        "+  updated_at: string;\r\n",
        "+  thumbnail_url?: string;\r\n",
        "+  completion_percentage: number;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export interface Project extends ProjectListItem {\r\n",
        "+  high_level_plan: any;\r\n",
        "+  architecture: any;\r\n",
        "+  api_endpoints: any;\r\n",
        "+  data_models: any;\r\n",
        "+  ui_components: any;\r\n",
        "+  implementation_plan: any;\r\n",
        "+  diagrams: any;\r\n",
        "+  milestones: any[];\r\n",
        "+}\r\n",
        "+\r\n",
        "+export interface ProjectsResponse {\r\n",
        "+  projects: ProjectListItem[];\r\n",
        "+}\r\n",
        "+\r\n",
        "+// Plan generation related types\r\n",
        "+export enum TimeScale {\r\n",
        "+  SMALL = \"small\", // < 40 hours\r\n",
        "+  MEDIUM = \"medium\", // 40-100 hours\r\n",
        "+  LARGE = \"large\", // 100-300 hours\r\n",
        "+  CUSTOM = \"custom\", // User-defined\r\n",
        "+}\r\n",
        "+\r\n",
        "+export interface PlanGenerationInput {\r\n",
        "+  name: string;\r\n",
        "+  description: string;\r\n",
        "+  tech_stack: string[];\r\n",
        "+  experience_level: string;\r\n",
        "+  team_size: number;\r\n",
        "+  time_scale: TimeScale;\r\n",
        "+  custom_hours?: number | null;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export interface ClarificationResponse {\r\n",
        "+  questions: string[];\r\n",
        "+}\r\n",
        "+\r\n",
        "+export interface PlanGenerationResponse {\r\n",
        "+  structured_plan: any;\r\n",
        "+  project_id: string;\r\n",
        "+}\r\n",
        "+\r\n",
        "+// Implementation plan types\r\n",
        "+export interface Milestone {\r\n",
        "+  name: string;\r\n",
        "+  description: string;\r\n",
        "+  due_date_offset: number;\r\n",
        "+  status: string;\r\n",
        "+  tasks: Task[];\r\n",
        "+}\r\n",
        "+\r\n",
        "+export interface Task {\r\n",
        "+  name: string;\r\n",
        "+  description: string;\r\n",
        "+  status: string;\r\n",
        "+  estimated_hours: number;\r\n",
        "+  priority: string;\r\n",
        "+  subtasks: Subtask[];\r\n",
        "+}\r\n",
        "+\r\n",
        "+export interface Subtask {\r\n",
        "+  name: string;\r\n",
        "+  description: string;\r\n",
        "+  status: string;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export interface UpdateStatusPayload {\r\n",
        "+  type: \"milestone\" | \"task\" | \"subtask\";\r\n",
        "+  milestoneIndex: number;\r\n",
        "+  taskIndex?: number;\r\n",
        "+  subtaskIndex?: number;\r\n",
        "+  newStatus: string;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export interface EditItemPayload {\r\n",
        "+  type: \"milestone\" | \"task\" | \"subtask\";\r\n",
        "+  milestoneIndex: number;\r\n",
        "+  taskIndex?: number;\r\n",
        "+  subtaskIndex?: number;\r\n",
        "+  updatedItem: Milestone | Task | Subtask;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export interface ImplementationPlanTabProps {\r\n",
        "+  project: Project;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export interface DetailedImplementationPlan {\r\n",
        "+  milestones: Milestone[];\r\n",
        "+}\r\n",
        "+\r\n",
        "+// Component related types\r\n",
        "+export interface Component {\r\n",
        "+  name: string;\r\n",
        "+  type: string;\r\n",
        "+  description: string;\r\n",
        "+  functionality: string;\r\n",
        "+  api_endpoints: string[];\r\n",
        "+  data_displayed: string[];\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/project-card.tsx",
      "status": "modified",
      "additions": 99,
      "deletions": 99,
      "patch": "@@ -1,99 +1,99 @@\n-\"use client\";\n-\n-import { ProjectListItem, ProjectStatus } from \"@/types\";\n-import { Badge } from \"@/components/ui/badge\";\n-import {\n-  Card,\n-  CardContent,\n-  CardFooter,\n-  CardHeader,\n-} from \"@/components/ui/card\";\n-import { CalendarIcon, FolderIcon, ListChecksIcon } from \"lucide-react\";\n-import Link from \"next/link\";\n-import { formatDistanceToNow } from \"date-fns\";\n-\n-// Define status badge variants\n-const statusVariants: Record<\n-  ProjectStatus,\n-  { variant: string; label: string }\n-> = {\n-  draft: { variant: \"secondary\", label: \"Draft\" },\n-  in_progress: { variant: \"default\", label: \"In Progress\" },\n-  completed: { variant: \"success\", label: \"Completed\" },\n-  cancelled: { variant: \"destructive\", label: \"Cancelled\" },\n-};\n-\n-interface ProjectCardProps {\n-  project: ProjectListItem;\n-}\n-\n-export function ProjectCard({ project }: ProjectCardProps) {\n-  // Default to draft if status isn't recognized\n-  const statusConfig =\n-    statusVariants[project.status as ProjectStatus] || statusVariants.draft;\n-\n-  // Format date for display\n-  const createdDate = new Date(project.created_at);\n-  const formattedDate = formatDistanceToNow(createdDate, { addSuffix: true });\n-\n-  // Calculate completion percentage if available, or default to 0\n-  const progressPercentage = project.completion_percentage || 0;\n-\n-  return (\n-    <Link\n-      href={`/projects/${project.id}`}\n-      className=\"block transition-transform hover:scale-[1.02]\"\n-    >\n-      <Card className=\"h-full overflow-hidden hover:bg-hover-active transition-colors duration-200\">\n-        <CardHeader className=\"pb-2\">\n-          <div className=\"flex justify-between items-start\">\n-            <h3 className=\"text-lg font-semibold line-clamp-1\">\n-              {project.name}\n-            </h3>\n-            <Badge\n-              variant={statusConfig.variant as any}\n-              className=\"gradient-border\"\n-            >\n-              {statusConfig.label}\n-            </Badge>\n-          </div>\n-        </CardHeader>\n-        <CardContent>\n-          <p className=\"text-secondary-text text-sm line-clamp-2 mb-4\">\n-            {project.description}\n-          </p>\n-\n-          <div className=\"space-y-2\">\n-            <div className=\"flex items-center text-sm text-secondary-text\">\n-              <CalendarIcon className=\"mr-2 h-4 w-4\" />\n-              <span>Created {formattedDate}</span>\n-            </div>\n-\n-            {project.milestone_count !== undefined && (\n-              <div className=\"flex items-center text-sm text-secondary-text\">\n-                <FolderIcon className=\"mr-2 h-4 w-4\" />\n-                <span>{project.milestone_count} Milestones</span>\n-              </div>\n-            )}\n-\n-            {project.task_count !== undefined && (\n-              <div className=\"flex items-center text-sm text-secondary-text\">\n-                <ListChecksIcon className=\"mr-2 h-4 w-4\" />\n-                <span>{project.task_count} Tasks</span>\n-              </div>\n-            )}\n-          </div>\n-        </CardContent>\n-\n-        <CardFooter className=\"pt-2 pb-4\">\n-          <div className=\"w-full bg-hover-active rounded-full h-2\">\n-            <div\n-              className=\"bg-primary-cta h-full rounded-full\"\n-              style={{ width: `${progressPercentage}%` }}\n-            ></div>\n-          </div>\n-        </CardFooter>\n-      </Card>\n-    </Link>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { ProjectListItem, ProjectStatus } from \"@/types\";\r\n+import { Badge } from \"@/components/ui/badge\";\r\n+import {\r\n+  Card,\r\n+  CardContent,\r\n+  CardFooter,\r\n+  CardHeader,\r\n+} from \"@/components/ui/card\";\r\n+import { CalendarIcon, FolderIcon, ListChecksIcon } from \"lucide-react\";\r\n+import Link from \"next/link\";\r\n+import { formatDistanceToNow } from \"date-fns\";\r\n+\r\n+// Define status badge variants\r\n+const statusVariants: Record<\r\n+  ProjectStatus,\r\n+  { variant: string; label: string }\r\n+> = {\r\n+  draft: { variant: \"secondary\", label: \"Draft\" },\r\n+  in_progress: { variant: \"default\", label: \"In Progress\" },\r\n+  completed: { variant: \"success\", label: \"Completed\" },\r\n+  cancelled: { variant: \"destructive\", label: \"Cancelled\" },\r\n+};\r\n+\r\n+interface ProjectCardProps {\r\n+  project: ProjectListItem;\r\n+}\r\n+\r\n+export function ProjectCard({ project }: ProjectCardProps) {\r\n+  // Default to draft if status isn't recognized\r\n+  const statusConfig =\r\n+    statusVariants[project.status as ProjectStatus] || statusVariants.draft;\r\n+\r\n+  // Format date for display\r\n+  const createdDate = new Date(project.created_at);\r\n+  const formattedDate = formatDistanceToNow(createdDate, { addSuffix: true });\r\n+\r\n+  // Calculate completion percentage if available, or default to 0\r\n+  const progressPercentage = project.completion_percentage || 0;\r\n+\r\n+  return (\r\n+    <Link\r\n+      href={`/projects/${project.id}`}\r\n+      className=\"block transition-transform hover:scale-[1.02]\"\r\n+    >\r\n+      <Card className=\"h-full overflow-hidden hover:bg-hover-active transition-colors duration-200\">\r\n+        <CardHeader className=\"pb-2\">\r\n+          <div className=\"flex justify-between items-start\">\r\n+            <h3 className=\"text-lg font-semibold line-clamp-1\">\r\n+              {project.name}\r\n+            </h3>\r\n+            <Badge\r\n+              variant={statusConfig.variant as any}\r\n+              className=\"gradient-border\"\r\n+            >\r\n+              {statusConfig.label}\r\n+            </Badge>\r\n+          </div>\r\n+        </CardHeader>\r\n+        <CardContent>\r\n+          <p className=\"text-secondary-text text-sm line-clamp-2 mb-4\">\r\n+            {project.description}\r\n+          </p>\r\n+\r\n+          <div className=\"space-y-2\">\r\n+            <div className=\"flex items-center text-sm text-secondary-text\">\r\n+              <CalendarIcon className=\"mr-2 h-4 w-4\" />\r\n+              <span>Created {formattedDate}</span>\r\n+            </div>\r\n+\r\n+            {project.milestone_count !== undefined && (\r\n+              <div className=\"flex items-center text-sm text-secondary-text\">\r\n+                <FolderIcon className=\"mr-2 h-4 w-4\" />\r\n+                <span>{project.milestone_count} Milestones</span>\r\n+              </div>\r\n+            )}\r\n+\r\n+            {project.task_count !== undefined && (\r\n+              <div className=\"flex items-center text-sm text-secondary-text\">\r\n+                <ListChecksIcon className=\"mr-2 h-4 w-4\" />\r\n+                <span>{project.task_count} Tasks</span>\r\n+              </div>\r\n+            )}\r\n+          </div>\r\n+        </CardContent>\r\n+\r\n+        <CardFooter className=\"pt-2 pb-4\">\r\n+          <div className=\"w-full bg-hover-active rounded-full h-2\">\r\n+            <div\r\n+              className=\"bg-primary-cta h-full rounded-full\"\r\n+              style={{ width: `${progressPercentage}%` }}\r\n+            ></div>\r\n+          </div>\r\n+        </CardFooter>\r\n+      </Card>\r\n+    </Link>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,99 +1,99 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { ProjectListItem, ProjectStatus } from \"@/types\";\n",
        "-import { Badge } from \"@/components/ui/badge\";\n",
        "-import {\n",
        "-  Card,\n",
        "-  CardContent,\n",
        "-  CardFooter,\n",
        "-  CardHeader,\n",
        "-} from \"@/components/ui/card\";\n",
        "-import { CalendarIcon, FolderIcon, ListChecksIcon } from \"lucide-react\";\n",
        "-import Link from \"next/link\";\n",
        "-import { formatDistanceToNow } from \"date-fns\";\n",
        "-\n",
        "-// Define status badge variants\n",
        "-const statusVariants: Record<\n",
        "-  ProjectStatus,\n",
        "-  { variant: string; label: string }\n",
        "-> = {\n",
        "-  draft: { variant: \"secondary\", label: \"Draft\" },\n",
        "-  in_progress: { variant: \"default\", label: \"In Progress\" },\n",
        "-  completed: { variant: \"success\", label: \"Completed\" },\n",
        "-  cancelled: { variant: \"destructive\", label: \"Cancelled\" },\n",
        "-};\n",
        "-\n",
        "-interface ProjectCardProps {\n",
        "-  project: ProjectListItem;\n",
        "-}\n",
        "-\n",
        "-export function ProjectCard({ project }: ProjectCardProps) {\n",
        "-  // Default to draft if status isn't recognized\n",
        "-  const statusConfig =\n",
        "-    statusVariants[project.status as ProjectStatus] || statusVariants.draft;\n",
        "-\n",
        "-  // Format date for display\n",
        "-  const createdDate = new Date(project.created_at);\n",
        "-  const formattedDate = formatDistanceToNow(createdDate, { addSuffix: true });\n",
        "-\n",
        "-  // Calculate completion percentage if available, or default to 0\n",
        "-  const progressPercentage = project.completion_percentage || 0;\n",
        "-\n",
        "-  return (\n",
        "-    <Link\n",
        "-      href={`/projects/${project.id}`}\n",
        "-      className=\"block transition-transform hover:scale-[1.02]\"\n",
        "-    >\n",
        "-      <Card className=\"h-full overflow-hidden hover:bg-hover-active transition-colors duration-200\">\n",
        "-        <CardHeader className=\"pb-2\">\n",
        "-          <div className=\"flex justify-between items-start\">\n",
        "-            <h3 className=\"text-lg font-semibold line-clamp-1\">\n",
        "-              {project.name}\n",
        "-            </h3>\n",
        "-            <Badge\n",
        "-              variant={statusConfig.variant as any}\n",
        "-              className=\"gradient-border\"\n",
        "-            >\n",
        "-              {statusConfig.label}\n",
        "-            </Badge>\n",
        "-          </div>\n",
        "-        </CardHeader>\n",
        "-        <CardContent>\n",
        "-          <p className=\"text-secondary-text text-sm line-clamp-2 mb-4\">\n",
        "-            {project.description}\n",
        "-          </p>\n",
        "-\n",
        "-          <div className=\"space-y-2\">\n",
        "-            <div className=\"flex items-center text-sm text-secondary-text\">\n",
        "-              <CalendarIcon className=\"mr-2 h-4 w-4\" />\n",
        "-              <span>Created {formattedDate}</span>\n",
        "-            </div>\n",
        "-\n",
        "-            {project.milestone_count !== undefined && (\n",
        "-              <div className=\"flex items-center text-sm text-secondary-text\">\n",
        "-                <FolderIcon className=\"mr-2 h-4 w-4\" />\n",
        "-                <span>{project.milestone_count} Milestones</span>\n",
        "-              </div>\n",
        "-            )}\n",
        "-\n",
        "-            {project.task_count !== undefined && (\n",
        "-              <div className=\"flex items-center text-sm text-secondary-text\">\n",
        "-                <ListChecksIcon className=\"mr-2 h-4 w-4\" />\n",
        "-                <span>{project.task_count} Tasks</span>\n",
        "-              </div>\n",
        "-            )}\n",
        "-          </div>\n",
        "-        </CardContent>\n",
        "-\n",
        "-        <CardFooter className=\"pt-2 pb-4\">\n",
        "-          <div className=\"w-full bg-hover-active rounded-full h-2\">\n",
        "-            <div\n",
        "-              className=\"bg-primary-cta h-full rounded-full\"\n",
        "-              style={{ width: `${progressPercentage}%` }}\n",
        "-            ></div>\n",
        "-          </div>\n",
        "-        </CardFooter>\n",
        "-      </Card>\n",
        "-    </Link>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { ProjectListItem, ProjectStatus } from \"@/types\";\r\n",
        "+import { Badge } from \"@/components/ui/badge\";\r\n",
        "+import {\r\n",
        "+  Card,\r\n",
        "+  CardContent,\r\n",
        "+  CardFooter,\r\n",
        "+  CardHeader,\r\n",
        "+} from \"@/components/ui/card\";\r\n",
        "+import { CalendarIcon, FolderIcon, ListChecksIcon } from \"lucide-react\";\r\n",
        "+import Link from \"next/link\";\r\n",
        "+import { formatDistanceToNow } from \"date-fns\";\r\n",
        "+\r\n",
        "+// Define status badge variants\r\n",
        "+const statusVariants: Record<\r\n",
        "+  ProjectStatus,\r\n",
        "+  { variant: string; label: string }\r\n",
        "+> = {\r\n",
        "+  draft: { variant: \"secondary\", label: \"Draft\" },\r\n",
        "+  in_progress: { variant: \"default\", label: \"In Progress\" },\r\n",
        "+  completed: { variant: \"success\", label: \"Completed\" },\r\n",
        "+  cancelled: { variant: \"destructive\", label: \"Cancelled\" },\r\n",
        "+};\r\n",
        "+\r\n",
        "+interface ProjectCardProps {\r\n",
        "+  project: ProjectListItem;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function ProjectCard({ project }: ProjectCardProps) {\r\n",
        "+  // Default to draft if status isn't recognized\r\n",
        "+  const statusConfig =\r\n",
        "+    statusVariants[project.status as ProjectStatus] || statusVariants.draft;\r\n",
        "+\r\n",
        "+  // Format date for display\r\n",
        "+  const createdDate = new Date(project.created_at);\r\n",
        "+  const formattedDate = formatDistanceToNow(createdDate, { addSuffix: true });\r\n",
        "+\r\n",
        "+  // Calculate completion percentage if available, or default to 0\r\n",
        "+  const progressPercentage = project.completion_percentage || 0;\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <Link\r\n",
        "+      href={`/projects/${project.id}`}\r\n",
        "+      className=\"block transition-transform hover:scale-[1.02]\"\r\n",
        "+    >\r\n",
        "+      <Card className=\"h-full overflow-hidden hover:bg-hover-active transition-colors duration-200\">\r\n",
        "+        <CardHeader className=\"pb-2\">\r\n",
        "+          <div className=\"flex justify-between items-start\">\r\n",
        "+            <h3 className=\"text-lg font-semibold line-clamp-1\">\r\n",
        "+              {project.name}\r\n",
        "+            </h3>\r\n",
        "+            <Badge\r\n",
        "+              variant={statusConfig.variant as any}\r\n",
        "+              className=\"gradient-border\"\r\n",
        "+            >\r\n",
        "+              {statusConfig.label}\r\n",
        "+            </Badge>\r\n",
        "+          </div>\r\n",
        "+        </CardHeader>\r\n",
        "+        <CardContent>\r\n",
        "+          <p className=\"text-secondary-text text-sm line-clamp-2 mb-4\">\r\n",
        "+            {project.description}\r\n",
        "+          </p>\r\n",
        "+\r\n",
        "+          <div className=\"space-y-2\">\r\n",
        "+            <div className=\"flex items-center text-sm text-secondary-text\">\r\n",
        "+              <CalendarIcon className=\"mr-2 h-4 w-4\" />\r\n",
        "+              <span>Created {formattedDate}</span>\r\n",
        "+            </div>\r\n",
        "+\r\n",
        "+            {project.milestone_count !== undefined && (\r\n",
        "+              <div className=\"flex items-center text-sm text-secondary-text\">\r\n",
        "+                <FolderIcon className=\"mr-2 h-4 w-4\" />\r\n",
        "+                <span>{project.milestone_count} Milestones</span>\r\n",
        "+              </div>\r\n",
        "+            )}\r\n",
        "+\r\n",
        "+            {project.task_count !== undefined && (\r\n",
        "+              <div className=\"flex items-center text-sm text-secondary-text\">\r\n",
        "+                <ListChecksIcon className=\"mr-2 h-4 w-4\" />\r\n",
        "+                <span>{project.task_count} Tasks</span>\r\n",
        "+              </div>\r\n",
        "+            )}\r\n",
        "+          </div>\r\n",
        "+        </CardContent>\r\n",
        "+\r\n",
        "+        <CardFooter className=\"pt-2 pb-4\">\r\n",
        "+          <div className=\"w-full bg-hover-active rounded-full h-2\">\r\n",
        "+            <div\r\n",
        "+              className=\"bg-primary-cta h-full rounded-full\"\r\n",
        "+              style={{ width: `${progressPercentage}%` }}\r\n",
        "+            ></div>\r\n",
        "+          </div>\r\n",
        "+        </CardFooter>\r\n",
        "+      </Card>\r\n",
        "+    </Link>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/project-error.tsx",
      "status": "modified",
      "additions": 38,
      "deletions": 38,
      "patch": "@@ -1,38 +1,38 @@\n-import { AlertCircle } from \"lucide-react\";\n-import { Button } from \"@/components/ui/button\";\n-import { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\n-import { useRouter } from \"next/navigation\";\n-\n-interface ProjectErrorProps {\n-  message: string;\n-}\n-\n-export function ProjectError({ message }: ProjectErrorProps) {\n-  const router = useRouter();\n-\n-  return (\n-    <div className=\"flex flex-col items-center justify-center min-h-[60vh] p-6\">\n-      <Alert variant=\"destructive\" className=\"mb-6 max-w-lg\">\n-        <AlertCircle className=\"h-4 w-4\" />\n-        <AlertTitle>Error</AlertTitle>\n-        <AlertDescription>{message}</AlertDescription>\n-      </Alert>\n-\n-      <div className=\"flex flex-col sm:flex-row gap-4 mt-4\">\n-        <Button\n-          onClick={() => router.refresh()}\n-          className=\"bg-primary-cta text-primary-text hover:bg-cta-hover\"\n-        >\n-          Try Again\n-        </Button>\n-        <Button\n-          variant=\"outline\"\n-          onClick={() => router.push(\"/projects\")}\n-          className=\"border-divider\"\n-        >\n-          Return to Projects\n-        </Button>\n-      </div>\n-    </div>\n-  );\n-}\n+import { AlertCircle } from \"lucide-react\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\r\n+import { useRouter } from \"next/navigation\";\r\n+\r\n+interface ProjectErrorProps {\r\n+  message: string;\r\n+}\r\n+\r\n+export function ProjectError({ message }: ProjectErrorProps) {\r\n+  const router = useRouter();\r\n+\r\n+  return (\r\n+    <div className=\"flex flex-col items-center justify-center min-h-[60vh] p-6\">\r\n+      <Alert variant=\"destructive\" className=\"mb-6 max-w-lg\">\r\n+        <AlertCircle className=\"h-4 w-4\" />\r\n+        <AlertTitle>Error</AlertTitle>\r\n+        <AlertDescription>{message}</AlertDescription>\r\n+      </Alert>\r\n+\r\n+      <div className=\"flex flex-col sm:flex-row gap-4 mt-4\">\r\n+        <Button\r\n+          onClick={() => router.refresh()}\r\n+          className=\"bg-primary-cta text-primary-text hover:bg-cta-hover\"\r\n+        >\r\n+          Try Again\r\n+        </Button>\r\n+        <Button\r\n+          variant=\"outline\"\r\n+          onClick={() => router.push(\"/projects\")}\r\n+          className=\"border-divider\"\r\n+        >\r\n+          Return to Projects\r\n+        </Button>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,38 +1,38 @@\n",
        "-import { AlertCircle } from \"lucide-react\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-\n",
        "-interface ProjectErrorProps {\n",
        "-  message: string;\n",
        "-}\n",
        "-\n",
        "-export function ProjectError({ message }: ProjectErrorProps) {\n",
        "-  const router = useRouter();\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"flex flex-col items-center justify-center min-h-[60vh] p-6\">\n",
        "-      <Alert variant=\"destructive\" className=\"mb-6 max-w-lg\">\n",
        "-        <AlertCircle className=\"h-4 w-4\" />\n",
        "-        <AlertTitle>Error</AlertTitle>\n",
        "-        <AlertDescription>{message}</AlertDescription>\n",
        "-      </Alert>\n",
        "-\n",
        "-      <div className=\"flex flex-col sm:flex-row gap-4 mt-4\">\n",
        "-        <Button\n",
        "-          onClick={() => router.refresh()}\n",
        "-          className=\"bg-primary-cta text-primary-text hover:bg-cta-hover\"\n",
        "-        >\n",
        "-          Try Again\n",
        "-        </Button>\n",
        "-        <Button\n",
        "-          variant=\"outline\"\n",
        "-          onClick={() => router.push(\"/projects\")}\n",
        "-          className=\"border-divider\"\n",
        "-        >\n",
        "-          Return to Projects\n",
        "-        </Button>\n",
        "-      </div>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+import { AlertCircle } from \"lucide-react\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+\r\n",
        "+interface ProjectErrorProps {\r\n",
        "+  message: string;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function ProjectError({ message }: ProjectErrorProps) {\r\n",
        "+  const router = useRouter();\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"flex flex-col items-center justify-center min-h-[60vh] p-6\">\r\n",
        "+      <Alert variant=\"destructive\" className=\"mb-6 max-w-lg\">\r\n",
        "+        <AlertCircle className=\"h-4 w-4\" />\r\n",
        "+        <AlertTitle>Error</AlertTitle>\r\n",
        "+        <AlertDescription>{message}</AlertDescription>\r\n",
        "+      </Alert>\r\n",
        "+\r\n",
        "+      <div className=\"flex flex-col sm:flex-row gap-4 mt-4\">\r\n",
        "+        <Button\r\n",
        "+          onClick={() => router.refresh()}\r\n",
        "+          className=\"bg-primary-cta text-primary-text hover:bg-cta-hover\"\r\n",
        "+        >\r\n",
        "+          Try Again\r\n",
        "+        </Button>\r\n",
        "+        <Button\r\n",
        "+          variant=\"outline\"\r\n",
        "+          onClick={() => router.push(\"/projects\")}\r\n",
        "+          className=\"border-divider\"\r\n",
        "+        >\r\n",
        "+          Return to Projects\r\n",
        "+        </Button>\r\n",
        "+      </div>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/project-header.tsx",
      "status": "modified",
      "additions": 261,
      "deletions": 261,
      "patch": "@@ -1,261 +1,261 @@\n-\"use client\";\n-\n-import { useState } from \"react\";\n-import { useRouter } from \"next/navigation\";\n-import { Project } from \"@/types\";\n-import { formatDate } from \"@/lib/utils\";\n-import { Badge } from \"@/components/ui/badge\";\n-import { Button } from \"@/components/ui/button\";\n-import {\n-  Dialog,\n-  DialogContent,\n-  DialogDescription,\n-  DialogFooter,\n-  DialogHeader,\n-  DialogTitle,\n-} from \"@/components/ui/dialog\";\n-import {\n-  AlertDialog,\n-  AlertDialogAction,\n-  AlertDialogCancel,\n-  AlertDialogContent,\n-  AlertDialogDescription,\n-  AlertDialogFooter,\n-  AlertDialogHeader,\n-  AlertDialogTitle,\n-} from \"@/components/ui/alert-dialog\";\n-import { Input } from \"@/components/ui/input\";\n-import { Label } from \"@/components/ui/label\";\n-import { Textarea } from \"@/components/ui/textarea\";\n-import { Clock, Edit, Trash } from \"lucide-react\";\n-import { updateProject, deleteProject } from \"@/lib/projects\";\n-import { useToast } from \"@/hooks/use-toast\";\n-import { set } from \"date-fns\";\n-\n-interface ProjectHeaderProps {\n-  project: Project;\n-  setProject: React.Dispatch<React.SetStateAction<Project | null>>;\n-}\n-\n-export function ProjectHeader({ project, setProject }: ProjectHeaderProps) {\n-  const router = useRouter();\n-  const { toast } = useToast();\n-  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false);\n-  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);\n-  const [isUpdating, setIsUpdating] = useState(false);\n-  const [isDeleting, setIsDeleting] = useState(false);\n-  const [editFormData, setEditFormData] = useState({\n-    name: project.name,\n-    description: project.description,\n-  });\n-\n-  // Get status badge color based on project status\n-  const getStatusColor = (status: string | undefined) => {\n-    switch (status) {\n-      case \"draft\":\n-        return \"bg-blue-500/20 text-blue-500 hover:bg-blue-500/30\";\n-      case \"in_progress\":\n-        return \"bg-amber-500/20 text-amber-500 hover:bg-amber-500/30\";\n-      case \"completed\":\n-        return \"bg-green-500/20 text-green-500 hover:bg-green-500/30\";\n-      case \"cancelled\":\n-        return \"bg-red-500/20 text-red-500 hover:bg-red-500/30\";\n-      default:\n-        return \"bg-gray-500/20 text-gray-500 hover:bg-gray-500/30\";\n-    }\n-  };\n-  // Handle input changes in edit dialog\n-  const handleInputChange = (\n-    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n-  ) => {\n-    const { name, value } = e.target;\n-    setEditFormData((prev) => ({ ...prev, [name]: value }));\n-    console.log(\"Updated form data:\", { ...editFormData, [name]: value });\n-  };\n-\n-  // Handle project update\n-  const handleUpdateProject = async () => {\n-    try {\n-      setIsUpdating(true);\n-      if (!project) return;\n-      let data = await updateProject(project.id, editFormData);\n-      setProject(data);\n-      toast({\n-        title: \"Project updated\",\n-        description: \"Project details have been updated successfully.\",\n-      });\n-      setIsEditDialogOpen(false);\n-      // Refresh the page to get updated data\n-      router.refresh();\n-    } catch (error) {\n-      console.error(\"Failed to update project:\", error);\n-      toast({\n-        title: \"Update failed\",\n-        description: \"Failed to update project. Please try again.\",\n-        variant: \"destructive\",\n-      });\n-    } finally {\n-      setIsUpdating(false);\n-    }\n-  };\n-\n-  // Handle project deletion\n-  const handleDeleteProject = async () => {\n-    try {\n-      setIsDeleting(true);\n-      await deleteProject(project.id);\n-      toast({\n-        title: \"Project deleted\",\n-        description: \"Project has been deleted successfully.\",\n-      });\n-      // Navigate back to projects list\n-      router.push(\"/projects\");\n-    } catch (error) {\n-      console.error(\"Failed to delete project:\", error);\n-      toast({\n-        title: \"Delete failed\",\n-        description: \"Failed to delete project. Please try again.\",\n-        variant: \"destructive\",\n-      });\n-      setIsDeleteDialogOpen(false);\n-    } finally {\n-      setIsDeleting(false);\n-    }\n-  };\n-\n-  return (\n-    <div className=\"space-y-4\">\n-      {/* Project Title and Actions Row */}\n-      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n-        <div>\n-          <h1 className=\"text-2xl md:text-3xl font-bold\">{project?.name}</h1>\n-        </div>\n-        <div className=\"flex flex-wrap items-center gap-2\">\n-          <Badge\n-            variant=\"outline\"\n-            className={`capitalize ${getStatusColor(project?.status)}`}\n-          >\n-            {project?.status.replace(\"_\", \" \")}\n-          </Badge>\n-          <Button\n-            variant=\"outline\"\n-            size=\"sm\"\n-            onClick={() => setIsEditDialogOpen(true)}\n-            className=\"border-divider\"\n-          >\n-            <Edit className=\"h-4 w-4 mr-2\" />\n-            Edit\n-          </Button>\n-          <Button\n-            variant=\"outline\"\n-            size=\"sm\"\n-            onClick={() => setIsDeleteDialogOpen(true)}\n-            className=\"border-divider text-destructive hover:text-destructive hover:bg-destructive/10\"\n-          >\n-            <Trash className=\"h-4 w-4 mr-2\" />\n-            Delete\n-          </Button>\n-        </div>\n-      </div>\n-\n-      {/* Project Description */}\n-      <div className=\"bg-secondary-background rounded-lg p-4 border border-divider\">\n-        <p className=\"text-secondary-text\">{project.description}</p>\n-      </div>\n-\n-      {/* Project Metadata */}\n-      <div className=\"flex flex-col sm:flex-row gap-4 text-sm text-secondary-text\">\n-        <div className=\"flex items-center\">\n-          <Clock className=\"h-4 w-4 mr-1.5\" />\n-          <span>Created: {formatDate(project.created_at)}</span>\n-        </div>\n-        {project.updated_at && (\n-          <div className=\"flex items-center\">\n-            <Clock className=\"h-4 w-4 mr-1.5\" />\n-            <span>Updated: {formatDate(project.updated_at)}</span>\n-          </div>\n-        )}\n-      </div>\n-\n-      {/* Edit Dialog */}\n-      <Dialog open={isEditDialogOpen} onOpenChange={setIsEditDialogOpen}>\n-        <DialogContent className=\"bg-secondary-background border-divider\">\n-          <DialogHeader>\n-            <DialogTitle>Edit Project</DialogTitle>\n-            <DialogDescription>\n-              Update your project's basic information\n-            </DialogDescription>\n-          </DialogHeader>\n-          <div className=\"space-y-4 py-4\">\n-            <div className=\"space-y-2\">\n-              <Label htmlFor=\"name\">Project Name</Label>\n-              <Input\n-                id=\"name\"\n-                name=\"name\"\n-                value={editFormData.name}\n-                onChange={handleInputChange}\n-                className=\"bg-primary-background border-divider\"\n-              />\n-            </div>\n-            <div className=\"space-y-2\">\n-              <Label htmlFor=\"description\">Description</Label>\n-              <Textarea\n-                id=\"description\"\n-                name=\"description\"\n-                value={editFormData.description}\n-                onChange={handleInputChange}\n-                rows={5}\n-                className=\"bg-primary-background border-divider\"\n-              />\n-            </div>\n-          </div>\n-          <DialogFooter>\n-            <Button\n-              variant=\"outline\"\n-              onClick={() => setIsEditDialogOpen(false)}\n-              className=\"border-divider\"\n-            >\n-              Cancel\n-            </Button>\n-            <Button\n-              onClick={handleUpdateProject}\n-              disabled={isUpdating}\n-              className=\"bg-primary-cta text-primary-text hover:bg-cta-hover\"\n-            >\n-              {isUpdating ? \"Saving...\" : \"Save Changes\"}\n-            </Button>\n-          </DialogFooter>\n-        </DialogContent>\n-      </Dialog>\n-\n-      {/* Delete Confirmation Dialog */}\n-      <AlertDialog\n-        open={isDeleteDialogOpen}\n-        onOpenChange={setIsDeleteDialogOpen}\n-      >\n-        <AlertDialogContent className=\"bg-secondary-background border-divider\">\n-          <AlertDialogHeader>\n-            <AlertDialogTitle>Delete Project</AlertDialogTitle>\n-            <AlertDialogDescription>\n-              This action cannot be undone. This will permanently delete the\n-              project and all of its data including milestones, tasks, and\n-              subtasks.\n-            </AlertDialogDescription>\n-          </AlertDialogHeader>\n-          <AlertDialogFooter>\n-            <AlertDialogCancel className=\"border-divider\">\n-              Cancel\n-            </AlertDialogCancel>\n-            <AlertDialogAction\n-              onClick={handleDeleteProject}\n-              disabled={isDeleting}\n-              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n-            >\n-              {isDeleting ? \"Deleting...\" : \"Delete Project\"}\n-            </AlertDialogAction>\n-          </AlertDialogFooter>\n-        </AlertDialogContent>\n-      </AlertDialog>\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { useRouter } from \"next/navigation\";\r\n+import { Project } from \"@/types\";\r\n+import { formatDate } from \"@/lib/utils\";\r\n+import { Badge } from \"@/components/ui/badge\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import {\r\n+  Dialog,\r\n+  DialogContent,\r\n+  DialogDescription,\r\n+  DialogFooter,\r\n+  DialogHeader,\r\n+  DialogTitle,\r\n+} from \"@/components/ui/dialog\";\r\n+import {\r\n+  AlertDialog,\r\n+  AlertDialogAction,\r\n+  AlertDialogCancel,\r\n+  AlertDialogContent,\r\n+  AlertDialogDescription,\r\n+  AlertDialogFooter,\r\n+  AlertDialogHeader,\r\n+  AlertDialogTitle,\r\n+} from \"@/components/ui/alert-dialog\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Label } from \"@/components/ui/label\";\r\n+import { Textarea } from \"@/components/ui/textarea\";\r\n+import { Clock, Edit, Trash } from \"lucide-react\";\r\n+import { updateProject, deleteProject } from \"@/lib/projects\";\r\n+import { useToast } from \"@/hooks/use-toast\";\r\n+import { set } from \"date-fns\";\r\n+\r\n+interface ProjectHeaderProps {\r\n+  project: Project;\r\n+  setProject: React.Dispatch<React.SetStateAction<Project | null>>;\r\n+}\r\n+\r\n+export function ProjectHeader({ project, setProject }: ProjectHeaderProps) {\r\n+  const router = useRouter();\r\n+  const { toast } = useToast();\r\n+  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false);\r\n+  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);\r\n+  const [isUpdating, setIsUpdating] = useState(false);\r\n+  const [isDeleting, setIsDeleting] = useState(false);\r\n+  const [editFormData, setEditFormData] = useState({\r\n+    name: project.name,\r\n+    description: project.description,\r\n+  });\r\n+\r\n+  // Get status badge color based on project status\r\n+  const getStatusColor = (status: string | undefined) => {\r\n+    switch (status) {\r\n+      case \"draft\":\r\n+        return \"bg-blue-500/20 text-blue-500 hover:bg-blue-500/30\";\r\n+      case \"in_progress\":\r\n+        return \"bg-amber-500/20 text-amber-500 hover:bg-amber-500/30\";\r\n+      case \"completed\":\r\n+        return \"bg-green-500/20 text-green-500 hover:bg-green-500/30\";\r\n+      case \"cancelled\":\r\n+        return \"bg-red-500/20 text-red-500 hover:bg-red-500/30\";\r\n+      default:\r\n+        return \"bg-gray-500/20 text-gray-500 hover:bg-gray-500/30\";\r\n+    }\r\n+  };\r\n+  // Handle input changes in edit dialog\r\n+  const handleInputChange = (\r\n+    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n+  ) => {\r\n+    const { name, value } = e.target;\r\n+    setEditFormData((prev) => ({ ...prev, [name]: value }));\r\n+    console.log(\"Updated form data:\", { ...editFormData, [name]: value });\r\n+  };\r\n+\r\n+  // Handle project update\r\n+  const handleUpdateProject = async () => {\r\n+    try {\r\n+      setIsUpdating(true);\r\n+      if (!project) return;\r\n+      let data = await updateProject(project.id, editFormData);\r\n+      setProject(data);\r\n+      toast({\r\n+        title: \"Project updated\",\r\n+        description: \"Project details have been updated successfully.\",\r\n+      });\r\n+      setIsEditDialogOpen(false);\r\n+      // Refresh the page to get updated data\r\n+      router.refresh();\r\n+    } catch (error) {\r\n+      console.error(\"Failed to update project:\", error);\r\n+      toast({\r\n+        title: \"Update failed\",\r\n+        description: \"Failed to update project. Please try again.\",\r\n+        variant: \"destructive\",\r\n+      });\r\n+    } finally {\r\n+      setIsUpdating(false);\r\n+    }\r\n+  };\r\n+\r\n+  // Handle project deletion\r\n+  const handleDeleteProject = async () => {\r\n+    try {\r\n+      setIsDeleting(true);\r\n+      await deleteProject(project.id);\r\n+      toast({\r\n+        title: \"Project deleted\",\r\n+        description: \"Project has been deleted successfully.\",\r\n+      });\r\n+      // Navigate back to projects list\r\n+      router.push(\"/projects\");\r\n+    } catch (error) {\r\n+      console.error(\"Failed to delete project:\", error);\r\n+      toast({\r\n+        title: \"Delete failed\",\r\n+        description: \"Failed to delete project. Please try again.\",\r\n+        variant: \"destructive\",\r\n+      });\r\n+      setIsDeleteDialogOpen(false);\r\n+    } finally {\r\n+      setIsDeleting(false);\r\n+    }\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"space-y-4\">\r\n+      {/* Project Title and Actions Row */}\r\n+      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n+        <div>\r\n+          <h1 className=\"text-2xl md:text-3xl font-bold\">{project?.name}</h1>\r\n+        </div>\r\n+        <div className=\"flex flex-wrap items-center gap-2\">\r\n+          <Badge\r\n+            variant=\"outline\"\r\n+            className={`capitalize ${getStatusColor(project?.status)}`}\r\n+          >\r\n+            {project?.status.replace(\"_\", \" \")}\r\n+          </Badge>\r\n+          <Button\r\n+            variant=\"outline\"\r\n+            size=\"sm\"\r\n+            onClick={() => setIsEditDialogOpen(true)}\r\n+            className=\"border-divider\"\r\n+          >\r\n+            <Edit className=\"h-4 w-4 mr-2\" />\r\n+            Edit\r\n+          </Button>\r\n+          <Button\r\n+            variant=\"outline\"\r\n+            size=\"sm\"\r\n+            onClick={() => setIsDeleteDialogOpen(true)}\r\n+            className=\"border-divider text-destructive hover:text-destructive hover:bg-destructive/10\"\r\n+          >\r\n+            <Trash className=\"h-4 w-4 mr-2\" />\r\n+            Delete\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Project Description */}\r\n+      <div className=\"bg-secondary-background rounded-lg p-4 border border-divider\">\r\n+        <p className=\"text-secondary-text\">{project.description}</p>\r\n+      </div>\r\n+\r\n+      {/* Project Metadata */}\r\n+      <div className=\"flex flex-col sm:flex-row gap-4 text-sm text-secondary-text\">\r\n+        <div className=\"flex items-center\">\r\n+          <Clock className=\"h-4 w-4 mr-1.5\" />\r\n+          <span>Created: {formatDate(project.created_at)}</span>\r\n+        </div>\r\n+        {project.updated_at && (\r\n+          <div className=\"flex items-center\">\r\n+            <Clock className=\"h-4 w-4 mr-1.5\" />\r\n+            <span>Updated: {formatDate(project.updated_at)}</span>\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+\r\n+      {/* Edit Dialog */}\r\n+      <Dialog open={isEditDialogOpen} onOpenChange={setIsEditDialogOpen}>\r\n+        <DialogContent className=\"bg-secondary-background border-divider\">\r\n+          <DialogHeader>\r\n+            <DialogTitle>Edit Project</DialogTitle>\r\n+            <DialogDescription>\r\n+              Update your project's basic information\r\n+            </DialogDescription>\r\n+          </DialogHeader>\r\n+          <div className=\"space-y-4 py-4\">\r\n+            <div className=\"space-y-2\">\r\n+              <Label htmlFor=\"name\">Project Name</Label>\r\n+              <Input\r\n+                id=\"name\"\r\n+                name=\"name\"\r\n+                value={editFormData.name}\r\n+                onChange={handleInputChange}\r\n+                className=\"bg-primary-background border-divider\"\r\n+              />\r\n+            </div>\r\n+            <div className=\"space-y-2\">\r\n+              <Label htmlFor=\"description\">Description</Label>\r\n+              <Textarea\r\n+                id=\"description\"\r\n+                name=\"description\"\r\n+                value={editFormData.description}\r\n+                onChange={handleInputChange}\r\n+                rows={5}\r\n+                className=\"bg-primary-background border-divider\"\r\n+              />\r\n+            </div>\r\n+          </div>\r\n+          <DialogFooter>\r\n+            <Button\r\n+              variant=\"outline\"\r\n+              onClick={() => setIsEditDialogOpen(false)}\r\n+              className=\"border-divider\"\r\n+            >\r\n+              Cancel\r\n+            </Button>\r\n+            <Button\r\n+              onClick={handleUpdateProject}\r\n+              disabled={isUpdating}\r\n+              className=\"bg-primary-cta text-primary-text hover:bg-cta-hover\"\r\n+            >\r\n+              {isUpdating ? \"Saving...\" : \"Save Changes\"}\r\n+            </Button>\r\n+          </DialogFooter>\r\n+        </DialogContent>\r\n+      </Dialog>\r\n+\r\n+      {/* Delete Confirmation Dialog */}\r\n+      <AlertDialog\r\n+        open={isDeleteDialogOpen}\r\n+        onOpenChange={setIsDeleteDialogOpen}\r\n+      >\r\n+        <AlertDialogContent className=\"bg-secondary-background border-divider\">\r\n+          <AlertDialogHeader>\r\n+            <AlertDialogTitle>Delete Project</AlertDialogTitle>\r\n+            <AlertDialogDescription>\r\n+              This action cannot be undone. This will permanently delete the\r\n+              project and all of its data including milestones, tasks, and\r\n+              subtasks.\r\n+            </AlertDialogDescription>\r\n+          </AlertDialogHeader>\r\n+          <AlertDialogFooter>\r\n+            <AlertDialogCancel className=\"border-divider\">\r\n+              Cancel\r\n+            </AlertDialogCancel>\r\n+            <AlertDialogAction\r\n+              onClick={handleDeleteProject}\r\n+              disabled={isDeleting}\r\n+              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\r\n+            >\r\n+              {isDeleting ? \"Deleting...\" : \"Delete Project\"}\r\n+            </AlertDialogAction>\r\n+          </AlertDialogFooter>\r\n+        </AlertDialogContent>\r\n+      </AlertDialog>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,261 +1,261 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState } from \"react\";\n",
        "-import { useRouter } from \"next/navigation\";\n",
        "-import { Project } from \"@/types\";\n",
        "-import { formatDate } from \"@/lib/utils\";\n",
        "-import { Badge } from \"@/components/ui/badge\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import {\n",
        "-  Dialog,\n",
        "-  DialogContent,\n",
        "-  DialogDescription,\n",
        "-  DialogFooter,\n",
        "-  DialogHeader,\n",
        "-  DialogTitle,\n",
        "-} from \"@/components/ui/dialog\";\n",
        "-import {\n",
        "-  AlertDialog,\n",
        "-  AlertDialogAction,\n",
        "-  AlertDialogCancel,\n",
        "-  AlertDialogContent,\n",
        "-  AlertDialogDescription,\n",
        "-  AlertDialogFooter,\n",
        "-  AlertDialogHeader,\n",
        "-  AlertDialogTitle,\n",
        "-} from \"@/components/ui/alert-dialog\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import { Label } from \"@/components/ui/label\";\n",
        "-import { Textarea } from \"@/components/ui/textarea\";\n",
        "-import { Clock, Edit, Trash } from \"lucide-react\";\n",
        "-import { updateProject, deleteProject } from \"@/lib/projects\";\n",
        "-import { useToast } from \"@/hooks/use-toast\";\n",
        "-import { set } from \"date-fns\";\n",
        "-\n",
        "-interface ProjectHeaderProps {\n",
        "-  project: Project;\n",
        "-  setProject: React.Dispatch<React.SetStateAction<Project | null>>;\n",
        "-}\n",
        "-\n",
        "-export function ProjectHeader({ project, setProject }: ProjectHeaderProps) {\n",
        "-  const router = useRouter();\n",
        "-  const { toast } = useToast();\n",
        "-  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false);\n",
        "-  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);\n",
        "-  const [isUpdating, setIsUpdating] = useState(false);\n",
        "-  const [isDeleting, setIsDeleting] = useState(false);\n",
        "-  const [editFormData, setEditFormData] = useState({\n",
        "-    name: project.name,\n",
        "-    description: project.description,\n",
        "-  });\n",
        "-\n",
        "-  // Get status badge color based on project status\n",
        "-  const getStatusColor = (status: string | undefined) => {\n",
        "-    switch (status) {\n",
        "-      case \"draft\":\n",
        "-        return \"bg-blue-500/20 text-blue-500 hover:bg-blue-500/30\";\n",
        "-      case \"in_progress\":\n",
        "-        return \"bg-amber-500/20 text-amber-500 hover:bg-amber-500/30\";\n",
        "-      case \"completed\":\n",
        "-        return \"bg-green-500/20 text-green-500 hover:bg-green-500/30\";\n",
        "-      case \"cancelled\":\n",
        "-        return \"bg-red-500/20 text-red-500 hover:bg-red-500/30\";\n",
        "-      default:\n",
        "-        return \"bg-gray-500/20 text-gray-500 hover:bg-gray-500/30\";\n",
        "-    }\n",
        "-  };\n",
        "-  // Handle input changes in edit dialog\n",
        "-  const handleInputChange = (\n",
        "-    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n",
        "-  ) => {\n",
        "-    const { name, value } = e.target;\n",
        "-    setEditFormData((prev) => ({ ...prev, [name]: value }));\n",
        "-    console.log(\"Updated form data:\", { ...editFormData, [name]: value });\n",
        "-  };\n",
        "-\n",
        "-  // Handle project update\n",
        "-  const handleUpdateProject = async () => {\n",
        "-    try {\n",
        "-      setIsUpdating(true);\n",
        "-      if (!project) return;\n",
        "-      let data = await updateProject(project.id, editFormData);\n",
        "-      setProject(data);\n",
        "-      toast({\n",
        "-        title: \"Project updated\",\n",
        "-        description: \"Project details have been updated successfully.\",\n",
        "-      });\n",
        "-      setIsEditDialogOpen(false);\n",
        "-      // Refresh the page to get updated data\n",
        "-      router.refresh();\n",
        "-    } catch (error) {\n",
        "-      console.error(\"Failed to update project:\", error);\n",
        "-      toast({\n",
        "-        title: \"Update failed\",\n",
        "-        description: \"Failed to update project. Please try again.\",\n",
        "-        variant: \"destructive\",\n",
        "-      });\n",
        "-    } finally {\n",
        "-      setIsUpdating(false);\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  // Handle project deletion\n",
        "-  const handleDeleteProject = async () => {\n",
        "-    try {\n",
        "-      setIsDeleting(true);\n",
        "-      await deleteProject(project.id);\n",
        "-      toast({\n",
        "-        title: \"Project deleted\",\n",
        "-        description: \"Project has been deleted successfully.\",\n",
        "-      });\n",
        "-      // Navigate back to projects list\n",
        "-      router.push(\"/projects\");\n",
        "-    } catch (error) {\n",
        "-      console.error(\"Failed to delete project:\", error);\n",
        "-      toast({\n",
        "-        title: \"Delete failed\",\n",
        "-        description: \"Failed to delete project. Please try again.\",\n",
        "-        variant: \"destructive\",\n",
        "-      });\n",
        "-      setIsDeleteDialogOpen(false);\n",
        "-    } finally {\n",
        "-      setIsDeleting(false);\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"space-y-4\">\n",
        "-      {/* Project Title and Actions Row */}\n",
        "-      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n",
        "-        <div>\n",
        "-          <h1 className=\"text-2xl md:text-3xl font-bold\">{project?.name}</h1>\n",
        "-        </div>\n",
        "-        <div className=\"flex flex-wrap items-center gap-2\">\n",
        "-          <Badge\n",
        "-            variant=\"outline\"\n",
        "-            className={`capitalize ${getStatusColor(project?.status)}`}\n",
        "-          >\n",
        "-            {project?.status.replace(\"_\", \" \")}\n",
        "-          </Badge>\n",
        "-          <Button\n",
        "-            variant=\"outline\"\n",
        "-            size=\"sm\"\n",
        "-            onClick={() => setIsEditDialogOpen(true)}\n",
        "-            className=\"border-divider\"\n",
        "-          >\n",
        "-            <Edit className=\"h-4 w-4 mr-2\" />\n",
        "-            Edit\n",
        "-          </Button>\n",
        "-          <Button\n",
        "-            variant=\"outline\"\n",
        "-            size=\"sm\"\n",
        "-            onClick={() => setIsDeleteDialogOpen(true)}\n",
        "-            className=\"border-divider text-destructive hover:text-destructive hover:bg-destructive/10\"\n",
        "-          >\n",
        "-            <Trash className=\"h-4 w-4 mr-2\" />\n",
        "-            Delete\n",
        "-          </Button>\n",
        "-        </div>\n",
        "-      </div>\n",
        "-\n",
        "-      {/* Project Description */}\n",
        "-      <div className=\"bg-secondary-background rounded-lg p-4 border border-divider\">\n",
        "-        <p className=\"text-secondary-text\">{project.description}</p>\n",
        "-      </div>\n",
        "-\n",
        "-      {/* Project Metadata */}\n",
        "-      <div className=\"flex flex-col sm:flex-row gap-4 text-sm text-secondary-text\">\n",
        "-        <div className=\"flex items-center\">\n",
        "-          <Clock className=\"h-4 w-4 mr-1.5\" />\n",
        "-          <span>Created: {formatDate(project.created_at)}</span>\n",
        "-        </div>\n",
        "-        {project.updated_at && (\n",
        "-          <div className=\"flex items-center\">\n",
        "-            <Clock className=\"h-4 w-4 mr-1.5\" />\n",
        "-            <span>Updated: {formatDate(project.updated_at)}</span>\n",
        "-          </div>\n",
        "-        )}\n",
        "-      </div>\n",
        "-\n",
        "-      {/* Edit Dialog */}\n",
        "-      <Dialog open={isEditDialogOpen} onOpenChange={setIsEditDialogOpen}>\n",
        "-        <DialogContent className=\"bg-secondary-background border-divider\">\n",
        "-          <DialogHeader>\n",
        "-            <DialogTitle>Edit Project</DialogTitle>\n",
        "-            <DialogDescription>\n",
        "-              Update your project's basic information\n",
        "-            </DialogDescription>\n",
        "-          </DialogHeader>\n",
        "-          <div className=\"space-y-4 py-4\">\n",
        "-            <div className=\"space-y-2\">\n",
        "-              <Label htmlFor=\"name\">Project Name</Label>\n",
        "-              <Input\n",
        "-                id=\"name\"\n",
        "-                name=\"name\"\n",
        "-                value={editFormData.name}\n",
        "-                onChange={handleInputChange}\n",
        "-                className=\"bg-primary-background border-divider\"\n",
        "-              />\n",
        "-            </div>\n",
        "-            <div className=\"space-y-2\">\n",
        "-              <Label htmlFor=\"description\">Description</Label>\n",
        "-              <Textarea\n",
        "-                id=\"description\"\n",
        "-                name=\"description\"\n",
        "-                value={editFormData.description}\n",
        "-                onChange={handleInputChange}\n",
        "-                rows={5}\n",
        "-                className=\"bg-primary-background border-divider\"\n",
        "-              />\n",
        "-            </div>\n",
        "-          </div>\n",
        "-          <DialogFooter>\n",
        "-            <Button\n",
        "-              variant=\"outline\"\n",
        "-              onClick={() => setIsEditDialogOpen(false)}\n",
        "-              className=\"border-divider\"\n",
        "-            >\n",
        "-              Cancel\n",
        "-            </Button>\n",
        "-            <Button\n",
        "-              onClick={handleUpdateProject}\n",
        "-              disabled={isUpdating}\n",
        "-              className=\"bg-primary-cta text-primary-text hover:bg-cta-hover\"\n",
        "-            >\n",
        "-              {isUpdating ? \"Saving...\" : \"Save Changes\"}\n",
        "-            </Button>\n",
        "-          </DialogFooter>\n",
        "-        </DialogContent>\n",
        "-      </Dialog>\n",
        "-\n",
        "-      {/* Delete Confirmation Dialog */}\n",
        "-      <AlertDialog\n",
        "-        open={isDeleteDialogOpen}\n",
        "-        onOpenChange={setIsDeleteDialogOpen}\n",
        "-      >\n",
        "-        <AlertDialogContent className=\"bg-secondary-background border-divider\">\n",
        "-          <AlertDialogHeader>\n",
        "-            <AlertDialogTitle>Delete Project</AlertDialogTitle>\n",
        "-            <AlertDialogDescription>\n",
        "-              This action cannot be undone. This will permanently delete the\n",
        "-              project and all of its data including milestones, tasks, and\n",
        "-              subtasks.\n",
        "-            </AlertDialogDescription>\n",
        "-          </AlertDialogHeader>\n",
        "-          <AlertDialogFooter>\n",
        "-            <AlertDialogCancel className=\"border-divider\">\n",
        "-              Cancel\n",
        "-            </AlertDialogCancel>\n",
        "-            <AlertDialogAction\n",
        "-              onClick={handleDeleteProject}\n",
        "-              disabled={isDeleting}\n",
        "-              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n",
        "-            >\n",
        "-              {isDeleting ? \"Deleting...\" : \"Delete Project\"}\n",
        "-            </AlertDialogAction>\n",
        "-          </AlertDialogFooter>\n",
        "-        </AlertDialogContent>\n",
        "-      </AlertDialog>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import { useRouter } from \"next/navigation\";\r\n",
        "+import { Project } from \"@/types\";\r\n",
        "+import { formatDate } from \"@/lib/utils\";\r\n",
        "+import { Badge } from \"@/components/ui/badge\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import {\r\n",
        "+  Dialog,\r\n",
        "+  DialogContent,\r\n",
        "+  DialogDescription,\r\n",
        "+  DialogFooter,\r\n",
        "+  DialogHeader,\r\n",
        "+  DialogTitle,\r\n",
        "+} from \"@/components/ui/dialog\";\r\n",
        "+import {\r\n",
        "+  AlertDialog,\r\n",
        "+  AlertDialogAction,\r\n",
        "+  AlertDialogCancel,\r\n",
        "+  AlertDialogContent,\r\n",
        "+  AlertDialogDescription,\r\n",
        "+  AlertDialogFooter,\r\n",
        "+  AlertDialogHeader,\r\n",
        "+  AlertDialogTitle,\r\n",
        "+} from \"@/components/ui/alert-dialog\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import { Label } from \"@/components/ui/label\";\r\n",
        "+import { Textarea } from \"@/components/ui/textarea\";\r\n",
        "+import { Clock, Edit, Trash } from \"lucide-react\";\r\n",
        "+import { updateProject, deleteProject } from \"@/lib/projects\";\r\n",
        "+import { useToast } from \"@/hooks/use-toast\";\r\n",
        "+import { set } from \"date-fns\";\r\n",
        "+\r\n",
        "+interface ProjectHeaderProps {\r\n",
        "+  project: Project;\r\n",
        "+  setProject: React.Dispatch<React.SetStateAction<Project | null>>;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function ProjectHeader({ project, setProject }: ProjectHeaderProps) {\r\n",
        "+  const router = useRouter();\r\n",
        "+  const { toast } = useToast();\r\n",
        "+  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false);\r\n",
        "+  const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);\r\n",
        "+  const [isUpdating, setIsUpdating] = useState(false);\r\n",
        "+  const [isDeleting, setIsDeleting] = useState(false);\r\n",
        "+  const [editFormData, setEditFormData] = useState({\r\n",
        "+    name: project.name,\r\n",
        "+    description: project.description,\r\n",
        "+  });\r\n",
        "+\r\n",
        "+  // Get status badge color based on project status\r\n",
        "+  const getStatusColor = (status: string | undefined) => {\r\n",
        "+    switch (status) {\r\n",
        "+      case \"draft\":\r\n",
        "+        return \"bg-blue-500/20 text-blue-500 hover:bg-blue-500/30\";\r\n",
        "+      case \"in_progress\":\r\n",
        "+        return \"bg-amber-500/20 text-amber-500 hover:bg-amber-500/30\";\r\n",
        "+      case \"completed\":\r\n",
        "+        return \"bg-green-500/20 text-green-500 hover:bg-green-500/30\";\r\n",
        "+      case \"cancelled\":\r\n",
        "+        return \"bg-red-500/20 text-red-500 hover:bg-red-500/30\";\r\n",
        "+      default:\r\n",
        "+        return \"bg-gray-500/20 text-gray-500 hover:bg-gray-500/30\";\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+  // Handle input changes in edit dialog\r\n",
        "+  const handleInputChange = (\r\n",
        "+    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\r\n",
        "+  ) => {\r\n",
        "+    const { name, value } = e.target;\r\n",
        "+    setEditFormData((prev) => ({ ...prev, [name]: value }));\r\n",
        "+    console.log(\"Updated form data:\", { ...editFormData, [name]: value });\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle project update\r\n",
        "+  const handleUpdateProject = async () => {\r\n",
        "+    try {\r\n",
        "+      setIsUpdating(true);\r\n",
        "+      if (!project) return;\r\n",
        "+      let data = await updateProject(project.id, editFormData);\r\n",
        "+      setProject(data);\r\n",
        "+      toast({\r\n",
        "+        title: \"Project updated\",\r\n",
        "+        description: \"Project details have been updated successfully.\",\r\n",
        "+      });\r\n",
        "+      setIsEditDialogOpen(false);\r\n",
        "+      // Refresh the page to get updated data\r\n",
        "+      router.refresh();\r\n",
        "+    } catch (error) {\r\n",
        "+      console.error(\"Failed to update project:\", error);\r\n",
        "+      toast({\r\n",
        "+        title: \"Update failed\",\r\n",
        "+        description: \"Failed to update project. Please try again.\",\r\n",
        "+        variant: \"destructive\",\r\n",
        "+      });\r\n",
        "+    } finally {\r\n",
        "+      setIsUpdating(false);\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle project deletion\r\n",
        "+  const handleDeleteProject = async () => {\r\n",
        "+    try {\r\n",
        "+      setIsDeleting(true);\r\n",
        "+      await deleteProject(project.id);\r\n",
        "+      toast({\r\n",
        "+        title: \"Project deleted\",\r\n",
        "+        description: \"Project has been deleted successfully.\",\r\n",
        "+      });\r\n",
        "+      // Navigate back to projects list\r\n",
        "+      router.push(\"/projects\");\r\n",
        "+    } catch (error) {\r\n",
        "+      console.error(\"Failed to delete project:\", error);\r\n",
        "+      toast({\r\n",
        "+        title: \"Delete failed\",\r\n",
        "+        description: \"Failed to delete project. Please try again.\",\r\n",
        "+        variant: \"destructive\",\r\n",
        "+      });\r\n",
        "+      setIsDeleteDialogOpen(false);\r\n",
        "+    } finally {\r\n",
        "+      setIsDeleting(false);\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"space-y-4\">\r\n",
        "+      {/* Project Title and Actions Row */}\r\n",
        "+      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n",
        "+        <div>\r\n",
        "+          <h1 className=\"text-2xl md:text-3xl font-bold\">{project?.name}</h1>\r\n",
        "+        </div>\r\n",
        "+        <div className=\"flex flex-wrap items-center gap-2\">\r\n",
        "+          <Badge\r\n",
        "+            variant=\"outline\"\r\n",
        "+            className={`capitalize ${getStatusColor(project?.status)}`}\r\n",
        "+          >\r\n",
        "+            {project?.status.replace(\"_\", \" \")}\r\n",
        "+          </Badge>\r\n",
        "+          <Button\r\n",
        "+            variant=\"outline\"\r\n",
        "+            size=\"sm\"\r\n",
        "+            onClick={() => setIsEditDialogOpen(true)}\r\n",
        "+            className=\"border-divider\"\r\n",
        "+          >\r\n",
        "+            <Edit className=\"h-4 w-4 mr-2\" />\r\n",
        "+            Edit\r\n",
        "+          </Button>\r\n",
        "+          <Button\r\n",
        "+            variant=\"outline\"\r\n",
        "+            size=\"sm\"\r\n",
        "+            onClick={() => setIsDeleteDialogOpen(true)}\r\n",
        "+            className=\"border-divider text-destructive hover:text-destructive hover:bg-destructive/10\"\r\n",
        "+          >\r\n",
        "+            <Trash className=\"h-4 w-4 mr-2\" />\r\n",
        "+            Delete\r\n",
        "+          </Button>\r\n",
        "+        </div>\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      {/* Project Description */}\r\n",
        "+      <div className=\"bg-secondary-background rounded-lg p-4 border border-divider\">\r\n",
        "+        <p className=\"text-secondary-text\">{project.description}</p>\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      {/* Project Metadata */}\r\n",
        "+      <div className=\"flex flex-col sm:flex-row gap-4 text-sm text-secondary-text\">\r\n",
        "+        <div className=\"flex items-center\">\r\n",
        "+          <Clock className=\"h-4 w-4 mr-1.5\" />\r\n",
        "+          <span>Created: {formatDate(project.created_at)}</span>\r\n",
        "+        </div>\r\n",
        "+        {project.updated_at && (\r\n",
        "+          <div className=\"flex items-center\">\r\n",
        "+            <Clock className=\"h-4 w-4 mr-1.5\" />\r\n",
        "+            <span>Updated: {formatDate(project.updated_at)}</span>\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      {/* Edit Dialog */}\r\n",
        "+      <Dialog open={isEditDialogOpen} onOpenChange={setIsEditDialogOpen}>\r\n",
        "+        <DialogContent className=\"bg-secondary-background border-divider\">\r\n",
        "+          <DialogHeader>\r\n",
        "+            <DialogTitle>Edit Project</DialogTitle>\r\n",
        "+            <DialogDescription>\r\n",
        "+              Update your project's basic information\r\n",
        "+            </DialogDescription>\r\n",
        "+          </DialogHeader>\r\n",
        "+          <div className=\"space-y-4 py-4\">\r\n",
        "+            <div className=\"space-y-2\">\r\n",
        "+              <Label htmlFor=\"name\">Project Name</Label>\r\n",
        "+              <Input\r\n",
        "+                id=\"name\"\r\n",
        "+                name=\"name\"\r\n",
        "+                value={editFormData.name}\r\n",
        "+                onChange={handleInputChange}\r\n",
        "+                className=\"bg-primary-background border-divider\"\r\n",
        "+              />\r\n",
        "+            </div>\r\n",
        "+            <div className=\"space-y-2\">\r\n",
        "+              <Label htmlFor=\"description\">Description</Label>\r\n",
        "+              <Textarea\r\n",
        "+                id=\"description\"\r\n",
        "+                name=\"description\"\r\n",
        "+                value={editFormData.description}\r\n",
        "+                onChange={handleInputChange}\r\n",
        "+                rows={5}\r\n",
        "+                className=\"bg-primary-background border-divider\"\r\n",
        "+              />\r\n",
        "+            </div>\r\n",
        "+          </div>\r\n",
        "+          <DialogFooter>\r\n",
        "+            <Button\r\n",
        "+              variant=\"outline\"\r\n",
        "+              onClick={() => setIsEditDialogOpen(false)}\r\n",
        "+              className=\"border-divider\"\r\n",
        "+            >\r\n",
        "+              Cancel\r\n",
        "+            </Button>\r\n",
        "+            <Button\r\n",
        "+              onClick={handleUpdateProject}\r\n",
        "+              disabled={isUpdating}\r\n",
        "+              className=\"bg-primary-cta text-primary-text hover:bg-cta-hover\"\r\n",
        "+            >\r\n",
        "+              {isUpdating ? \"Saving...\" : \"Save Changes\"}\r\n",
        "+            </Button>\r\n",
        "+          </DialogFooter>\r\n",
        "+        </DialogContent>\r\n",
        "+      </Dialog>\r\n",
        "+\r\n",
        "+      {/* Delete Confirmation Dialog */}\r\n",
        "+      <AlertDialog\r\n",
        "+        open={isDeleteDialogOpen}\r\n",
        "+        onOpenChange={setIsDeleteDialogOpen}\r\n",
        "+      >\r\n",
        "+        <AlertDialogContent className=\"bg-secondary-background border-divider\">\r\n",
        "+          <AlertDialogHeader>\r\n",
        "+            <AlertDialogTitle>Delete Project</AlertDialogTitle>\r\n",
        "+            <AlertDialogDescription>\r\n",
        "+              This action cannot be undone. This will permanently delete the\r\n",
        "+              project and all of its data including milestones, tasks, and\r\n",
        "+              subtasks.\r\n",
        "+            </AlertDialogDescription>\r\n",
        "+          </AlertDialogHeader>\r\n",
        "+          <AlertDialogFooter>\r\n",
        "+            <AlertDialogCancel className=\"border-divider\">\r\n",
        "+              Cancel\r\n",
        "+            </AlertDialogCancel>\r\n",
        "+            <AlertDialogAction\r\n",
        "+              onClick={handleDeleteProject}\r\n",
        "+              disabled={isDeleting}\r\n",
        "+              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\r\n",
        "+            >\r\n",
        "+              {isDeleting ? \"Deleting...\" : \"Delete Project\"}\r\n",
        "+            </AlertDialogAction>\r\n",
        "+          </AlertDialogFooter>\r\n",
        "+        </AlertDialogContent>\r\n",
        "+      </AlertDialog>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/project-loading-skeleton.tsx",
      "status": "modified",
      "additions": 37,
      "deletions": 37,
      "patch": "@@ -1,37 +1,37 @@\n-import { Skeleton } from \"@/components/ui/skeleton\";\n-\n-export function ProjectLoadingSkeleton() {\n-  return (\n-    <div className=\"space-y-6\">\n-      {/* Header Skeleton */}\n-      <div className=\"space-y-4\">\n-        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n-          <Skeleton className=\"h-10 w-2/3 md:w-1/3\" />\n-          <div className=\"flex items-center gap-2\">\n-            <Skeleton className=\"h-8 w-24\" />\n-            <Skeleton className=\"h-8 w-20\" />\n-            <Skeleton className=\"h-8 w-20\" />\n-          </div>\n-        </div>\n-        <Skeleton className=\"h-24 w-full rounded-lg\" />\n-        <div className=\"flex gap-4\">\n-          <Skeleton className=\"h-6 w-40\" />\n-          <Skeleton className=\"h-6 w-40\" />\n-        </div>\n-      </div>\n-\n-      {/* Tabs Skeleton */}\n-      <div className=\"space-y-6\">\n-        <div className=\"flex overflow-x-auto\">\n-          {Array.from({ length: 7 }).map((_, i) => (\n-            <Skeleton\n-              key={i}\n-              className=\"h-10 w-32 mx-1 rounded-md flex-shrink-0\"\n-            />\n-          ))}\n-        </div>\n-        <Skeleton className=\"h-64 w-full rounded-lg\" />\n-      </div>\n-    </div>\n-  );\n-}\n+import { Skeleton } from \"@/components/ui/skeleton\";\r\n+\r\n+export function ProjectLoadingSkeleton() {\r\n+  return (\r\n+    <div className=\"space-y-6\">\r\n+      {/* Header Skeleton */}\r\n+      <div className=\"space-y-4\">\r\n+        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n+          <Skeleton className=\"h-10 w-2/3 md:w-1/3\" />\r\n+          <div className=\"flex items-center gap-2\">\r\n+            <Skeleton className=\"h-8 w-24\" />\r\n+            <Skeleton className=\"h-8 w-20\" />\r\n+            <Skeleton className=\"h-8 w-20\" />\r\n+          </div>\r\n+        </div>\r\n+        <Skeleton className=\"h-24 w-full rounded-lg\" />\r\n+        <div className=\"flex gap-4\">\r\n+          <Skeleton className=\"h-6 w-40\" />\r\n+          <Skeleton className=\"h-6 w-40\" />\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Tabs Skeleton */}\r\n+      <div className=\"space-y-6\">\r\n+        <div className=\"flex overflow-x-auto\">\r\n+          {Array.from({ length: 7 }).map((_, i) => (\r\n+            <Skeleton\r\n+              key={i}\r\n+              className=\"h-10 w-32 mx-1 rounded-md flex-shrink-0\"\r\n+            />\r\n+          ))}\r\n+        </div>\r\n+        <Skeleton className=\"h-64 w-full rounded-lg\" />\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,37 +1,37 @@\n",
        "-import { Skeleton } from \"@/components/ui/skeleton\";\n",
        "-\n",
        "-export function ProjectLoadingSkeleton() {\n",
        "-  return (\n",
        "-    <div className=\"space-y-6\">\n",
        "-      {/* Header Skeleton */}\n",
        "-      <div className=\"space-y-4\">\n",
        "-        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n",
        "-          <Skeleton className=\"h-10 w-2/3 md:w-1/3\" />\n",
        "-          <div className=\"flex items-center gap-2\">\n",
        "-            <Skeleton className=\"h-8 w-24\" />\n",
        "-            <Skeleton className=\"h-8 w-20\" />\n",
        "-            <Skeleton className=\"h-8 w-20\" />\n",
        "-          </div>\n",
        "-        </div>\n",
        "-        <Skeleton className=\"h-24 w-full rounded-lg\" />\n",
        "-        <div className=\"flex gap-4\">\n",
        "-          <Skeleton className=\"h-6 w-40\" />\n",
        "-          <Skeleton className=\"h-6 w-40\" />\n",
        "-        </div>\n",
        "-      </div>\n",
        "-\n",
        "-      {/* Tabs Skeleton */}\n",
        "-      <div className=\"space-y-6\">\n",
        "-        <div className=\"flex overflow-x-auto\">\n",
        "-          {Array.from({ length: 7 }).map((_, i) => (\n",
        "-            <Skeleton\n",
        "-              key={i}\n",
        "-              className=\"h-10 w-32 mx-1 rounded-md flex-shrink-0\"\n",
        "-            />\n",
        "-          ))}\n",
        "-        </div>\n",
        "-        <Skeleton className=\"h-64 w-full rounded-lg\" />\n",
        "-      </div>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+import { Skeleton } from \"@/components/ui/skeleton\";\r\n",
        "+\r\n",
        "+export function ProjectLoadingSkeleton() {\r\n",
        "+  return (\r\n",
        "+    <div className=\"space-y-6\">\r\n",
        "+      {/* Header Skeleton */}\r\n",
        "+      <div className=\"space-y-4\">\r\n",
        "+        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n",
        "+          <Skeleton className=\"h-10 w-2/3 md:w-1/3\" />\r\n",
        "+          <div className=\"flex items-center gap-2\">\r\n",
        "+            <Skeleton className=\"h-8 w-24\" />\r\n",
        "+            <Skeleton className=\"h-8 w-20\" />\r\n",
        "+            <Skeleton className=\"h-8 w-20\" />\r\n",
        "+          </div>\r\n",
        "+        </div>\r\n",
        "+        <Skeleton className=\"h-24 w-full rounded-lg\" />\r\n",
        "+        <div className=\"flex gap-4\">\r\n",
        "+          <Skeleton className=\"h-6 w-40\" />\r\n",
        "+          <Skeleton className=\"h-6 w-40\" />\r\n",
        "+        </div>\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      {/* Tabs Skeleton */}\r\n",
        "+      <div className=\"space-y-6\">\r\n",
        "+        <div className=\"flex overflow-x-auto\">\r\n",
        "+          {Array.from({ length: 7 }).map((_, i) => (\r\n",
        "+            <Skeleton\r\n",
        "+              key={i}\r\n",
        "+              className=\"h-10 w-32 mx-1 rounded-md flex-shrink-0\"\r\n",
        "+            />\r\n",
        "+          ))}\r\n",
        "+        </div>\r\n",
        "+        <Skeleton className=\"h-64 w-full rounded-lg\" />\r\n",
        "+      </div>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/project-tabs.tsx",
      "status": "modified",
      "additions": 235,
      "deletions": 235,
      "patch": "@@ -1,235 +1,235 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import { useRouter, useSearchParams } from \"next/navigation\";\n-import { Project } from \"@/types\";\n-import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n-import {\n-  FileText,\n-  Layers,\n-  ServerCrash,\n-  Database,\n-  Layout,\n-  ListTodo,\n-  GitBranch,\n-} from \"lucide-react\";\n-import { cn } from \"@/lib/utils\";\n-import { ScrollArea, ScrollBar } from \"@/components/ui/scroll-area\";\n-import { motion, AnimatePresence } from \"framer-motion\";\n-import { HighLevelPlanTab } from \"./tabs/high-level-plan-tab/index\";\n-import { ArchitectureTab } from \"./tabs/architecture-tab/index\";\n-import { ApiEndpointsTab } from \"./tabs/api-endpoints-tab/index\";\n-import { DataModelsTab } from \"./tabs/data-models-tab/index\";\n-import { UIComponentsTab } from \"./tabs/ui_components-tab/index\";\n-import { ImplementationPlanTab } from \"./tabs/implementation_plan_tab/index\";\n-interface ProjectTabsProps {\n-  project: Project;\n-}\n-\n-// Tab definition type\n-type TabDefinition = {\n-  id: string;\n-  label: string;\n-  icon: React.ReactNode;\n-  content: React.ReactNode;\n-};\n-\n-export function ProjectTabs({ project }: ProjectTabsProps) {\n-  const router = useRouter();\n-  const searchParams = useSearchParams();\n-\n-  // Get tab from URL query or default to \"high-level-plan\"\n-  const defaultTab = searchParams?.get(\"tab\") || \"high-level-plan\";\n-  const [activeTab, setActiveTab] = useState(defaultTab);\n-  const [previousTab, setPreviousTab] = useState(defaultTab);\n-\n-  // Update URL when tab changes\n-  const handleTabChange = (value: string) => {\n-    setPreviousTab(activeTab);\n-    setActiveTab(value);\n-    // Create new URLSearchParams\n-    const params = new URLSearchParams(searchParams?.toString());\n-    params.set(\"tab\", value);\n-    // Update URL without reloading the page\n-    router.push(`?${params.toString()}`, { scroll: false });\n-  };\n-\n-  // Define animation direction based on tab change\n-  const getAnimationDirection = (tabId: string) => {\n-    // Find the indices of the previous and current tabs\n-    const tabs = tabDefinitions.map((tab) => tab.id);\n-    const prevIndex = tabs.indexOf(previousTab);\n-    const currIndex = tabs.indexOf(tabId);\n-\n-    // Determine direction of animation (left to right or right to left)\n-    return prevIndex < currIndex ? 1 : -1;\n-  };\n-\n-  // Define tabs with their content placeholders\n-  const tabDefinitions: TabDefinition[] = [\n-    {\n-      id: \"high-level-plan\",\n-      label: \"High-level Plan\",\n-      icon: <FileText className=\"h-4 w-4\" />,\n-      content: <HighLevelPlanTab project={project} />,\n-    },\n-    {\n-      id: \"architecture\",\n-      label: \"Architecture\",\n-      icon: <Layers className=\"h-4 w-4\" />,\n-      content: <ArchitectureTab project={project} />,\n-    },\n-    {\n-      id: \"api-endpoints\",\n-      label: \"API Endpoints\",\n-      icon: <ServerCrash className=\"h-4 w-4\" />,\n-      content: <ApiEndpointsTab project={project} />,\n-    },\n-    {\n-      id: \"data-models\",\n-      label: \"Data Models\",\n-      icon: <Database className=\"h-4 w-4\" />,\n-      content: <DataModelsTab project={project} />,\n-    },\n-    {\n-      id: \"ui-components\",\n-      label: \"UI Components\",\n-      icon: <Layout className=\"h-4 w-4\" />,\n-      content: <UIComponentsTab project={project} />,\n-    },\n-    {\n-      id: \"implementation-plan\",\n-      label: \"Implementation Plan\",\n-      icon: <ListTodo className=\"h-4 w-4\" />,\n-      content: <ImplementationPlanTab project={project} />,\n-    },\n-    {\n-      id: \"diagrams\",\n-      label: \"Diagrams\",\n-      icon: <GitBranch className=\"h-4 w-4\" />,\n-      content: (\n-        <div className=\"p-6 border border-divider rounded-lg bg-secondary-background\">\n-          <h3 className=\"text-xl font-semibold mb-4\">Technical Diagrams</h3>\n-          <p className=\"text-secondary-text\">\n-            This will display sequence, class, and activity diagrams. The\n-            detailed implementation will be added in a separate component.\n-          </p>\n-        </div>\n-      ),\n-    },\n-  ];\n-\n-  // We'll add a custom underline indicator for the active tab\n-  const [tabRects, setTabRects] = useState<{ [key: string]: DOMRect | null }>(\n-    {}\n-  );\n-\n-  // Recalculate tab dimensions on resize\n-  useEffect(() => {\n-    const updateTabRects = () => {\n-      const newRects: { [key: string]: DOMRect | null } = {};\n-      tabDefinitions.forEach((tab) => {\n-        const element = document.getElementById(`tab-${tab.id}`);\n-        newRects[tab.id] = element?.getBoundingClientRect() || null;\n-      });\n-      setTabRects(newRects);\n-    };\n-\n-    // Initial calculation\n-    updateTabRects();\n-\n-    // Add resize listener\n-    window.addEventListener(\"resize\", updateTabRects);\n-\n-    // Cleanup\n-    return () => window.removeEventListener(\"resize\", updateTabRects);\n-  }, []);\n-\n-  return (\n-    <Tabs\n-      value={activeTab}\n-      onValueChange={handleTabChange}\n-      className=\"w-full space-y-6 relative\"\n-    >\n-      {/* Sleek tabs with custom styling */}\n-      <div className=\"relative\">\n-        <ScrollArea className=\"w-full whitespace-nowrap border-b border-divider\">\n-          <TabsList className=\"w-full h-auto p-0 bg-transparent relative flex justify-start border-none\">\n-            {tabDefinitions.map((tab) => (\n-              <TabsTrigger\n-                id={`tab-${tab.id}`}\n-                key={tab.id}\n-                value={tab.id}\n-                className={cn(\n-                  \"py-3 px-4 flex items-center gap-2 relative\",\n-                  \"transition-all duration-200 rounded-none\",\n-                  \"focus:ring-0 focus:ring-offset-0\",\n-                  \"data-[state=active]:text-primary-text\",\n-                  \"data-[state=active]:font-medium\",\n-                  \"hover:bg-hover-active/30\",\n-                  \"data-[state=active]:bg-transparent\",\n-                  \"border-none shadow-none outline-none\" // Remove all borders and outlines\n-                )}\n-              >\n-                <div\n-                  className={cn(\n-                    \"flex items-center gap-2 transition-all duration-300\",\n-                    activeTab === tab.id\n-                      ? \"text-primary-text\"\n-                      : \"text-secondary-text\"\n-                  )}\n-                >\n-                  {tab.icon}\n-                  <span className=\"hidden sm:inline\">{tab.label}</span>\n-                </div>\n-\n-                {/* Custom glowing active indicator */}\n-                {activeTab === tab.id && (\n-                  <motion.div\n-                    className=\"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-cta\"\n-                    layoutId=\"activeTabIndicator\"\n-                    transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\n-                    initial={{ opacity: 0 }}\n-                    animate={{ opacity: 1 }}\n-                    exit={{ opacity: 0 }}\n-                  />\n-                )}\n-              </TabsTrigger>\n-            ))}\n-          </TabsList>\n-          <ScrollBar orientation=\"horizontal\" />\n-        </ScrollArea>\n-      </div>\n-\n-      {/* Animated tab content */}\n-      <AnimatePresence mode=\"wait\">\n-        {tabDefinitions.map(\n-          (tab) =>\n-            activeTab === tab.id && (\n-              <motion.div\n-                key={tab.id}\n-                initial={{ opacity: 0, x: 20 * getAnimationDirection(tab.id) }}\n-                animate={{ opacity: 1, x: 0 }}\n-                exit={{ opacity: 0, x: -20 * getAnimationDirection(tab.id) }}\n-                transition={{\n-                  type: \"spring\",\n-                  stiffness: 300,\n-                  damping: 30,\n-                  opacity: { duration: 0.2 },\n-                }}\n-                className=\"focus-visible:outline-none focus-visible:ring-0 relative\"\n-              >\n-                <TabsContent\n-                  value={tab.id}\n-                  className=\"mt-6 focus-visible:outline-none focus-visible:ring-0 m-0\"\n-                  forceMount\n-                >\n-                  {tab.content}\n-                </TabsContent>\n-              </motion.div>\n-            )\n-        )}\n-      </AnimatePresence>\n-    </Tabs>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { useRouter, useSearchParams } from \"next/navigation\";\r\n+import { Project } from \"@/types\";\r\n+import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\n+import {\r\n+  FileText,\r\n+  Layers,\r\n+  ServerCrash,\r\n+  Database,\r\n+  Layout,\r\n+  ListTodo,\r\n+  GitBranch,\r\n+} from \"lucide-react\";\r\n+import { cn } from \"@/lib/utils\";\r\n+import { ScrollArea, ScrollBar } from \"@/components/ui/scroll-area\";\r\n+import { motion, AnimatePresence } from \"framer-motion\";\r\n+import { HighLevelPlanTab } from \"./tabs/high-level-plan-tab/index\";\r\n+import { ArchitectureTab } from \"./tabs/architecture-tab/index\";\r\n+import { ApiEndpointsTab } from \"./tabs/api-endpoints-tab/index\";\r\n+import { DataModelsTab } from \"./tabs/data-models-tab/index\";\r\n+import { UIComponentsTab } from \"./tabs/ui_components-tab/index\";\r\n+import { ImplementationPlanTab } from \"./tabs/implementation_plan_tab/index\";\r\n+interface ProjectTabsProps {\r\n+  project: Project;\r\n+}\r\n+\r\n+// Tab definition type\r\n+type TabDefinition = {\r\n+  id: string;\r\n+  label: string;\r\n+  icon: React.ReactNode;\r\n+  content: React.ReactNode;\r\n+};\r\n+\r\n+export function ProjectTabs({ project }: ProjectTabsProps) {\r\n+  const router = useRouter();\r\n+  const searchParams = useSearchParams();\r\n+\r\n+  // Get tab from URL query or default to \"high-level-plan\"\r\n+  const defaultTab = searchParams?.get(\"tab\") || \"high-level-plan\";\r\n+  const [activeTab, setActiveTab] = useState(defaultTab);\r\n+  const [previousTab, setPreviousTab] = useState(defaultTab);\r\n+\r\n+  // Update URL when tab changes\r\n+  const handleTabChange = (value: string) => {\r\n+    setPreviousTab(activeTab);\r\n+    setActiveTab(value);\r\n+    // Create new URLSearchParams\r\n+    const params = new URLSearchParams(searchParams?.toString());\r\n+    params.set(\"tab\", value);\r\n+    // Update URL without reloading the page\r\n+    router.push(`?${params.toString()}`, { scroll: false });\r\n+  };\r\n+\r\n+  // Define animation direction based on tab change\r\n+  const getAnimationDirection = (tabId: string) => {\r\n+    // Find the indices of the previous and current tabs\r\n+    const tabs = tabDefinitions.map((tab) => tab.id);\r\n+    const prevIndex = tabs.indexOf(previousTab);\r\n+    const currIndex = tabs.indexOf(tabId);\r\n+\r\n+    // Determine direction of animation (left to right or right to left)\r\n+    return prevIndex < currIndex ? 1 : -1;\r\n+  };\r\n+\r\n+  // Define tabs with their content placeholders\r\n+  const tabDefinitions: TabDefinition[] = [\r\n+    {\r\n+      id: \"high-level-plan\",\r\n+      label: \"High-level Plan\",\r\n+      icon: <FileText className=\"h-4 w-4\" />,\r\n+      content: <HighLevelPlanTab project={project} />,\r\n+    },\r\n+    {\r\n+      id: \"architecture\",\r\n+      label: \"Architecture\",\r\n+      icon: <Layers className=\"h-4 w-4\" />,\r\n+      content: <ArchitectureTab project={project} />,\r\n+    },\r\n+    {\r\n+      id: \"api-endpoints\",\r\n+      label: \"API Endpoints\",\r\n+      icon: <ServerCrash className=\"h-4 w-4\" />,\r\n+      content: <ApiEndpointsTab project={project} />,\r\n+    },\r\n+    {\r\n+      id: \"data-models\",\r\n+      label: \"Data Models\",\r\n+      icon: <Database className=\"h-4 w-4\" />,\r\n+      content: <DataModelsTab project={project} />,\r\n+    },\r\n+    {\r\n+      id: \"ui-components\",\r\n+      label: \"UI Components\",\r\n+      icon: <Layout className=\"h-4 w-4\" />,\r\n+      content: <UIComponentsTab project={project} />,\r\n+    },\r\n+    {\r\n+      id: \"implementation-plan\",\r\n+      label: \"Implementation Plan\",\r\n+      icon: <ListTodo className=\"h-4 w-4\" />,\r\n+      content: <ImplementationPlanTab project={project} />,\r\n+    },\r\n+    {\r\n+      id: \"diagrams\",\r\n+      label: \"Diagrams\",\r\n+      icon: <GitBranch className=\"h-4 w-4\" />,\r\n+      content: (\r\n+        <div className=\"p-6 border border-divider rounded-lg bg-secondary-background\">\r\n+          <h3 className=\"text-xl font-semibold mb-4\">Technical Diagrams</h3>\r\n+          <p className=\"text-secondary-text\">\r\n+            This will display sequence, class, and activity diagrams. The\r\n+            detailed implementation will be added in a separate component.\r\n+          </p>\r\n+        </div>\r\n+      ),\r\n+    },\r\n+  ];\r\n+\r\n+  // We'll add a custom underline indicator for the active tab\r\n+  const [tabRects, setTabRects] = useState<{ [key: string]: DOMRect | null }>(\r\n+    {}\r\n+  );\r\n+\r\n+  // Recalculate tab dimensions on resize\r\n+  useEffect(() => {\r\n+    const updateTabRects = () => {\r\n+      const newRects: { [key: string]: DOMRect | null } = {};\r\n+      tabDefinitions.forEach((tab) => {\r\n+        const element = document.getElementById(`tab-${tab.id}`);\r\n+        newRects[tab.id] = element?.getBoundingClientRect() || null;\r\n+      });\r\n+      setTabRects(newRects);\r\n+    };\r\n+\r\n+    // Initial calculation\r\n+    updateTabRects();\r\n+\r\n+    // Add resize listener\r\n+    window.addEventListener(\"resize\", updateTabRects);\r\n+\r\n+    // Cleanup\r\n+    return () => window.removeEventListener(\"resize\", updateTabRects);\r\n+  }, []);\r\n+\r\n+  return (\r\n+    <Tabs\r\n+      value={activeTab}\r\n+      onValueChange={handleTabChange}\r\n+      className=\"w-full space-y-6 relative\"\r\n+    >\r\n+      {/* Sleek tabs with custom styling */}\r\n+      <div className=\"relative\">\r\n+        <ScrollArea className=\"w-full whitespace-nowrap border-b border-divider\">\r\n+          <TabsList className=\"w-full h-auto p-0 bg-transparent relative flex justify-start border-none\">\r\n+            {tabDefinitions.map((tab) => (\r\n+              <TabsTrigger\r\n+                id={`tab-${tab.id}`}\r\n+                key={tab.id}\r\n+                value={tab.id}\r\n+                className={cn(\r\n+                  \"py-3 px-4 flex items-center gap-2 relative\",\r\n+                  \"transition-all duration-200 rounded-none\",\r\n+                  \"focus:ring-0 focus:ring-offset-0\",\r\n+                  \"data-[state=active]:text-primary-text\",\r\n+                  \"data-[state=active]:font-medium\",\r\n+                  \"hover:bg-hover-active/30\",\r\n+                  \"data-[state=active]:bg-transparent\",\r\n+                  \"border-none shadow-none outline-none\" // Remove all borders and outlines\r\n+                )}\r\n+              >\r\n+                <div\r\n+                  className={cn(\r\n+                    \"flex items-center gap-2 transition-all duration-300\",\r\n+                    activeTab === tab.id\r\n+                      ? \"text-primary-text\"\r\n+                      : \"text-secondary-text\"\r\n+                  )}\r\n+                >\r\n+                  {tab.icon}\r\n+                  <span className=\"hidden sm:inline\">{tab.label}</span>\r\n+                </div>\r\n+\r\n+                {/* Custom glowing active indicator */}\r\n+                {activeTab === tab.id && (\r\n+                  <motion.div\r\n+                    className=\"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-cta\"\r\n+                    layoutId=\"activeTabIndicator\"\r\n+                    transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\r\n+                    initial={{ opacity: 0 }}\r\n+                    animate={{ opacity: 1 }}\r\n+                    exit={{ opacity: 0 }}\r\n+                  />\r\n+                )}\r\n+              </TabsTrigger>\r\n+            ))}\r\n+          </TabsList>\r\n+          <ScrollBar orientation=\"horizontal\" />\r\n+        </ScrollArea>\r\n+      </div>\r\n+\r\n+      {/* Animated tab content */}\r\n+      <AnimatePresence mode=\"wait\">\r\n+        {tabDefinitions.map(\r\n+          (tab) =>\r\n+            activeTab === tab.id && (\r\n+              <motion.div\r\n+                key={tab.id}\r\n+                initial={{ opacity: 0, x: 20 * getAnimationDirection(tab.id) }}\r\n+                animate={{ opacity: 1, x: 0 }}\r\n+                exit={{ opacity: 0, x: -20 * getAnimationDirection(tab.id) }}\r\n+                transition={{\r\n+                  type: \"spring\",\r\n+                  stiffness: 300,\r\n+                  damping: 30,\r\n+                  opacity: { duration: 0.2 },\r\n+                }}\r\n+                className=\"focus-visible:outline-none focus-visible:ring-0 relative\"\r\n+              >\r\n+                <TabsContent\r\n+                  value={tab.id}\r\n+                  className=\"mt-6 focus-visible:outline-none focus-visible:ring-0 m-0\"\r\n+                  forceMount\r\n+                >\r\n+                  {tab.content}\r\n+                </TabsContent>\r\n+              </motion.div>\r\n+            )\r\n+        )}\r\n+      </AnimatePresence>\r\n+    </Tabs>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,235 +1,235 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import { useRouter, useSearchParams } from \"next/navigation\";\n",
        "-import { Project } from \"@/types\";\n",
        "-import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n",
        "-import {\n",
        "-  FileText,\n",
        "-  Layers,\n",
        "-  ServerCrash,\n",
        "-  Database,\n",
        "-  Layout,\n",
        "-  ListTodo,\n",
        "-  GitBranch,\n",
        "-} from \"lucide-react\";\n",
        "-import { cn } from \"@/lib/utils\";\n",
        "-import { ScrollArea, ScrollBar } from \"@/components/ui/scroll-area\";\n",
        "-import { motion, AnimatePresence } from \"framer-motion\";\n",
        "-import { HighLevelPlanTab } from \"./tabs/high-level-plan-tab/index\";\n",
        "-import { ArchitectureTab } from \"./tabs/architecture-tab/index\";\n",
        "-import { ApiEndpointsTab } from \"./tabs/api-endpoints-tab/index\";\n",
        "-import { DataModelsTab } from \"./tabs/data-models-tab/index\";\n",
        "-import { UIComponentsTab } from \"./tabs/ui_components-tab/index\";\n",
        "-import { ImplementationPlanTab } from \"./tabs/implementation_plan_tab/index\";\n",
        "-interface ProjectTabsProps {\n",
        "-  project: Project;\n",
        "-}\n",
        "-\n",
        "-// Tab definition type\n",
        "-type TabDefinition = {\n",
        "-  id: string;\n",
        "-  label: string;\n",
        "-  icon: React.ReactNode;\n",
        "-  content: React.ReactNode;\n",
        "-};\n",
        "-\n",
        "-export function ProjectTabs({ project }: ProjectTabsProps) {\n",
        "-  const router = useRouter();\n",
        "-  const searchParams = useSearchParams();\n",
        "-\n",
        "-  // Get tab from URL query or default to \"high-level-plan\"\n",
        "-  const defaultTab = searchParams?.get(\"tab\") || \"high-level-plan\";\n",
        "-  const [activeTab, setActiveTab] = useState(defaultTab);\n",
        "-  const [previousTab, setPreviousTab] = useState(defaultTab);\n",
        "-\n",
        "-  // Update URL when tab changes\n",
        "-  const handleTabChange = (value: string) => {\n",
        "-    setPreviousTab(activeTab);\n",
        "-    setActiveTab(value);\n",
        "-    // Create new URLSearchParams\n",
        "-    const params = new URLSearchParams(searchParams?.toString());\n",
        "-    params.set(\"tab\", value);\n",
        "-    // Update URL without reloading the page\n",
        "-    router.push(`?${params.toString()}`, { scroll: false });\n",
        "-  };\n",
        "-\n",
        "-  // Define animation direction based on tab change\n",
        "-  const getAnimationDirection = (tabId: string) => {\n",
        "-    // Find the indices of the previous and current tabs\n",
        "-    const tabs = tabDefinitions.map((tab) => tab.id);\n",
        "-    const prevIndex = tabs.indexOf(previousTab);\n",
        "-    const currIndex = tabs.indexOf(tabId);\n",
        "-\n",
        "-    // Determine direction of animation (left to right or right to left)\n",
        "-    return prevIndex < currIndex ? 1 : -1;\n",
        "-  };\n",
        "-\n",
        "-  // Define tabs with their content placeholders\n",
        "-  const tabDefinitions: TabDefinition[] = [\n",
        "-    {\n",
        "-      id: \"high-level-plan\",\n",
        "-      label: \"High-level Plan\",\n",
        "-      icon: <FileText className=\"h-4 w-4\" />,\n",
        "-      content: <HighLevelPlanTab project={project} />,\n",
        "-    },\n",
        "-    {\n",
        "-      id: \"architecture\",\n",
        "-      label: \"Architecture\",\n",
        "-      icon: <Layers className=\"h-4 w-4\" />,\n",
        "-      content: <ArchitectureTab project={project} />,\n",
        "-    },\n",
        "-    {\n",
        "-      id: \"api-endpoints\",\n",
        "-      label: \"API Endpoints\",\n",
        "-      icon: <ServerCrash className=\"h-4 w-4\" />,\n",
        "-      content: <ApiEndpointsTab project={project} />,\n",
        "-    },\n",
        "-    {\n",
        "-      id: \"data-models\",\n",
        "-      label: \"Data Models\",\n",
        "-      icon: <Database className=\"h-4 w-4\" />,\n",
        "-      content: <DataModelsTab project={project} />,\n",
        "-    },\n",
        "-    {\n",
        "-      id: \"ui-components\",\n",
        "-      label: \"UI Components\",\n",
        "-      icon: <Layout className=\"h-4 w-4\" />,\n",
        "-      content: <UIComponentsTab project={project} />,\n",
        "-    },\n",
        "-    {\n",
        "-      id: \"implementation-plan\",\n",
        "-      label: \"Implementation Plan\",\n",
        "-      icon: <ListTodo className=\"h-4 w-4\" />,\n",
        "-      content: <ImplementationPlanTab project={project} />,\n",
        "-    },\n",
        "-    {\n",
        "-      id: \"diagrams\",\n",
        "-      label: \"Diagrams\",\n",
        "-      icon: <GitBranch className=\"h-4 w-4\" />,\n",
        "-      content: (\n",
        "-        <div className=\"p-6 border border-divider rounded-lg bg-secondary-background\">\n",
        "-          <h3 className=\"text-xl font-semibold mb-4\">Technical Diagrams</h3>\n",
        "-          <p className=\"text-secondary-text\">\n",
        "-            This will display sequence, class, and activity diagrams. The\n",
        "-            detailed implementation will be added in a separate component.\n",
        "-          </p>\n",
        "-        </div>\n",
        "-      ),\n",
        "-    },\n",
        "-  ];\n",
        "-\n",
        "-  // We'll add a custom underline indicator for the active tab\n",
        "-  const [tabRects, setTabRects] = useState<{ [key: string]: DOMRect | null }>(\n",
        "-    {}\n",
        "-  );\n",
        "-\n",
        "-  // Recalculate tab dimensions on resize\n",
        "-  useEffect(() => {\n",
        "-    const updateTabRects = () => {\n",
        "-      const newRects: { [key: string]: DOMRect | null } = {};\n",
        "-      tabDefinitions.forEach((tab) => {\n",
        "-        const element = document.getElementById(`tab-${tab.id}`);\n",
        "-        newRects[tab.id] = element?.getBoundingClientRect() || null;\n",
        "-      });\n",
        "-      setTabRects(newRects);\n",
        "-    };\n",
        "-\n",
        "-    // Initial calculation\n",
        "-    updateTabRects();\n",
        "-\n",
        "-    // Add resize listener\n",
        "-    window.addEventListener(\"resize\", updateTabRects);\n",
        "-\n",
        "-    // Cleanup\n",
        "-    return () => window.removeEventListener(\"resize\", updateTabRects);\n",
        "-  }, []);\n",
        "-\n",
        "-  return (\n",
        "-    <Tabs\n",
        "-      value={activeTab}\n",
        "-      onValueChange={handleTabChange}\n",
        "-      className=\"w-full space-y-6 relative\"\n",
        "-    >\n",
        "-      {/* Sleek tabs with custom styling */}\n",
        "-      <div className=\"relative\">\n",
        "-        <ScrollArea className=\"w-full whitespace-nowrap border-b border-divider\">\n",
        "-          <TabsList className=\"w-full h-auto p-0 bg-transparent relative flex justify-start border-none\">\n",
        "-            {tabDefinitions.map((tab) => (\n",
        "-              <TabsTrigger\n",
        "-                id={`tab-${tab.id}`}\n",
        "-                key={tab.id}\n",
        "-                value={tab.id}\n",
        "-                className={cn(\n",
        "-                  \"py-3 px-4 flex items-center gap-2 relative\",\n",
        "-                  \"transition-all duration-200 rounded-none\",\n",
        "-                  \"focus:ring-0 focus:ring-offset-0\",\n",
        "-                  \"data-[state=active]:text-primary-text\",\n",
        "-                  \"data-[state=active]:font-medium\",\n",
        "-                  \"hover:bg-hover-active/30\",\n",
        "-                  \"data-[state=active]:bg-transparent\",\n",
        "-                  \"border-none shadow-none outline-none\" // Remove all borders and outlines\n",
        "-                )}\n",
        "-              >\n",
        "-                <div\n",
        "-                  className={cn(\n",
        "-                    \"flex items-center gap-2 transition-all duration-300\",\n",
        "-                    activeTab === tab.id\n",
        "-                      ? \"text-primary-text\"\n",
        "-                      : \"text-secondary-text\"\n",
        "-                  )}\n",
        "-                >\n",
        "-                  {tab.icon}\n",
        "-                  <span className=\"hidden sm:inline\">{tab.label}</span>\n",
        "-                </div>\n",
        "-\n",
        "-                {/* Custom glowing active indicator */}\n",
        "-                {activeTab === tab.id && (\n",
        "-                  <motion.div\n",
        "-                    className=\"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-cta\"\n",
        "-                    layoutId=\"activeTabIndicator\"\n",
        "-                    transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\n",
        "-                    initial={{ opacity: 0 }}\n",
        "-                    animate={{ opacity: 1 }}\n",
        "-                    exit={{ opacity: 0 }}\n",
        "-                  />\n",
        "-                )}\n",
        "-              </TabsTrigger>\n",
        "-            ))}\n",
        "-          </TabsList>\n",
        "-          <ScrollBar orientation=\"horizontal\" />\n",
        "-        </ScrollArea>\n",
        "-      </div>\n",
        "-\n",
        "-      {/* Animated tab content */}\n",
        "-      <AnimatePresence mode=\"wait\">\n",
        "-        {tabDefinitions.map(\n",
        "-          (tab) =>\n",
        "-            activeTab === tab.id && (\n",
        "-              <motion.div\n",
        "-                key={tab.id}\n",
        "-                initial={{ opacity: 0, x: 20 * getAnimationDirection(tab.id) }}\n",
        "-                animate={{ opacity: 1, x: 0 }}\n",
        "-                exit={{ opacity: 0, x: -20 * getAnimationDirection(tab.id) }}\n",
        "-                transition={{\n",
        "-                  type: \"spring\",\n",
        "-                  stiffness: 300,\n",
        "-                  damping: 30,\n",
        "-                  opacity: { duration: 0.2 },\n",
        "-                }}\n",
        "-                className=\"focus-visible:outline-none focus-visible:ring-0 relative\"\n",
        "-              >\n",
        "-                <TabsContent\n",
        "-                  value={tab.id}\n",
        "-                  className=\"mt-6 focus-visible:outline-none focus-visible:ring-0 m-0\"\n",
        "-                  forceMount\n",
        "-                >\n",
        "-                  {tab.content}\n",
        "-                </TabsContent>\n",
        "-              </motion.div>\n",
        "-            )\n",
        "-        )}\n",
        "-      </AnimatePresence>\n",
        "-    </Tabs>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import { useRouter, useSearchParams } from \"next/navigation\";\r\n",
        "+import { Project } from \"@/types\";\r\n",
        "+import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\n",
        "+import {\r\n",
        "+  FileText,\r\n",
        "+  Layers,\r\n",
        "+  ServerCrash,\r\n",
        "+  Database,\r\n",
        "+  Layout,\r\n",
        "+  ListTodo,\r\n",
        "+  GitBranch,\r\n",
        "+} from \"lucide-react\";\r\n",
        "+import { cn } from \"@/lib/utils\";\r\n",
        "+import { ScrollArea, ScrollBar } from \"@/components/ui/scroll-area\";\r\n",
        "+import { motion, AnimatePresence } from \"framer-motion\";\r\n",
        "+import { HighLevelPlanTab } from \"./tabs/high-level-plan-tab/index\";\r\n",
        "+import { ArchitectureTab } from \"./tabs/architecture-tab/index\";\r\n",
        "+import { ApiEndpointsTab } from \"./tabs/api-endpoints-tab/index\";\r\n",
        "+import { DataModelsTab } from \"./tabs/data-models-tab/index\";\r\n",
        "+import { UIComponentsTab } from \"./tabs/ui_components-tab/index\";\r\n",
        "+import { ImplementationPlanTab } from \"./tabs/implementation_plan_tab/index\";\r\n",
        "+interface ProjectTabsProps {\r\n",
        "+  project: Project;\r\n",
        "+}\r\n",
        "+\r\n",
        "+// Tab definition type\r\n",
        "+type TabDefinition = {\r\n",
        "+  id: string;\r\n",
        "+  label: string;\r\n",
        "+  icon: React.ReactNode;\r\n",
        "+  content: React.ReactNode;\r\n",
        "+};\r\n",
        "+\r\n",
        "+export function ProjectTabs({ project }: ProjectTabsProps) {\r\n",
        "+  const router = useRouter();\r\n",
        "+  const searchParams = useSearchParams();\r\n",
        "+\r\n",
        "+  // Get tab from URL query or default to \"high-level-plan\"\r\n",
        "+  const defaultTab = searchParams?.get(\"tab\") || \"high-level-plan\";\r\n",
        "+  const [activeTab, setActiveTab] = useState(defaultTab);\r\n",
        "+  const [previousTab, setPreviousTab] = useState(defaultTab);\r\n",
        "+\r\n",
        "+  // Update URL when tab changes\r\n",
        "+  const handleTabChange = (value: string) => {\r\n",
        "+    setPreviousTab(activeTab);\r\n",
        "+    setActiveTab(value);\r\n",
        "+    // Create new URLSearchParams\r\n",
        "+    const params = new URLSearchParams(searchParams?.toString());\r\n",
        "+    params.set(\"tab\", value);\r\n",
        "+    // Update URL without reloading the page\r\n",
        "+    router.push(`?${params.toString()}`, { scroll: false });\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Define animation direction based on tab change\r\n",
        "+  const getAnimationDirection = (tabId: string) => {\r\n",
        "+    // Find the indices of the previous and current tabs\r\n",
        "+    const tabs = tabDefinitions.map((tab) => tab.id);\r\n",
        "+    const prevIndex = tabs.indexOf(previousTab);\r\n",
        "+    const currIndex = tabs.indexOf(tabId);\r\n",
        "+\r\n",
        "+    // Determine direction of animation (left to right or right to left)\r\n",
        "+    return prevIndex < currIndex ? 1 : -1;\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Define tabs with their content placeholders\r\n",
        "+  const tabDefinitions: TabDefinition[] = [\r\n",
        "+    {\r\n",
        "+      id: \"high-level-plan\",\r\n",
        "+      label: \"High-level Plan\",\r\n",
        "+      icon: <FileText className=\"h-4 w-4\" />,\r\n",
        "+      content: <HighLevelPlanTab project={project} />,\r\n",
        "+    },\r\n",
        "+    {\r\n",
        "+      id: \"architecture\",\r\n",
        "+      label: \"Architecture\",\r\n",
        "+      icon: <Layers className=\"h-4 w-4\" />,\r\n",
        "+      content: <ArchitectureTab project={project} />,\r\n",
        "+    },\r\n",
        "+    {\r\n",
        "+      id: \"api-endpoints\",\r\n",
        "+      label: \"API Endpoints\",\r\n",
        "+      icon: <ServerCrash className=\"h-4 w-4\" />,\r\n",
        "+      content: <ApiEndpointsTab project={project} />,\r\n",
        "+    },\r\n",
        "+    {\r\n",
        "+      id: \"data-models\",\r\n",
        "+      label: \"Data Models\",\r\n",
        "+      icon: <Database className=\"h-4 w-4\" />,\r\n",
        "+      content: <DataModelsTab project={project} />,\r\n",
        "+    },\r\n",
        "+    {\r\n",
        "+      id: \"ui-components\",\r\n",
        "+      label: \"UI Components\",\r\n",
        "+      icon: <Layout className=\"h-4 w-4\" />,\r\n",
        "+      content: <UIComponentsTab project={project} />,\r\n",
        "+    },\r\n",
        "+    {\r\n",
        "+      id: \"implementation-plan\",\r\n",
        "+      label: \"Implementation Plan\",\r\n",
        "+      icon: <ListTodo className=\"h-4 w-4\" />,\r\n",
        "+      content: <ImplementationPlanTab project={project} />,\r\n",
        "+    },\r\n",
        "+    {\r\n",
        "+      id: \"diagrams\",\r\n",
        "+      label: \"Diagrams\",\r\n",
        "+      icon: <GitBranch className=\"h-4 w-4\" />,\r\n",
        "+      content: (\r\n",
        "+        <div className=\"p-6 border border-divider rounded-lg bg-secondary-background\">\r\n",
        "+          <h3 className=\"text-xl font-semibold mb-4\">Technical Diagrams</h3>\r\n",
        "+          <p className=\"text-secondary-text\">\r\n",
        "+            This will display sequence, class, and activity diagrams. The\r\n",
        "+            detailed implementation will be added in a separate component.\r\n",
        "+          </p>\r\n",
        "+        </div>\r\n",
        "+      ),\r\n",
        "+    },\r\n",
        "+  ];\r\n",
        "+\r\n",
        "+  // We'll add a custom underline indicator for the active tab\r\n",
        "+  const [tabRects, setTabRects] = useState<{ [key: string]: DOMRect | null }>(\r\n",
        "+    {}\r\n",
        "+  );\r\n",
        "+\r\n",
        "+  // Recalculate tab dimensions on resize\r\n",
        "+  useEffect(() => {\r\n",
        "+    const updateTabRects = () => {\r\n",
        "+      const newRects: { [key: string]: DOMRect | null } = {};\r\n",
        "+      tabDefinitions.forEach((tab) => {\r\n",
        "+        const element = document.getElementById(`tab-${tab.id}`);\r\n",
        "+        newRects[tab.id] = element?.getBoundingClientRect() || null;\r\n",
        "+      });\r\n",
        "+      setTabRects(newRects);\r\n",
        "+    };\r\n",
        "+\r\n",
        "+    // Initial calculation\r\n",
        "+    updateTabRects();\r\n",
        "+\r\n",
        "+    // Add resize listener\r\n",
        "+    window.addEventListener(\"resize\", updateTabRects);\r\n",
        "+\r\n",
        "+    // Cleanup\r\n",
        "+    return () => window.removeEventListener(\"resize\", updateTabRects);\r\n",
        "+  }, []);\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <Tabs\r\n",
        "+      value={activeTab}\r\n",
        "+      onValueChange={handleTabChange}\r\n",
        "+      className=\"w-full space-y-6 relative\"\r\n",
        "+    >\r\n",
        "+      {/* Sleek tabs with custom styling */}\r\n",
        "+      <div className=\"relative\">\r\n",
        "+        <ScrollArea className=\"w-full whitespace-nowrap border-b border-divider\">\r\n",
        "+          <TabsList className=\"w-full h-auto p-0 bg-transparent relative flex justify-start border-none\">\r\n",
        "+            {tabDefinitions.map((tab) => (\r\n",
        "+              <TabsTrigger\r\n",
        "+                id={`tab-${tab.id}`}\r\n",
        "+                key={tab.id}\r\n",
        "+                value={tab.id}\r\n",
        "+                className={cn(\r\n",
        "+                  \"py-3 px-4 flex items-center gap-2 relative\",\r\n",
        "+                  \"transition-all duration-200 rounded-none\",\r\n",
        "+                  \"focus:ring-0 focus:ring-offset-0\",\r\n",
        "+                  \"data-[state=active]:text-primary-text\",\r\n",
        "+                  \"data-[state=active]:font-medium\",\r\n",
        "+                  \"hover:bg-hover-active/30\",\r\n",
        "+                  \"data-[state=active]:bg-transparent\",\r\n",
        "+                  \"border-none shadow-none outline-none\" // Remove all borders and outlines\r\n",
        "+                )}\r\n",
        "+              >\r\n",
        "+                <div\r\n",
        "+                  className={cn(\r\n",
        "+                    \"flex items-center gap-2 transition-all duration-300\",\r\n",
        "+                    activeTab === tab.id\r\n",
        "+                      ? \"text-primary-text\"\r\n",
        "+                      : \"text-secondary-text\"\r\n",
        "+                  )}\r\n",
        "+                >\r\n",
        "+                  {tab.icon}\r\n",
        "+                  <span className=\"hidden sm:inline\">{tab.label}</span>\r\n",
        "+                </div>\r\n",
        "+\r\n",
        "+                {/* Custom glowing active indicator */}\r\n",
        "+                {activeTab === tab.id && (\r\n",
        "+                  <motion.div\r\n",
        "+                    className=\"absolute bottom-0 left-0 right-0 h-[2px] bg-gradient-cta\"\r\n",
        "+                    layoutId=\"activeTabIndicator\"\r\n",
        "+                    transition={{ type: \"spring\", stiffness: 500, damping: 30 }}\r\n",
        "+                    initial={{ opacity: 0 }}\r\n",
        "+                    animate={{ opacity: 1 }}\r\n",
        "+                    exit={{ opacity: 0 }}\r\n",
        "+                  />\r\n",
        "+                )}\r\n",
        "+              </TabsTrigger>\r\n",
        "+            ))}\r\n",
        "+          </TabsList>\r\n",
        "+          <ScrollBar orientation=\"horizontal\" />\r\n",
        "+        </ScrollArea>\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      {/* Animated tab content */}\r\n",
        "+      <AnimatePresence mode=\"wait\">\r\n",
        "+        {tabDefinitions.map(\r\n",
        "+          (tab) =>\r\n",
        "+            activeTab === tab.id && (\r\n",
        "+              <motion.div\r\n",
        "+                key={tab.id}\r\n",
        "+                initial={{ opacity: 0, x: 20 * getAnimationDirection(tab.id) }}\r\n",
        "+                animate={{ opacity: 1, x: 0 }}\r\n",
        "+                exit={{ opacity: 0, x: -20 * getAnimationDirection(tab.id) }}\r\n",
        "+                transition={{\r\n",
        "+                  type: \"spring\",\r\n",
        "+                  stiffness: 300,\r\n",
        "+                  damping: 30,\r\n",
        "+                  opacity: { duration: 0.2 },\r\n",
        "+                }}\r\n",
        "+                className=\"focus-visible:outline-none focus-visible:ring-0 relative\"\r\n",
        "+              >\r\n",
        "+                <TabsContent\r\n",
        "+                  value={tab.id}\r\n",
        "+                  className=\"mt-6 focus-visible:outline-none focus-visible:ring-0 m-0\"\r\n",
        "+                  forceMount\r\n",
        "+                >\r\n",
        "+                  {tab.content}\r\n",
        "+                </TabsContent>\r\n",
        "+              </motion.div>\r\n",
        "+            )\r\n",
        "+        )}\r\n",
        "+      </AnimatePresence>\r\n",
        "+    </Tabs>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/projects-list.tsx",
      "status": "modified",
      "additions": 23,
      "deletions": 23,
      "patch": "@@ -1,23 +1,23 @@\n-\"use client\";\n-\n-import { ProjectListItem } from \"@/types\";\n-import { ProjectCard } from \"./project-card\";\n-import { EmptyProjects } from \"./empty-projects\";\n-\n-interface ProjectsListProps {\n-  projects: ProjectListItem[];\n-}\n-\n-export function ProjectsList({ projects }: ProjectsListProps) {\n-  if (projects.length === 0) {\n-    return <EmptyProjects />;\n-  }\n-\n-  return (\n-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 animate-fade-in\">\n-      {projects.map((project) => (\n-        <ProjectCard key={project.id} project={project} />\n-      ))}\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { ProjectListItem } from \"@/types\";\r\n+import { ProjectCard } from \"./project-card\";\r\n+import { EmptyProjects } from \"./empty-projects\";\r\n+\r\n+interface ProjectsListProps {\r\n+  projects: ProjectListItem[];\r\n+}\r\n+\r\n+export function ProjectsList({ projects }: ProjectsListProps) {\r\n+  if (projects.length === 0) {\r\n+    return <EmptyProjects />;\r\n+  }\r\n+\r\n+  return (\r\n+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 animate-fade-in\">\r\n+      {projects.map((project) => (\r\n+        <ProjectCard key={project.id} project={project} />\r\n+      ))}\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,23 +1,23 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { ProjectListItem } from \"@/types\";\n",
        "-import { ProjectCard } from \"./project-card\";\n",
        "-import { EmptyProjects } from \"./empty-projects\";\n",
        "-\n",
        "-interface ProjectsListProps {\n",
        "-  projects: ProjectListItem[];\n",
        "-}\n",
        "-\n",
        "-export function ProjectsList({ projects }: ProjectsListProps) {\n",
        "-  if (projects.length === 0) {\n",
        "-    return <EmptyProjects />;\n",
        "-  }\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 animate-fade-in\">\n",
        "-      {projects.map((project) => (\n",
        "-        <ProjectCard key={project.id} project={project} />\n",
        "-      ))}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { ProjectListItem } from \"@/types\";\r\n",
        "+import { ProjectCard } from \"./project-card\";\r\n",
        "+import { EmptyProjects } from \"./empty-projects\";\r\n",
        "+\r\n",
        "+interface ProjectsListProps {\r\n",
        "+  projects: ProjectListItem[];\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function ProjectsList({ projects }: ProjectsListProps) {\r\n",
        "+  if (projects.length === 0) {\r\n",
        "+    return <EmptyProjects />;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 animate-fade-in\">\r\n",
        "+      {projects.map((project) => (\r\n",
        "+        <ProjectCard key={project.id} project={project} />\r\n",
        "+      ))}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/search-projects.tsx",
      "status": "modified",
      "additions": 31,
      "deletions": 31,
      "patch": "@@ -1,31 +1,31 @@\n-\"use client\";\n-\n-import { useState } from \"react\";\n-import { Input } from \"@/components/ui/input\";\n-import { Search } from \"lucide-react\";\n-\n-interface SearchProjectsProps {\n-  onSearch: (query: string) => void;\n-}\n-\n-export function SearchProjects({ onSearch }: SearchProjectsProps) {\n-  const [query, setQuery] = useState(\"\");\n-\n-  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n-    const value = e.target.value;\n-    setQuery(value);\n-    onSearch(value);\n-  };\n-\n-  return (\n-    <div className=\"relative\">\n-      <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-secondary-text\" />\n-      <Input\n-        className=\"pl-9 bg-secondary-background text-primary-text border-divider\"\n-        placeholder=\"Search projects...\"\n-        value={query}\n-        onChange={handleChange}\n-      />\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Search } from \"lucide-react\";\r\n+\r\n+interface SearchProjectsProps {\r\n+  onSearch: (query: string) => void;\r\n+}\r\n+\r\n+export function SearchProjects({ onSearch }: SearchProjectsProps) {\r\n+  const [query, setQuery] = useState(\"\");\r\n+\r\n+  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n+    const value = e.target.value;\r\n+    setQuery(value);\r\n+    onSearch(value);\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"relative\">\r\n+      <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-secondary-text\" />\r\n+      <Input\r\n+        className=\"pl-9 bg-secondary-background text-primary-text border-divider\"\r\n+        placeholder=\"Search projects...\"\r\n+        value={query}\r\n+        onChange={handleChange}\r\n+      />\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,31 +1,31 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState } from \"react\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import { Search } from \"lucide-react\";\n",
        "-\n",
        "-interface SearchProjectsProps {\n",
        "-  onSearch: (query: string) => void;\n",
        "-}\n",
        "-\n",
        "-export function SearchProjects({ onSearch }: SearchProjectsProps) {\n",
        "-  const [query, setQuery] = useState(\"\");\n",
        "-\n",
        "-  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n",
        "-    const value = e.target.value;\n",
        "-    setQuery(value);\n",
        "-    onSearch(value);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"relative\">\n",
        "-      <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-secondary-text\" />\n",
        "-      <Input\n",
        "-        className=\"pl-9 bg-secondary-background text-primary-text border-divider\"\n",
        "-        placeholder=\"Search projects...\"\n",
        "-        value={query}\n",
        "-        onChange={handleChange}\n",
        "-      />\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import { Search } from \"lucide-react\";\r\n",
        "+\r\n",
        "+interface SearchProjectsProps {\r\n",
        "+  onSearch: (query: string) => void;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function SearchProjects({ onSearch }: SearchProjectsProps) {\r\n",
        "+  const [query, setQuery] = useState(\"\");\r\n",
        "+\r\n",
        "+  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n",
        "+    const value = e.target.value;\r\n",
        "+    setQuery(value);\r\n",
        "+    onSearch(value);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"relative\">\r\n",
        "+      <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-secondary-text\" />\r\n",
        "+      <Input\r\n",
        "+        className=\"pl-9 bg-secondary-background text-primary-text border-divider\"\r\n",
        "+        placeholder=\"Search projects...\"\r\n",
        "+        value={query}\r\n",
        "+        onChange={handleChange}\r\n",
        "+      />\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/components/dialogs/new-endpoint-dialog.tsx",
      "status": "modified",
      "additions": 159,
      "deletions": 159,
      "patch": "@@ -1,159 +1,159 @@\n-\"use client\";\n-\n-import { useEffect, useState } from \"react\";\n-import { Button } from \"@/components/ui/button\";\n-import { Input } from \"@/components/ui/input\";\n-import { Label } from \"@/components/ui/label\";\n-import { Textarea } from \"@/components/ui/textarea\";\n-import { Checkbox } from \"@/components/ui/checkbox\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import {\n-  Dialog,\n-  DialogContent,\n-  DialogHeader,\n-  DialogTitle,\n-  DialogFooter,\n-} from \"@/components/ui/dialog\";\n-\n-import { Endpoint } from \"../../types\";\n-import { availableMethods, defaultEndpoint } from \"../../constants\";\n-\n-interface NewEndpointDialogProps {\n-  open: boolean;\n-  onOpenChange: (open: boolean) => void;\n-  onAddEndpoint: (endpoint: Endpoint) => void;\n-  resourceName: string;\n-}\n-\n-export function NewEndpointDialog({\n-  open,\n-  onOpenChange,\n-  onAddEndpoint,\n-  resourceName,\n-}: NewEndpointDialogProps) {\n-  const [newEndpoint, setNewEndpoint] = useState<Endpoint>({\n-    ...defaultEndpoint,\n-    name: \"\",\n-    path: \"\",\n-  });\n-\n-  // Reset form when dialog opens\n-  useEffect(() => {\n-    if (open) {\n-      setNewEndpoint({\n-        ...defaultEndpoint,\n-        name: `Get ${resourceName}`,\n-        path: `/${resourceName.toLowerCase()}`,\n-      });\n-    }\n-  }, [open, resourceName]);\n-\n-  // Handle submit\n-  const handleSubmit = () => {\n-    if (newEndpoint.name.trim() === \"\" || newEndpoint.path.trim() === \"\") {\n-      return;\n-    }\n-\n-    onAddEndpoint(newEndpoint);\n-    onOpenChange(false);\n-  };\n-\n-  return (\n-    <Dialog open={open} onOpenChange={onOpenChange}>\n-      <DialogContent className=\"sm:max-w-[550px]\">\n-        <DialogHeader>\n-          <DialogTitle>Create New Endpoint</DialogTitle>\n-        </DialogHeader>\n-\n-        <div className=\"space-y-4 py-4\">\n-          <div className=\"grid grid-cols-2 gap-4\">\n-            <div className=\"space-y-2\">\n-              <Label htmlFor=\"endpoint-name\">Endpoint Name</Label>\n-              <Input\n-                id=\"endpoint-name\"\n-                placeholder=\"e.g., Get Users, Create Order\"\n-                value={newEndpoint.name}\n-                onChange={(e) =>\n-                  setNewEndpoint({ ...newEndpoint, name: e.target.value })\n-                }\n-              />\n-            </div>\n-\n-            <div className=\"space-y-2\">\n-              <Label htmlFor=\"endpoint-method\">HTTP Method</Label>\n-              <Select\n-                value={newEndpoint.method}\n-                onValueChange={(value) =>\n-                  setNewEndpoint({ ...newEndpoint, method: value })\n-                }\n-              >\n-                <SelectTrigger id=\"endpoint-method\">\n-                  <SelectValue placeholder=\"Select method\" />\n-                </SelectTrigger>\n-                <SelectContent>\n-                  {availableMethods.map((method) => (\n-                    <SelectItem key={method} value={method}>\n-                      {method}\n-                    </SelectItem>\n-                  ))}\n-                </SelectContent>\n-              </Select>\n-            </div>\n-          </div>\n-\n-          <div className=\"space-y-2\">\n-            <Label htmlFor=\"endpoint-path\">Path</Label>\n-            <Input\n-              id=\"endpoint-path\"\n-              placeholder=\"e.g., /users, /orders/{id}\"\n-              value={newEndpoint.path}\n-              onChange={(e) =>\n-                setNewEndpoint({ ...newEndpoint, path: e.target.value })\n-              }\n-            />\n-          </div>\n-\n-          <div className=\"space-y-2\">\n-            <Label htmlFor=\"endpoint-description\">Description</Label>\n-            <Textarea\n-              id=\"endpoint-description\"\n-              placeholder=\"What this endpoint does\"\n-              rows={3}\n-              value={newEndpoint.description}\n-              onChange={(e) =>\n-                setNewEndpoint({ ...newEndpoint, description: e.target.value })\n-              }\n-            />\n-          </div>\n-\n-          <div className=\"flex items-center gap-2\">\n-            <Checkbox\n-              id=\"endpoint-auth\"\n-              checked={newEndpoint.authentication_required}\n-              onCheckedChange={(checked) =>\n-                setNewEndpoint({\n-                  ...newEndpoint,\n-                  authentication_required: checked === true,\n-                })\n-              }\n-            />\n-            <Label htmlFor=\"endpoint-auth\">Requires Authentication</Label>\n-          </div>\n-        </div>\n-\n-        <DialogFooter>\n-          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n-            Cancel\n-          </Button>\n-          <Button onClick={handleSubmit}>Create Endpoint</Button>\n-        </DialogFooter>\n-      </DialogContent>\n-    </Dialog>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useEffect, useState } from \"react\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Label } from \"@/components/ui/label\";\r\n+import { Textarea } from \"@/components/ui/textarea\";\r\n+import { Checkbox } from \"@/components/ui/checkbox\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import {\r\n+  Dialog,\r\n+  DialogContent,\r\n+  DialogHeader,\r\n+  DialogTitle,\r\n+  DialogFooter,\r\n+} from \"@/components/ui/dialog\";\r\n+\r\n+import { Endpoint } from \"../../types\";\r\n+import { availableMethods, defaultEndpoint } from \"../../constants\";\r\n+\r\n+interface NewEndpointDialogProps {\r\n+  open: boolean;\r\n+  onOpenChange: (open: boolean) => void;\r\n+  onAddEndpoint: (endpoint: Endpoint) => void;\r\n+  resourceName: string;\r\n+}\r\n+\r\n+export function NewEndpointDialog({\r\n+  open,\r\n+  onOpenChange,\r\n+  onAddEndpoint,\r\n+  resourceName,\r\n+}: NewEndpointDialogProps) {\r\n+  const [newEndpoint, setNewEndpoint] = useState<Endpoint>({\r\n+    ...defaultEndpoint,\r\n+    name: \"\",\r\n+    path: \"\",\r\n+  });\r\n+\r\n+  // Reset form when dialog opens\r\n+  useEffect(() => {\r\n+    if (open) {\r\n+      setNewEndpoint({\r\n+        ...defaultEndpoint,\r\n+        name: `Get ${resourceName}`,\r\n+        path: `/${resourceName.toLowerCase()}`,\r\n+      });\r\n+    }\r\n+  }, [open, resourceName]);\r\n+\r\n+  // Handle submit\r\n+  const handleSubmit = () => {\r\n+    if (newEndpoint.name.trim() === \"\" || newEndpoint.path.trim() === \"\") {\r\n+      return;\r\n+    }\r\n+\r\n+    onAddEndpoint(newEndpoint);\r\n+    onOpenChange(false);\r\n+  };\r\n+\r\n+  return (\r\n+    <Dialog open={open} onOpenChange={onOpenChange}>\r\n+      <DialogContent className=\"sm:max-w-[550px]\">\r\n+        <DialogHeader>\r\n+          <DialogTitle>Create New Endpoint</DialogTitle>\r\n+        </DialogHeader>\r\n+\r\n+        <div className=\"space-y-4 py-4\">\r\n+          <div className=\"grid grid-cols-2 gap-4\">\r\n+            <div className=\"space-y-2\">\r\n+              <Label htmlFor=\"endpoint-name\">Endpoint Name</Label>\r\n+              <Input\r\n+                id=\"endpoint-name\"\r\n+                placeholder=\"e.g., Get Users, Create Order\"\r\n+                value={newEndpoint.name}\r\n+                onChange={(e) =>\r\n+                  setNewEndpoint({ ...newEndpoint, name: e.target.value })\r\n+                }\r\n+              />\r\n+            </div>\r\n+\r\n+            <div className=\"space-y-2\">\r\n+              <Label htmlFor=\"endpoint-method\">HTTP Method</Label>\r\n+              <Select\r\n+                value={newEndpoint.method}\r\n+                onValueChange={(value) =>\r\n+                  setNewEndpoint({ ...newEndpoint, method: value })\r\n+                }\r\n+              >\r\n+                <SelectTrigger id=\"endpoint-method\">\r\n+                  <SelectValue placeholder=\"Select method\" />\r\n+                </SelectTrigger>\r\n+                <SelectContent>\r\n+                  {availableMethods.map((method) => (\r\n+                    <SelectItem key={method} value={method}>\r\n+                      {method}\r\n+                    </SelectItem>\r\n+                  ))}\r\n+                </SelectContent>\r\n+              </Select>\r\n+            </div>\r\n+          </div>\r\n+\r\n+          <div className=\"space-y-2\">\r\n+            <Label htmlFor=\"endpoint-path\">Path</Label>\r\n+            <Input\r\n+              id=\"endpoint-path\"\r\n+              placeholder=\"e.g., /users, /orders/{id}\"\r\n+              value={newEndpoint.path}\r\n+              onChange={(e) =>\r\n+                setNewEndpoint({ ...newEndpoint, path: e.target.value })\r\n+              }\r\n+            />\r\n+          </div>\r\n+\r\n+          <div className=\"space-y-2\">\r\n+            <Label htmlFor=\"endpoint-description\">Description</Label>\r\n+            <Textarea\r\n+              id=\"endpoint-description\"\r\n+              placeholder=\"What this endpoint does\"\r\n+              rows={3}\r\n+              value={newEndpoint.description}\r\n+              onChange={(e) =>\r\n+                setNewEndpoint({ ...newEndpoint, description: e.target.value })\r\n+              }\r\n+            />\r\n+          </div>\r\n+\r\n+          <div className=\"flex items-center gap-2\">\r\n+            <Checkbox\r\n+              id=\"endpoint-auth\"\r\n+              checked={newEndpoint.authentication_required}\r\n+              onCheckedChange={(checked) =>\r\n+                setNewEndpoint({\r\n+                  ...newEndpoint,\r\n+                  authentication_required: checked === true,\r\n+                })\r\n+              }\r\n+            />\r\n+            <Label htmlFor=\"endpoint-auth\">Requires Authentication</Label>\r\n+          </div>\r\n+        </div>\r\n+\r\n+        <DialogFooter>\r\n+          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n+            Cancel\r\n+          </Button>\r\n+          <Button onClick={handleSubmit}>Create Endpoint</Button>\r\n+        </DialogFooter>\r\n+      </DialogContent>\r\n+    </Dialog>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,159 +1,159 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useEffect, useState } from \"react\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import { Label } from \"@/components/ui/label\";\n",
        "-import { Textarea } from \"@/components/ui/textarea\";\n",
        "-import { Checkbox } from \"@/components/ui/checkbox\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import {\n",
        "-  Dialog,\n",
        "-  DialogContent,\n",
        "-  DialogHeader,\n",
        "-  DialogTitle,\n",
        "-  DialogFooter,\n",
        "-} from \"@/components/ui/dialog\";\n",
        "-\n",
        "-import { Endpoint } from \"../../types\";\n",
        "-import { availableMethods, defaultEndpoint } from \"../../constants\";\n",
        "-\n",
        "-interface NewEndpointDialogProps {\n",
        "-  open: boolean;\n",
        "-  onOpenChange: (open: boolean) => void;\n",
        "-  onAddEndpoint: (endpoint: Endpoint) => void;\n",
        "-  resourceName: string;\n",
        "-}\n",
        "-\n",
        "-export function NewEndpointDialog({\n",
        "-  open,\n",
        "-  onOpenChange,\n",
        "-  onAddEndpoint,\n",
        "-  resourceName,\n",
        "-}: NewEndpointDialogProps) {\n",
        "-  const [newEndpoint, setNewEndpoint] = useState<Endpoint>({\n",
        "-    ...defaultEndpoint,\n",
        "-    name: \"\",\n",
        "-    path: \"\",\n",
        "-  });\n",
        "-\n",
        "-  // Reset form when dialog opens\n",
        "-  useEffect(() => {\n",
        "-    if (open) {\n",
        "-      setNewEndpoint({\n",
        "-        ...defaultEndpoint,\n",
        "-        name: `Get ${resourceName}`,\n",
        "-        path: `/${resourceName.toLowerCase()}`,\n",
        "-      });\n",
        "-    }\n",
        "-  }, [open, resourceName]);\n",
        "-\n",
        "-  // Handle submit\n",
        "-  const handleSubmit = () => {\n",
        "-    if (newEndpoint.name.trim() === \"\" || newEndpoint.path.trim() === \"\") {\n",
        "-      return;\n",
        "-    }\n",
        "-\n",
        "-    onAddEndpoint(newEndpoint);\n",
        "-    onOpenChange(false);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <Dialog open={open} onOpenChange={onOpenChange}>\n",
        "-      <DialogContent className=\"sm:max-w-[550px]\">\n",
        "-        <DialogHeader>\n",
        "-          <DialogTitle>Create New Endpoint</DialogTitle>\n",
        "-        </DialogHeader>\n",
        "-\n",
        "-        <div className=\"space-y-4 py-4\">\n",
        "-          <div className=\"grid grid-cols-2 gap-4\">\n",
        "-            <div className=\"space-y-2\">\n",
        "-              <Label htmlFor=\"endpoint-name\">Endpoint Name</Label>\n",
        "-              <Input\n",
        "-                id=\"endpoint-name\"\n",
        "-                placeholder=\"e.g., Get Users, Create Order\"\n",
        "-                value={newEndpoint.name}\n",
        "-                onChange={(e) =>\n",
        "-                  setNewEndpoint({ ...newEndpoint, name: e.target.value })\n",
        "-                }\n",
        "-              />\n",
        "-            </div>\n",
        "-\n",
        "-            <div className=\"space-y-2\">\n",
        "-              <Label htmlFor=\"endpoint-method\">HTTP Method</Label>\n",
        "-              <Select\n",
        "-                value={newEndpoint.method}\n",
        "-                onValueChange={(value) =>\n",
        "-                  setNewEndpoint({ ...newEndpoint, method: value })\n",
        "-                }\n",
        "-              >\n",
        "-                <SelectTrigger id=\"endpoint-method\">\n",
        "-                  <SelectValue placeholder=\"Select method\" />\n",
        "-                </SelectTrigger>\n",
        "-                <SelectContent>\n",
        "-                  {availableMethods.map((method) => (\n",
        "-                    <SelectItem key={method} value={method}>\n",
        "-                      {method}\n",
        "-                    </SelectItem>\n",
        "-                  ))}\n",
        "-                </SelectContent>\n",
        "-              </Select>\n",
        "-            </div>\n",
        "-          </div>\n",
        "-\n",
        "-          <div className=\"space-y-2\">\n",
        "-            <Label htmlFor=\"endpoint-path\">Path</Label>\n",
        "-            <Input\n",
        "-              id=\"endpoint-path\"\n",
        "-              placeholder=\"e.g., /users, /orders/{id}\"\n",
        "-              value={newEndpoint.path}\n",
        "-              onChange={(e) =>\n",
        "-                setNewEndpoint({ ...newEndpoint, path: e.target.value })\n",
        "-              }\n",
        "-            />\n",
        "-          </div>\n",
        "-\n",
        "-          <div className=\"space-y-2\">\n",
        "-            <Label htmlFor=\"endpoint-description\">Description</Label>\n",
        "-            <Textarea\n",
        "-              id=\"endpoint-description\"\n",
        "-              placeholder=\"What this endpoint does\"\n",
        "-              rows={3}\n",
        "-              value={newEndpoint.description}\n",
        "-              onChange={(e) =>\n",
        "-                setNewEndpoint({ ...newEndpoint, description: e.target.value })\n",
        "-              }\n",
        "-            />\n",
        "-          </div>\n",
        "-\n",
        "-          <div className=\"flex items-center gap-2\">\n",
        "-            <Checkbox\n",
        "-              id=\"endpoint-auth\"\n",
        "-              checked={newEndpoint.authentication_required}\n",
        "-              onCheckedChange={(checked) =>\n",
        "-                setNewEndpoint({\n",
        "-                  ...newEndpoint,\n",
        "-                  authentication_required: checked === true,\n",
        "-                })\n",
        "-              }\n",
        "-            />\n",
        "-            <Label htmlFor=\"endpoint-auth\">Requires Authentication</Label>\n",
        "-          </div>\n",
        "-        </div>\n",
        "-\n",
        "-        <DialogFooter>\n",
        "-          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n",
        "-            Cancel\n",
        "-          </Button>\n",
        "-          <Button onClick={handleSubmit}>Create Endpoint</Button>\n",
        "-        </DialogFooter>\n",
        "-      </DialogContent>\n",
        "-    </Dialog>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useEffect, useState } from \"react\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import { Label } from \"@/components/ui/label\";\r\n",
        "+import { Textarea } from \"@/components/ui/textarea\";\r\n",
        "+import { Checkbox } from \"@/components/ui/checkbox\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import {\r\n",
        "+  Dialog,\r\n",
        "+  DialogContent,\r\n",
        "+  DialogHeader,\r\n",
        "+  DialogTitle,\r\n",
        "+  DialogFooter,\r\n",
        "+} from \"@/components/ui/dialog\";\r\n",
        "+\r\n",
        "+import { Endpoint } from \"../../types\";\r\n",
        "+import { availableMethods, defaultEndpoint } from \"../../constants\";\r\n",
        "+\r\n",
        "+interface NewEndpointDialogProps {\r\n",
        "+  open: boolean;\r\n",
        "+  onOpenChange: (open: boolean) => void;\r\n",
        "+  onAddEndpoint: (endpoint: Endpoint) => void;\r\n",
        "+  resourceName: string;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function NewEndpointDialog({\r\n",
        "+  open,\r\n",
        "+  onOpenChange,\r\n",
        "+  onAddEndpoint,\r\n",
        "+  resourceName,\r\n",
        "+}: NewEndpointDialogProps) {\r\n",
        "+  const [newEndpoint, setNewEndpoint] = useState<Endpoint>({\r\n",
        "+    ...defaultEndpoint,\r\n",
        "+    name: \"\",\r\n",
        "+    path: \"\",\r\n",
        "+  });\r\n",
        "+\r\n",
        "+  // Reset form when dialog opens\r\n",
        "+  useEffect(() => {\r\n",
        "+    if (open) {\r\n",
        "+      setNewEndpoint({\r\n",
        "+        ...defaultEndpoint,\r\n",
        "+        name: `Get ${resourceName}`,\r\n",
        "+        path: `/${resourceName.toLowerCase()}`,\r\n",
        "+      });\r\n",
        "+    }\r\n",
        "+  }, [open, resourceName]);\r\n",
        "+\r\n",
        "+  // Handle submit\r\n",
        "+  const handleSubmit = () => {\r\n",
        "+    if (newEndpoint.name.trim() === \"\" || newEndpoint.path.trim() === \"\") {\r\n",
        "+      return;\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    onAddEndpoint(newEndpoint);\r\n",
        "+    onOpenChange(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <Dialog open={open} onOpenChange={onOpenChange}>\r\n",
        "+      <DialogContent className=\"sm:max-w-[550px]\">\r\n",
        "+        <DialogHeader>\r\n",
        "+          <DialogTitle>Create New Endpoint</DialogTitle>\r\n",
        "+        </DialogHeader>\r\n",
        "+\r\n",
        "+        <div className=\"space-y-4 py-4\">\r\n",
        "+          <div className=\"grid grid-cols-2 gap-4\">\r\n",
        "+            <div className=\"space-y-2\">\r\n",
        "+              <Label htmlFor=\"endpoint-name\">Endpoint Name</Label>\r\n",
        "+              <Input\r\n",
        "+                id=\"endpoint-name\"\r\n",
        "+                placeholder=\"e.g., Get Users, Create Order\"\r\n",
        "+                value={newEndpoint.name}\r\n",
        "+                onChange={(e) =>\r\n",
        "+                  setNewEndpoint({ ...newEndpoint, name: e.target.value })\r\n",
        "+                }\r\n",
        "+              />\r\n",
        "+            </div>\r\n",
        "+\r\n",
        "+            <div className=\"space-y-2\">\r\n",
        "+              <Label htmlFor=\"endpoint-method\">HTTP Method</Label>\r\n",
        "+              <Select\r\n",
        "+                value={newEndpoint.method}\r\n",
        "+                onValueChange={(value) =>\r\n",
        "+                  setNewEndpoint({ ...newEndpoint, method: value })\r\n",
        "+                }\r\n",
        "+              >\r\n",
        "+                <SelectTrigger id=\"endpoint-method\">\r\n",
        "+                  <SelectValue placeholder=\"Select method\" />\r\n",
        "+                </SelectTrigger>\r\n",
        "+                <SelectContent>\r\n",
        "+                  {availableMethods.map((method) => (\r\n",
        "+                    <SelectItem key={method} value={method}>\r\n",
        "+                      {method}\r\n",
        "+                    </SelectItem>\r\n",
        "+                  ))}\r\n",
        "+                </SelectContent>\r\n",
        "+              </Select>\r\n",
        "+            </div>\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <div className=\"space-y-2\">\r\n",
        "+            <Label htmlFor=\"endpoint-path\">Path</Label>\r\n",
        "+            <Input\r\n",
        "+              id=\"endpoint-path\"\r\n",
        "+              placeholder=\"e.g., /users, /orders/{id}\"\r\n",
        "+              value={newEndpoint.path}\r\n",
        "+              onChange={(e) =>\r\n",
        "+                setNewEndpoint({ ...newEndpoint, path: e.target.value })\r\n",
        "+              }\r\n",
        "+            />\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <div className=\"space-y-2\">\r\n",
        "+            <Label htmlFor=\"endpoint-description\">Description</Label>\r\n",
        "+            <Textarea\r\n",
        "+              id=\"endpoint-description\"\r\n",
        "+              placeholder=\"What this endpoint does\"\r\n",
        "+              rows={3}\r\n",
        "+              value={newEndpoint.description}\r\n",
        "+              onChange={(e) =>\r\n",
        "+                setNewEndpoint({ ...newEndpoint, description: e.target.value })\r\n",
        "+              }\r\n",
        "+            />\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <div className=\"flex items-center gap-2\">\r\n",
        "+            <Checkbox\r\n",
        "+              id=\"endpoint-auth\"\r\n",
        "+              checked={newEndpoint.authentication_required}\r\n",
        "+              onCheckedChange={(checked) =>\r\n",
        "+                setNewEndpoint({\r\n",
        "+                  ...newEndpoint,\r\n",
        "+                  authentication_required: checked === true,\r\n",
        "+                })\r\n",
        "+              }\r\n",
        "+            />\r\n",
        "+            <Label htmlFor=\"endpoint-auth\">Requires Authentication</Label>\r\n",
        "+          </div>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <DialogFooter>\r\n",
        "+          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n",
        "+            Cancel\r\n",
        "+          </Button>\r\n",
        "+          <Button onClick={handleSubmit}>Create Endpoint</Button>\r\n",
        "+        </DialogFooter>\r\n",
        "+      </DialogContent>\r\n",
        "+    </Dialog>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/components/dialogs/new-recource-dialog.tsx",
      "status": "modified",
      "additions": 99,
      "deletions": 99,
      "patch": "@@ -1,99 +1,99 @@\n-\"use client\";\n-\n-import { useEffect, useState } from \"react\";\n-import { Button } from \"@/components/ui/button\";\n-import { Input } from \"@/components/ui/input\";\n-import { Label } from \"@/components/ui/label\";\n-import { Textarea } from \"@/components/ui/textarea\";\n-import {\n-  Dialog,\n-  DialogContent,\n-  DialogHeader,\n-  DialogTitle,\n-  DialogFooter,\n-} from \"@/components/ui/dialog\";\n-\n-import { Resource } from \"../../types\";\n-\n-interface NewResourceDialogProps {\n-  open: boolean;\n-  onOpenChange: (open: boolean) => void;\n-  onAddResource: (resource: Resource) => void;\n-}\n-\n-export function NewResourceDialog({\n-  open,\n-  onOpenChange,\n-  onAddResource,\n-}: NewResourceDialogProps) {\n-  const [newResource, setNewResource] = useState<Resource>({\n-    name: \"\",\n-    description: \"\",\n-    endpoints: [],\n-  });\n-\n-  // Reset form when dialog opens\n-  useEffect(() => {\n-    if (open) {\n-      setNewResource({\n-        name: \"\",\n-        description: \"\",\n-        endpoints: [],\n-      });\n-    }\n-  }, [open]);\n-\n-  // Handle submit\n-  const handleSubmit = () => {\n-    if (newResource.name.trim() === \"\") {\n-      return;\n-    }\n-\n-    onAddResource(newResource);\n-    onOpenChange(false);\n-  };\n-\n-  return (\n-    <Dialog open={open} onOpenChange={onOpenChange}>\n-      <DialogContent className=\"sm:max-w-[425px]\">\n-        <DialogHeader>\n-          <DialogTitle>Create New Resource</DialogTitle>\n-        </DialogHeader>\n-\n-        <div className=\"space-y-4 py-4\">\n-          <div className=\"space-y-2\">\n-            <Label htmlFor=\"resource-name\">Resource Name</Label>\n-            <Input\n-              id=\"resource-name\"\n-              placeholder=\"e.g., Users, Orders, Products\"\n-              value={newResource.name}\n-              onChange={(e) =>\n-                setNewResource({ ...newResource, name: e.target.value })\n-              }\n-            />\n-          </div>\n-\n-          <div className=\"space-y-2\">\n-            <Label htmlFor=\"resource-description\">Description</Label>\n-            <Textarea\n-              id=\"resource-description\"\n-              placeholder=\"What this resource represents\"\n-              rows={3}\n-              value={newResource.description}\n-              onChange={(e) =>\n-                setNewResource({ ...newResource, description: e.target.value })\n-              }\n-            />\n-          </div>\n-        </div>\n-\n-        <DialogFooter>\n-          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n-            Cancel\n-          </Button>\n-          <Button onClick={handleSubmit}>Create Resource</Button>\n-        </DialogFooter>\n-      </DialogContent>\n-    </Dialog>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useEffect, useState } from \"react\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Label } from \"@/components/ui/label\";\r\n+import { Textarea } from \"@/components/ui/textarea\";\r\n+import {\r\n+  Dialog,\r\n+  DialogContent,\r\n+  DialogHeader,\r\n+  DialogTitle,\r\n+  DialogFooter,\r\n+} from \"@/components/ui/dialog\";\r\n+\r\n+import { Resource } from \"../../types\";\r\n+\r\n+interface NewResourceDialogProps {\r\n+  open: boolean;\r\n+  onOpenChange: (open: boolean) => void;\r\n+  onAddResource: (resource: Resource) => void;\r\n+}\r\n+\r\n+export function NewResourceDialog({\r\n+  open,\r\n+  onOpenChange,\r\n+  onAddResource,\r\n+}: NewResourceDialogProps) {\r\n+  const [newResource, setNewResource] = useState<Resource>({\r\n+    name: \"\",\r\n+    description: \"\",\r\n+    endpoints: [],\r\n+  });\r\n+\r\n+  // Reset form when dialog opens\r\n+  useEffect(() => {\r\n+    if (open) {\r\n+      setNewResource({\r\n+        name: \"\",\r\n+        description: \"\",\r\n+        endpoints: [],\r\n+      });\r\n+    }\r\n+  }, [open]);\r\n+\r\n+  // Handle submit\r\n+  const handleSubmit = () => {\r\n+    if (newResource.name.trim() === \"\") {\r\n+      return;\r\n+    }\r\n+\r\n+    onAddResource(newResource);\r\n+    onOpenChange(false);\r\n+  };\r\n+\r\n+  return (\r\n+    <Dialog open={open} onOpenChange={onOpenChange}>\r\n+      <DialogContent className=\"sm:max-w-[425px]\">\r\n+        <DialogHeader>\r\n+          <DialogTitle>Create New Resource</DialogTitle>\r\n+        </DialogHeader>\r\n+\r\n+        <div className=\"space-y-4 py-4\">\r\n+          <div className=\"space-y-2\">\r\n+            <Label htmlFor=\"resource-name\">Resource Name</Label>\r\n+            <Input\r\n+              id=\"resource-name\"\r\n+              placeholder=\"e.g., Users, Orders, Products\"\r\n+              value={newResource.name}\r\n+              onChange={(e) =>\r\n+                setNewResource({ ...newResource, name: e.target.value })\r\n+              }\r\n+            />\r\n+          </div>\r\n+\r\n+          <div className=\"space-y-2\">\r\n+            <Label htmlFor=\"resource-description\">Description</Label>\r\n+            <Textarea\r\n+              id=\"resource-description\"\r\n+              placeholder=\"What this resource represents\"\r\n+              rows={3}\r\n+              value={newResource.description}\r\n+              onChange={(e) =>\r\n+                setNewResource({ ...newResource, description: e.target.value })\r\n+              }\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        <DialogFooter>\r\n+          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n+            Cancel\r\n+          </Button>\r\n+          <Button onClick={handleSubmit}>Create Resource</Button>\r\n+        </DialogFooter>\r\n+      </DialogContent>\r\n+    </Dialog>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,99 +1,99 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useEffect, useState } from \"react\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import { Label } from \"@/components/ui/label\";\n",
        "-import { Textarea } from \"@/components/ui/textarea\";\n",
        "-import {\n",
        "-  Dialog,\n",
        "-  DialogContent,\n",
        "-  DialogHeader,\n",
        "-  DialogTitle,\n",
        "-  DialogFooter,\n",
        "-} from \"@/components/ui/dialog\";\n",
        "-\n",
        "-import { Resource } from \"../../types\";\n",
        "-\n",
        "-interface NewResourceDialogProps {\n",
        "-  open: boolean;\n",
        "-  onOpenChange: (open: boolean) => void;\n",
        "-  onAddResource: (resource: Resource) => void;\n",
        "-}\n",
        "-\n",
        "-export function NewResourceDialog({\n",
        "-  open,\n",
        "-  onOpenChange,\n",
        "-  onAddResource,\n",
        "-}: NewResourceDialogProps) {\n",
        "-  const [newResource, setNewResource] = useState<Resource>({\n",
        "-    name: \"\",\n",
        "-    description: \"\",\n",
        "-    endpoints: [],\n",
        "-  });\n",
        "-\n",
        "-  // Reset form when dialog opens\n",
        "-  useEffect(() => {\n",
        "-    if (open) {\n",
        "-      setNewResource({\n",
        "-        name: \"\",\n",
        "-        description: \"\",\n",
        "-        endpoints: [],\n",
        "-      });\n",
        "-    }\n",
        "-  }, [open]);\n",
        "-\n",
        "-  // Handle submit\n",
        "-  const handleSubmit = () => {\n",
        "-    if (newResource.name.trim() === \"\") {\n",
        "-      return;\n",
        "-    }\n",
        "-\n",
        "-    onAddResource(newResource);\n",
        "-    onOpenChange(false);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <Dialog open={open} onOpenChange={onOpenChange}>\n",
        "-      <DialogContent className=\"sm:max-w-[425px]\">\n",
        "-        <DialogHeader>\n",
        "-          <DialogTitle>Create New Resource</DialogTitle>\n",
        "-        </DialogHeader>\n",
        "-\n",
        "-        <div className=\"space-y-4 py-4\">\n",
        "-          <div className=\"space-y-2\">\n",
        "-            <Label htmlFor=\"resource-name\">Resource Name</Label>\n",
        "-            <Input\n",
        "-              id=\"resource-name\"\n",
        "-              placeholder=\"e.g., Users, Orders, Products\"\n",
        "-              value={newResource.name}\n",
        "-              onChange={(e) =>\n",
        "-                setNewResource({ ...newResource, name: e.target.value })\n",
        "-              }\n",
        "-            />\n",
        "-          </div>\n",
        "-\n",
        "-          <div className=\"space-y-2\">\n",
        "-            <Label htmlFor=\"resource-description\">Description</Label>\n",
        "-            <Textarea\n",
        "-              id=\"resource-description\"\n",
        "-              placeholder=\"What this resource represents\"\n",
        "-              rows={3}\n",
        "-              value={newResource.description}\n",
        "-              onChange={(e) =>\n",
        "-                setNewResource({ ...newResource, description: e.target.value })\n",
        "-              }\n",
        "-            />\n",
        "-          </div>\n",
        "-        </div>\n",
        "-\n",
        "-        <DialogFooter>\n",
        "-          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n",
        "-            Cancel\n",
        "-          </Button>\n",
        "-          <Button onClick={handleSubmit}>Create Resource</Button>\n",
        "-        </DialogFooter>\n",
        "-      </DialogContent>\n",
        "-    </Dialog>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useEffect, useState } from \"react\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import { Label } from \"@/components/ui/label\";\r\n",
        "+import { Textarea } from \"@/components/ui/textarea\";\r\n",
        "+import {\r\n",
        "+  Dialog,\r\n",
        "+  DialogContent,\r\n",
        "+  DialogHeader,\r\n",
        "+  DialogTitle,\r\n",
        "+  DialogFooter,\r\n",
        "+} from \"@/components/ui/dialog\";\r\n",
        "+\r\n",
        "+import { Resource } from \"../../types\";\r\n",
        "+\r\n",
        "+interface NewResourceDialogProps {\r\n",
        "+  open: boolean;\r\n",
        "+  onOpenChange: (open: boolean) => void;\r\n",
        "+  onAddResource: (resource: Resource) => void;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function NewResourceDialog({\r\n",
        "+  open,\r\n",
        "+  onOpenChange,\r\n",
        "+  onAddResource,\r\n",
        "+}: NewResourceDialogProps) {\r\n",
        "+  const [newResource, setNewResource] = useState<Resource>({\r\n",
        "+    name: \"\",\r\n",
        "+    description: \"\",\r\n",
        "+    endpoints: [],\r\n",
        "+  });\r\n",
        "+\r\n",
        "+  // Reset form when dialog opens\r\n",
        "+  useEffect(() => {\r\n",
        "+    if (open) {\r\n",
        "+      setNewResource({\r\n",
        "+        name: \"\",\r\n",
        "+        description: \"\",\r\n",
        "+        endpoints: [],\r\n",
        "+      });\r\n",
        "+    }\r\n",
        "+  }, [open]);\r\n",
        "+\r\n",
        "+  // Handle submit\r\n",
        "+  const handleSubmit = () => {\r\n",
        "+    if (newResource.name.trim() === \"\") {\r\n",
        "+      return;\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    onAddResource(newResource);\r\n",
        "+    onOpenChange(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <Dialog open={open} onOpenChange={onOpenChange}>\r\n",
        "+      <DialogContent className=\"sm:max-w-[425px]\">\r\n",
        "+        <DialogHeader>\r\n",
        "+          <DialogTitle>Create New Resource</DialogTitle>\r\n",
        "+        </DialogHeader>\r\n",
        "+\r\n",
        "+        <div className=\"space-y-4 py-4\">\r\n",
        "+          <div className=\"space-y-2\">\r\n",
        "+            <Label htmlFor=\"resource-name\">Resource Name</Label>\r\n",
        "+            <Input\r\n",
        "+              id=\"resource-name\"\r\n",
        "+              placeholder=\"e.g., Users, Orders, Products\"\r\n",
        "+              value={newResource.name}\r\n",
        "+              onChange={(e) =>\r\n",
        "+                setNewResource({ ...newResource, name: e.target.value })\r\n",
        "+              }\r\n",
        "+            />\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <div className=\"space-y-2\">\r\n",
        "+            <Label htmlFor=\"resource-description\">Description</Label>\r\n",
        "+            <Textarea\r\n",
        "+              id=\"resource-description\"\r\n",
        "+              placeholder=\"What this resource represents\"\r\n",
        "+              rows={3}\r\n",
        "+              value={newResource.description}\r\n",
        "+              onChange={(e) =>\r\n",
        "+                setNewResource({ ...newResource, description: e.target.value })\r\n",
        "+              }\r\n",
        "+            />\r\n",
        "+          </div>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <DialogFooter>\r\n",
        "+          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n",
        "+            Cancel\r\n",
        "+          </Button>\r\n",
        "+          <Button onClick={handleSubmit}>Create Resource</Button>\r\n",
        "+        </DialogFooter>\r\n",
        "+      </DialogContent>\r\n",
        "+    </Dialog>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/components/endpoint-item.tsx",
      "status": "modified",
      "additions": 350,
      "deletions": 350,
      "patch": "@@ -1,350 +1,350 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import { Badge } from \"@/components/ui/badge\";\n-import { Button } from \"@/components/ui/button\";\n-import { Input } from \"@/components/ui/input\";\n-import { Textarea } from \"@/components/ui/textarea\";\n-import { Checkbox } from \"@/components/ui/checkbox\";\n-import { Label } from \"@/components/ui/label\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n-import {\n-  ChevronDown,\n-  ChevronRight,\n-  Copy,\n-  Edit,\n-  Lock,\n-  Trash2,\n-} from \"lucide-react\";\n-\n-import { Endpoint, Request, Response } from \"../types\";\n-import { methodColors, availableMethods } from \"../constants\";\n-import { RequestSection } from \"./request-section\";\n-import { ResponseSection } from \"./response-section\";\n-\n-interface EndpointItemProps {\n-  endpoint: Endpoint;\n-  baseUrl: string;\n-  isEditing?: boolean;\n-  onUpdateEndpoint?: (updatedEndpoint: Endpoint) => void;\n-  onDeleteEndpoint?: () => void;\n-}\n-\n-export function EndpointItem({\n-  endpoint,\n-  baseUrl,\n-  isEditing = false,\n-  onUpdateEndpoint,\n-  onDeleteEndpoint,\n-}: EndpointItemProps) {\n-  const [isOpen, setIsOpen] = useState(false);\n-  const [editingMetadata, setEditingMetadata] = useState(false);\n-  const [editedEndpoint, setEditedEndpoint] = useState<Endpoint>({\n-    ...endpoint,\n-  });\n-\n-  const methodColor =\n-    methodColors[endpoint.method as keyof typeof methodColors] ||\n-    \"bg-gray-500 text-white\";\n-\n-  // Copy to clipboard function\n-  const copyToClipboard = (text: string) => {\n-    navigator.clipboard.writeText(text);\n-    // You could add a toast notification here\n-  };\n-\n-  // Update the edited endpoint whenever the original endpoint changes\n-  useEffect(() => {\n-    setEditedEndpoint({ ...endpoint });\n-  }, [endpoint]);\n-\n-  // Save endpoint metadata changes\n-  const saveMetadataChanges = () => {\n-    if (!onUpdateEndpoint) return;\n-    onUpdateEndpoint(editedEndpoint);\n-    setEditingMetadata(false);\n-  };\n-\n-  // Handle request updates\n-  const handleRequestUpdate = (updatedRequest: Request) => {\n-    if (!onUpdateEndpoint) return;\n-\n-    const updatedEndpoint = {\n-      ...editedEndpoint,\n-      request: updatedRequest,\n-    };\n-\n-    setEditedEndpoint(updatedEndpoint);\n-    onUpdateEndpoint(updatedEndpoint);\n-  };\n-\n-  // Handle response updates\n-  const handleResponseUpdate = (updatedResponse: Response) => {\n-    if (!onUpdateEndpoint) return;\n-\n-    const updatedEndpoint = {\n-      ...editedEndpoint,\n-      response: updatedResponse,\n-    };\n-\n-    setEditedEndpoint(updatedEndpoint);\n-    onUpdateEndpoint(updatedEndpoint);\n-  };\n-\n-  return (\n-    <div className=\"border-b border-divider last:border-b-0\">\n-      {/* Endpoint Header - Swagger Style */}\n-      <div\n-        className={`flex items-center w-full p-3 hover:bg-hover-active cursor-pointer ${\n-          isOpen ? \"bg-hover-active/50\" : \"\"\n-        }`}\n-        onClick={() => setIsOpen(!isOpen)}\n-      >\n-        <div className=\"flex items-center gap-3 flex-1\">\n-          <Badge\n-            className={`${methodColor} border-0 min-w-16 justify-center font-mono text-xs`}\n-          >\n-            {endpoint.method}\n-          </Badge>\n-          <div className=\"font-medium text-primary-text md:flex-1 break-all\">\n-            {endpoint.path}\n-          </div>\n-          {endpoint.authentication_required && (\n-            <Lock size={16} className=\"text-amber-400 flex-shrink-0 mr-2\" />\n-          )}\n-        </div>\n-        <div className=\"text-secondary-text hidden md:block truncate max-w-xs pr-4\">\n-          {endpoint.name}\n-        </div>\n-        {isEditing && (\n-          <div className=\"flex items-center gap-1 mr-2\">\n-            <Button\n-              variant=\"ghost\"\n-              size=\"sm\"\n-              className=\"h-7 w-7 p-0\"\n-              onClick={(e) => {\n-                e.stopPropagation();\n-                setIsOpen(true);\n-                setEditingMetadata(true);\n-              }}\n-            >\n-              <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\n-            </Button>\n-            {onDeleteEndpoint && (\n-              <Button\n-                variant=\"ghost\"\n-                size=\"sm\"\n-                className=\"h-7 w-7 p-0 hover:text-red-400\"\n-                onClick={(e) => {\n-                  e.stopPropagation();\n-                  onDeleteEndpoint();\n-                }}\n-              >\n-                <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\n-              </Button>\n-            )}\n-          </div>\n-        )}\n-        {isOpen ? <ChevronDown size={20} /> : <ChevronRight size={20} />}\n-      </div>\n-\n-      {/* Endpoint Content */}\n-      {isOpen && (\n-        <div className=\"px-4 py-4 border-t border-divider bg-primary-background\">\n-          <div className=\"grid gap-6\">\n-            {/* Endpoint Metadata */}\n-            <div>\n-              {editingMetadata ? (\n-                <div className=\"mb-4 space-y-4\">\n-                  <div className=\"grid grid-cols-2 gap-4\">\n-                    <div className=\"space-y-2\">\n-                      <Label htmlFor=\"edit-endpoint-name\">Name</Label>\n-                      <Input\n-                        id=\"edit-endpoint-name\"\n-                        value={editedEndpoint.name}\n-                        onChange={(e) =>\n-                          setEditedEndpoint({\n-                            ...editedEndpoint,\n-                            name: e.target.value,\n-                          })\n-                        }\n-                        className=\"bg-secondary-background\"\n-                      />\n-                    </div>\n-                    <div className=\"space-y-2\">\n-                      <Label htmlFor=\"edit-endpoint-method\">Method</Label>\n-                      <Select\n-                        value={editedEndpoint.method}\n-                        onValueChange={(value) =>\n-                          setEditedEndpoint({\n-                            ...editedEndpoint,\n-                            method: value,\n-                          })\n-                        }\n-                      >\n-                        <SelectTrigger\n-                          id=\"edit-endpoint-method\"\n-                          className=\"bg-secondary-background\"\n-                        >\n-                          <SelectValue placeholder=\"Select method\" />\n-                        </SelectTrigger>\n-                        <SelectContent>\n-                          {availableMethods.map((method) => (\n-                            <SelectItem key={method} value={method}>\n-                              {method}\n-                            </SelectItem>\n-                          ))}\n-                        </SelectContent>\n-                      </Select>\n-                    </div>\n-                  </div>\n-\n-                  <div className=\"space-y-2\">\n-                    <Label htmlFor=\"edit-endpoint-path\">Path</Label>\n-                    <Input\n-                      id=\"edit-endpoint-path\"\n-                      value={editedEndpoint.path}\n-                      onChange={(e) =>\n-                        setEditedEndpoint({\n-                          ...editedEndpoint,\n-                          path: e.target.value,\n-                        })\n-                      }\n-                      className=\"bg-secondary-background\"\n-                    />\n-                  </div>\n-\n-                  <div className=\"space-y-2\">\n-                    <Label htmlFor=\"edit-endpoint-description\">\n-                      Description\n-                    </Label>\n-                    <Textarea\n-                      id=\"edit-endpoint-description\"\n-                      value={editedEndpoint.description}\n-                      onChange={(e) =>\n-                        setEditedEndpoint({\n-                          ...editedEndpoint,\n-                          description: e.target.value,\n-                        })\n-                      }\n-                      className=\"bg-secondary-background\"\n-                      rows={3}\n-                    />\n-                  </div>\n-\n-                  <div className=\"flex items-center gap-2\">\n-                    <Checkbox\n-                      id=\"edit-endpoint-auth\"\n-                      checked={editedEndpoint.authentication_required}\n-                      onCheckedChange={(checked) =>\n-                        setEditedEndpoint({\n-                          ...editedEndpoint,\n-                          authentication_required: checked === true,\n-                        })\n-                      }\n-                    />\n-                    <Label htmlFor=\"edit-endpoint-auth\">\n-                      Requires Authentication\n-                    </Label>\n-                  </div>\n-\n-                  <div className=\"flex justify-end gap-2\">\n-                    <Button\n-                      variant=\"outline\"\n-                      size=\"sm\"\n-                      onClick={() => {\n-                        setEditedEndpoint({ ...endpoint });\n-                        setEditingMetadata(false);\n-                      }}\n-                    >\n-                      Cancel\n-                    </Button>\n-                    <Button size=\"sm\" onClick={saveMetadataChanges}>\n-                      Save\n-                    </Button>\n-                  </div>\n-                </div>\n-              ) : (\n-                <>\n-                  <h3 className=\"text-lg font-semibold mb-2\">\n-                    {endpoint.name}\n-                  </h3>\n-                  <p className=\"text-secondary-text mb-4\">\n-                    {endpoint.description}\n-                  </p>\n-\n-                  <div className=\"flex items-center gap-2 mb-4\">\n-                    <code className=\"bg-secondary-background px-3 py-1.5 rounded text-sm font-mono flex items-center flex-1 overflow-x-auto\">\n-                      <span\n-                        className={`${methodColor} px-2 py-0.5 rounded-sm mr-2 text-xs font-bold`}\n-                      >\n-                        {endpoint.method}\n-                      </span>\n-                      <span className=\"whitespace-nowrap\">\n-                        {baseUrl}\n-                        {endpoint.path}\n-                      </span>\n-                    </code>\n-                    <Button\n-                      variant=\"outline\"\n-                      size=\"sm\"\n-                      className=\"h-8 bg-hover-active border-primary-cta/30\"\n-                      onClick={() =>\n-                        copyToClipboard(`${baseUrl}${endpoint.path}`)\n-                      }\n-                    >\n-                      <Copy className=\"h-3.5 w-3.5\" />\n-                    </Button>\n-                  </div>\n-                </>\n-              )}\n-            </div>\n-\n-            <Tabs defaultValue=\"request\" className=\"w-full\">\n-              <TabsList className=\"mb-4 bg-secondary-background\">\n-                <TabsTrigger\n-                  value=\"request\"\n-                  className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\n-                >\n-                  Request\n-                </TabsTrigger>\n-                <TabsTrigger\n-                  value=\"response\"\n-                  className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\n-                >\n-                  Response\n-                </TabsTrigger>\n-              </TabsList>\n-\n-              <TabsContent value=\"request\" className=\"mt-0\">\n-                <RequestSection\n-                  request={editedEndpoint.request}\n-                  path={editedEndpoint.path}\n-                  isEditing={isEditing}\n-                  onUpdateRequest={isEditing ? handleRequestUpdate : undefined}\n-                />\n-              </TabsContent>\n-\n-              <TabsContent value=\"response\" className=\"mt-0\">\n-                <ResponseSection\n-                  response={editedEndpoint.response}\n-                  isEditing={isEditing}\n-                  onUpdateResponse={\n-                    isEditing ? handleResponseUpdate : undefined\n-                  }\n-                />\n-              </TabsContent>\n-            </Tabs>\n-          </div>\n-        </div>\n-      )}\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { Badge } from \"@/components/ui/badge\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Textarea } from \"@/components/ui/textarea\";\r\n+import { Checkbox } from \"@/components/ui/checkbox\";\r\n+import { Label } from \"@/components/ui/label\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\n+import {\r\n+  ChevronDown,\r\n+  ChevronRight,\r\n+  Copy,\r\n+  Edit,\r\n+  Lock,\r\n+  Trash2,\r\n+} from \"lucide-react\";\r\n+\r\n+import { Endpoint, Request, Response } from \"../types\";\r\n+import { methodColors, availableMethods } from \"../constants\";\r\n+import { RequestSection } from \"./request-section\";\r\n+import { ResponseSection } from \"./response-section\";\r\n+\r\n+interface EndpointItemProps {\r\n+  endpoint: Endpoint;\r\n+  baseUrl: string;\r\n+  isEditing?: boolean;\r\n+  onUpdateEndpoint?: (updatedEndpoint: Endpoint) => void;\r\n+  onDeleteEndpoint?: () => void;\r\n+}\r\n+\r\n+export function EndpointItem({\r\n+  endpoint,\r\n+  baseUrl,\r\n+  isEditing = false,\r\n+  onUpdateEndpoint,\r\n+  onDeleteEndpoint,\r\n+}: EndpointItemProps) {\r\n+  const [isOpen, setIsOpen] = useState(false);\r\n+  const [editingMetadata, setEditingMetadata] = useState(false);\r\n+  const [editedEndpoint, setEditedEndpoint] = useState<Endpoint>({\r\n+    ...endpoint,\r\n+  });\r\n+\r\n+  const methodColor =\r\n+    methodColors[endpoint.method as keyof typeof methodColors] ||\r\n+    \"bg-gray-500 text-white\";\r\n+\r\n+  // Copy to clipboard function\r\n+  const copyToClipboard = (text: string) => {\r\n+    navigator.clipboard.writeText(text);\r\n+    // You could add a toast notification here\r\n+  };\r\n+\r\n+  // Update the edited endpoint whenever the original endpoint changes\r\n+  useEffect(() => {\r\n+    setEditedEndpoint({ ...endpoint });\r\n+  }, [endpoint]);\r\n+\r\n+  // Save endpoint metadata changes\r\n+  const saveMetadataChanges = () => {\r\n+    if (!onUpdateEndpoint) return;\r\n+    onUpdateEndpoint(editedEndpoint);\r\n+    setEditingMetadata(false);\r\n+  };\r\n+\r\n+  // Handle request updates\r\n+  const handleRequestUpdate = (updatedRequest: Request) => {\r\n+    if (!onUpdateEndpoint) return;\r\n+\r\n+    const updatedEndpoint = {\r\n+      ...editedEndpoint,\r\n+      request: updatedRequest,\r\n+    };\r\n+\r\n+    setEditedEndpoint(updatedEndpoint);\r\n+    onUpdateEndpoint(updatedEndpoint);\r\n+  };\r\n+\r\n+  // Handle response updates\r\n+  const handleResponseUpdate = (updatedResponse: Response) => {\r\n+    if (!onUpdateEndpoint) return;\r\n+\r\n+    const updatedEndpoint = {\r\n+      ...editedEndpoint,\r\n+      response: updatedResponse,\r\n+    };\r\n+\r\n+    setEditedEndpoint(updatedEndpoint);\r\n+    onUpdateEndpoint(updatedEndpoint);\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"border-b border-divider last:border-b-0\">\r\n+      {/* Endpoint Header - Swagger Style */}\r\n+      <div\r\n+        className={`flex items-center w-full p-3 hover:bg-hover-active cursor-pointer ${\r\n+          isOpen ? \"bg-hover-active/50\" : \"\"\r\n+        }`}\r\n+        onClick={() => setIsOpen(!isOpen)}\r\n+      >\r\n+        <div className=\"flex items-center gap-3 flex-1\">\r\n+          <Badge\r\n+            className={`${methodColor} border-0 min-w-16 justify-center font-mono text-xs`}\r\n+          >\r\n+            {endpoint.method}\r\n+          </Badge>\r\n+          <div className=\"font-medium text-primary-text md:flex-1 break-all\">\r\n+            {endpoint.path}\r\n+          </div>\r\n+          {endpoint.authentication_required && (\r\n+            <Lock size={16} className=\"text-amber-400 flex-shrink-0 mr-2\" />\r\n+          )}\r\n+        </div>\r\n+        <div className=\"text-secondary-text hidden md:block truncate max-w-xs pr-4\">\r\n+          {endpoint.name}\r\n+        </div>\r\n+        {isEditing && (\r\n+          <div className=\"flex items-center gap-1 mr-2\">\r\n+            <Button\r\n+              variant=\"ghost\"\r\n+              size=\"sm\"\r\n+              className=\"h-7 w-7 p-0\"\r\n+              onClick={(e) => {\r\n+                e.stopPropagation();\r\n+                setIsOpen(true);\r\n+                setEditingMetadata(true);\r\n+              }}\r\n+            >\r\n+              <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n+            </Button>\r\n+            {onDeleteEndpoint && (\r\n+              <Button\r\n+                variant=\"ghost\"\r\n+                size=\"sm\"\r\n+                className=\"h-7 w-7 p-0 hover:text-red-400\"\r\n+                onClick={(e) => {\r\n+                  e.stopPropagation();\r\n+                  onDeleteEndpoint();\r\n+                }}\r\n+              >\r\n+                <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n+              </Button>\r\n+            )}\r\n+          </div>\r\n+        )}\r\n+        {isOpen ? <ChevronDown size={20} /> : <ChevronRight size={20} />}\r\n+      </div>\r\n+\r\n+      {/* Endpoint Content */}\r\n+      {isOpen && (\r\n+        <div className=\"px-4 py-4 border-t border-divider bg-primary-background\">\r\n+          <div className=\"grid gap-6\">\r\n+            {/* Endpoint Metadata */}\r\n+            <div>\r\n+              {editingMetadata ? (\r\n+                <div className=\"mb-4 space-y-4\">\r\n+                  <div className=\"grid grid-cols-2 gap-4\">\r\n+                    <div className=\"space-y-2\">\r\n+                      <Label htmlFor=\"edit-endpoint-name\">Name</Label>\r\n+                      <Input\r\n+                        id=\"edit-endpoint-name\"\r\n+                        value={editedEndpoint.name}\r\n+                        onChange={(e) =>\r\n+                          setEditedEndpoint({\r\n+                            ...editedEndpoint,\r\n+                            name: e.target.value,\r\n+                          })\r\n+                        }\r\n+                        className=\"bg-secondary-background\"\r\n+                      />\r\n+                    </div>\r\n+                    <div className=\"space-y-2\">\r\n+                      <Label htmlFor=\"edit-endpoint-method\">Method</Label>\r\n+                      <Select\r\n+                        value={editedEndpoint.method}\r\n+                        onValueChange={(value) =>\r\n+                          setEditedEndpoint({\r\n+                            ...editedEndpoint,\r\n+                            method: value,\r\n+                          })\r\n+                        }\r\n+                      >\r\n+                        <SelectTrigger\r\n+                          id=\"edit-endpoint-method\"\r\n+                          className=\"bg-secondary-background\"\r\n+                        >\r\n+                          <SelectValue placeholder=\"Select method\" />\r\n+                        </SelectTrigger>\r\n+                        <SelectContent>\r\n+                          {availableMethods.map((method) => (\r\n+                            <SelectItem key={method} value={method}>\r\n+                              {method}\r\n+                            </SelectItem>\r\n+                          ))}\r\n+                        </SelectContent>\r\n+                      </Select>\r\n+                    </div>\r\n+                  </div>\r\n+\r\n+                  <div className=\"space-y-2\">\r\n+                    <Label htmlFor=\"edit-endpoint-path\">Path</Label>\r\n+                    <Input\r\n+                      id=\"edit-endpoint-path\"\r\n+                      value={editedEndpoint.path}\r\n+                      onChange={(e) =>\r\n+                        setEditedEndpoint({\r\n+                          ...editedEndpoint,\r\n+                          path: e.target.value,\r\n+                        })\r\n+                      }\r\n+                      className=\"bg-secondary-background\"\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"space-y-2\">\r\n+                    <Label htmlFor=\"edit-endpoint-description\">\r\n+                      Description\r\n+                    </Label>\r\n+                    <Textarea\r\n+                      id=\"edit-endpoint-description\"\r\n+                      value={editedEndpoint.description}\r\n+                      onChange={(e) =>\r\n+                        setEditedEndpoint({\r\n+                          ...editedEndpoint,\r\n+                          description: e.target.value,\r\n+                        })\r\n+                      }\r\n+                      className=\"bg-secondary-background\"\r\n+                      rows={3}\r\n+                    />\r\n+                  </div>\r\n+\r\n+                  <div className=\"flex items-center gap-2\">\r\n+                    <Checkbox\r\n+                      id=\"edit-endpoint-auth\"\r\n+                      checked={editedEndpoint.authentication_required}\r\n+                      onCheckedChange={(checked) =>\r\n+                        setEditedEndpoint({\r\n+                          ...editedEndpoint,\r\n+                          authentication_required: checked === true,\r\n+                        })\r\n+                      }\r\n+                    />\r\n+                    <Label htmlFor=\"edit-endpoint-auth\">\r\n+                      Requires Authentication\r\n+                    </Label>\r\n+                  </div>\r\n+\r\n+                  <div className=\"flex justify-end gap-2\">\r\n+                    <Button\r\n+                      variant=\"outline\"\r\n+                      size=\"sm\"\r\n+                      onClick={() => {\r\n+                        setEditedEndpoint({ ...endpoint });\r\n+                        setEditingMetadata(false);\r\n+                      }}\r\n+                    >\r\n+                      Cancel\r\n+                    </Button>\r\n+                    <Button size=\"sm\" onClick={saveMetadataChanges}>\r\n+                      Save\r\n+                    </Button>\r\n+                  </div>\r\n+                </div>\r\n+              ) : (\r\n+                <>\r\n+                  <h3 className=\"text-lg font-semibold mb-2\">\r\n+                    {endpoint.name}\r\n+                  </h3>\r\n+                  <p className=\"text-secondary-text mb-4\">\r\n+                    {endpoint.description}\r\n+                  </p>\r\n+\r\n+                  <div className=\"flex items-center gap-2 mb-4\">\r\n+                    <code className=\"bg-secondary-background px-3 py-1.5 rounded text-sm font-mono flex items-center flex-1 overflow-x-auto\">\r\n+                      <span\r\n+                        className={`${methodColor} px-2 py-0.5 rounded-sm mr-2 text-xs font-bold`}\r\n+                      >\r\n+                        {endpoint.method}\r\n+                      </span>\r\n+                      <span className=\"whitespace-nowrap\">\r\n+                        {baseUrl}\r\n+                        {endpoint.path}\r\n+                      </span>\r\n+                    </code>\r\n+                    <Button\r\n+                      variant=\"outline\"\r\n+                      size=\"sm\"\r\n+                      className=\"h-8 bg-hover-active border-primary-cta/30\"\r\n+                      onClick={() =>\r\n+                        copyToClipboard(`${baseUrl}${endpoint.path}`)\r\n+                      }\r\n+                    >\r\n+                      <Copy className=\"h-3.5 w-3.5\" />\r\n+                    </Button>\r\n+                  </div>\r\n+                </>\r\n+              )}\r\n+            </div>\r\n+\r\n+            <Tabs defaultValue=\"request\" className=\"w-full\">\r\n+              <TabsList className=\"mb-4 bg-secondary-background\">\r\n+                <TabsTrigger\r\n+                  value=\"request\"\r\n+                  className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\r\n+                >\r\n+                  Request\r\n+                </TabsTrigger>\r\n+                <TabsTrigger\r\n+                  value=\"response\"\r\n+                  className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\r\n+                >\r\n+                  Response\r\n+                </TabsTrigger>\r\n+              </TabsList>\r\n+\r\n+              <TabsContent value=\"request\" className=\"mt-0\">\r\n+                <RequestSection\r\n+                  request={editedEndpoint.request}\r\n+                  path={editedEndpoint.path}\r\n+                  isEditing={isEditing}\r\n+                  onUpdateRequest={isEditing ? handleRequestUpdate : undefined}\r\n+                />\r\n+              </TabsContent>\r\n+\r\n+              <TabsContent value=\"response\" className=\"mt-0\">\r\n+                <ResponseSection\r\n+                  response={editedEndpoint.response}\r\n+                  isEditing={isEditing}\r\n+                  onUpdateResponse={\r\n+                    isEditing ? handleResponseUpdate : undefined\r\n+                  }\r\n+                />\r\n+              </TabsContent>\r\n+            </Tabs>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,350 +1,350 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import { Badge } from \"@/components/ui/badge\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import { Textarea } from \"@/components/ui/textarea\";\n",
        "-import { Checkbox } from \"@/components/ui/checkbox\";\n",
        "-import { Label } from \"@/components/ui/label\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n",
        "-import {\n",
        "-  ChevronDown,\n",
        "-  ChevronRight,\n",
        "-  Copy,\n",
        "-  Edit,\n",
        "-  Lock,\n",
        "-  Trash2,\n",
        "-} from \"lucide-react\";\n",
        "-\n",
        "-import { Endpoint, Request, Response } from \"../types\";\n",
        "-import { methodColors, availableMethods } from \"../constants\";\n",
        "-import { RequestSection } from \"./request-section\";\n",
        "-import { ResponseSection } from \"./response-section\";\n",
        "-\n",
        "-interface EndpointItemProps {\n",
        "-  endpoint: Endpoint;\n",
        "-  baseUrl: string;\n",
        "-  isEditing?: boolean;\n",
        "-  onUpdateEndpoint?: (updatedEndpoint: Endpoint) => void;\n",
        "-  onDeleteEndpoint?: () => void;\n",
        "-}\n",
        "-\n",
        "-export function EndpointItem({\n",
        "-  endpoint,\n",
        "-  baseUrl,\n",
        "-  isEditing = false,\n",
        "-  onUpdateEndpoint,\n",
        "-  onDeleteEndpoint,\n",
        "-}: EndpointItemProps) {\n",
        "-  const [isOpen, setIsOpen] = useState(false);\n",
        "-  const [editingMetadata, setEditingMetadata] = useState(false);\n",
        "-  const [editedEndpoint, setEditedEndpoint] = useState<Endpoint>({\n",
        "-    ...endpoint,\n",
        "-  });\n",
        "-\n",
        "-  const methodColor =\n",
        "-    methodColors[endpoint.method as keyof typeof methodColors] ||\n",
        "-    \"bg-gray-500 text-white\";\n",
        "-\n",
        "-  // Copy to clipboard function\n",
        "-  const copyToClipboard = (text: string) => {\n",
        "-    navigator.clipboard.writeText(text);\n",
        "-    // You could add a toast notification here\n",
        "-  };\n",
        "-\n",
        "-  // Update the edited endpoint whenever the original endpoint changes\n",
        "-  useEffect(() => {\n",
        "-    setEditedEndpoint({ ...endpoint });\n",
        "-  }, [endpoint]);\n",
        "-\n",
        "-  // Save endpoint metadata changes\n",
        "-  const saveMetadataChanges = () => {\n",
        "-    if (!onUpdateEndpoint) return;\n",
        "-    onUpdateEndpoint(editedEndpoint);\n",
        "-    setEditingMetadata(false);\n",
        "-  };\n",
        "-\n",
        "-  // Handle request updates\n",
        "-  const handleRequestUpdate = (updatedRequest: Request) => {\n",
        "-    if (!onUpdateEndpoint) return;\n",
        "-\n",
        "-    const updatedEndpoint = {\n",
        "-      ...editedEndpoint,\n",
        "-      request: updatedRequest,\n",
        "-    };\n",
        "-\n",
        "-    setEditedEndpoint(updatedEndpoint);\n",
        "-    onUpdateEndpoint(updatedEndpoint);\n",
        "-  };\n",
        "-\n",
        "-  // Handle response updates\n",
        "-  const handleResponseUpdate = (updatedResponse: Response) => {\n",
        "-    if (!onUpdateEndpoint) return;\n",
        "-\n",
        "-    const updatedEndpoint = {\n",
        "-      ...editedEndpoint,\n",
        "-      response: updatedResponse,\n",
        "-    };\n",
        "-\n",
        "-    setEditedEndpoint(updatedEndpoint);\n",
        "-    onUpdateEndpoint(updatedEndpoint);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"border-b border-divider last:border-b-0\">\n",
        "-      {/* Endpoint Header - Swagger Style */}\n",
        "-      <div\n",
        "-        className={`flex items-center w-full p-3 hover:bg-hover-active cursor-pointer ${\n",
        "-          isOpen ? \"bg-hover-active/50\" : \"\"\n",
        "-        }`}\n",
        "-        onClick={() => setIsOpen(!isOpen)}\n",
        "-      >\n",
        "-        <div className=\"flex items-center gap-3 flex-1\">\n",
        "-          <Badge\n",
        "-            className={`${methodColor} border-0 min-w-16 justify-center font-mono text-xs`}\n",
        "-          >\n",
        "-            {endpoint.method}\n",
        "-          </Badge>\n",
        "-          <div className=\"font-medium text-primary-text md:flex-1 break-all\">\n",
        "-            {endpoint.path}\n",
        "-          </div>\n",
        "-          {endpoint.authentication_required && (\n",
        "-            <Lock size={16} className=\"text-amber-400 flex-shrink-0 mr-2\" />\n",
        "-          )}\n",
        "-        </div>\n",
        "-        <div className=\"text-secondary-text hidden md:block truncate max-w-xs pr-4\">\n",
        "-          {endpoint.name}\n",
        "-        </div>\n",
        "-        {isEditing && (\n",
        "-          <div className=\"flex items-center gap-1 mr-2\">\n",
        "-            <Button\n",
        "-              variant=\"ghost\"\n",
        "-              size=\"sm\"\n",
        "-              className=\"h-7 w-7 p-0\"\n",
        "-              onClick={(e) => {\n",
        "-                e.stopPropagation();\n",
        "-                setIsOpen(true);\n",
        "-                setEditingMetadata(true);\n",
        "-              }}\n",
        "-            >\n",
        "-              <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\n",
        "-            </Button>\n",
        "-            {onDeleteEndpoint && (\n",
        "-              <Button\n",
        "-                variant=\"ghost\"\n",
        "-                size=\"sm\"\n",
        "-                className=\"h-7 w-7 p-0 hover:text-red-400\"\n",
        "-                onClick={(e) => {\n",
        "-                  e.stopPropagation();\n",
        "-                  onDeleteEndpoint();\n",
        "-                }}\n",
        "-              >\n",
        "-                <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\n",
        "-              </Button>\n",
        "-            )}\n",
        "-          </div>\n",
        "-        )}\n",
        "-        {isOpen ? <ChevronDown size={20} /> : <ChevronRight size={20} />}\n",
        "-      </div>\n",
        "-\n",
        "-      {/* Endpoint Content */}\n",
        "-      {isOpen && (\n",
        "-        <div className=\"px-4 py-4 border-t border-divider bg-primary-background\">\n",
        "-          <div className=\"grid gap-6\">\n",
        "-            {/* Endpoint Metadata */}\n",
        "-            <div>\n",
        "-              {editingMetadata ? (\n",
        "-                <div className=\"mb-4 space-y-4\">\n",
        "-                  <div className=\"grid grid-cols-2 gap-4\">\n",
        "-                    <div className=\"space-y-2\">\n",
        "-                      <Label htmlFor=\"edit-endpoint-name\">Name</Label>\n",
        "-                      <Input\n",
        "-                        id=\"edit-endpoint-name\"\n",
        "-                        value={editedEndpoint.name}\n",
        "-                        onChange={(e) =>\n",
        "-                          setEditedEndpoint({\n",
        "-                            ...editedEndpoint,\n",
        "-                            name: e.target.value,\n",
        "-                          })\n",
        "-                        }\n",
        "-                        className=\"bg-secondary-background\"\n",
        "-                      />\n",
        "-                    </div>\n",
        "-                    <div className=\"space-y-2\">\n",
        "-                      <Label htmlFor=\"edit-endpoint-method\">Method</Label>\n",
        "-                      <Select\n",
        "-                        value={editedEndpoint.method}\n",
        "-                        onValueChange={(value) =>\n",
        "-                          setEditedEndpoint({\n",
        "-                            ...editedEndpoint,\n",
        "-                            method: value,\n",
        "-                          })\n",
        "-                        }\n",
        "-                      >\n",
        "-                        <SelectTrigger\n",
        "-                          id=\"edit-endpoint-method\"\n",
        "-                          className=\"bg-secondary-background\"\n",
        "-                        >\n",
        "-                          <SelectValue placeholder=\"Select method\" />\n",
        "-                        </SelectTrigger>\n",
        "-                        <SelectContent>\n",
        "-                          {availableMethods.map((method) => (\n",
        "-                            <SelectItem key={method} value={method}>\n",
        "-                              {method}\n",
        "-                            </SelectItem>\n",
        "-                          ))}\n",
        "-                        </SelectContent>\n",
        "-                      </Select>\n",
        "-                    </div>\n",
        "-                  </div>\n",
        "-\n",
        "-                  <div className=\"space-y-2\">\n",
        "-                    <Label htmlFor=\"edit-endpoint-path\">Path</Label>\n",
        "-                    <Input\n",
        "-                      id=\"edit-endpoint-path\"\n",
        "-                      value={editedEndpoint.path}\n",
        "-                      onChange={(e) =>\n",
        "-                        setEditedEndpoint({\n",
        "-                          ...editedEndpoint,\n",
        "-                          path: e.target.value,\n",
        "-                        })\n",
        "-                      }\n",
        "-                      className=\"bg-secondary-background\"\n",
        "-                    />\n",
        "-                  </div>\n",
        "-\n",
        "-                  <div className=\"space-y-2\">\n",
        "-                    <Label htmlFor=\"edit-endpoint-description\">\n",
        "-                      Description\n",
        "-                    </Label>\n",
        "-                    <Textarea\n",
        "-                      id=\"edit-endpoint-description\"\n",
        "-                      value={editedEndpoint.description}\n",
        "-                      onChange={(e) =>\n",
        "-                        setEditedEndpoint({\n",
        "-                          ...editedEndpoint,\n",
        "-                          description: e.target.value,\n",
        "-                        })\n",
        "-                      }\n",
        "-                      className=\"bg-secondary-background\"\n",
        "-                      rows={3}\n",
        "-                    />\n",
        "-                  </div>\n",
        "-\n",
        "-                  <div className=\"flex items-center gap-2\">\n",
        "-                    <Checkbox\n",
        "-                      id=\"edit-endpoint-auth\"\n",
        "-                      checked={editedEndpoint.authentication_required}\n",
        "-                      onCheckedChange={(checked) =>\n",
        "-                        setEditedEndpoint({\n",
        "-                          ...editedEndpoint,\n",
        "-                          authentication_required: checked === true,\n",
        "-                        })\n",
        "-                      }\n",
        "-                    />\n",
        "-                    <Label htmlFor=\"edit-endpoint-auth\">\n",
        "-                      Requires Authentication\n",
        "-                    </Label>\n",
        "-                  </div>\n",
        "-\n",
        "-                  <div className=\"flex justify-end gap-2\">\n",
        "-                    <Button\n",
        "-                      variant=\"outline\"\n",
        "-                      size=\"sm\"\n",
        "-                      onClick={() => {\n",
        "-                        setEditedEndpoint({ ...endpoint });\n",
        "-                        setEditingMetadata(false);\n",
        "-                      }}\n",
        "-                    >\n",
        "-                      Cancel\n",
        "-                    </Button>\n",
        "-                    <Button size=\"sm\" onClick={saveMetadataChanges}>\n",
        "-                      Save\n",
        "-                    </Button>\n",
        "-                  </div>\n",
        "-                </div>\n",
        "-              ) : (\n",
        "-                <>\n",
        "-                  <h3 className=\"text-lg font-semibold mb-2\">\n",
        "-                    {endpoint.name}\n",
        "-                  </h3>\n",
        "-                  <p className=\"text-secondary-text mb-4\">\n",
        "-                    {endpoint.description}\n",
        "-                  </p>\n",
        "-\n",
        "-                  <div className=\"flex items-center gap-2 mb-4\">\n",
        "-                    <code className=\"bg-secondary-background px-3 py-1.5 rounded text-sm font-mono flex items-center flex-1 overflow-x-auto\">\n",
        "-                      <span\n",
        "-                        className={`${methodColor} px-2 py-0.5 rounded-sm mr-2 text-xs font-bold`}\n",
        "-                      >\n",
        "-                        {endpoint.method}\n",
        "-                      </span>\n",
        "-                      <span className=\"whitespace-nowrap\">\n",
        "-                        {baseUrl}\n",
        "-                        {endpoint.path}\n",
        "-                      </span>\n",
        "-                    </code>\n",
        "-                    <Button\n",
        "-                      variant=\"outline\"\n",
        "-                      size=\"sm\"\n",
        "-                      className=\"h-8 bg-hover-active border-primary-cta/30\"\n",
        "-                      onClick={() =>\n",
        "-                        copyToClipboard(`${baseUrl}${endpoint.path}`)\n",
        "-                      }\n",
        "-                    >\n",
        "-                      <Copy className=\"h-3.5 w-3.5\" />\n",
        "-                    </Button>\n",
        "-                  </div>\n",
        "-                </>\n",
        "-              )}\n",
        "-            </div>\n",
        "-\n",
        "-            <Tabs defaultValue=\"request\" className=\"w-full\">\n",
        "-              <TabsList className=\"mb-4 bg-secondary-background\">\n",
        "-                <TabsTrigger\n",
        "-                  value=\"request\"\n",
        "-                  className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\n",
        "-                >\n",
        "-                  Request\n",
        "-                </TabsTrigger>\n",
        "-                <TabsTrigger\n",
        "-                  value=\"response\"\n",
        "-                  className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\n",
        "-                >\n",
        "-                  Response\n",
        "-                </TabsTrigger>\n",
        "-              </TabsList>\n",
        "-\n",
        "-              <TabsContent value=\"request\" className=\"mt-0\">\n",
        "-                <RequestSection\n",
        "-                  request={editedEndpoint.request}\n",
        "-                  path={editedEndpoint.path}\n",
        "-                  isEditing={isEditing}\n",
        "-                  onUpdateRequest={isEditing ? handleRequestUpdate : undefined}\n",
        "-                />\n",
        "-              </TabsContent>\n",
        "-\n",
        "-              <TabsContent value=\"response\" className=\"mt-0\">\n",
        "-                <ResponseSection\n",
        "-                  response={editedEndpoint.response}\n",
        "-                  isEditing={isEditing}\n",
        "-                  onUpdateResponse={\n",
        "-                    isEditing ? handleResponseUpdate : undefined\n",
        "-                  }\n",
        "-                />\n",
        "-              </TabsContent>\n",
        "-            </Tabs>\n",
        "-          </div>\n",
        "-        </div>\n",
        "-      )}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import { Badge } from \"@/components/ui/badge\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import { Textarea } from \"@/components/ui/textarea\";\r\n",
        "+import { Checkbox } from \"@/components/ui/checkbox\";\r\n",
        "+import { Label } from \"@/components/ui/label\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\n",
        "+import {\r\n",
        "+  ChevronDown,\r\n",
        "+  ChevronRight,\r\n",
        "+  Copy,\r\n",
        "+  Edit,\r\n",
        "+  Lock,\r\n",
        "+  Trash2,\r\n",
        "+} from \"lucide-react\";\r\n",
        "+\r\n",
        "+import { Endpoint, Request, Response } from \"../types\";\r\n",
        "+import { methodColors, availableMethods } from \"../constants\";\r\n",
        "+import { RequestSection } from \"./request-section\";\r\n",
        "+import { ResponseSection } from \"./response-section\";\r\n",
        "+\r\n",
        "+interface EndpointItemProps {\r\n",
        "+  endpoint: Endpoint;\r\n",
        "+  baseUrl: string;\r\n",
        "+  isEditing?: boolean;\r\n",
        "+  onUpdateEndpoint?: (updatedEndpoint: Endpoint) => void;\r\n",
        "+  onDeleteEndpoint?: () => void;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function EndpointItem({\r\n",
        "+  endpoint,\r\n",
        "+  baseUrl,\r\n",
        "+  isEditing = false,\r\n",
        "+  onUpdateEndpoint,\r\n",
        "+  onDeleteEndpoint,\r\n",
        "+}: EndpointItemProps) {\r\n",
        "+  const [isOpen, setIsOpen] = useState(false);\r\n",
        "+  const [editingMetadata, setEditingMetadata] = useState(false);\r\n",
        "+  const [editedEndpoint, setEditedEndpoint] = useState<Endpoint>({\r\n",
        "+    ...endpoint,\r\n",
        "+  });\r\n",
        "+\r\n",
        "+  const methodColor =\r\n",
        "+    methodColors[endpoint.method as keyof typeof methodColors] ||\r\n",
        "+    \"bg-gray-500 text-white\";\r\n",
        "+\r\n",
        "+  // Copy to clipboard function\r\n",
        "+  const copyToClipboard = (text: string) => {\r\n",
        "+    navigator.clipboard.writeText(text);\r\n",
        "+    // You could add a toast notification here\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Update the edited endpoint whenever the original endpoint changes\r\n",
        "+  useEffect(() => {\r\n",
        "+    setEditedEndpoint({ ...endpoint });\r\n",
        "+  }, [endpoint]);\r\n",
        "+\r\n",
        "+  // Save endpoint metadata changes\r\n",
        "+  const saveMetadataChanges = () => {\r\n",
        "+    if (!onUpdateEndpoint) return;\r\n",
        "+    onUpdateEndpoint(editedEndpoint);\r\n",
        "+    setEditingMetadata(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle request updates\r\n",
        "+  const handleRequestUpdate = (updatedRequest: Request) => {\r\n",
        "+    if (!onUpdateEndpoint) return;\r\n",
        "+\r\n",
        "+    const updatedEndpoint = {\r\n",
        "+      ...editedEndpoint,\r\n",
        "+      request: updatedRequest,\r\n",
        "+    };\r\n",
        "+\r\n",
        "+    setEditedEndpoint(updatedEndpoint);\r\n",
        "+    onUpdateEndpoint(updatedEndpoint);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle response updates\r\n",
        "+  const handleResponseUpdate = (updatedResponse: Response) => {\r\n",
        "+    if (!onUpdateEndpoint) return;\r\n",
        "+\r\n",
        "+    const updatedEndpoint = {\r\n",
        "+      ...editedEndpoint,\r\n",
        "+      response: updatedResponse,\r\n",
        "+    };\r\n",
        "+\r\n",
        "+    setEditedEndpoint(updatedEndpoint);\r\n",
        "+    onUpdateEndpoint(updatedEndpoint);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"border-b border-divider last:border-b-0\">\r\n",
        "+      {/* Endpoint Header - Swagger Style */}\r\n",
        "+      <div\r\n",
        "+        className={`flex items-center w-full p-3 hover:bg-hover-active cursor-pointer ${\r\n",
        "+          isOpen ? \"bg-hover-active/50\" : \"\"\r\n",
        "+        }`}\r\n",
        "+        onClick={() => setIsOpen(!isOpen)}\r\n",
        "+      >\r\n",
        "+        <div className=\"flex items-center gap-3 flex-1\">\r\n",
        "+          <Badge\r\n",
        "+            className={`${methodColor} border-0 min-w-16 justify-center font-mono text-xs`}\r\n",
        "+          >\r\n",
        "+            {endpoint.method}\r\n",
        "+          </Badge>\r\n",
        "+          <div className=\"font-medium text-primary-text md:flex-1 break-all\">\r\n",
        "+            {endpoint.path}\r\n",
        "+          </div>\r\n",
        "+          {endpoint.authentication_required && (\r\n",
        "+            <Lock size={16} className=\"text-amber-400 flex-shrink-0 mr-2\" />\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+        <div className=\"text-secondary-text hidden md:block truncate max-w-xs pr-4\">\r\n",
        "+          {endpoint.name}\r\n",
        "+        </div>\r\n",
        "+        {isEditing && (\r\n",
        "+          <div className=\"flex items-center gap-1 mr-2\">\r\n",
        "+            <Button\r\n",
        "+              variant=\"ghost\"\r\n",
        "+              size=\"sm\"\r\n",
        "+              className=\"h-7 w-7 p-0\"\r\n",
        "+              onClick={(e) => {\r\n",
        "+                e.stopPropagation();\r\n",
        "+                setIsOpen(true);\r\n",
        "+                setEditingMetadata(true);\r\n",
        "+              }}\r\n",
        "+            >\r\n",
        "+              <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n",
        "+            </Button>\r\n",
        "+            {onDeleteEndpoint && (\r\n",
        "+              <Button\r\n",
        "+                variant=\"ghost\"\r\n",
        "+                size=\"sm\"\r\n",
        "+                className=\"h-7 w-7 p-0 hover:text-red-400\"\r\n",
        "+                onClick={(e) => {\r\n",
        "+                  e.stopPropagation();\r\n",
        "+                  onDeleteEndpoint();\r\n",
        "+                }}\r\n",
        "+              >\r\n",
        "+                <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n",
        "+              </Button>\r\n",
        "+            )}\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+        {isOpen ? <ChevronDown size={20} /> : <ChevronRight size={20} />}\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      {/* Endpoint Content */}\r\n",
        "+      {isOpen && (\r\n",
        "+        <div className=\"px-4 py-4 border-t border-divider bg-primary-background\">\r\n",
        "+          <div className=\"grid gap-6\">\r\n",
        "+            {/* Endpoint Metadata */}\r\n",
        "+            <div>\r\n",
        "+              {editingMetadata ? (\r\n",
        "+                <div className=\"mb-4 space-y-4\">\r\n",
        "+                  <div className=\"grid grid-cols-2 gap-4\">\r\n",
        "+                    <div className=\"space-y-2\">\r\n",
        "+                      <Label htmlFor=\"edit-endpoint-name\">Name</Label>\r\n",
        "+                      <Input\r\n",
        "+                        id=\"edit-endpoint-name\"\r\n",
        "+                        value={editedEndpoint.name}\r\n",
        "+                        onChange={(e) =>\r\n",
        "+                          setEditedEndpoint({\r\n",
        "+                            ...editedEndpoint,\r\n",
        "+                            name: e.target.value,\r\n",
        "+                          })\r\n",
        "+                        }\r\n",
        "+                        className=\"bg-secondary-background\"\r\n",
        "+                      />\r\n",
        "+                    </div>\r\n",
        "+                    <div className=\"space-y-2\">\r\n",
        "+                      <Label htmlFor=\"edit-endpoint-method\">Method</Label>\r\n",
        "+                      <Select\r\n",
        "+                        value={editedEndpoint.method}\r\n",
        "+                        onValueChange={(value) =>\r\n",
        "+                          setEditedEndpoint({\r\n",
        "+                            ...editedEndpoint,\r\n",
        "+                            method: value,\r\n",
        "+                          })\r\n",
        "+                        }\r\n",
        "+                      >\r\n",
        "+                        <SelectTrigger\r\n",
        "+                          id=\"edit-endpoint-method\"\r\n",
        "+                          className=\"bg-secondary-background\"\r\n",
        "+                        >\r\n",
        "+                          <SelectValue placeholder=\"Select method\" />\r\n",
        "+                        </SelectTrigger>\r\n",
        "+                        <SelectContent>\r\n",
        "+                          {availableMethods.map((method) => (\r\n",
        "+                            <SelectItem key={method} value={method}>\r\n",
        "+                              {method}\r\n",
        "+                            </SelectItem>\r\n",
        "+                          ))}\r\n",
        "+                        </SelectContent>\r\n",
        "+                      </Select>\r\n",
        "+                    </div>\r\n",
        "+                  </div>\r\n",
        "+\r\n",
        "+                  <div className=\"space-y-2\">\r\n",
        "+                    <Label htmlFor=\"edit-endpoint-path\">Path</Label>\r\n",
        "+                    <Input\r\n",
        "+                      id=\"edit-endpoint-path\"\r\n",
        "+                      value={editedEndpoint.path}\r\n",
        "+                      onChange={(e) =>\r\n",
        "+                        setEditedEndpoint({\r\n",
        "+                          ...editedEndpoint,\r\n",
        "+                          path: e.target.value,\r\n",
        "+                        })\r\n",
        "+                      }\r\n",
        "+                      className=\"bg-secondary-background\"\r\n",
        "+                    />\r\n",
        "+                  </div>\r\n",
        "+\r\n",
        "+                  <div className=\"space-y-2\">\r\n",
        "+                    <Label htmlFor=\"edit-endpoint-description\">\r\n",
        "+                      Description\r\n",
        "+                    </Label>\r\n",
        "+                    <Textarea\r\n",
        "+                      id=\"edit-endpoint-description\"\r\n",
        "+                      value={editedEndpoint.description}\r\n",
        "+                      onChange={(e) =>\r\n",
        "+                        setEditedEndpoint({\r\n",
        "+                          ...editedEndpoint,\r\n",
        "+                          description: e.target.value,\r\n",
        "+                        })\r\n",
        "+                      }\r\n",
        "+                      className=\"bg-secondary-background\"\r\n",
        "+                      rows={3}\r\n",
        "+                    />\r\n",
        "+                  </div>\r\n",
        "+\r\n",
        "+                  <div className=\"flex items-center gap-2\">\r\n",
        "+                    <Checkbox\r\n",
        "+                      id=\"edit-endpoint-auth\"\r\n",
        "+                      checked={editedEndpoint.authentication_required}\r\n",
        "+                      onCheckedChange={(checked) =>\r\n",
        "+                        setEditedEndpoint({\r\n",
        "+                          ...editedEndpoint,\r\n",
        "+                          authentication_required: checked === true,\r\n",
        "+                        })\r\n",
        "+                      }\r\n",
        "+                    />\r\n",
        "+                    <Label htmlFor=\"edit-endpoint-auth\">\r\n",
        "+                      Requires Authentication\r\n",
        "+                    </Label>\r\n",
        "+                  </div>\r\n",
        "+\r\n",
        "+                  <div className=\"flex justify-end gap-2\">\r\n",
        "+                    <Button\r\n",
        "+                      variant=\"outline\"\r\n",
        "+                      size=\"sm\"\r\n",
        "+                      onClick={() => {\r\n",
        "+                        setEditedEndpoint({ ...endpoint });\r\n",
        "+                        setEditingMetadata(false);\r\n",
        "+                      }}\r\n",
        "+                    >\r\n",
        "+                      Cancel\r\n",
        "+                    </Button>\r\n",
        "+                    <Button size=\"sm\" onClick={saveMetadataChanges}>\r\n",
        "+                      Save\r\n",
        "+                    </Button>\r\n",
        "+                  </div>\r\n",
        "+                </div>\r\n",
        "+              ) : (\r\n",
        "+                <>\r\n",
        "+                  <h3 className=\"text-lg font-semibold mb-2\">\r\n",
        "+                    {endpoint.name}\r\n",
        "+                  </h3>\r\n",
        "+                  <p className=\"text-secondary-text mb-4\">\r\n",
        "+                    {endpoint.description}\r\n",
        "+                  </p>\r\n",
        "+\r\n",
        "+                  <div className=\"flex items-center gap-2 mb-4\">\r\n",
        "+                    <code className=\"bg-secondary-background px-3 py-1.5 rounded text-sm font-mono flex items-center flex-1 overflow-x-auto\">\r\n",
        "+                      <span\r\n",
        "+                        className={`${methodColor} px-2 py-0.5 rounded-sm mr-2 text-xs font-bold`}\r\n",
        "+                      >\r\n",
        "+                        {endpoint.method}\r\n",
        "+                      </span>\r\n",
        "+                      <span className=\"whitespace-nowrap\">\r\n",
        "+                        {baseUrl}\r\n",
        "+                        {endpoint.path}\r\n",
        "+                      </span>\r\n",
        "+                    </code>\r\n",
        "+                    <Button\r\n",
        "+                      variant=\"outline\"\r\n",
        "+                      size=\"sm\"\r\n",
        "+                      className=\"h-8 bg-hover-active border-primary-cta/30\"\r\n",
        "+                      onClick={() =>\r\n",
        "+                        copyToClipboard(`${baseUrl}${endpoint.path}`)\r\n",
        "+                      }\r\n",
        "+                    >\r\n",
        "+                      <Copy className=\"h-3.5 w-3.5\" />\r\n",
        "+                    </Button>\r\n",
        "+                  </div>\r\n",
        "+                </>\r\n",
        "+              )}\r\n",
        "+            </div>\r\n",
        "+\r\n",
        "+            <Tabs defaultValue=\"request\" className=\"w-full\">\r\n",
        "+              <TabsList className=\"mb-4 bg-secondary-background\">\r\n",
        "+                <TabsTrigger\r\n",
        "+                  value=\"request\"\r\n",
        "+                  className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\r\n",
        "+                >\r\n",
        "+                  Request\r\n",
        "+                </TabsTrigger>\r\n",
        "+                <TabsTrigger\r\n",
        "+                  value=\"response\"\r\n",
        "+                  className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\r\n",
        "+                >\r\n",
        "+                  Response\r\n",
        "+                </TabsTrigger>\r\n",
        "+              </TabsList>\r\n",
        "+\r\n",
        "+              <TabsContent value=\"request\" className=\"mt-0\">\r\n",
        "+                <RequestSection\r\n",
        "+                  request={editedEndpoint.request}\r\n",
        "+                  path={editedEndpoint.path}\r\n",
        "+                  isEditing={isEditing}\r\n",
        "+                  onUpdateRequest={isEditing ? handleRequestUpdate : undefined}\r\n",
        "+                />\r\n",
        "+              </TabsContent>\r\n",
        "+\r\n",
        "+              <TabsContent value=\"response\" className=\"mt-0\">\r\n",
        "+                <ResponseSection\r\n",
        "+                  response={editedEndpoint.response}\r\n",
        "+                  isEditing={isEditing}\r\n",
        "+                  onUpdateResponse={\r\n",
        "+                    isEditing ? handleResponseUpdate : undefined\r\n",
        "+                  }\r\n",
        "+                />\r\n",
        "+              </TabsContent>\r\n",
        "+            </Tabs>\r\n",
        "+          </div>\r\n",
        "+        </div>\r\n",
        "+      )}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/components/expandable-text.tsx",
      "status": "modified",
      "additions": 31,
      "deletions": 31,
      "patch": "@@ -1,31 +1,31 @@\n-\"use client\";\n-\n-import { useState } from \"react\";\n-import { Button } from \"@/components/ui/button\";\n-\n-interface ExpandableTextProps {\n-  text: string;\n-  maxLength?: number;\n-}\n-\n-export function ExpandableText({ text, maxLength = 80 }: ExpandableTextProps) {\n-  const [expanded, setExpanded] = useState(false);\n-\n-  if (!text || text.length <= maxLength) {\n-    return <span>{text}</span>;\n-  }\n-\n-  return (\n-    <span>\n-      {expanded ? text : text.slice(0, maxLength)}\n-      <Button\n-        variant=\"link\"\n-        size=\"sm\"\n-        className=\"px-1 h-auto text-primary-cta\"\n-        onClick={() => setExpanded(!expanded)}\n-      >\n-        {expanded ? \"...less\" : \"...more\"}\n-      </Button>\n-    </span>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+\r\n+interface ExpandableTextProps {\r\n+  text: string;\r\n+  maxLength?: number;\r\n+}\r\n+\r\n+export function ExpandableText({ text, maxLength = 80 }: ExpandableTextProps) {\r\n+  const [expanded, setExpanded] = useState(false);\r\n+\r\n+  if (!text || text.length <= maxLength) {\r\n+    return <span>{text}</span>;\r\n+  }\r\n+\r\n+  return (\r\n+    <span>\r\n+      {expanded ? text : text.slice(0, maxLength)}\r\n+      <Button\r\n+        variant=\"link\"\r\n+        size=\"sm\"\r\n+        className=\"px-1 h-auto text-primary-cta\"\r\n+        onClick={() => setExpanded(!expanded)}\r\n+      >\r\n+        {expanded ? \"...less\" : \"...more\"}\r\n+      </Button>\r\n+    </span>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,31 +1,31 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState } from \"react\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-\n",
        "-interface ExpandableTextProps {\n",
        "-  text: string;\n",
        "-  maxLength?: number;\n",
        "-}\n",
        "-\n",
        "-export function ExpandableText({ text, maxLength = 80 }: ExpandableTextProps) {\n",
        "-  const [expanded, setExpanded] = useState(false);\n",
        "-\n",
        "-  if (!text || text.length <= maxLength) {\n",
        "-    return <span>{text}</span>;\n",
        "-  }\n",
        "-\n",
        "-  return (\n",
        "-    <span>\n",
        "-      {expanded ? text : text.slice(0, maxLength)}\n",
        "-      <Button\n",
        "-        variant=\"link\"\n",
        "-        size=\"sm\"\n",
        "-        className=\"px-1 h-auto text-primary-cta\"\n",
        "-        onClick={() => setExpanded(!expanded)}\n",
        "-      >\n",
        "-        {expanded ? \"...less\" : \"...more\"}\n",
        "-      </Button>\n",
        "-    </span>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+\r\n",
        "+interface ExpandableTextProps {\r\n",
        "+  text: string;\r\n",
        "+  maxLength?: number;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function ExpandableText({ text, maxLength = 80 }: ExpandableTextProps) {\r\n",
        "+  const [expanded, setExpanded] = useState(false);\r\n",
        "+\r\n",
        "+  if (!text || text.length <= maxLength) {\r\n",
        "+    return <span>{text}</span>;\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <span>\r\n",
        "+      {expanded ? text : text.slice(0, maxLength)}\r\n",
        "+      <Button\r\n",
        "+        variant=\"link\"\r\n",
        "+        size=\"sm\"\r\n",
        "+        className=\"px-1 h-auto text-primary-cta\"\r\n",
        "+        onClick={() => setExpanded(!expanded)}\r\n",
        "+      >\r\n",
        "+        {expanded ? \"...less\" : \"...more\"}\r\n",
        "+      </Button>\r\n",
        "+    </span>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/components/json-display.tsx",
      "status": "modified",
      "additions": 104,
      "deletions": 104,
      "patch": "@@ -1,104 +1,104 @@\n-\"use client\";\n-\n-import { useState } from \"react\";\n-import { Button } from \"@/components/ui/button\";\n-import { Textarea } from \"@/components/ui/textarea\";\n-import { Edit } from \"lucide-react\";\n-\n-interface JsonDisplayProps {\n-  data: any;\n-  maxHeight?: string;\n-  editable?: boolean;\n-  onEdit?: (newData: any) => void;\n-}\n-\n-export function JsonDisplay({\n-  data,\n-  maxHeight,\n-  editable = false,\n-  onEdit,\n-}: JsonDisplayProps) {\n-  const [editing, setEditing] = useState(false);\n-  const [jsonStr, setJsonStr] = useState(JSON.stringify(data, null, 2));\n-  const [error, setError] = useState(\"\");\n-\n-  // Save JSON changes\n-  const saveChanges = () => {\n-    try {\n-      const parsed = JSON.parse(jsonStr);\n-      setError(\"\");\n-      onEdit && onEdit(parsed);\n-      setEditing(false);\n-    } catch (err) {\n-      setError(\"Invalid JSON format\");\n-    }\n-  };\n-\n-  if (!editable) {\n-    return (\n-      <div\n-        className={`bg-primary-background rounded-md overflow-auto ${\n-          maxHeight ? `max-h-${maxHeight}` : \"\"\n-        }`}\n-      >\n-        <pre className=\"p-4 text-sm whitespace-pre-wrap\">\n-          <code className=\"text-primary-text\">\n-            {JSON.stringify(data, null, 2)}\n-          </code>\n-        </pre>\n-      </div>\n-    );\n-  }\n-\n-  return (\n-    <div\n-      className={`bg-primary-background rounded-md overflow-auto ${\n-        maxHeight ? `max-h-${maxHeight}` : \"\"\n-      }`}\n-    >\n-      {editing ? (\n-        <div className=\"p-4\">\n-          <Textarea\n-            value={jsonStr}\n-            onChange={(e) => setJsonStr(e.target.value)}\n-            rows={10}\n-            className=\"font-mono text-sm bg-hover-active/20 resize-none mb-2\"\n-          />\n-          {error && <p className=\"text-red-500 text-xs mb-2\">{error}</p>}\n-          <div className=\"flex justify-end gap-2\">\n-            <Button\n-              variant=\"outline\"\n-              size=\"sm\"\n-              onClick={() => {\n-                setJsonStr(JSON.stringify(data, null, 2));\n-                setEditing(false);\n-                setError(\"\");\n-              }}\n-            >\n-              Cancel\n-            </Button>\n-            <Button size=\"sm\" onClick={saveChanges}>\n-              Save\n-            </Button>\n-          </div>\n-        </div>\n-      ) : (\n-        <div className=\"relative\">\n-          <pre className=\"p-4 text-sm whitespace-pre-wrap\">\n-            <code className=\"text-primary-text\">\n-              {JSON.stringify(data, null, 2)}\n-            </code>\n-          </pre>\n-          <Button\n-            variant=\"ghost\"\n-            size=\"sm\"\n-            className=\"absolute top-2 right-2 p-1 h-8 w-8\"\n-            onClick={() => setEditing(true)}\n-          >\n-            <Edit className=\"h-4 w-4\" />\n-          </Button>\n-        </div>\n-      )}\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Textarea } from \"@/components/ui/textarea\";\r\n+import { Edit } from \"lucide-react\";\r\n+\r\n+interface JsonDisplayProps {\r\n+  data: any;\r\n+  maxHeight?: string;\r\n+  editable?: boolean;\r\n+  onEdit?: (newData: any) => void;\r\n+}\r\n+\r\n+export function JsonDisplay({\r\n+  data,\r\n+  maxHeight,\r\n+  editable = false,\r\n+  onEdit,\r\n+}: JsonDisplayProps) {\r\n+  const [editing, setEditing] = useState(false);\r\n+  const [jsonStr, setJsonStr] = useState(JSON.stringify(data, null, 2));\r\n+  const [error, setError] = useState(\"\");\r\n+\r\n+  // Save JSON changes\r\n+  const saveChanges = () => {\r\n+    try {\r\n+      const parsed = JSON.parse(jsonStr);\r\n+      setError(\"\");\r\n+      onEdit && onEdit(parsed);\r\n+      setEditing(false);\r\n+    } catch (err) {\r\n+      setError(\"Invalid JSON format\");\r\n+    }\r\n+  };\r\n+\r\n+  if (!editable) {\r\n+    return (\r\n+      <div\r\n+        className={`bg-primary-background rounded-md overflow-auto ${\r\n+          maxHeight ? `max-h-${maxHeight}` : \"\"\r\n+        }`}\r\n+      >\r\n+        <pre className=\"p-4 text-sm whitespace-pre-wrap\">\r\n+          <code className=\"text-primary-text\">\r\n+            {JSON.stringify(data, null, 2)}\r\n+          </code>\r\n+        </pre>\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n+  return (\r\n+    <div\r\n+      className={`bg-primary-background rounded-md overflow-auto ${\r\n+        maxHeight ? `max-h-${maxHeight}` : \"\"\r\n+      }`}\r\n+    >\r\n+      {editing ? (\r\n+        <div className=\"p-4\">\r\n+          <Textarea\r\n+            value={jsonStr}\r\n+            onChange={(e) => setJsonStr(e.target.value)}\r\n+            rows={10}\r\n+            className=\"font-mono text-sm bg-hover-active/20 resize-none mb-2\"\r\n+          />\r\n+          {error && <p className=\"text-red-500 text-xs mb-2\">{error}</p>}\r\n+          <div className=\"flex justify-end gap-2\">\r\n+            <Button\r\n+              variant=\"outline\"\r\n+              size=\"sm\"\r\n+              onClick={() => {\r\n+                setJsonStr(JSON.stringify(data, null, 2));\r\n+                setEditing(false);\r\n+                setError(\"\");\r\n+              }}\r\n+            >\r\n+              Cancel\r\n+            </Button>\r\n+            <Button size=\"sm\" onClick={saveChanges}>\r\n+              Save\r\n+            </Button>\r\n+          </div>\r\n+        </div>\r\n+      ) : (\r\n+        <div className=\"relative\">\r\n+          <pre className=\"p-4 text-sm whitespace-pre-wrap\">\r\n+            <code className=\"text-primary-text\">\r\n+              {JSON.stringify(data, null, 2)}\r\n+            </code>\r\n+          </pre>\r\n+          <Button\r\n+            variant=\"ghost\"\r\n+            size=\"sm\"\r\n+            className=\"absolute top-2 right-2 p-1 h-8 w-8\"\r\n+            onClick={() => setEditing(true)}\r\n+          >\r\n+            <Edit className=\"h-4 w-4\" />\r\n+          </Button>\r\n+        </div>\r\n+      )}\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,104 +1,104 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState } from \"react\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Textarea } from \"@/components/ui/textarea\";\n",
        "-import { Edit } from \"lucide-react\";\n",
        "-\n",
        "-interface JsonDisplayProps {\n",
        "-  data: any;\n",
        "-  maxHeight?: string;\n",
        "-  editable?: boolean;\n",
        "-  onEdit?: (newData: any) => void;\n",
        "-}\n",
        "-\n",
        "-export function JsonDisplay({\n",
        "-  data,\n",
        "-  maxHeight,\n",
        "-  editable = false,\n",
        "-  onEdit,\n",
        "-}: JsonDisplayProps) {\n",
        "-  const [editing, setEditing] = useState(false);\n",
        "-  const [jsonStr, setJsonStr] = useState(JSON.stringify(data, null, 2));\n",
        "-  const [error, setError] = useState(\"\");\n",
        "-\n",
        "-  // Save JSON changes\n",
        "-  const saveChanges = () => {\n",
        "-    try {\n",
        "-      const parsed = JSON.parse(jsonStr);\n",
        "-      setError(\"\");\n",
        "-      onEdit && onEdit(parsed);\n",
        "-      setEditing(false);\n",
        "-    } catch (err) {\n",
        "-      setError(\"Invalid JSON format\");\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  if (!editable) {\n",
        "-    return (\n",
        "-      <div\n",
        "-        className={`bg-primary-background rounded-md overflow-auto ${\n",
        "-          maxHeight ? `max-h-${maxHeight}` : \"\"\n",
        "-        }`}\n",
        "-      >\n",
        "-        <pre className=\"p-4 text-sm whitespace-pre-wrap\">\n",
        "-          <code className=\"text-primary-text\">\n",
        "-            {JSON.stringify(data, null, 2)}\n",
        "-          </code>\n",
        "-        </pre>\n",
        "-      </div>\n",
        "-    );\n",
        "-  }\n",
        "-\n",
        "-  return (\n",
        "-    <div\n",
        "-      className={`bg-primary-background rounded-md overflow-auto ${\n",
        "-        maxHeight ? `max-h-${maxHeight}` : \"\"\n",
        "-      }`}\n",
        "-    >\n",
        "-      {editing ? (\n",
        "-        <div className=\"p-4\">\n",
        "-          <Textarea\n",
        "-            value={jsonStr}\n",
        "-            onChange={(e) => setJsonStr(e.target.value)}\n",
        "-            rows={10}\n",
        "-            className=\"font-mono text-sm bg-hover-active/20 resize-none mb-2\"\n",
        "-          />\n",
        "-          {error && <p className=\"text-red-500 text-xs mb-2\">{error}</p>}\n",
        "-          <div className=\"flex justify-end gap-2\">\n",
        "-            <Button\n",
        "-              variant=\"outline\"\n",
        "-              size=\"sm\"\n",
        "-              onClick={() => {\n",
        "-                setJsonStr(JSON.stringify(data, null, 2));\n",
        "-                setEditing(false);\n",
        "-                setError(\"\");\n",
        "-              }}\n",
        "-            >\n",
        "-              Cancel\n",
        "-            </Button>\n",
        "-            <Button size=\"sm\" onClick={saveChanges}>\n",
        "-              Save\n",
        "-            </Button>\n",
        "-          </div>\n",
        "-        </div>\n",
        "-      ) : (\n",
        "-        <div className=\"relative\">\n",
        "-          <pre className=\"p-4 text-sm whitespace-pre-wrap\">\n",
        "-            <code className=\"text-primary-text\">\n",
        "-              {JSON.stringify(data, null, 2)}\n",
        "-            </code>\n",
        "-          </pre>\n",
        "-          <Button\n",
        "-            variant=\"ghost\"\n",
        "-            size=\"sm\"\n",
        "-            className=\"absolute top-2 right-2 p-1 h-8 w-8\"\n",
        "-            onClick={() => setEditing(true)}\n",
        "-          >\n",
        "-            <Edit className=\"h-4 w-4\" />\n",
        "-          </Button>\n",
        "-        </div>\n",
        "-      )}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Textarea } from \"@/components/ui/textarea\";\r\n",
        "+import { Edit } from \"lucide-react\";\r\n",
        "+\r\n",
        "+interface JsonDisplayProps {\r\n",
        "+  data: any;\r\n",
        "+  maxHeight?: string;\r\n",
        "+  editable?: boolean;\r\n",
        "+  onEdit?: (newData: any) => void;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function JsonDisplay({\r\n",
        "+  data,\r\n",
        "+  maxHeight,\r\n",
        "+  editable = false,\r\n",
        "+  onEdit,\r\n",
        "+}: JsonDisplayProps) {\r\n",
        "+  const [editing, setEditing] = useState(false);\r\n",
        "+  const [jsonStr, setJsonStr] = useState(JSON.stringify(data, null, 2));\r\n",
        "+  const [error, setError] = useState(\"\");\r\n",
        "+\r\n",
        "+  // Save JSON changes\r\n",
        "+  const saveChanges = () => {\r\n",
        "+    try {\r\n",
        "+      const parsed = JSON.parse(jsonStr);\r\n",
        "+      setError(\"\");\r\n",
        "+      onEdit && onEdit(parsed);\r\n",
        "+      setEditing(false);\r\n",
        "+    } catch (err) {\r\n",
        "+      setError(\"Invalid JSON format\");\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  if (!editable) {\r\n",
        "+    return (\r\n",
        "+      <div\r\n",
        "+        className={`bg-primary-background rounded-md overflow-auto ${\r\n",
        "+          maxHeight ? `max-h-${maxHeight}` : \"\"\r\n",
        "+        }`}\r\n",
        "+      >\r\n",
        "+        <pre className=\"p-4 text-sm whitespace-pre-wrap\">\r\n",
        "+          <code className=\"text-primary-text\">\r\n",
        "+            {JSON.stringify(data, null, 2)}\r\n",
        "+          </code>\r\n",
        "+        </pre>\r\n",
        "+      </div>\r\n",
        "+    );\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div\r\n",
        "+      className={`bg-primary-background rounded-md overflow-auto ${\r\n",
        "+        maxHeight ? `max-h-${maxHeight}` : \"\"\r\n",
        "+      }`}\r\n",
        "+    >\r\n",
        "+      {editing ? (\r\n",
        "+        <div className=\"p-4\">\r\n",
        "+          <Textarea\r\n",
        "+            value={jsonStr}\r\n",
        "+            onChange={(e) => setJsonStr(e.target.value)}\r\n",
        "+            rows={10}\r\n",
        "+            className=\"font-mono text-sm bg-hover-active/20 resize-none mb-2\"\r\n",
        "+          />\r\n",
        "+          {error && <p className=\"text-red-500 text-xs mb-2\">{error}</p>}\r\n",
        "+          <div className=\"flex justify-end gap-2\">\r\n",
        "+            <Button\r\n",
        "+              variant=\"outline\"\r\n",
        "+              size=\"sm\"\r\n",
        "+              onClick={() => {\r\n",
        "+                setJsonStr(JSON.stringify(data, null, 2));\r\n",
        "+                setEditing(false);\r\n",
        "+                setError(\"\");\r\n",
        "+              }}\r\n",
        "+            >\r\n",
        "+              Cancel\r\n",
        "+            </Button>\r\n",
        "+            <Button size=\"sm\" onClick={saveChanges}>\r\n",
        "+              Save\r\n",
        "+            </Button>\r\n",
        "+          </div>\r\n",
        "+        </div>\r\n",
        "+      ) : (\r\n",
        "+        <div className=\"relative\">\r\n",
        "+          <pre className=\"p-4 text-sm whitespace-pre-wrap\">\r\n",
        "+            <code className=\"text-primary-text\">\r\n",
        "+              {JSON.stringify(data, null, 2)}\r\n",
        "+            </code>\r\n",
        "+          </pre>\r\n",
        "+          <Button\r\n",
        "+            variant=\"ghost\"\r\n",
        "+            size=\"sm\"\r\n",
        "+            className=\"absolute top-2 right-2 p-1 h-8 w-8\"\r\n",
        "+            onClick={() => setEditing(true)}\r\n",
        "+          >\r\n",
        "+            <Edit className=\"h-4 w-4\" />\r\n",
        "+          </Button>\r\n",
        "+        </div>\r\n",
        "+      )}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/components/path-params.tsx",
      "status": "modified",
      "additions": 48,
      "deletions": 48,
      "patch": "@@ -1,48 +1,48 @@\n-\"use client\";\n-\n-interface PathParamsProps {\n-  path: string;\n-  editable?: boolean;\n-}\n-\n-export function PathParams({ path, editable = false }: PathParamsProps) {\n-  // Extract path parameters (e.g., {id} in /users/{id})\n-  const pathParams = path.match(/{([^}]+)}/g);\n-\n-  if (!pathParams) return null;\n-\n-  return (\n-    <div className=\"mb-4\">\n-      <h4 className=\"text-md font-medium mb-2 text-secondary-text\">\n-        Path Parameters\n-      </h4>\n-      <div className=\"rounded-md border border-divider overflow-hidden\">\n-        <table className=\"w-full text-sm\">\n-          <thead className=\"bg-hover-active border-b border-divider\">\n-            <tr>\n-              <th className=\"px-4 py-2 text-left text-secondary-text\">Name</th>\n-              <th className=\"px-4 py-2 text-left text-secondary-text\">\n-                Description\n-              </th>\n-            </tr>\n-          </thead>\n-          <tbody>\n-            {pathParams.map((param, idx) => {\n-              const paramName = param.replace(/{|}/g, \"\");\n-              return (\n-                <tr key={idx} className=\"border-b border-divider last:border-0\">\n-                  <td className=\"px-4 py-2 font-medium text-primary-text\">\n-                    {paramName}\n-                  </td>\n-                  <td className=\"px-4 py-2 text-secondary-text\">\n-                    Identifier for the {paramName}\n-                  </td>\n-                </tr>\n-              );\n-            })}\n-          </tbody>\n-        </table>\n-      </div>\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+interface PathParamsProps {\r\n+  path: string;\r\n+  editable?: boolean;\r\n+}\r\n+\r\n+export function PathParams({ path, editable = false }: PathParamsProps) {\r\n+  // Extract path parameters (e.g., {id} in /users/{id})\r\n+  const pathParams = path.match(/{([^}]+)}/g);\r\n+\r\n+  if (!pathParams) return null;\r\n+\r\n+  return (\r\n+    <div className=\"mb-4\">\r\n+      <h4 className=\"text-md font-medium mb-2 text-secondary-text\">\r\n+        Path Parameters\r\n+      </h4>\r\n+      <div className=\"rounded-md border border-divider overflow-hidden\">\r\n+        <table className=\"w-full text-sm\">\r\n+          <thead className=\"bg-hover-active border-b border-divider\">\r\n+            <tr>\r\n+              <th className=\"px-4 py-2 text-left text-secondary-text\">Name</th>\r\n+              <th className=\"px-4 py-2 text-left text-secondary-text\">\r\n+                Description\r\n+              </th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody>\r\n+            {pathParams.map((param, idx) => {\r\n+              const paramName = param.replace(/{|}/g, \"\");\r\n+              return (\r\n+                <tr key={idx} className=\"border-b border-divider last:border-0\">\r\n+                  <td className=\"px-4 py-2 font-medium text-primary-text\">\r\n+                    {paramName}\r\n+                  </td>\r\n+                  <td className=\"px-4 py-2 text-secondary-text\">\r\n+                    Identifier for the {paramName}\r\n+                  </td>\r\n+                </tr>\r\n+              );\r\n+            })}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,48 +1,48 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-interface PathParamsProps {\n",
        "-  path: string;\n",
        "-  editable?: boolean;\n",
        "-}\n",
        "-\n",
        "-export function PathParams({ path, editable = false }: PathParamsProps) {\n",
        "-  // Extract path parameters (e.g., {id} in /users/{id})\n",
        "-  const pathParams = path.match(/{([^}]+)}/g);\n",
        "-\n",
        "-  if (!pathParams) return null;\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"mb-4\">\n",
        "-      <h4 className=\"text-md font-medium mb-2 text-secondary-text\">\n",
        "-        Path Parameters\n",
        "-      </h4>\n",
        "-      <div className=\"rounded-md border border-divider overflow-hidden\">\n",
        "-        <table className=\"w-full text-sm\">\n",
        "-          <thead className=\"bg-hover-active border-b border-divider\">\n",
        "-            <tr>\n",
        "-              <th className=\"px-4 py-2 text-left text-secondary-text\">Name</th>\n",
        "-              <th className=\"px-4 py-2 text-left text-secondary-text\">\n",
        "-                Description\n",
        "-              </th>\n",
        "-            </tr>\n",
        "-          </thead>\n",
        "-          <tbody>\n",
        "-            {pathParams.map((param, idx) => {\n",
        "-              const paramName = param.replace(/{|}/g, \"\");\n",
        "-              return (\n",
        "-                <tr key={idx} className=\"border-b border-divider last:border-0\">\n",
        "-                  <td className=\"px-4 py-2 font-medium text-primary-text\">\n",
        "-                    {paramName}\n",
        "-                  </td>\n",
        "-                  <td className=\"px-4 py-2 text-secondary-text\">\n",
        "-                    Identifier for the {paramName}\n",
        "-                  </td>\n",
        "-                </tr>\n",
        "-              );\n",
        "-            })}\n",
        "-          </tbody>\n",
        "-        </table>\n",
        "-      </div>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+interface PathParamsProps {\r\n",
        "+  path: string;\r\n",
        "+  editable?: boolean;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function PathParams({ path, editable = false }: PathParamsProps) {\r\n",
        "+  // Extract path parameters (e.g., {id} in /users/{id})\r\n",
        "+  const pathParams = path.match(/{([^}]+)}/g);\r\n",
        "+\r\n",
        "+  if (!pathParams) return null;\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"mb-4\">\r\n",
        "+      <h4 className=\"text-md font-medium mb-2 text-secondary-text\">\r\n",
        "+        Path Parameters\r\n",
        "+      </h4>\r\n",
        "+      <div className=\"rounded-md border border-divider overflow-hidden\">\r\n",
        "+        <table className=\"w-full text-sm\">\r\n",
        "+          <thead className=\"bg-hover-active border-b border-divider\">\r\n",
        "+            <tr>\r\n",
        "+              <th className=\"px-4 py-2 text-left text-secondary-text\">Name</th>\r\n",
        "+              <th className=\"px-4 py-2 text-left text-secondary-text\">\r\n",
        "+                Description\r\n",
        "+              </th>\r\n",
        "+            </tr>\r\n",
        "+          </thead>\r\n",
        "+          <tbody>\r\n",
        "+            {pathParams.map((param, idx) => {\r\n",
        "+              const paramName = param.replace(/{|}/g, \"\");\r\n",
        "+              return (\r\n",
        "+                <tr key={idx} className=\"border-b border-divider last:border-0\">\r\n",
        "+                  <td className=\"px-4 py-2 font-medium text-primary-text\">\r\n",
        "+                    {paramName}\r\n",
        "+                  </td>\r\n",
        "+                  <td className=\"px-4 py-2 text-secondary-text\">\r\n",
        "+                    Identifier for the {paramName}\r\n",
        "+                  </td>\r\n",
        "+                </tr>\r\n",
        "+              );\r\n",
        "+            })}\r\n",
        "+          </tbody>\r\n",
        "+        </table>\r\n",
        "+      </div>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/components/query-param-item.tsx",
      "status": "modified",
      "additions": 216,
      "deletions": 216,
      "patch": "@@ -1,216 +1,216 @@\n-\"use client\";\n-\n-import { useState } from \"react\";\n-import { Badge } from \"@/components/ui/badge\";\n-import { Button } from \"@/components/ui/button\";\n-import { Input } from \"@/components/ui/input\";\n-import { Textarea } from \"@/components/ui/textarea\";\n-import { Checkbox } from \"@/components/ui/checkbox\";\n-import { Label } from \"@/components/ui/label\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { Edit, Trash2 } from \"lucide-react\";\n-import { QueryParam } from \"../types\";\n-import { paramTypes } from \"../constants\";\n-\n-interface QueryParamItemProps {\n-  param: QueryParam;\n-  isEditing: boolean;\n-  onEdit?: (updatedParam: QueryParam) => void;\n-  onDelete?: () => void;\n-}\n-\n-export function QueryParamItem({\n-  param,\n-  isEditing,\n-  onEdit,\n-  onDelete,\n-}: QueryParamItemProps) {\n-  const [editMode, setEditMode] = useState(false);\n-  const [editedParam, setEditedParam] = useState<QueryParam>({ ...param });\n-\n-  // Save changes and exit edit mode\n-  const saveChanges = () => {\n-    if (onEdit) {\n-      onEdit(editedParam);\n-    }\n-    setEditMode(false);\n-  };\n-\n-  // Cancel editing and reset to original values\n-  const cancelEdit = () => {\n-    setEditedParam({ ...param });\n-    setEditMode(false);\n-  };\n-\n-  if (!isEditing || !editMode) {\n-    return (\n-      <tr className=\"border-b border-divider last:border-0\">\n-        <td className=\"px-2 py-2 font-medium text-primary-text\">\n-          <div className=\"truncate max-w-[100px] sm:max-w-none\">\n-            {param.name}\n-          </div>\n-        </td>\n-        <td className=\"px-2 py-2 text-secondary-text\">\n-          <code className=\"bg-hover-active/40 px-1.5 py-0.5 rounded text-xs\">\n-            {param.type}\n-          </code>\n-        </td>\n-        <td className=\"px-2 py-2\">\n-          {param.required ? (\n-            <Badge\n-              variant=\"outline\"\n-              className=\"bg-amber-600/20 text-amber-400 border-0 whitespace-nowrap\"\n-            >\n-              Required\n-            </Badge>\n-          ) : (\n-            <Badge\n-              variant=\"outline\"\n-              className=\"bg-blue-600/20 text-blue-400 border-0 whitespace-nowrap\"\n-            >\n-              Optional\n-            </Badge>\n-          )}\n-        </td>\n-        <td className=\"px-2 py-2 text-secondary-text\">\n-          <div className=\"truncate max-w-[120px] sm:max-w-none\">\n-            {param.description}\n-          </div>\n-        </td>\n-        {isEditing && (\n-          <td className=\"px-2 py-2 text-right\">\n-            <div className=\"flex items-center justify-end gap-1\">\n-              <Button\n-                variant=\"ghost\"\n-                size=\"sm\"\n-                className=\"h-7 w-7 p-0\"\n-                onClick={() => setEditMode(true)}\n-              >\n-                <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\n-              </Button>\n-              {onDelete && (\n-                <Button\n-                  variant=\"ghost\"\n-                  size=\"sm\"\n-                  className=\"h-7 w-7 p-0 hover:text-red-400\"\n-                  onClick={onDelete}\n-                >\n-                  <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\n-                </Button>\n-              )}\n-            </div>\n-          </td>\n-        )}\n-      </tr>\n-    );\n-  }\n-\n-  // Edit mode\n-  return (\n-    <tr className=\"border-b border-divider last:border-0 bg-hover-active/10\">\n-      <td colSpan={isEditing ? 5 : 4} className=\"p-3\">\n-        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3\">\n-          <div>\n-            <Label htmlFor=\"param-name\" className=\"text-xs mb-1 block\">\n-              Parameter Name\n-            </Label>\n-            <Input\n-              id=\"param-name\"\n-              value={editedParam.name}\n-              onChange={(e) =>\n-                setEditedParam({ ...editedParam, name: e.target.value })\n-              }\n-              className=\"h-8 bg-primary-background w-full\"\n-            />\n-          </div>\n-          <div>\n-            <Label htmlFor=\"param-type\" className=\"text-xs mb-1 block\">\n-              Type\n-            </Label>\n-            <Select\n-              value={editedParam.type}\n-              onValueChange={(value) =>\n-                setEditedParam({ ...editedParam, type: value })\n-              }\n-            >\n-              <SelectTrigger\n-                id=\"param-type\"\n-                className=\"h-8 bg-primary-background w-full\"\n-              >\n-                <SelectValue placeholder=\"Select type\" />\n-              </SelectTrigger>\n-              <SelectContent>\n-                {paramTypes.map((type) => (\n-                  <SelectItem key={type} value={type}>\n-                    {type}\n-                  </SelectItem>\n-                ))}\n-              </SelectContent>\n-            </Select>\n-          </div>\n-        </div>\n-\n-        <div className=\"mb-3\">\n-          <Label htmlFor=\"param-description\" className=\"text-xs mb-1 block\">\n-            Description\n-          </Label>\n-          <Textarea\n-            id=\"param-description\"\n-            value={editedParam.description}\n-            onChange={(e) =>\n-              setEditedParam({\n-                ...editedParam,\n-                description: e.target.value,\n-              })\n-            }\n-            rows={2}\n-            className=\"resize-none bg-primary-background w-full\"\n-          />\n-        </div>\n-\n-        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0\">\n-          <div className=\"flex items-center gap-2\">\n-            <Checkbox\n-              id=\"param-required\"\n-              checked={editedParam.required}\n-              onCheckedChange={(checked) =>\n-                setEditedParam({\n-                  ...editedParam,\n-                  required: checked === true,\n-                })\n-              }\n-            />\n-            <Label htmlFor=\"param-required\" className=\"text-sm\">\n-              Required\n-            </Label>\n-          </div>\n-\n-          <div className=\"flex items-center gap-2 w-full sm:w-auto justify-end\">\n-            <Button\n-              variant=\"outline\"\n-              size=\"sm\"\n-              className=\"h-7\"\n-              onClick={cancelEdit}\n-            >\n-              Cancel\n-            </Button>\n-            <Button\n-              variant=\"default\"\n-              size=\"sm\"\n-              className=\"h-7\"\n-              onClick={saveChanges}\n-            >\n-              Save\n-            </Button>\n-          </div>\n-        </div>\n-      </td>\n-    </tr>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { Badge } from \"@/components/ui/badge\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Textarea } from \"@/components/ui/textarea\";\r\n+import { Checkbox } from \"@/components/ui/checkbox\";\r\n+import { Label } from \"@/components/ui/label\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { Edit, Trash2 } from \"lucide-react\";\r\n+import { QueryParam } from \"../types\";\r\n+import { paramTypes } from \"../constants\";\r\n+\r\n+interface QueryParamItemProps {\r\n+  param: QueryParam;\r\n+  isEditing: boolean;\r\n+  onEdit?: (updatedParam: QueryParam) => void;\r\n+  onDelete?: () => void;\r\n+}\r\n+\r\n+export function QueryParamItem({\r\n+  param,\r\n+  isEditing,\r\n+  onEdit,\r\n+  onDelete,\r\n+}: QueryParamItemProps) {\r\n+  const [editMode, setEditMode] = useState(false);\r\n+  const [editedParam, setEditedParam] = useState<QueryParam>({ ...param });\r\n+\r\n+  // Save changes and exit edit mode\r\n+  const saveChanges = () => {\r\n+    if (onEdit) {\r\n+      onEdit(editedParam);\r\n+    }\r\n+    setEditMode(false);\r\n+  };\r\n+\r\n+  // Cancel editing and reset to original values\r\n+  const cancelEdit = () => {\r\n+    setEditedParam({ ...param });\r\n+    setEditMode(false);\r\n+  };\r\n+\r\n+  if (!isEditing || !editMode) {\r\n+    return (\r\n+      <tr className=\"border-b border-divider last:border-0\">\r\n+        <td className=\"px-2 py-2 font-medium text-primary-text\">\r\n+          <div className=\"truncate max-w-[100px] sm:max-w-none\">\r\n+            {param.name}\r\n+          </div>\r\n+        </td>\r\n+        <td className=\"px-2 py-2 text-secondary-text\">\r\n+          <code className=\"bg-hover-active/40 px-1.5 py-0.5 rounded text-xs\">\r\n+            {param.type}\r\n+          </code>\r\n+        </td>\r\n+        <td className=\"px-2 py-2\">\r\n+          {param.required ? (\r\n+            <Badge\r\n+              variant=\"outline\"\r\n+              className=\"bg-amber-600/20 text-amber-400 border-0 whitespace-nowrap\"\r\n+            >\r\n+              Required\r\n+            </Badge>\r\n+          ) : (\r\n+            <Badge\r\n+              variant=\"outline\"\r\n+              className=\"bg-blue-600/20 text-blue-400 border-0 whitespace-nowrap\"\r\n+            >\r\n+              Optional\r\n+            </Badge>\r\n+          )}\r\n+        </td>\r\n+        <td className=\"px-2 py-2 text-secondary-text\">\r\n+          <div className=\"truncate max-w-[120px] sm:max-w-none\">\r\n+            {param.description}\r\n+          </div>\r\n+        </td>\r\n+        {isEditing && (\r\n+          <td className=\"px-2 py-2 text-right\">\r\n+            <div className=\"flex items-center justify-end gap-1\">\r\n+              <Button\r\n+                variant=\"ghost\"\r\n+                size=\"sm\"\r\n+                className=\"h-7 w-7 p-0\"\r\n+                onClick={() => setEditMode(true)}\r\n+              >\r\n+                <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n+              </Button>\r\n+              {onDelete && (\r\n+                <Button\r\n+                  variant=\"ghost\"\r\n+                  size=\"sm\"\r\n+                  className=\"h-7 w-7 p-0 hover:text-red-400\"\r\n+                  onClick={onDelete}\r\n+                >\r\n+                  <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n+                </Button>\r\n+              )}\r\n+            </div>\r\n+          </td>\r\n+        )}\r\n+      </tr>\r\n+    );\r\n+  }\r\n+\r\n+  // Edit mode\r\n+  return (\r\n+    <tr className=\"border-b border-divider last:border-0 bg-hover-active/10\">\r\n+      <td colSpan={isEditing ? 5 : 4} className=\"p-3\">\r\n+        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3\">\r\n+          <div>\r\n+            <Label htmlFor=\"param-name\" className=\"text-xs mb-1 block\">\r\n+              Parameter Name\r\n+            </Label>\r\n+            <Input\r\n+              id=\"param-name\"\r\n+              value={editedParam.name}\r\n+              onChange={(e) =>\r\n+                setEditedParam({ ...editedParam, name: e.target.value })\r\n+              }\r\n+              className=\"h-8 bg-primary-background w-full\"\r\n+            />\r\n+          </div>\r\n+          <div>\r\n+            <Label htmlFor=\"param-type\" className=\"text-xs mb-1 block\">\r\n+              Type\r\n+            </Label>\r\n+            <Select\r\n+              value={editedParam.type}\r\n+              onValueChange={(value) =>\r\n+                setEditedParam({ ...editedParam, type: value })\r\n+              }\r\n+            >\r\n+              <SelectTrigger\r\n+                id=\"param-type\"\r\n+                className=\"h-8 bg-primary-background w-full\"\r\n+              >\r\n+                <SelectValue placeholder=\"Select type\" />\r\n+              </SelectTrigger>\r\n+              <SelectContent>\r\n+                {paramTypes.map((type) => (\r\n+                  <SelectItem key={type} value={type}>\r\n+                    {type}\r\n+                  </SelectItem>\r\n+                ))}\r\n+              </SelectContent>\r\n+            </Select>\r\n+          </div>\r\n+        </div>\r\n+\r\n+        <div className=\"mb-3\">\r\n+          <Label htmlFor=\"param-description\" className=\"text-xs mb-1 block\">\r\n+            Description\r\n+          </Label>\r\n+          <Textarea\r\n+            id=\"param-description\"\r\n+            value={editedParam.description}\r\n+            onChange={(e) =>\r\n+              setEditedParam({\r\n+                ...editedParam,\r\n+                description: e.target.value,\r\n+              })\r\n+            }\r\n+            rows={2}\r\n+            className=\"resize-none bg-primary-background w-full\"\r\n+          />\r\n+        </div>\r\n+\r\n+        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0\">\r\n+          <div className=\"flex items-center gap-2\">\r\n+            <Checkbox\r\n+              id=\"param-required\"\r\n+              checked={editedParam.required}\r\n+              onCheckedChange={(checked) =>\r\n+                setEditedParam({\r\n+                  ...editedParam,\r\n+                  required: checked === true,\r\n+                })\r\n+              }\r\n+            />\r\n+            <Label htmlFor=\"param-required\" className=\"text-sm\">\r\n+              Required\r\n+            </Label>\r\n+          </div>\r\n+\r\n+          <div className=\"flex items-center gap-2 w-full sm:w-auto justify-end\">\r\n+            <Button\r\n+              variant=\"outline\"\r\n+              size=\"sm\"\r\n+              className=\"h-7\"\r\n+              onClick={cancelEdit}\r\n+            >\r\n+              Cancel\r\n+            </Button>\r\n+            <Button\r\n+              variant=\"default\"\r\n+              size=\"sm\"\r\n+              className=\"h-7\"\r\n+              onClick={saveChanges}\r\n+            >\r\n+              Save\r\n+            </Button>\r\n+          </div>\r\n+        </div>\r\n+      </td>\r\n+    </tr>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,216 +1,216 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState } from \"react\";\n",
        "-import { Badge } from \"@/components/ui/badge\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import { Textarea } from \"@/components/ui/textarea\";\n",
        "-import { Checkbox } from \"@/components/ui/checkbox\";\n",
        "-import { Label } from \"@/components/ui/label\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { Edit, Trash2 } from \"lucide-react\";\n",
        "-import { QueryParam } from \"../types\";\n",
        "-import { paramTypes } from \"../constants\";\n",
        "-\n",
        "-interface QueryParamItemProps {\n",
        "-  param: QueryParam;\n",
        "-  isEditing: boolean;\n",
        "-  onEdit?: (updatedParam: QueryParam) => void;\n",
        "-  onDelete?: () => void;\n",
        "-}\n",
        "-\n",
        "-export function QueryParamItem({\n",
        "-  param,\n",
        "-  isEditing,\n",
        "-  onEdit,\n",
        "-  onDelete,\n",
        "-}: QueryParamItemProps) {\n",
        "-  const [editMode, setEditMode] = useState(false);\n",
        "-  const [editedParam, setEditedParam] = useState<QueryParam>({ ...param });\n",
        "-\n",
        "-  // Save changes and exit edit mode\n",
        "-  const saveChanges = () => {\n",
        "-    if (onEdit) {\n",
        "-      onEdit(editedParam);\n",
        "-    }\n",
        "-    setEditMode(false);\n",
        "-  };\n",
        "-\n",
        "-  // Cancel editing and reset to original values\n",
        "-  const cancelEdit = () => {\n",
        "-    setEditedParam({ ...param });\n",
        "-    setEditMode(false);\n",
        "-  };\n",
        "-\n",
        "-  if (!isEditing || !editMode) {\n",
        "-    return (\n",
        "-      <tr className=\"border-b border-divider last:border-0\">\n",
        "-        <td className=\"px-2 py-2 font-medium text-primary-text\">\n",
        "-          <div className=\"truncate max-w-[100px] sm:max-w-none\">\n",
        "-            {param.name}\n",
        "-          </div>\n",
        "-        </td>\n",
        "-        <td className=\"px-2 py-2 text-secondary-text\">\n",
        "-          <code className=\"bg-hover-active/40 px-1.5 py-0.5 rounded text-xs\">\n",
        "-            {param.type}\n",
        "-          </code>\n",
        "-        </td>\n",
        "-        <td className=\"px-2 py-2\">\n",
        "-          {param.required ? (\n",
        "-            <Badge\n",
        "-              variant=\"outline\"\n",
        "-              className=\"bg-amber-600/20 text-amber-400 border-0 whitespace-nowrap\"\n",
        "-            >\n",
        "-              Required\n",
        "-            </Badge>\n",
        "-          ) : (\n",
        "-            <Badge\n",
        "-              variant=\"outline\"\n",
        "-              className=\"bg-blue-600/20 text-blue-400 border-0 whitespace-nowrap\"\n",
        "-            >\n",
        "-              Optional\n",
        "-            </Badge>\n",
        "-          )}\n",
        "-        </td>\n",
        "-        <td className=\"px-2 py-2 text-secondary-text\">\n",
        "-          <div className=\"truncate max-w-[120px] sm:max-w-none\">\n",
        "-            {param.description}\n",
        "-          </div>\n",
        "-        </td>\n",
        "-        {isEditing && (\n",
        "-          <td className=\"px-2 py-2 text-right\">\n",
        "-            <div className=\"flex items-center justify-end gap-1\">\n",
        "-              <Button\n",
        "-                variant=\"ghost\"\n",
        "-                size=\"sm\"\n",
        "-                className=\"h-7 w-7 p-0\"\n",
        "-                onClick={() => setEditMode(true)}\n",
        "-              >\n",
        "-                <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\n",
        "-              </Button>\n",
        "-              {onDelete && (\n",
        "-                <Button\n",
        "-                  variant=\"ghost\"\n",
        "-                  size=\"sm\"\n",
        "-                  className=\"h-7 w-7 p-0 hover:text-red-400\"\n",
        "-                  onClick={onDelete}\n",
        "-                >\n",
        "-                  <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\n",
        "-                </Button>\n",
        "-              )}\n",
        "-            </div>\n",
        "-          </td>\n",
        "-        )}\n",
        "-      </tr>\n",
        "-    );\n",
        "-  }\n",
        "-\n",
        "-  // Edit mode\n",
        "-  return (\n",
        "-    <tr className=\"border-b border-divider last:border-0 bg-hover-active/10\">\n",
        "-      <td colSpan={isEditing ? 5 : 4} className=\"p-3\">\n",
        "-        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3\">\n",
        "-          <div>\n",
        "-            <Label htmlFor=\"param-name\" className=\"text-xs mb-1 block\">\n",
        "-              Parameter Name\n",
        "-            </Label>\n",
        "-            <Input\n",
        "-              id=\"param-name\"\n",
        "-              value={editedParam.name}\n",
        "-              onChange={(e) =>\n",
        "-                setEditedParam({ ...editedParam, name: e.target.value })\n",
        "-              }\n",
        "-              className=\"h-8 bg-primary-background w-full\"\n",
        "-            />\n",
        "-          </div>\n",
        "-          <div>\n",
        "-            <Label htmlFor=\"param-type\" className=\"text-xs mb-1 block\">\n",
        "-              Type\n",
        "-            </Label>\n",
        "-            <Select\n",
        "-              value={editedParam.type}\n",
        "-              onValueChange={(value) =>\n",
        "-                setEditedParam({ ...editedParam, type: value })\n",
        "-              }\n",
        "-            >\n",
        "-              <SelectTrigger\n",
        "-                id=\"param-type\"\n",
        "-                className=\"h-8 bg-primary-background w-full\"\n",
        "-              >\n",
        "-                <SelectValue placeholder=\"Select type\" />\n",
        "-              </SelectTrigger>\n",
        "-              <SelectContent>\n",
        "-                {paramTypes.map((type) => (\n",
        "-                  <SelectItem key={type} value={type}>\n",
        "-                    {type}\n",
        "-                  </SelectItem>\n",
        "-                ))}\n",
        "-              </SelectContent>\n",
        "-            </Select>\n",
        "-          </div>\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"mb-3\">\n",
        "-          <Label htmlFor=\"param-description\" className=\"text-xs mb-1 block\">\n",
        "-            Description\n",
        "-          </Label>\n",
        "-          <Textarea\n",
        "-            id=\"param-description\"\n",
        "-            value={editedParam.description}\n",
        "-            onChange={(e) =>\n",
        "-              setEditedParam({\n",
        "-                ...editedParam,\n",
        "-                description: e.target.value,\n",
        "-              })\n",
        "-            }\n",
        "-            rows={2}\n",
        "-            className=\"resize-none bg-primary-background w-full\"\n",
        "-          />\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0\">\n",
        "-          <div className=\"flex items-center gap-2\">\n",
        "-            <Checkbox\n",
        "-              id=\"param-required\"\n",
        "-              checked={editedParam.required}\n",
        "-              onCheckedChange={(checked) =>\n",
        "-                setEditedParam({\n",
        "-                  ...editedParam,\n",
        "-                  required: checked === true,\n",
        "-                })\n",
        "-              }\n",
        "-            />\n",
        "-            <Label htmlFor=\"param-required\" className=\"text-sm\">\n",
        "-              Required\n",
        "-            </Label>\n",
        "-          </div>\n",
        "-\n",
        "-          <div className=\"flex items-center gap-2 w-full sm:w-auto justify-end\">\n",
        "-            <Button\n",
        "-              variant=\"outline\"\n",
        "-              size=\"sm\"\n",
        "-              className=\"h-7\"\n",
        "-              onClick={cancelEdit}\n",
        "-            >\n",
        "-              Cancel\n",
        "-            </Button>\n",
        "-            <Button\n",
        "-              variant=\"default\"\n",
        "-              size=\"sm\"\n",
        "-              className=\"h-7\"\n",
        "-              onClick={saveChanges}\n",
        "-            >\n",
        "-              Save\n",
        "-            </Button>\n",
        "-          </div>\n",
        "-        </div>\n",
        "-      </td>\n",
        "-    </tr>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import { Badge } from \"@/components/ui/badge\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import { Textarea } from \"@/components/ui/textarea\";\r\n",
        "+import { Checkbox } from \"@/components/ui/checkbox\";\r\n",
        "+import { Label } from \"@/components/ui/label\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { Edit, Trash2 } from \"lucide-react\";\r\n",
        "+import { QueryParam } from \"../types\";\r\n",
        "+import { paramTypes } from \"../constants\";\r\n",
        "+\r\n",
        "+interface QueryParamItemProps {\r\n",
        "+  param: QueryParam;\r\n",
        "+  isEditing: boolean;\r\n",
        "+  onEdit?: (updatedParam: QueryParam) => void;\r\n",
        "+  onDelete?: () => void;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function QueryParamItem({\r\n",
        "+  param,\r\n",
        "+  isEditing,\r\n",
        "+  onEdit,\r\n",
        "+  onDelete,\r\n",
        "+}: QueryParamItemProps) {\r\n",
        "+  const [editMode, setEditMode] = useState(false);\r\n",
        "+  const [editedParam, setEditedParam] = useState<QueryParam>({ ...param });\r\n",
        "+\r\n",
        "+  // Save changes and exit edit mode\r\n",
        "+  const saveChanges = () => {\r\n",
        "+    if (onEdit) {\r\n",
        "+      onEdit(editedParam);\r\n",
        "+    }\r\n",
        "+    setEditMode(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Cancel editing and reset to original values\r\n",
        "+  const cancelEdit = () => {\r\n",
        "+    setEditedParam({ ...param });\r\n",
        "+    setEditMode(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  if (!isEditing || !editMode) {\r\n",
        "+    return (\r\n",
        "+      <tr className=\"border-b border-divider last:border-0\">\r\n",
        "+        <td className=\"px-2 py-2 font-medium text-primary-text\">\r\n",
        "+          <div className=\"truncate max-w-[100px] sm:max-w-none\">\r\n",
        "+            {param.name}\r\n",
        "+          </div>\r\n",
        "+        </td>\r\n",
        "+        <td className=\"px-2 py-2 text-secondary-text\">\r\n",
        "+          <code className=\"bg-hover-active/40 px-1.5 py-0.5 rounded text-xs\">\r\n",
        "+            {param.type}\r\n",
        "+          </code>\r\n",
        "+        </td>\r\n",
        "+        <td className=\"px-2 py-2\">\r\n",
        "+          {param.required ? (\r\n",
        "+            <Badge\r\n",
        "+              variant=\"outline\"\r\n",
        "+              className=\"bg-amber-600/20 text-amber-400 border-0 whitespace-nowrap\"\r\n",
        "+            >\r\n",
        "+              Required\r\n",
        "+            </Badge>\r\n",
        "+          ) : (\r\n",
        "+            <Badge\r\n",
        "+              variant=\"outline\"\r\n",
        "+              className=\"bg-blue-600/20 text-blue-400 border-0 whitespace-nowrap\"\r\n",
        "+            >\r\n",
        "+              Optional\r\n",
        "+            </Badge>\r\n",
        "+          )}\r\n",
        "+        </td>\r\n",
        "+        <td className=\"px-2 py-2 text-secondary-text\">\r\n",
        "+          <div className=\"truncate max-w-[120px] sm:max-w-none\">\r\n",
        "+            {param.description}\r\n",
        "+          </div>\r\n",
        "+        </td>\r\n",
        "+        {isEditing && (\r\n",
        "+          <td className=\"px-2 py-2 text-right\">\r\n",
        "+            <div className=\"flex items-center justify-end gap-1\">\r\n",
        "+              <Button\r\n",
        "+                variant=\"ghost\"\r\n",
        "+                size=\"sm\"\r\n",
        "+                className=\"h-7 w-7 p-0\"\r\n",
        "+                onClick={() => setEditMode(true)}\r\n",
        "+              >\r\n",
        "+                <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n",
        "+              </Button>\r\n",
        "+              {onDelete && (\r\n",
        "+                <Button\r\n",
        "+                  variant=\"ghost\"\r\n",
        "+                  size=\"sm\"\r\n",
        "+                  className=\"h-7 w-7 p-0 hover:text-red-400\"\r\n",
        "+                  onClick={onDelete}\r\n",
        "+                >\r\n",
        "+                  <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n",
        "+                </Button>\r\n",
        "+              )}\r\n",
        "+            </div>\r\n",
        "+          </td>\r\n",
        "+        )}\r\n",
        "+      </tr>\r\n",
        "+    );\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  // Edit mode\r\n",
        "+  return (\r\n",
        "+    <tr className=\"border-b border-divider last:border-0 bg-hover-active/10\">\r\n",
        "+      <td colSpan={isEditing ? 5 : 4} className=\"p-3\">\r\n",
        "+        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3\">\r\n",
        "+          <div>\r\n",
        "+            <Label htmlFor=\"param-name\" className=\"text-xs mb-1 block\">\r\n",
        "+              Parameter Name\r\n",
        "+            </Label>\r\n",
        "+            <Input\r\n",
        "+              id=\"param-name\"\r\n",
        "+              value={editedParam.name}\r\n",
        "+              onChange={(e) =>\r\n",
        "+                setEditedParam({ ...editedParam, name: e.target.value })\r\n",
        "+              }\r\n",
        "+              className=\"h-8 bg-primary-background w-full\"\r\n",
        "+            />\r\n",
        "+          </div>\r\n",
        "+          <div>\r\n",
        "+            <Label htmlFor=\"param-type\" className=\"text-xs mb-1 block\">\r\n",
        "+              Type\r\n",
        "+            </Label>\r\n",
        "+            <Select\r\n",
        "+              value={editedParam.type}\r\n",
        "+              onValueChange={(value) =>\r\n",
        "+                setEditedParam({ ...editedParam, type: value })\r\n",
        "+              }\r\n",
        "+            >\r\n",
        "+              <SelectTrigger\r\n",
        "+                id=\"param-type\"\r\n",
        "+                className=\"h-8 bg-primary-background w-full\"\r\n",
        "+              >\r\n",
        "+                <SelectValue placeholder=\"Select type\" />\r\n",
        "+              </SelectTrigger>\r\n",
        "+              <SelectContent>\r\n",
        "+                {paramTypes.map((type) => (\r\n",
        "+                  <SelectItem key={type} value={type}>\r\n",
        "+                    {type}\r\n",
        "+                  </SelectItem>\r\n",
        "+                ))}\r\n",
        "+              </SelectContent>\r\n",
        "+            </Select>\r\n",
        "+          </div>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"mb-3\">\r\n",
        "+          <Label htmlFor=\"param-description\" className=\"text-xs mb-1 block\">\r\n",
        "+            Description\r\n",
        "+          </Label>\r\n",
        "+          <Textarea\r\n",
        "+            id=\"param-description\"\r\n",
        "+            value={editedParam.description}\r\n",
        "+            onChange={(e) =>\r\n",
        "+              setEditedParam({\r\n",
        "+                ...editedParam,\r\n",
        "+                description: e.target.value,\r\n",
        "+              })\r\n",
        "+            }\r\n",
        "+            rows={2}\r\n",
        "+            className=\"resize-none bg-primary-background w-full\"\r\n",
        "+          />\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0\">\r\n",
        "+          <div className=\"flex items-center gap-2\">\r\n",
        "+            <Checkbox\r\n",
        "+              id=\"param-required\"\r\n",
        "+              checked={editedParam.required}\r\n",
        "+              onCheckedChange={(checked) =>\r\n",
        "+                setEditedParam({\r\n",
        "+                  ...editedParam,\r\n",
        "+                  required: checked === true,\r\n",
        "+                })\r\n",
        "+              }\r\n",
        "+            />\r\n",
        "+            <Label htmlFor=\"param-required\" className=\"text-sm\">\r\n",
        "+              Required\r\n",
        "+            </Label>\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <div className=\"flex items-center gap-2 w-full sm:w-auto justify-end\">\r\n",
        "+            <Button\r\n",
        "+              variant=\"outline\"\r\n",
        "+              size=\"sm\"\r\n",
        "+              className=\"h-7\"\r\n",
        "+              onClick={cancelEdit}\r\n",
        "+            >\r\n",
        "+              Cancel\r\n",
        "+            </Button>\r\n",
        "+            <Button\r\n",
        "+              variant=\"default\"\r\n",
        "+              size=\"sm\"\r\n",
        "+              className=\"h-7\"\r\n",
        "+              onClick={saveChanges}\r\n",
        "+            >\r\n",
        "+              Save\r\n",
        "+            </Button>\r\n",
        "+          </div>\r\n",
        "+        </div>\r\n",
        "+      </td>\r\n",
        "+    </tr>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/components/request-section.tsx",
      "status": "modified",
      "additions": 772,
      "deletions": 772,
      "patch": "@@ -1,772 +1,772 @@\n-\"use client\";\n-\n-import { useState } from \"react\";\n-import { Badge } from \"@/components/ui/badge\";\n-import { Button } from \"@/components/ui/button\";\n-import { Input } from \"@/components/ui/input\";\n-import { Textarea } from \"@/components/ui/textarea\";\n-import { Checkbox } from \"@/components/ui/checkbox\";\n-import { Label } from \"@/components/ui/label\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { Plus, Edit, Trash2 } from \"lucide-react\";\n-\n-import { Request, QueryParam } from \"../types\";\n-import { paramTypes } from \"../constants\";\n-import { PathParams } from \"./path-params\";\n-import { JsonDisplay } from \"./json-display\";\n-\n-// Mobile-friendly query parameter item\n-function QueryParamCard({\n-  param,\n-  isEditing,\n-  onEdit,\n-  onDelete,\n-}: {\n-  param: QueryParam;\n-  isEditing: boolean;\n-  onEdit?: (param: QueryParam) => void;\n-  onDelete?: () => void;\n-}) {\n-  const [editMode, setEditMode] = useState(false);\n-  const [editedParam, setEditedParam] = useState<QueryParam>({ ...param });\n-\n-  // Save changes and exit edit mode\n-  const saveChanges = () => {\n-    if (onEdit) {\n-      onEdit(editedParam);\n-    }\n-    setEditMode(false);\n-  };\n-\n-  // Cancel editing and reset to original values\n-  const cancelEdit = () => {\n-    setEditedParam({ ...param });\n-    setEditMode(false);\n-  };\n-\n-  if (!isEditing || !editMode) {\n-    return (\n-      <div className=\"bg-primary-background rounded-md border border-divider hover:border-primary-cta/30 transition-colors p-2.5\">\n-        <div className=\"flex items-center justify-between\">\n-          <h4 className=\"font-medium text-primary-text text-sm\">\n-            {param.name}\n-          </h4>\n-          {isEditing && (\n-            <div className=\"flex items-center -mr-1\">\n-              <Button\n-                variant=\"ghost\"\n-                size=\"sm\"\n-                className=\"h-6 w-6 p-0 text-secondary-text hover:text-primary-cta\"\n-                onClick={() => setEditMode(true)}\n-              >\n-                <Edit className=\"h-3 w-3\" />\n-              </Button>\n-              {onDelete && (\n-                <Button\n-                  variant=\"ghost\"\n-                  size=\"sm\"\n-                  className=\"h-6 w-6 p-0 text-secondary-text hover:text-red-400\"\n-                  onClick={onDelete}\n-                >\n-                  <Trash2 className=\"h-3 w-3\" />\n-                </Button>\n-              )}\n-            </div>\n-          )}\n-        </div>\n-\n-        <div className=\"flex flex-wrap items-center gap-1.5 mt-1.5 mb-1\">\n-          <code className=\"bg-hover-active/30 px-1.5 py-0.5 rounded text-xs text-secondary-text\">\n-            {param.type}\n-          </code>\n-          {param.required ? (\n-            <Badge\n-              variant=\"outline\"\n-              className=\"bg-amber-600/10 text-amber-400 border-amber-600/20 text-xs px-1.5 py-0 h-5\"\n-            >\n-              Required\n-            </Badge>\n-          ) : (\n-            <Badge\n-              variant=\"outline\"\n-              className=\"bg-blue-600/10 text-blue-400 border-blue-600/20 text-xs px-1.5 py-0 h-5\"\n-            >\n-              Optional\n-            </Badge>\n-          )}\n-        </div>\n-\n-        {param.description && (\n-          <p className=\"text-secondary-text text-xs leading-tight mt-1\">\n-            {param.description}\n-          </p>\n-        )}\n-      </div>\n-    );\n-  }\n-\n-  // Edit mode - more compact and elegant\n-  return (\n-    <div className=\"bg-hover-active/5 rounded-md border border-primary-cta/30 p-3 space-y-2.5 transition-all\">\n-      <div>\n-        <Label\n-          htmlFor=\"param-name\"\n-          className=\"text-xs mb-1 block text-secondary-text\"\n-        >\n-          Parameter Name\n-        </Label>\n-        <Input\n-          id=\"param-name\"\n-          value={editedParam.name}\n-          onChange={(e) =>\n-            setEditedParam({ ...editedParam, name: e.target.value })\n-          }\n-          className=\"h-7 bg-primary-background text-sm\"\n-        />\n-      </div>\n-\n-      <div>\n-        <Label\n-          htmlFor=\"param-type\"\n-          className=\"text-xs mb-1 block text-secondary-text\"\n-        >\n-          Type\n-        </Label>\n-        <Select\n-          value={editedParam.type}\n-          onValueChange={(value) =>\n-            setEditedParam({ ...editedParam, type: value })\n-          }\n-        >\n-          <SelectTrigger\n-            id=\"param-type\"\n-            className=\"h-7 bg-primary-background text-sm\"\n-          >\n-            <SelectValue placeholder=\"Select type\" />\n-          </SelectTrigger>\n-          <SelectContent>\n-            {paramTypes.map((type) => (\n-              <SelectItem key={type} value={type} className=\"text-sm\">\n-                {type}\n-              </SelectItem>\n-            ))}\n-          </SelectContent>\n-        </Select>\n-      </div>\n-\n-      <div>\n-        <Label\n-          htmlFor=\"param-description\"\n-          className=\"text-xs mb-1 block text-secondary-text\"\n-        >\n-          Description\n-        </Label>\n-        <Textarea\n-          id=\"param-description\"\n-          value={editedParam.description}\n-          onChange={(e) =>\n-            setEditedParam({\n-              ...editedParam,\n-              description: e.target.value,\n-            })\n-          }\n-          placeholder=\"What does this parameter do?\"\n-          rows={2}\n-          className=\"resize-none bg-primary-background text-sm min-h-[60px]\"\n-        />\n-      </div>\n-\n-      <div className=\"flex items-center justify-between pt-1\">\n-        <div className=\"flex items-center gap-1.5\">\n-          <Checkbox\n-            id=\"param-required\"\n-            checked={editedParam.required}\n-            onCheckedChange={(checked) =>\n-              setEditedParam({\n-                ...editedParam,\n-                required: checked === true,\n-              })\n-            }\n-            className=\"h-3.5 w-3.5\"\n-          />\n-          <Label htmlFor=\"param-required\" className=\"text-xs\">\n-            Required\n-          </Label>\n-        </div>\n-\n-        <div className=\"flex items-center gap-2\">\n-          <Button\n-            variant=\"outline\"\n-            size=\"sm\"\n-            className=\"h-7 text-xs px-2.5\"\n-            onClick={cancelEdit}\n-          >\n-            Cancel\n-          </Button>\n-          <Button\n-            variant=\"default\"\n-            size=\"sm\"\n-            className=\"h-7 text-xs px-2.5\"\n-            onClick={saveChanges}\n-          >\n-            Save\n-          </Button>\n-        </div>\n-      </div>\n-    </div>\n-  );\n-}\n-\n-// Mobile card list for query parameters with improved grid layout\n-function MobileQueryParamsList({\n-  params,\n-  isEditing,\n-  onEdit,\n-  onDelete,\n-}: {\n-  params: QueryParam[];\n-  isEditing: boolean;\n-  onEdit?: (index: number, param: QueryParam) => void;\n-  onDelete?: (index: number) => void;\n-}) {\n-  return (\n-    <div className=\"md:hidden grid grid-cols-1 sm:grid-cols-2 gap-2\">\n-      {params.map((param, idx) => (\n-        <QueryParamCard\n-          key={idx}\n-          param={param}\n-          isEditing={isEditing}\n-          onEdit={(updatedParam) => onEdit && onEdit(idx, updatedParam)}\n-          onDelete={() => onDelete && onDelete(idx)}\n-        />\n-      ))}\n-    </div>\n-  );\n-}\n-\n-// New parameter form with improved styling\n-function NewParameterForm({\n-  newParam,\n-  setNewParam,\n-  addParam,\n-  onCancel,\n-}: {\n-  newParam: QueryParam;\n-  setNewParam: (param: QueryParam) => void;\n-  addParam: () => void;\n-  onCancel: () => void;\n-}) {\n-  return (\n-    <div className=\"mt-2 bg-hover-active/5 rounded-md border border-primary-cta/20 p-3 space-y-2.5\">\n-      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2.5\">\n-        <div>\n-          <Label\n-            htmlFor=\"new-param-name\"\n-            className=\"text-xs mb-1 block text-secondary-text\"\n-          >\n-            Parameter Name\n-          </Label>\n-          <Input\n-            id=\"new-param-name\"\n-            value={newParam.name}\n-            onChange={(e) =>\n-              setNewParam({\n-                ...newParam,\n-                name: e.target.value,\n-              })\n-            }\n-            className=\"h-7 bg-primary-background text-sm\"\n-            placeholder=\"e.g., page, limit\"\n-          />\n-        </div>\n-        <div>\n-          <Label\n-            htmlFor=\"new-param-type\"\n-            className=\"text-xs mb-1 block text-secondary-text\"\n-          >\n-            Type\n-          </Label>\n-          <Select\n-            value={newParam.type}\n-            onValueChange={(value) => setNewParam({ ...newParam, type: value })}\n-          >\n-            <SelectTrigger\n-              id=\"new-param-type\"\n-              className=\"h-7 bg-primary-background text-sm\"\n-            >\n-              <SelectValue placeholder=\"Select type\" />\n-            </SelectTrigger>\n-            <SelectContent>\n-              {paramTypes.map((type) => (\n-                <SelectItem key={type} value={type} className=\"text-sm\">\n-                  {type}\n-                </SelectItem>\n-              ))}\n-            </SelectContent>\n-          </Select>\n-        </div>\n-      </div>\n-\n-      <div>\n-        <Label\n-          htmlFor=\"new-param-description\"\n-          className=\"text-xs mb-1 block text-secondary-text\"\n-        >\n-          Description\n-        </Label>\n-        <Textarea\n-          id=\"new-param-description\"\n-          value={newParam.description}\n-          onChange={(e) =>\n-            setNewParam({\n-              ...newParam,\n-              description: e.target.value,\n-            })\n-          }\n-          rows={2}\n-          className=\"resize-none bg-primary-background text-sm min-h-[60px]\"\n-          placeholder=\"What does this parameter do?\"\n-        />\n-      </div>\n-\n-      <div className=\"flex flex-wrap items-center justify-between gap-2 pt-1\">\n-        <div className=\"flex items-center gap-1.5\">\n-          <Checkbox\n-            id=\"new-param-required\"\n-            checked={newParam.required}\n-            onCheckedChange={(checked) =>\n-              setNewParam({\n-                ...newParam,\n-                required: checked === true,\n-              })\n-            }\n-            className=\"h-3.5 w-3.5\"\n-          />\n-          <Label htmlFor=\"new-param-required\" className=\"text-xs\">\n-            Required\n-          </Label>\n-        </div>\n-\n-        <div className=\"flex items-center gap-2\">\n-          <Button\n-            variant=\"outline\"\n-            size=\"sm\"\n-            className=\"h-7 text-xs px-2.5\"\n-            onClick={onCancel}\n-          >\n-            Cancel\n-          </Button>\n-          <Button\n-            variant=\"default\"\n-            size=\"sm\"\n-            className=\"h-7 text-xs px-2.5\"\n-            onClick={addParam}\n-            disabled={!newParam.name.trim()}\n-          >\n-            Add\n-          </Button>\n-        </div>\n-      </div>\n-    </div>\n-  );\n-}\n-// Desktop table for query parameters\n-function DesktopQueryParamsTable({\n-  params,\n-  isEditing,\n-  onEdit,\n-  onDelete,\n-}: {\n-  params: QueryParam[];\n-  isEditing: boolean;\n-  onEdit?: (index: number, param: QueryParam) => void;\n-  onDelete?: (index: number) => void;\n-}) {\n-  return (\n-    <div className=\"hidden md:block rounded-md border border-divider overflow-hidden\">\n-      <table className=\"w-full text-sm\">\n-        <thead className=\"bg-hover-active border-b border-divider\">\n-          <tr>\n-            <th className=\"px-4 py-2 text-left text-secondary-text\">Name</th>\n-            <th className=\"px-4 py-2 text-left text-secondary-text\">Type</th>\n-            <th className=\"px-4 py-2 text-left text-secondary-text\">\n-              Required\n-            </th>\n-            <th className=\"px-4 py-2 text-left text-secondary-text\">\n-              Description\n-            </th>\n-            {isEditing && <th className=\"px-4 py-2 w-24\"></th>}\n-          </tr>\n-        </thead>\n-        <tbody>\n-          {params.map((param, idx) => (\n-            <tr key={idx} className=\"border-b border-divider last:border-0\">\n-              <td className=\"px-4 py-2 font-medium text-primary-text\">\n-                {param.name}\n-              </td>\n-              <td className=\"px-4 py-2 text-secondary-text\">\n-                <code className=\"bg-hover-active/40 px-1.5 py-0.5 rounded text-xs\">\n-                  {param.type}\n-                </code>\n-              </td>\n-              <td className=\"px-4 py-2\">\n-                {param.required ? (\n-                  <Badge\n-                    variant=\"outline\"\n-                    className=\"bg-amber-600/20 text-amber-400 border-0\"\n-                  >\n-                    Required\n-                  </Badge>\n-                ) : (\n-                  <Badge\n-                    variant=\"outline\"\n-                    className=\"bg-blue-600/20 text-blue-400 border-0\"\n-                  >\n-                    Optional\n-                  </Badge>\n-                )}\n-              </td>\n-              <td className=\"px-4 py-2 text-secondary-text\">\n-                {param.description}\n-              </td>\n-              {isEditing && (\n-                <td className=\"px-4 py-2 text-right\">\n-                  <div className=\"flex items-center justify-end gap-1\">\n-                    <Button\n-                      variant=\"ghost\"\n-                      size=\"sm\"\n-                      className=\"h-7 w-7 p-0\"\n-                      onClick={() => onEdit && onEdit(idx, param)}\n-                    >\n-                      <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\n-                    </Button>\n-                    {onDelete && (\n-                      <Button\n-                        variant=\"ghost\"\n-                        size=\"sm\"\n-                        className=\"h-7 w-7 p-0 hover:text-red-400\"\n-                        onClick={() => onDelete(idx)}\n-                      >\n-                        <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\n-                      </Button>\n-                    )}\n-                  </div>\n-                </td>\n-              )}\n-            </tr>\n-          ))}\n-        </tbody>\n-      </table>\n-    </div>\n-  );\n-}\n-\n-interface RequestSectionProps {\n-  request: Request;\n-  path: string;\n-  isEditing?: boolean;\n-  onUpdateRequest?: (updatedRequest: Request) => void;\n-}\n-\n-export function RequestSection({\n-  request,\n-  path,\n-  isEditing = false,\n-  onUpdateRequest,\n-}: RequestSectionProps) {\n-  const [addingParam, setAddingParam] = useState(false);\n-  const [newParam, setNewParam] = useState<QueryParam>({\n-    name: \"\",\n-    type: \"string\",\n-    required: false,\n-    description: \"\",\n-  });\n-\n-  // State for mobile parameter editing\n-  const [editingParamIndex, setEditingParamIndex] = useState<number | null>(\n-    null\n-  );\n-\n-  // Handle parameter update\n-  const handleParamUpdate = (index: number, updatedParam: QueryParam) => {\n-    if (!onUpdateRequest) return;\n-\n-    const newParams = [...request.query_params];\n-    newParams[index] = updatedParam;\n-\n-    onUpdateRequest({\n-      ...request,\n-      query_params: newParams,\n-    });\n-\n-    setEditingParamIndex(null);\n-  };\n-\n-  // Handle parameter deletion\n-  const handleParamDelete = (index: number) => {\n-    if (!onUpdateRequest) return;\n-\n-    const newParams = [...request.query_params];\n-    newParams.splice(index, 1);\n-\n-    onUpdateRequest({\n-      ...request,\n-      query_params: newParams,\n-    });\n-  };\n-\n-  // Add new parameter\n-  const addParam = () => {\n-    if (!onUpdateRequest || newParam.name.trim() === \"\") return;\n-\n-    onUpdateRequest({\n-      ...request,\n-      query_params: [...request.query_params, newParam],\n-    });\n-\n-    setNewParam({\n-      name: \"\",\n-      type: \"string\",\n-      required: false,\n-      description: \"\",\n-    });\n-\n-    setAddingParam(false);\n-  };\n-\n-  // Handle request body update\n-  const handleBodyUpdate = (schemaData: Record<string, any>) => {\n-    if (!onUpdateRequest || !request.body) return;\n-\n-    onUpdateRequest({\n-      ...request,\n-      body: {\n-        ...request.body,\n-        schema_data: schemaData,\n-      },\n-    });\n-  };\n-\n-  return (\n-    <div className=\"space-y-4\">\n-      {/* Path Parameters */}\n-      <PathParams path={path} editable={isEditing} />\n-\n-      {/* Query Parameters */}\n-      <div>\n-        <div className=\"flex items-center justify-between mb-2\">\n-          <h4 className=\"text-md font-medium text-secondary-text\">\n-            Query Parameters\n-          </h4>\n-          {isEditing && !addingParam && (\n-            <Button\n-              variant=\"ghost\"\n-              size=\"sm\"\n-              className=\"text-primary-cta\"\n-              onClick={() => setAddingParam(true)}\n-            >\n-              <Plus className=\"h-3.5 w-3.5 mr-1\" /> Add Parameter\n-            </Button>\n-          )}\n-        </div>\n-\n-        {(request.query_params && request.query_params.length > 0) ||\n-        addingParam ? (\n-          <>\n-            {/* Desktop Table View */}\n-            <DesktopQueryParamsTable\n-              params={request.query_params}\n-              isEditing={isEditing}\n-              onEdit={handleParamUpdate}\n-              onDelete={handleParamDelete}\n-            />\n-\n-            {/* Mobile Card List View */}\n-            <MobileQueryParamsList\n-              params={request.query_params}\n-              isEditing={isEditing}\n-              onEdit={handleParamUpdate}\n-              onDelete={handleParamDelete}\n-            />\n-\n-            {/* New parameter form */}\n-            {isEditing && addingParam && (\n-              <div className=\"mt-2 bg-hover-active/10 rounded-md border border-divider p-3 space-y-3\">\n-                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n-                  <div>\n-                    <Label\n-                      htmlFor=\"new-param-name\"\n-                      className=\"text-xs mb-1 block\"\n-                    >\n-                      Parameter Name\n-                    </Label>\n-                    <Input\n-                      id=\"new-param-name\"\n-                      value={newParam.name}\n-                      onChange={(e) =>\n-                        setNewParam({\n-                          ...newParam,\n-                          name: e.target.value,\n-                        })\n-                      }\n-                      className=\"h-8 bg-primary-background w-full\"\n-                      placeholder=\"e.g., page, limit\"\n-                    />\n-                  </div>\n-                  <div>\n-                    <Label\n-                      htmlFor=\"new-param-type\"\n-                      className=\"text-xs mb-1 block\"\n-                    >\n-                      Type\n-                    </Label>\n-                    <Select\n-                      value={newParam.type}\n-                      onValueChange={(value) =>\n-                        setNewParam({ ...newParam, type: value })\n-                      }\n-                    >\n-                      <SelectTrigger\n-                        id=\"new-param-type\"\n-                        className=\"h-8 bg-primary-background w-full\"\n-                      >\n-                        <SelectValue placeholder=\"Select type\" />\n-                      </SelectTrigger>\n-                      <SelectContent>\n-                        {paramTypes.map((type) => (\n-                          <SelectItem key={type} value={type}>\n-                            {type}\n-                          </SelectItem>\n-                        ))}\n-                      </SelectContent>\n-                    </Select>\n-                  </div>\n-                </div>\n-\n-                <div>\n-                  <Label\n-                    htmlFor=\"new-param-description\"\n-                    className=\"text-xs mb-1 block\"\n-                  >\n-                    Description\n-                  </Label>\n-                  <Textarea\n-                    id=\"new-param-description\"\n-                    value={newParam.description}\n-                    onChange={(e) =>\n-                      setNewParam({\n-                        ...newParam,\n-                        description: e.target.value,\n-                      })\n-                    }\n-                    rows={2}\n-                    className=\"resize-none bg-primary-background w-full\"\n-                    placeholder=\"What does this parameter do?\"\n-                  />\n-                </div>\n-\n-                <div className=\"flex flex-wrap items-center justify-between gap-2\">\n-                  <div className=\"flex items-center gap-2\">\n-                    <Checkbox\n-                      id=\"new-param-required\"\n-                      checked={newParam.required}\n-                      onCheckedChange={(checked) =>\n-                        setNewParam({\n-                          ...newParam,\n-                          required: checked === true,\n-                        })\n-                      }\n-                    />\n-                    <Label htmlFor=\"new-param-required\" className=\"text-sm\">\n-                      Required\n-                    </Label>\n-                  </div>\n-\n-                  <div className=\"flex items-center gap-2\">\n-                    <Button\n-                      variant=\"outline\"\n-                      size=\"sm\"\n-                      className=\"h-7\"\n-                      onClick={() => setAddingParam(false)}\n-                    >\n-                      Cancel\n-                    </Button>\n-                    <Button\n-                      variant=\"default\"\n-                      size=\"sm\"\n-                      className=\"h-7\"\n-                      onClick={addParam}\n-                      disabled={!newParam.name.trim()}\n-                    >\n-                      Add\n-                    </Button>\n-                  </div>\n-                </div>\n-              </div>\n-            )}\n-          </>\n-        ) : (\n-          <div className=\"rounded-md border border-divider p-3 text-center text-secondary-text\">\n-            No query parameters defined\n-          </div>\n-        )}\n-      </div>\n-\n-      {/* Request Body */}\n-      {(request.body || isEditing) && (\n-        <div>\n-          <h4 className=\"text-md font-medium mb-2 text-secondary-text\">\n-            Request Body\n-          </h4>\n-          <div className=\"space-y-2\">\n-            {request.body && (\n-              <>\n-                <div className=\"flex gap-2 items-center\">\n-                  <Badge\n-                    variant=\"outline\"\n-                    className=\"bg-hover-active text-primary-text border-divider\"\n-                  >\n-                    {request.body.type}\n-                  </Badge>\n-                </div>\n-                <JsonDisplay\n-                  data={request.body.schema_data}\n-                  maxHeight=\"96\"\n-                  editable={isEditing}\n-                  onEdit={handleBodyUpdate}\n-                />\n-              </>\n-            )}\n-            {!request.body && isEditing && (\n-              <div className=\"rounded-md border border-divider p-4 text-center\">\n-                <Button\n-                  variant=\"outline\"\n-                  size=\"sm\"\n-                  onClick={() => {\n-                    if (!onUpdateRequest) return;\n-                    onUpdateRequest({\n-                      ...request,\n-                      body: {\n-                        type: \"application/json\",\n-                        schema_data: {},\n-                      },\n-                    });\n-                  }}\n-                >\n-                  <Plus className=\"h-4 w-4 mr-1\" />\n-                  Add Request Body\n-                </Button>\n-              </div>\n-            )}\n-          </div>\n-        </div>\n-      )}\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { Badge } from \"@/components/ui/badge\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Textarea } from \"@/components/ui/textarea\";\r\n+import { Checkbox } from \"@/components/ui/checkbox\";\r\n+import { Label } from \"@/components/ui/label\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { Plus, Edit, Trash2 } from \"lucide-react\";\r\n+\r\n+import { Request, QueryParam } from \"../types\";\r\n+import { paramTypes } from \"../constants\";\r\n+import { PathParams } from \"./path-params\";\r\n+import { JsonDisplay } from \"./json-display\";\r\n+\r\n+// Mobile-friendly query parameter item\r\n+function QueryParamCard({\r\n+  param,\r\n+  isEditing,\r\n+  onEdit,\r\n+  onDelete,\r\n+}: {\r\n+  param: QueryParam;\r\n+  isEditing: boolean;\r\n+  onEdit?: (param: QueryParam) => void;\r\n+  onDelete?: () => void;\r\n+}) {\r\n+  const [editMode, setEditMode] = useState(false);\r\n+  const [editedParam, setEditedParam] = useState<QueryParam>({ ...param });\r\n+\r\n+  // Save changes and exit edit mode\r\n+  const saveChanges = () => {\r\n+    if (onEdit) {\r\n+      onEdit(editedParam);\r\n+    }\r\n+    setEditMode(false);\r\n+  };\r\n+\r\n+  // Cancel editing and reset to original values\r\n+  const cancelEdit = () => {\r\n+    setEditedParam({ ...param });\r\n+    setEditMode(false);\r\n+  };\r\n+\r\n+  if (!isEditing || !editMode) {\r\n+    return (\r\n+      <div className=\"bg-primary-background rounded-md border border-divider hover:border-primary-cta/30 transition-colors p-2.5\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <h4 className=\"font-medium text-primary-text text-sm\">\r\n+            {param.name}\r\n+          </h4>\r\n+          {isEditing && (\r\n+            <div className=\"flex items-center -mr-1\">\r\n+              <Button\r\n+                variant=\"ghost\"\r\n+                size=\"sm\"\r\n+                className=\"h-6 w-6 p-0 text-secondary-text hover:text-primary-cta\"\r\n+                onClick={() => setEditMode(true)}\r\n+              >\r\n+                <Edit className=\"h-3 w-3\" />\r\n+              </Button>\r\n+              {onDelete && (\r\n+                <Button\r\n+                  variant=\"ghost\"\r\n+                  size=\"sm\"\r\n+                  className=\"h-6 w-6 p-0 text-secondary-text hover:text-red-400\"\r\n+                  onClick={onDelete}\r\n+                >\r\n+                  <Trash2 className=\"h-3 w-3\" />\r\n+                </Button>\r\n+              )}\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div className=\"flex flex-wrap items-center gap-1.5 mt-1.5 mb-1\">\r\n+          <code className=\"bg-hover-active/30 px-1.5 py-0.5 rounded text-xs text-secondary-text\">\r\n+            {param.type}\r\n+          </code>\r\n+          {param.required ? (\r\n+            <Badge\r\n+              variant=\"outline\"\r\n+              className=\"bg-amber-600/10 text-amber-400 border-amber-600/20 text-xs px-1.5 py-0 h-5\"\r\n+            >\r\n+              Required\r\n+            </Badge>\r\n+          ) : (\r\n+            <Badge\r\n+              variant=\"outline\"\r\n+              className=\"bg-blue-600/10 text-blue-400 border-blue-600/20 text-xs px-1.5 py-0 h-5\"\r\n+            >\r\n+              Optional\r\n+            </Badge>\r\n+          )}\r\n+        </div>\r\n+\r\n+        {param.description && (\r\n+          <p className=\"text-secondary-text text-xs leading-tight mt-1\">\r\n+            {param.description}\r\n+          </p>\r\n+        )}\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n+  // Edit mode - more compact and elegant\r\n+  return (\r\n+    <div className=\"bg-hover-active/5 rounded-md border border-primary-cta/30 p-3 space-y-2.5 transition-all\">\r\n+      <div>\r\n+        <Label\r\n+          htmlFor=\"param-name\"\r\n+          className=\"text-xs mb-1 block text-secondary-text\"\r\n+        >\r\n+          Parameter Name\r\n+        </Label>\r\n+        <Input\r\n+          id=\"param-name\"\r\n+          value={editedParam.name}\r\n+          onChange={(e) =>\r\n+            setEditedParam({ ...editedParam, name: e.target.value })\r\n+          }\r\n+          className=\"h-7 bg-primary-background text-sm\"\r\n+        />\r\n+      </div>\r\n+\r\n+      <div>\r\n+        <Label\r\n+          htmlFor=\"param-type\"\r\n+          className=\"text-xs mb-1 block text-secondary-text\"\r\n+        >\r\n+          Type\r\n+        </Label>\r\n+        <Select\r\n+          value={editedParam.type}\r\n+          onValueChange={(value) =>\r\n+            setEditedParam({ ...editedParam, type: value })\r\n+          }\r\n+        >\r\n+          <SelectTrigger\r\n+            id=\"param-type\"\r\n+            className=\"h-7 bg-primary-background text-sm\"\r\n+          >\r\n+            <SelectValue placeholder=\"Select type\" />\r\n+          </SelectTrigger>\r\n+          <SelectContent>\r\n+            {paramTypes.map((type) => (\r\n+              <SelectItem key={type} value={type} className=\"text-sm\">\r\n+                {type}\r\n+              </SelectItem>\r\n+            ))}\r\n+          </SelectContent>\r\n+        </Select>\r\n+      </div>\r\n+\r\n+      <div>\r\n+        <Label\r\n+          htmlFor=\"param-description\"\r\n+          className=\"text-xs mb-1 block text-secondary-text\"\r\n+        >\r\n+          Description\r\n+        </Label>\r\n+        <Textarea\r\n+          id=\"param-description\"\r\n+          value={editedParam.description}\r\n+          onChange={(e) =>\r\n+            setEditedParam({\r\n+              ...editedParam,\r\n+              description: e.target.value,\r\n+            })\r\n+          }\r\n+          placeholder=\"What does this parameter do?\"\r\n+          rows={2}\r\n+          className=\"resize-none bg-primary-background text-sm min-h-[60px]\"\r\n+        />\r\n+      </div>\r\n+\r\n+      <div className=\"flex items-center justify-between pt-1\">\r\n+        <div className=\"flex items-center gap-1.5\">\r\n+          <Checkbox\r\n+            id=\"param-required\"\r\n+            checked={editedParam.required}\r\n+            onCheckedChange={(checked) =>\r\n+              setEditedParam({\r\n+                ...editedParam,\r\n+                required: checked === true,\r\n+              })\r\n+            }\r\n+            className=\"h-3.5 w-3.5\"\r\n+          />\r\n+          <Label htmlFor=\"param-required\" className=\"text-xs\">\r\n+            Required\r\n+          </Label>\r\n+        </div>\r\n+\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <Button\r\n+            variant=\"outline\"\r\n+            size=\"sm\"\r\n+            className=\"h-7 text-xs px-2.5\"\r\n+            onClick={cancelEdit}\r\n+          >\r\n+            Cancel\r\n+          </Button>\r\n+          <Button\r\n+            variant=\"default\"\r\n+            size=\"sm\"\r\n+            className=\"h-7 text-xs px-2.5\"\r\n+            onClick={saveChanges}\r\n+          >\r\n+            Save\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+// Mobile card list for query parameters with improved grid layout\r\n+function MobileQueryParamsList({\r\n+  params,\r\n+  isEditing,\r\n+  onEdit,\r\n+  onDelete,\r\n+}: {\r\n+  params: QueryParam[];\r\n+  isEditing: boolean;\r\n+  onEdit?: (index: number, param: QueryParam) => void;\r\n+  onDelete?: (index: number) => void;\r\n+}) {\r\n+  return (\r\n+    <div className=\"md:hidden grid grid-cols-1 sm:grid-cols-2 gap-2\">\r\n+      {params.map((param, idx) => (\r\n+        <QueryParamCard\r\n+          key={idx}\r\n+          param={param}\r\n+          isEditing={isEditing}\r\n+          onEdit={(updatedParam) => onEdit && onEdit(idx, updatedParam)}\r\n+          onDelete={() => onDelete && onDelete(idx)}\r\n+        />\r\n+      ))}\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+// New parameter form with improved styling\r\n+function NewParameterForm({\r\n+  newParam,\r\n+  setNewParam,\r\n+  addParam,\r\n+  onCancel,\r\n+}: {\r\n+  newParam: QueryParam;\r\n+  setNewParam: (param: QueryParam) => void;\r\n+  addParam: () => void;\r\n+  onCancel: () => void;\r\n+}) {\r\n+  return (\r\n+    <div className=\"mt-2 bg-hover-active/5 rounded-md border border-primary-cta/20 p-3 space-y-2.5\">\r\n+      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2.5\">\r\n+        <div>\r\n+          <Label\r\n+            htmlFor=\"new-param-name\"\r\n+            className=\"text-xs mb-1 block text-secondary-text\"\r\n+          >\r\n+            Parameter Name\r\n+          </Label>\r\n+          <Input\r\n+            id=\"new-param-name\"\r\n+            value={newParam.name}\r\n+            onChange={(e) =>\r\n+              setNewParam({\r\n+                ...newParam,\r\n+                name: e.target.value,\r\n+              })\r\n+            }\r\n+            className=\"h-7 bg-primary-background text-sm\"\r\n+            placeholder=\"e.g., page, limit\"\r\n+          />\r\n+        </div>\r\n+        <div>\r\n+          <Label\r\n+            htmlFor=\"new-param-type\"\r\n+            className=\"text-xs mb-1 block text-secondary-text\"\r\n+          >\r\n+            Type\r\n+          </Label>\r\n+          <Select\r\n+            value={newParam.type}\r\n+            onValueChange={(value) => setNewParam({ ...newParam, type: value })}\r\n+          >\r\n+            <SelectTrigger\r\n+              id=\"new-param-type\"\r\n+              className=\"h-7 bg-primary-background text-sm\"\r\n+            >\r\n+              <SelectValue placeholder=\"Select type\" />\r\n+            </SelectTrigger>\r\n+            <SelectContent>\r\n+              {paramTypes.map((type) => (\r\n+                <SelectItem key={type} value={type} className=\"text-sm\">\r\n+                  {type}\r\n+                </SelectItem>\r\n+              ))}\r\n+            </SelectContent>\r\n+          </Select>\r\n+        </div>\r\n+      </div>\r\n+\r\n+      <div>\r\n+        <Label\r\n+          htmlFor=\"new-param-description\"\r\n+          className=\"text-xs mb-1 block text-secondary-text\"\r\n+        >\r\n+          Description\r\n+        </Label>\r\n+        <Textarea\r\n+          id=\"new-param-description\"\r\n+          value={newParam.description}\r\n+          onChange={(e) =>\r\n+            setNewParam({\r\n+              ...newParam,\r\n+              description: e.target.value,\r\n+            })\r\n+          }\r\n+          rows={2}\r\n+          className=\"resize-none bg-primary-background text-sm min-h-[60px]\"\r\n+          placeholder=\"What does this parameter do?\"\r\n+        />\r\n+      </div>\r\n+\r\n+      <div className=\"flex flex-wrap items-center justify-between gap-2 pt-1\">\r\n+        <div className=\"flex items-center gap-1.5\">\r\n+          <Checkbox\r\n+            id=\"new-param-required\"\r\n+            checked={newParam.required}\r\n+            onCheckedChange={(checked) =>\r\n+              setNewParam({\r\n+                ...newParam,\r\n+                required: checked === true,\r\n+              })\r\n+            }\r\n+            className=\"h-3.5 w-3.5\"\r\n+          />\r\n+          <Label htmlFor=\"new-param-required\" className=\"text-xs\">\r\n+            Required\r\n+          </Label>\r\n+        </div>\r\n+\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <Button\r\n+            variant=\"outline\"\r\n+            size=\"sm\"\r\n+            className=\"h-7 text-xs px-2.5\"\r\n+            onClick={onCancel}\r\n+          >\r\n+            Cancel\r\n+          </Button>\r\n+          <Button\r\n+            variant=\"default\"\r\n+            size=\"sm\"\r\n+            className=\"h-7 text-xs px-2.5\"\r\n+            onClick={addParam}\r\n+            disabled={!newParam.name.trim()}\r\n+          >\r\n+            Add\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r\n+// Desktop table for query parameters\r\n+function DesktopQueryParamsTable({\r\n+  params,\r\n+  isEditing,\r\n+  onEdit,\r\n+  onDelete,\r\n+}: {\r\n+  params: QueryParam[];\r\n+  isEditing: boolean;\r\n+  onEdit?: (index: number, param: QueryParam) => void;\r\n+  onDelete?: (index: number) => void;\r\n+}) {\r\n+  return (\r\n+    <div className=\"hidden md:block rounded-md border border-divider overflow-hidden\">\r\n+      <table className=\"w-full text-sm\">\r\n+        <thead className=\"bg-hover-active border-b border-divider\">\r\n+          <tr>\r\n+            <th className=\"px-4 py-2 text-left text-secondary-text\">Name</th>\r\n+            <th className=\"px-4 py-2 text-left text-secondary-text\">Type</th>\r\n+            <th className=\"px-4 py-2 text-left text-secondary-text\">\r\n+              Required\r\n+            </th>\r\n+            <th className=\"px-4 py-2 text-left text-secondary-text\">\r\n+              Description\r\n+            </th>\r\n+            {isEditing && <th className=\"px-4 py-2 w-24\"></th>}\r\n+          </tr>\r\n+        </thead>\r\n+        <tbody>\r\n+          {params.map((param, idx) => (\r\n+            <tr key={idx} className=\"border-b border-divider last:border-0\">\r\n+              <td className=\"px-4 py-2 font-medium text-primary-text\">\r\n+                {param.name}\r\n+              </td>\r\n+              <td className=\"px-4 py-2 text-secondary-text\">\r\n+                <code className=\"bg-hover-active/40 px-1.5 py-0.5 rounded text-xs\">\r\n+                  {param.type}\r\n+                </code>\r\n+              </td>\r\n+              <td className=\"px-4 py-2\">\r\n+                {param.required ? (\r\n+                  <Badge\r\n+                    variant=\"outline\"\r\n+                    className=\"bg-amber-600/20 text-amber-400 border-0\"\r\n+                  >\r\n+                    Required\r\n+                  </Badge>\r\n+                ) : (\r\n+                  <Badge\r\n+                    variant=\"outline\"\r\n+                    className=\"bg-blue-600/20 text-blue-400 border-0\"\r\n+                  >\r\n+                    Optional\r\n+                  </Badge>\r\n+                )}\r\n+              </td>\r\n+              <td className=\"px-4 py-2 text-secondary-text\">\r\n+                {param.description}\r\n+              </td>\r\n+              {isEditing && (\r\n+                <td className=\"px-4 py-2 text-right\">\r\n+                  <div className=\"flex items-center justify-end gap-1\">\r\n+                    <Button\r\n+                      variant=\"ghost\"\r\n+                      size=\"sm\"\r\n+                      className=\"h-7 w-7 p-0\"\r\n+                      onClick={() => onEdit && onEdit(idx, param)}\r\n+                    >\r\n+                      <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n+                    </Button>\r\n+                    {onDelete && (\r\n+                      <Button\r\n+                        variant=\"ghost\"\r\n+                        size=\"sm\"\r\n+                        className=\"h-7 w-7 p-0 hover:text-red-400\"\r\n+                        onClick={() => onDelete(idx)}\r\n+                      >\r\n+                        <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n+                      </Button>\r\n+                    )}\r\n+                  </div>\r\n+                </td>\r\n+              )}\r\n+            </tr>\r\n+          ))}\r\n+        </tbody>\r\n+      </table>\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+interface RequestSectionProps {\r\n+  request: Request;\r\n+  path: string;\r\n+  isEditing?: boolean;\r\n+  onUpdateRequest?: (updatedRequest: Request) => void;\r\n+}\r\n+\r\n+export function RequestSection({\r\n+  request,\r\n+  path,\r\n+  isEditing = false,\r\n+  onUpdateRequest,\r\n+}: RequestSectionProps) {\r\n+  const [addingParam, setAddingParam] = useState(false);\r\n+  const [newParam, setNewParam] = useState<QueryParam>({\r\n+    name: \"\",\r\n+    type: \"string\",\r\n+    required: false,\r\n+    description: \"\",\r\n+  });\r\n+\r\n+  // State for mobile parameter editing\r\n+  const [editingParamIndex, setEditingParamIndex] = useState<number | null>(\r\n+    null\r\n+  );\r\n+\r\n+  // Handle parameter update\r\n+  const handleParamUpdate = (index: number, updatedParam: QueryParam) => {\r\n+    if (!onUpdateRequest) return;\r\n+\r\n+    const newParams = [...request.query_params];\r\n+    newParams[index] = updatedParam;\r\n+\r\n+    onUpdateRequest({\r\n+      ...request,\r\n+      query_params: newParams,\r\n+    });\r\n+\r\n+    setEditingParamIndex(null);\r\n+  };\r\n+\r\n+  // Handle parameter deletion\r\n+  const handleParamDelete = (index: number) => {\r\n+    if (!onUpdateRequest) return;\r\n+\r\n+    const newParams = [...request.query_params];\r\n+    newParams.splice(index, 1);\r\n+\r\n+    onUpdateRequest({\r\n+      ...request,\r\n+      query_params: newParams,\r\n+    });\r\n+  };\r\n+\r\n+  // Add new parameter\r\n+  const addParam = () => {\r\n+    if (!onUpdateRequest || newParam.name.trim() === \"\") return;\r\n+\r\n+    onUpdateRequest({\r\n+      ...request,\r\n+      query_params: [...request.query_params, newParam],\r\n+    });\r\n+\r\n+    setNewParam({\r\n+      name: \"\",\r\n+      type: \"string\",\r\n+      required: false,\r\n+      description: \"\",\r\n+    });\r\n+\r\n+    setAddingParam(false);\r\n+  };\r\n+\r\n+  // Handle request body update\r\n+  const handleBodyUpdate = (schemaData: Record<string, any>) => {\r\n+    if (!onUpdateRequest || !request.body) return;\r\n+\r\n+    onUpdateRequest({\r\n+      ...request,\r\n+      body: {\r\n+        ...request.body,\r\n+        schema_data: schemaData,\r\n+      },\r\n+    });\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"space-y-4\">\r\n+      {/* Path Parameters */}\r\n+      <PathParams path={path} editable={isEditing} />\r\n+\r\n+      {/* Query Parameters */}\r\n+      <div>\r\n+        <div className=\"flex items-center justify-between mb-2\">\r\n+          <h4 className=\"text-md font-medium text-secondary-text\">\r\n+            Query Parameters\r\n+          </h4>\r\n+          {isEditing && !addingParam && (\r\n+            <Button\r\n+              variant=\"ghost\"\r\n+              size=\"sm\"\r\n+              className=\"text-primary-cta\"\r\n+              onClick={() => setAddingParam(true)}\r\n+            >\r\n+              <Plus className=\"h-3.5 w-3.5 mr-1\" /> Add Parameter\r\n+            </Button>\r\n+          )}\r\n+        </div>\r\n+\r\n+        {(request.query_params && request.query_params.length > 0) ||\r\n+        addingParam ? (\r\n+          <>\r\n+            {/* Desktop Table View */}\r\n+            <DesktopQueryParamsTable\r\n+              params={request.query_params}\r\n+              isEditing={isEditing}\r\n+              onEdit={handleParamUpdate}\r\n+              onDelete={handleParamDelete}\r\n+            />\r\n+\r\n+            {/* Mobile Card List View */}\r\n+            <MobileQueryParamsList\r\n+              params={request.query_params}\r\n+              isEditing={isEditing}\r\n+              onEdit={handleParamUpdate}\r\n+              onDelete={handleParamDelete}\r\n+            />\r\n+\r\n+            {/* New parameter form */}\r\n+            {isEditing && addingParam && (\r\n+              <div className=\"mt-2 bg-hover-active/10 rounded-md border border-divider p-3 space-y-3\">\r\n+                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n+                  <div>\r\n+                    <Label\r\n+                      htmlFor=\"new-param-name\"\r\n+                      className=\"text-xs mb-1 block\"\r\n+                    >\r\n+                      Parameter Name\r\n+                    </Label>\r\n+                    <Input\r\n+                      id=\"new-param-name\"\r\n+                      value={newParam.name}\r\n+                      onChange={(e) =>\r\n+                        setNewParam({\r\n+                          ...newParam,\r\n+                          name: e.target.value,\r\n+                        })\r\n+                      }\r\n+                      className=\"h-8 bg-primary-background w-full\"\r\n+                      placeholder=\"e.g., page, limit\"\r\n+                    />\r\n+                  </div>\r\n+                  <div>\r\n+                    <Label\r\n+                      htmlFor=\"new-param-type\"\r\n+                      className=\"text-xs mb-1 block\"\r\n+                    >\r\n+                      Type\r\n+                    </Label>\r\n+                    <Select\r\n+                      value={newParam.type}\r\n+                      onValueChange={(value) =>\r\n+                        setNewParam({ ...newParam, type: value })\r\n+                      }\r\n+                    >\r\n+                      <SelectTrigger\r\n+                        id=\"new-param-type\"\r\n+                        className=\"h-8 bg-primary-background w-full\"\r\n+                      >\r\n+                        <SelectValue placeholder=\"Select type\" />\r\n+                      </SelectTrigger>\r\n+                      <SelectContent>\r\n+                        {paramTypes.map((type) => (\r\n+                          <SelectItem key={type} value={type}>\r\n+                            {type}\r\n+                          </SelectItem>\r\n+                        ))}\r\n+                      </SelectContent>\r\n+                    </Select>\r\n+                  </div>\r\n+                </div>\r\n+\r\n+                <div>\r\n+                  <Label\r\n+                    htmlFor=\"new-param-description\"\r\n+                    className=\"text-xs mb-1 block\"\r\n+                  >\r\n+                    Description\r\n+                  </Label>\r\n+                  <Textarea\r\n+                    id=\"new-param-description\"\r\n+                    value={newParam.description}\r\n+                    onChange={(e) =>\r\n+                      setNewParam({\r\n+                        ...newParam,\r\n+                        description: e.target.value,\r\n+                      })\r\n+                    }\r\n+                    rows={2}\r\n+                    className=\"resize-none bg-primary-background w-full\"\r\n+                    placeholder=\"What does this parameter do?\"\r\n+                  />\r\n+                </div>\r\n+\r\n+                <div className=\"flex flex-wrap items-center justify-between gap-2\">\r\n+                  <div className=\"flex items-center gap-2\">\r\n+                    <Checkbox\r\n+                      id=\"new-param-required\"\r\n+                      checked={newParam.required}\r\n+                      onCheckedChange={(checked) =>\r\n+                        setNewParam({\r\n+                          ...newParam,\r\n+                          required: checked === true,\r\n+                        })\r\n+                      }\r\n+                    />\r\n+                    <Label htmlFor=\"new-param-required\" className=\"text-sm\">\r\n+                      Required\r\n+                    </Label>\r\n+                  </div>\r\n+\r\n+                  <div className=\"flex items-center gap-2\">\r\n+                    <Button\r\n+                      variant=\"outline\"\r\n+                      size=\"sm\"\r\n+                      className=\"h-7\"\r\n+                      onClick={() => setAddingParam(false)}\r\n+                    >\r\n+                      Cancel\r\n+                    </Button>\r\n+                    <Button\r\n+                      variant=\"default\"\r\n+                      size=\"sm\"\r\n+                      className=\"h-7\"\r\n+                      onClick={addParam}\r\n+                      disabled={!newParam.name.trim()}\r\n+                    >\r\n+                      Add\r\n+                    </Button>\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+            )}\r\n+          </>\r\n+        ) : (\r\n+          <div className=\"rounded-md border border-divider p-3 text-center text-secondary-text\">\r\n+            No query parameters defined\r\n+          </div>\r\n+        )}\r\n+      </div>\r\n+\r\n+      {/* Request Body */}\r\n+      {(request.body || isEditing) && (\r\n+        <div>\r\n+          <h4 className=\"text-md font-medium mb-2 text-secondary-text\">\r\n+            Request Body\r\n+          </h4>\r\n+          <div className=\"space-y-2\">\r\n+            {request.body && (\r\n+              <>\r\n+                <div className=\"flex gap-2 items-center\">\r\n+                  <Badge\r\n+                    variant=\"outline\"\r\n+                    className=\"bg-hover-active text-primary-text border-divider\"\r\n+                  >\r\n+                    {request.body.type}\r\n+                  </Badge>\r\n+                </div>\r\n+                <JsonDisplay\r\n+                  data={request.body.schema_data}\r\n+                  maxHeight=\"96\"\r\n+                  editable={isEditing}\r\n+                  onEdit={handleBodyUpdate}\r\n+                />\r\n+              </>\r\n+            )}\r\n+            {!request.body && isEditing && (\r\n+              <div className=\"rounded-md border border-divider p-4 text-center\">\r\n+                <Button\r\n+                  variant=\"outline\"\r\n+                  size=\"sm\"\r\n+                  onClick={() => {\r\n+                    if (!onUpdateRequest) return;\r\n+                    onUpdateRequest({\r\n+                      ...request,\r\n+                      body: {\r\n+                        type: \"application/json\",\r\n+                        schema_data: {},\r\n+                      },\r\n+                    });\r\n+                  }}\r\n+                >\r\n+                  <Plus className=\"h-4 w-4 mr-1\" />\r\n+                  Add Request Body\r\n+                </Button>\r\n+              </div>\r\n+            )}\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,772 +1,772 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState } from \"react\";\n",
        "-import { Badge } from \"@/components/ui/badge\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import { Textarea } from \"@/components/ui/textarea\";\n",
        "-import { Checkbox } from \"@/components/ui/checkbox\";\n",
        "-import { Label } from \"@/components/ui/label\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { Plus, Edit, Trash2 } from \"lucide-react\";\n",
        "-\n",
        "-import { Request, QueryParam } from \"../types\";\n",
        "-import { paramTypes } from \"../constants\";\n",
        "-import { PathParams } from \"./path-params\";\n",
        "-import { JsonDisplay } from \"./json-display\";\n",
        "-\n",
        "-// Mobile-friendly query parameter item\n",
        "-function QueryParamCard({\n",
        "-  param,\n",
        "-  isEditing,\n",
        "-  onEdit,\n",
        "-  onDelete,\n",
        "-}: {\n",
        "-  param: QueryParam;\n",
        "-  isEditing: boolean;\n",
        "-  onEdit?: (param: QueryParam) => void;\n",
        "-  onDelete?: () => void;\n",
        "-}) {\n",
        "-  const [editMode, setEditMode] = useState(false);\n",
        "-  const [editedParam, setEditedParam] = useState<QueryParam>({ ...param });\n",
        "-\n",
        "-  // Save changes and exit edit mode\n",
        "-  const saveChanges = () => {\n",
        "-    if (onEdit) {\n",
        "-      onEdit(editedParam);\n",
        "-    }\n",
        "-    setEditMode(false);\n",
        "-  };\n",
        "-\n",
        "-  // Cancel editing and reset to original values\n",
        "-  const cancelEdit = () => {\n",
        "-    setEditedParam({ ...param });\n",
        "-    setEditMode(false);\n",
        "-  };\n",
        "-\n",
        "-  if (!isEditing || !editMode) {\n",
        "-    return (\n",
        "-      <div className=\"bg-primary-background rounded-md border border-divider hover:border-primary-cta/30 transition-colors p-2.5\">\n",
        "-        <div className=\"flex items-center justify-between\">\n",
        "-          <h4 className=\"font-medium text-primary-text text-sm\">\n",
        "-            {param.name}\n",
        "-          </h4>\n",
        "-          {isEditing && (\n",
        "-            <div className=\"flex items-center -mr-1\">\n",
        "-              <Button\n",
        "-                variant=\"ghost\"\n",
        "-                size=\"sm\"\n",
        "-                className=\"h-6 w-6 p-0 text-secondary-text hover:text-primary-cta\"\n",
        "-                onClick={() => setEditMode(true)}\n",
        "-              >\n",
        "-                <Edit className=\"h-3 w-3\" />\n",
        "-              </Button>\n",
        "-              {onDelete && (\n",
        "-                <Button\n",
        "-                  variant=\"ghost\"\n",
        "-                  size=\"sm\"\n",
        "-                  className=\"h-6 w-6 p-0 text-secondary-text hover:text-red-400\"\n",
        "-                  onClick={onDelete}\n",
        "-                >\n",
        "-                  <Trash2 className=\"h-3 w-3\" />\n",
        "-                </Button>\n",
        "-              )}\n",
        "-            </div>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"flex flex-wrap items-center gap-1.5 mt-1.5 mb-1\">\n",
        "-          <code className=\"bg-hover-active/30 px-1.5 py-0.5 rounded text-xs text-secondary-text\">\n",
        "-            {param.type}\n",
        "-          </code>\n",
        "-          {param.required ? (\n",
        "-            <Badge\n",
        "-              variant=\"outline\"\n",
        "-              className=\"bg-amber-600/10 text-amber-400 border-amber-600/20 text-xs px-1.5 py-0 h-5\"\n",
        "-            >\n",
        "-              Required\n",
        "-            </Badge>\n",
        "-          ) : (\n",
        "-            <Badge\n",
        "-              variant=\"outline\"\n",
        "-              className=\"bg-blue-600/10 text-blue-400 border-blue-600/20 text-xs px-1.5 py-0 h-5\"\n",
        "-            >\n",
        "-              Optional\n",
        "-            </Badge>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        {param.description && (\n",
        "-          <p className=\"text-secondary-text text-xs leading-tight mt-1\">\n",
        "-            {param.description}\n",
        "-          </p>\n",
        "-        )}\n",
        "-      </div>\n",
        "-    );\n",
        "-  }\n",
        "-\n",
        "-  // Edit mode - more compact and elegant\n",
        "-  return (\n",
        "-    <div className=\"bg-hover-active/5 rounded-md border border-primary-cta/30 p-3 space-y-2.5 transition-all\">\n",
        "-      <div>\n",
        "-        <Label\n",
        "-          htmlFor=\"param-name\"\n",
        "-          className=\"text-xs mb-1 block text-secondary-text\"\n",
        "-        >\n",
        "-          Parameter Name\n",
        "-        </Label>\n",
        "-        <Input\n",
        "-          id=\"param-name\"\n",
        "-          value={editedParam.name}\n",
        "-          onChange={(e) =>\n",
        "-            setEditedParam({ ...editedParam, name: e.target.value })\n",
        "-          }\n",
        "-          className=\"h-7 bg-primary-background text-sm\"\n",
        "-        />\n",
        "-      </div>\n",
        "-\n",
        "-      <div>\n",
        "-        <Label\n",
        "-          htmlFor=\"param-type\"\n",
        "-          className=\"text-xs mb-1 block text-secondary-text\"\n",
        "-        >\n",
        "-          Type\n",
        "-        </Label>\n",
        "-        <Select\n",
        "-          value={editedParam.type}\n",
        "-          onValueChange={(value) =>\n",
        "-            setEditedParam({ ...editedParam, type: value })\n",
        "-          }\n",
        "-        >\n",
        "-          <SelectTrigger\n",
        "-            id=\"param-type\"\n",
        "-            className=\"h-7 bg-primary-background text-sm\"\n",
        "-          >\n",
        "-            <SelectValue placeholder=\"Select type\" />\n",
        "-          </SelectTrigger>\n",
        "-          <SelectContent>\n",
        "-            {paramTypes.map((type) => (\n",
        "-              <SelectItem key={type} value={type} className=\"text-sm\">\n",
        "-                {type}\n",
        "-              </SelectItem>\n",
        "-            ))}\n",
        "-          </SelectContent>\n",
        "-        </Select>\n",
        "-      </div>\n",
        "-\n",
        "-      <div>\n",
        "-        <Label\n",
        "-          htmlFor=\"param-description\"\n",
        "-          className=\"text-xs mb-1 block text-secondary-text\"\n",
        "-        >\n",
        "-          Description\n",
        "-        </Label>\n",
        "-        <Textarea\n",
        "-          id=\"param-description\"\n",
        "-          value={editedParam.description}\n",
        "-          onChange={(e) =>\n",
        "-            setEditedParam({\n",
        "-              ...editedParam,\n",
        "-              description: e.target.value,\n",
        "-            })\n",
        "-          }\n",
        "-          placeholder=\"What does this parameter do?\"\n",
        "-          rows={2}\n",
        "-          className=\"resize-none bg-primary-background text-sm min-h-[60px]\"\n",
        "-        />\n",
        "-      </div>\n",
        "-\n",
        "-      <div className=\"flex items-center justify-between pt-1\">\n",
        "-        <div className=\"flex items-center gap-1.5\">\n",
        "-          <Checkbox\n",
        "-            id=\"param-required\"\n",
        "-            checked={editedParam.required}\n",
        "-            onCheckedChange={(checked) =>\n",
        "-              setEditedParam({\n",
        "-                ...editedParam,\n",
        "-                required: checked === true,\n",
        "-              })\n",
        "-            }\n",
        "-            className=\"h-3.5 w-3.5\"\n",
        "-          />\n",
        "-          <Label htmlFor=\"param-required\" className=\"text-xs\">\n",
        "-            Required\n",
        "-          </Label>\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"flex items-center gap-2\">\n",
        "-          <Button\n",
        "-            variant=\"outline\"\n",
        "-            size=\"sm\"\n",
        "-            className=\"h-7 text-xs px-2.5\"\n",
        "-            onClick={cancelEdit}\n",
        "-          >\n",
        "-            Cancel\n",
        "-          </Button>\n",
        "-          <Button\n",
        "-            variant=\"default\"\n",
        "-            size=\"sm\"\n",
        "-            className=\"h-7 text-xs px-2.5\"\n",
        "-            onClick={saveChanges}\n",
        "-          >\n",
        "-            Save\n",
        "-          </Button>\n",
        "-        </div>\n",
        "-      </div>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-// Mobile card list for query parameters with improved grid layout\n",
        "-function MobileQueryParamsList({\n",
        "-  params,\n",
        "-  isEditing,\n",
        "-  onEdit,\n",
        "-  onDelete,\n",
        "-}: {\n",
        "-  params: QueryParam[];\n",
        "-  isEditing: boolean;\n",
        "-  onEdit?: (index: number, param: QueryParam) => void;\n",
        "-  onDelete?: (index: number) => void;\n",
        "-}) {\n",
        "-  return (\n",
        "-    <div className=\"md:hidden grid grid-cols-1 sm:grid-cols-2 gap-2\">\n",
        "-      {params.map((param, idx) => (\n",
        "-        <QueryParamCard\n",
        "-          key={idx}\n",
        "-          param={param}\n",
        "-          isEditing={isEditing}\n",
        "-          onEdit={(updatedParam) => onEdit && onEdit(idx, updatedParam)}\n",
        "-          onDelete={() => onDelete && onDelete(idx)}\n",
        "-        />\n",
        "-      ))}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-// New parameter form with improved styling\n",
        "-function NewParameterForm({\n",
        "-  newParam,\n",
        "-  setNewParam,\n",
        "-  addParam,\n",
        "-  onCancel,\n",
        "-}: {\n",
        "-  newParam: QueryParam;\n",
        "-  setNewParam: (param: QueryParam) => void;\n",
        "-  addParam: () => void;\n",
        "-  onCancel: () => void;\n",
        "-}) {\n",
        "-  return (\n",
        "-    <div className=\"mt-2 bg-hover-active/5 rounded-md border border-primary-cta/20 p-3 space-y-2.5\">\n",
        "-      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2.5\">\n",
        "-        <div>\n",
        "-          <Label\n",
        "-            htmlFor=\"new-param-name\"\n",
        "-            className=\"text-xs mb-1 block text-secondary-text\"\n",
        "-          >\n",
        "-            Parameter Name\n",
        "-          </Label>\n",
        "-          <Input\n",
        "-            id=\"new-param-name\"\n",
        "-            value={newParam.name}\n",
        "-            onChange={(e) =>\n",
        "-              setNewParam({\n",
        "-                ...newParam,\n",
        "-                name: e.target.value,\n",
        "-              })\n",
        "-            }\n",
        "-            className=\"h-7 bg-primary-background text-sm\"\n",
        "-            placeholder=\"e.g., page, limit\"\n",
        "-          />\n",
        "-        </div>\n",
        "-        <div>\n",
        "-          <Label\n",
        "-            htmlFor=\"new-param-type\"\n",
        "-            className=\"text-xs mb-1 block text-secondary-text\"\n",
        "-          >\n",
        "-            Type\n",
        "-          </Label>\n",
        "-          <Select\n",
        "-            value={newParam.type}\n",
        "-            onValueChange={(value) => setNewParam({ ...newParam, type: value })}\n",
        "-          >\n",
        "-            <SelectTrigger\n",
        "-              id=\"new-param-type\"\n",
        "-              className=\"h-7 bg-primary-background text-sm\"\n",
        "-            >\n",
        "-              <SelectValue placeholder=\"Select type\" />\n",
        "-            </SelectTrigger>\n",
        "-            <SelectContent>\n",
        "-              {paramTypes.map((type) => (\n",
        "-                <SelectItem key={type} value={type} className=\"text-sm\">\n",
        "-                  {type}\n",
        "-                </SelectItem>\n",
        "-              ))}\n",
        "-            </SelectContent>\n",
        "-          </Select>\n",
        "-        </div>\n",
        "-      </div>\n",
        "-\n",
        "-      <div>\n",
        "-        <Label\n",
        "-          htmlFor=\"new-param-description\"\n",
        "-          className=\"text-xs mb-1 block text-secondary-text\"\n",
        "-        >\n",
        "-          Description\n",
        "-        </Label>\n",
        "-        <Textarea\n",
        "-          id=\"new-param-description\"\n",
        "-          value={newParam.description}\n",
        "-          onChange={(e) =>\n",
        "-            setNewParam({\n",
        "-              ...newParam,\n",
        "-              description: e.target.value,\n",
        "-            })\n",
        "-          }\n",
        "-          rows={2}\n",
        "-          className=\"resize-none bg-primary-background text-sm min-h-[60px]\"\n",
        "-          placeholder=\"What does this parameter do?\"\n",
        "-        />\n",
        "-      </div>\n",
        "-\n",
        "-      <div className=\"flex flex-wrap items-center justify-between gap-2 pt-1\">\n",
        "-        <div className=\"flex items-center gap-1.5\">\n",
        "-          <Checkbox\n",
        "-            id=\"new-param-required\"\n",
        "-            checked={newParam.required}\n",
        "-            onCheckedChange={(checked) =>\n",
        "-              setNewParam({\n",
        "-                ...newParam,\n",
        "-                required: checked === true,\n",
        "-              })\n",
        "-            }\n",
        "-            className=\"h-3.5 w-3.5\"\n",
        "-          />\n",
        "-          <Label htmlFor=\"new-param-required\" className=\"text-xs\">\n",
        "-            Required\n",
        "-          </Label>\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"flex items-center gap-2\">\n",
        "-          <Button\n",
        "-            variant=\"outline\"\n",
        "-            size=\"sm\"\n",
        "-            className=\"h-7 text-xs px-2.5\"\n",
        "-            onClick={onCancel}\n",
        "-          >\n",
        "-            Cancel\n",
        "-          </Button>\n",
        "-          <Button\n",
        "-            variant=\"default\"\n",
        "-            size=\"sm\"\n",
        "-            className=\"h-7 text-xs px-2.5\"\n",
        "-            onClick={addParam}\n",
        "-            disabled={!newParam.name.trim()}\n",
        "-          >\n",
        "-            Add\n",
        "-          </Button>\n",
        "-        </div>\n",
        "-      </div>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "-// Desktop table for query parameters\n",
        "-function DesktopQueryParamsTable({\n",
        "-  params,\n",
        "-  isEditing,\n",
        "-  onEdit,\n",
        "-  onDelete,\n",
        "-}: {\n",
        "-  params: QueryParam[];\n",
        "-  isEditing: boolean;\n",
        "-  onEdit?: (index: number, param: QueryParam) => void;\n",
        "-  onDelete?: (index: number) => void;\n",
        "-}) {\n",
        "-  return (\n",
        "-    <div className=\"hidden md:block rounded-md border border-divider overflow-hidden\">\n",
        "-      <table className=\"w-full text-sm\">\n",
        "-        <thead className=\"bg-hover-active border-b border-divider\">\n",
        "-          <tr>\n",
        "-            <th className=\"px-4 py-2 text-left text-secondary-text\">Name</th>\n",
        "-            <th className=\"px-4 py-2 text-left text-secondary-text\">Type</th>\n",
        "-            <th className=\"px-4 py-2 text-left text-secondary-text\">\n",
        "-              Required\n",
        "-            </th>\n",
        "-            <th className=\"px-4 py-2 text-left text-secondary-text\">\n",
        "-              Description\n",
        "-            </th>\n",
        "-            {isEditing && <th className=\"px-4 py-2 w-24\"></th>}\n",
        "-          </tr>\n",
        "-        </thead>\n",
        "-        <tbody>\n",
        "-          {params.map((param, idx) => (\n",
        "-            <tr key={idx} className=\"border-b border-divider last:border-0\">\n",
        "-              <td className=\"px-4 py-2 font-medium text-primary-text\">\n",
        "-                {param.name}\n",
        "-              </td>\n",
        "-              <td className=\"px-4 py-2 text-secondary-text\">\n",
        "-                <code className=\"bg-hover-active/40 px-1.5 py-0.5 rounded text-xs\">\n",
        "-                  {param.type}\n",
        "-                </code>\n",
        "-              </td>\n",
        "-              <td className=\"px-4 py-2\">\n",
        "-                {param.required ? (\n",
        "-                  <Badge\n",
        "-                    variant=\"outline\"\n",
        "-                    className=\"bg-amber-600/20 text-amber-400 border-0\"\n",
        "-                  >\n",
        "-                    Required\n",
        "-                  </Badge>\n",
        "-                ) : (\n",
        "-                  <Badge\n",
        "-                    variant=\"outline\"\n",
        "-                    className=\"bg-blue-600/20 text-blue-400 border-0\"\n",
        "-                  >\n",
        "-                    Optional\n",
        "-                  </Badge>\n",
        "-                )}\n",
        "-              </td>\n",
        "-              <td className=\"px-4 py-2 text-secondary-text\">\n",
        "-                {param.description}\n",
        "-              </td>\n",
        "-              {isEditing && (\n",
        "-                <td className=\"px-4 py-2 text-right\">\n",
        "-                  <div className=\"flex items-center justify-end gap-1\">\n",
        "-                    <Button\n",
        "-                      variant=\"ghost\"\n",
        "-                      size=\"sm\"\n",
        "-                      className=\"h-7 w-7 p-0\"\n",
        "-                      onClick={() => onEdit && onEdit(idx, param)}\n",
        "-                    >\n",
        "-                      <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\n",
        "-                    </Button>\n",
        "-                    {onDelete && (\n",
        "-                      <Button\n",
        "-                        variant=\"ghost\"\n",
        "-                        size=\"sm\"\n",
        "-                        className=\"h-7 w-7 p-0 hover:text-red-400\"\n",
        "-                        onClick={() => onDelete(idx)}\n",
        "-                      >\n",
        "-                        <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\n",
        "-                      </Button>\n",
        "-                    )}\n",
        "-                  </div>\n",
        "-                </td>\n",
        "-              )}\n",
        "-            </tr>\n",
        "-          ))}\n",
        "-        </tbody>\n",
        "-      </table>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "-\n",
        "-interface RequestSectionProps {\n",
        "-  request: Request;\n",
        "-  path: string;\n",
        "-  isEditing?: boolean;\n",
        "-  onUpdateRequest?: (updatedRequest: Request) => void;\n",
        "-}\n",
        "-\n",
        "-export function RequestSection({\n",
        "-  request,\n",
        "-  path,\n",
        "-  isEditing = false,\n",
        "-  onUpdateRequest,\n",
        "-}: RequestSectionProps) {\n",
        "-  const [addingParam, setAddingParam] = useState(false);\n",
        "-  const [newParam, setNewParam] = useState<QueryParam>({\n",
        "-    name: \"\",\n",
        "-    type: \"string\",\n",
        "-    required: false,\n",
        "-    description: \"\",\n",
        "-  });\n",
        "-\n",
        "-  // State for mobile parameter editing\n",
        "-  const [editingParamIndex, setEditingParamIndex] = useState<number | null>(\n",
        "-    null\n",
        "-  );\n",
        "-\n",
        "-  // Handle parameter update\n",
        "-  const handleParamUpdate = (index: number, updatedParam: QueryParam) => {\n",
        "-    if (!onUpdateRequest) return;\n",
        "-\n",
        "-    const newParams = [...request.query_params];\n",
        "-    newParams[index] = updatedParam;\n",
        "-\n",
        "-    onUpdateRequest({\n",
        "-      ...request,\n",
        "-      query_params: newParams,\n",
        "-    });\n",
        "-\n",
        "-    setEditingParamIndex(null);\n",
        "-  };\n",
        "-\n",
        "-  // Handle parameter deletion\n",
        "-  const handleParamDelete = (index: number) => {\n",
        "-    if (!onUpdateRequest) return;\n",
        "-\n",
        "-    const newParams = [...request.query_params];\n",
        "-    newParams.splice(index, 1);\n",
        "-\n",
        "-    onUpdateRequest({\n",
        "-      ...request,\n",
        "-      query_params: newParams,\n",
        "-    });\n",
        "-  };\n",
        "-\n",
        "-  // Add new parameter\n",
        "-  const addParam = () => {\n",
        "-    if (!onUpdateRequest || newParam.name.trim() === \"\") return;\n",
        "-\n",
        "-    onUpdateRequest({\n",
        "-      ...request,\n",
        "-      query_params: [...request.query_params, newParam],\n",
        "-    });\n",
        "-\n",
        "-    setNewParam({\n",
        "-      name: \"\",\n",
        "-      type: \"string\",\n",
        "-      required: false,\n",
        "-      description: \"\",\n",
        "-    });\n",
        "-\n",
        "-    setAddingParam(false);\n",
        "-  };\n",
        "-\n",
        "-  // Handle request body update\n",
        "-  const handleBodyUpdate = (schemaData: Record<string, any>) => {\n",
        "-    if (!onUpdateRequest || !request.body) return;\n",
        "-\n",
        "-    onUpdateRequest({\n",
        "-      ...request,\n",
        "-      body: {\n",
        "-        ...request.body,\n",
        "-        schema_data: schemaData,\n",
        "-      },\n",
        "-    });\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"space-y-4\">\n",
        "-      {/* Path Parameters */}\n",
        "-      <PathParams path={path} editable={isEditing} />\n",
        "-\n",
        "-      {/* Query Parameters */}\n",
        "-      <div>\n",
        "-        <div className=\"flex items-center justify-between mb-2\">\n",
        "-          <h4 className=\"text-md font-medium text-secondary-text\">\n",
        "-            Query Parameters\n",
        "-          </h4>\n",
        "-          {isEditing && !addingParam && (\n",
        "-            <Button\n",
        "-              variant=\"ghost\"\n",
        "-              size=\"sm\"\n",
        "-              className=\"text-primary-cta\"\n",
        "-              onClick={() => setAddingParam(true)}\n",
        "-            >\n",
        "-              <Plus className=\"h-3.5 w-3.5 mr-1\" /> Add Parameter\n",
        "-            </Button>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        {(request.query_params && request.query_params.length > 0) ||\n",
        "-        addingParam ? (\n",
        "-          <>\n",
        "-            {/* Desktop Table View */}\n",
        "-            <DesktopQueryParamsTable\n",
        "-              params={request.query_params}\n",
        "-              isEditing={isEditing}\n",
        "-              onEdit={handleParamUpdate}\n",
        "-              onDelete={handleParamDelete}\n",
        "-            />\n",
        "-\n",
        "-            {/* Mobile Card List View */}\n",
        "-            <MobileQueryParamsList\n",
        "-              params={request.query_params}\n",
        "-              isEditing={isEditing}\n",
        "-              onEdit={handleParamUpdate}\n",
        "-              onDelete={handleParamDelete}\n",
        "-            />\n",
        "-\n",
        "-            {/* New parameter form */}\n",
        "-            {isEditing && addingParam && (\n",
        "-              <div className=\"mt-2 bg-hover-active/10 rounded-md border border-divider p-3 space-y-3\">\n",
        "-                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n",
        "-                  <div>\n",
        "-                    <Label\n",
        "-                      htmlFor=\"new-param-name\"\n",
        "-                      className=\"text-xs mb-1 block\"\n",
        "-                    >\n",
        "-                      Parameter Name\n",
        "-                    </Label>\n",
        "-                    <Input\n",
        "-                      id=\"new-param-name\"\n",
        "-                      value={newParam.name}\n",
        "-                      onChange={(e) =>\n",
        "-                        setNewParam({\n",
        "-                          ...newParam,\n",
        "-                          name: e.target.value,\n",
        "-                        })\n",
        "-                      }\n",
        "-                      className=\"h-8 bg-primary-background w-full\"\n",
        "-                      placeholder=\"e.g., page, limit\"\n",
        "-                    />\n",
        "-                  </div>\n",
        "-                  <div>\n",
        "-                    <Label\n",
        "-                      htmlFor=\"new-param-type\"\n",
        "-                      className=\"text-xs mb-1 block\"\n",
        "-                    >\n",
        "-                      Type\n",
        "-                    </Label>\n",
        "-                    <Select\n",
        "-                      value={newParam.type}\n",
        "-                      onValueChange={(value) =>\n",
        "-                        setNewParam({ ...newParam, type: value })\n",
        "-                      }\n",
        "-                    >\n",
        "-                      <SelectTrigger\n",
        "-                        id=\"new-param-type\"\n",
        "-                        className=\"h-8 bg-primary-background w-full\"\n",
        "-                      >\n",
        "-                        <SelectValue placeholder=\"Select type\" />\n",
        "-                      </SelectTrigger>\n",
        "-                      <SelectContent>\n",
        "-                        {paramTypes.map((type) => (\n",
        "-                          <SelectItem key={type} value={type}>\n",
        "-                            {type}\n",
        "-                          </SelectItem>\n",
        "-                        ))}\n",
        "-                      </SelectContent>\n",
        "-                    </Select>\n",
        "-                  </div>\n",
        "-                </div>\n",
        "-\n",
        "-                <div>\n",
        "-                  <Label\n",
        "-                    htmlFor=\"new-param-description\"\n",
        "-                    className=\"text-xs mb-1 block\"\n",
        "-                  >\n",
        "-                    Description\n",
        "-                  </Label>\n",
        "-                  <Textarea\n",
        "-                    id=\"new-param-description\"\n",
        "-                    value={newParam.description}\n",
        "-                    onChange={(e) =>\n",
        "-                      setNewParam({\n",
        "-                        ...newParam,\n",
        "-                        description: e.target.value,\n",
        "-                      })\n",
        "-                    }\n",
        "-                    rows={2}\n",
        "-                    className=\"resize-none bg-primary-background w-full\"\n",
        "-                    placeholder=\"What does this parameter do?\"\n",
        "-                  />\n",
        "-                </div>\n",
        "-\n",
        "-                <div className=\"flex flex-wrap items-center justify-between gap-2\">\n",
        "-                  <div className=\"flex items-center gap-2\">\n",
        "-                    <Checkbox\n",
        "-                      id=\"new-param-required\"\n",
        "-                      checked={newParam.required}\n",
        "-                      onCheckedChange={(checked) =>\n",
        "-                        setNewParam({\n",
        "-                          ...newParam,\n",
        "-                          required: checked === true,\n",
        "-                        })\n",
        "-                      }\n",
        "-                    />\n",
        "-                    <Label htmlFor=\"new-param-required\" className=\"text-sm\">\n",
        "-                      Required\n",
        "-                    </Label>\n",
        "-                  </div>\n",
        "-\n",
        "-                  <div className=\"flex items-center gap-2\">\n",
        "-                    <Button\n",
        "-                      variant=\"outline\"\n",
        "-                      size=\"sm\"\n",
        "-                      className=\"h-7\"\n",
        "-                      onClick={() => setAddingParam(false)}\n",
        "-                    >\n",
        "-                      Cancel\n",
        "-                    </Button>\n",
        "-                    <Button\n",
        "-                      variant=\"default\"\n",
        "-                      size=\"sm\"\n",
        "-                      className=\"h-7\"\n",
        "-                      onClick={addParam}\n",
        "-                      disabled={!newParam.name.trim()}\n",
        "-                    >\n",
        "-                      Add\n",
        "-                    </Button>\n",
        "-                  </div>\n",
        "-                </div>\n",
        "-              </div>\n",
        "-            )}\n",
        "-          </>\n",
        "-        ) : (\n",
        "-          <div className=\"rounded-md border border-divider p-3 text-center text-secondary-text\">\n",
        "-            No query parameters defined\n",
        "-          </div>\n",
        "-        )}\n",
        "-      </div>\n",
        "-\n",
        "-      {/* Request Body */}\n",
        "-      {(request.body || isEditing) && (\n",
        "-        <div>\n",
        "-          <h4 className=\"text-md font-medium mb-2 text-secondary-text\">\n",
        "-            Request Body\n",
        "-          </h4>\n",
        "-          <div className=\"space-y-2\">\n",
        "-            {request.body && (\n",
        "-              <>\n",
        "-                <div className=\"flex gap-2 items-center\">\n",
        "-                  <Badge\n",
        "-                    variant=\"outline\"\n",
        "-                    className=\"bg-hover-active text-primary-text border-divider\"\n",
        "-                  >\n",
        "-                    {request.body.type}\n",
        "-                  </Badge>\n",
        "-                </div>\n",
        "-                <JsonDisplay\n",
        "-                  data={request.body.schema_data}\n",
        "-                  maxHeight=\"96\"\n",
        "-                  editable={isEditing}\n",
        "-                  onEdit={handleBodyUpdate}\n",
        "-                />\n",
        "-              </>\n",
        "-            )}\n",
        "-            {!request.body && isEditing && (\n",
        "-              <div className=\"rounded-md border border-divider p-4 text-center\">\n",
        "-                <Button\n",
        "-                  variant=\"outline\"\n",
        "-                  size=\"sm\"\n",
        "-                  onClick={() => {\n",
        "-                    if (!onUpdateRequest) return;\n",
        "-                    onUpdateRequest({\n",
        "-                      ...request,\n",
        "-                      body: {\n",
        "-                        type: \"application/json\",\n",
        "-                        schema_data: {},\n",
        "-                      },\n",
        "-                    });\n",
        "-                  }}\n",
        "-                >\n",
        "-                  <Plus className=\"h-4 w-4 mr-1\" />\n",
        "-                  Add Request Body\n",
        "-                </Button>\n",
        "-              </div>\n",
        "-            )}\n",
        "-          </div>\n",
        "-        </div>\n",
        "-      )}\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import { Badge } from \"@/components/ui/badge\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import { Textarea } from \"@/components/ui/textarea\";\r\n",
        "+import { Checkbox } from \"@/components/ui/checkbox\";\r\n",
        "+import { Label } from \"@/components/ui/label\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { Plus, Edit, Trash2 } from \"lucide-react\";\r\n",
        "+\r\n",
        "+import { Request, QueryParam } from \"../types\";\r\n",
        "+import { paramTypes } from \"../constants\";\r\n",
        "+import { PathParams } from \"./path-params\";\r\n",
        "+import { JsonDisplay } from \"./json-display\";\r\n",
        "+\r\n",
        "+// Mobile-friendly query parameter item\r\n",
        "+function QueryParamCard({\r\n",
        "+  param,\r\n",
        "+  isEditing,\r\n",
        "+  onEdit,\r\n",
        "+  onDelete,\r\n",
        "+}: {\r\n",
        "+  param: QueryParam;\r\n",
        "+  isEditing: boolean;\r\n",
        "+  onEdit?: (param: QueryParam) => void;\r\n",
        "+  onDelete?: () => void;\r\n",
        "+}) {\r\n",
        "+  const [editMode, setEditMode] = useState(false);\r\n",
        "+  const [editedParam, setEditedParam] = useState<QueryParam>({ ...param });\r\n",
        "+\r\n",
        "+  // Save changes and exit edit mode\r\n",
        "+  const saveChanges = () => {\r\n",
        "+    if (onEdit) {\r\n",
        "+      onEdit(editedParam);\r\n",
        "+    }\r\n",
        "+    setEditMode(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Cancel editing and reset to original values\r\n",
        "+  const cancelEdit = () => {\r\n",
        "+    setEditedParam({ ...param });\r\n",
        "+    setEditMode(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  if (!isEditing || !editMode) {\r\n",
        "+    return (\r\n",
        "+      <div className=\"bg-primary-background rounded-md border border-divider hover:border-primary-cta/30 transition-colors p-2.5\">\r\n",
        "+        <div className=\"flex items-center justify-between\">\r\n",
        "+          <h4 className=\"font-medium text-primary-text text-sm\">\r\n",
        "+            {param.name}\r\n",
        "+          </h4>\r\n",
        "+          {isEditing && (\r\n",
        "+            <div className=\"flex items-center -mr-1\">\r\n",
        "+              <Button\r\n",
        "+                variant=\"ghost\"\r\n",
        "+                size=\"sm\"\r\n",
        "+                className=\"h-6 w-6 p-0 text-secondary-text hover:text-primary-cta\"\r\n",
        "+                onClick={() => setEditMode(true)}\r\n",
        "+              >\r\n",
        "+                <Edit className=\"h-3 w-3\" />\r\n",
        "+              </Button>\r\n",
        "+              {onDelete && (\r\n",
        "+                <Button\r\n",
        "+                  variant=\"ghost\"\r\n",
        "+                  size=\"sm\"\r\n",
        "+                  className=\"h-6 w-6 p-0 text-secondary-text hover:text-red-400\"\r\n",
        "+                  onClick={onDelete}\r\n",
        "+                >\r\n",
        "+                  <Trash2 className=\"h-3 w-3\" />\r\n",
        "+                </Button>\r\n",
        "+              )}\r\n",
        "+            </div>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"flex flex-wrap items-center gap-1.5 mt-1.5 mb-1\">\r\n",
        "+          <code className=\"bg-hover-active/30 px-1.5 py-0.5 rounded text-xs text-secondary-text\">\r\n",
        "+            {param.type}\r\n",
        "+          </code>\r\n",
        "+          {param.required ? (\r\n",
        "+            <Badge\r\n",
        "+              variant=\"outline\"\r\n",
        "+              className=\"bg-amber-600/10 text-amber-400 border-amber-600/20 text-xs px-1.5 py-0 h-5\"\r\n",
        "+            >\r\n",
        "+              Required\r\n",
        "+            </Badge>\r\n",
        "+          ) : (\r\n",
        "+            <Badge\r\n",
        "+              variant=\"outline\"\r\n",
        "+              className=\"bg-blue-600/10 text-blue-400 border-blue-600/20 text-xs px-1.5 py-0 h-5\"\r\n",
        "+            >\r\n",
        "+              Optional\r\n",
        "+            </Badge>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {param.description && (\r\n",
        "+          <p className=\"text-secondary-text text-xs leading-tight mt-1\">\r\n",
        "+            {param.description}\r\n",
        "+          </p>\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+    );\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  // Edit mode - more compact and elegant\r\n",
        "+  return (\r\n",
        "+    <div className=\"bg-hover-active/5 rounded-md border border-primary-cta/30 p-3 space-y-2.5 transition-all\">\r\n",
        "+      <div>\r\n",
        "+        <Label\r\n",
        "+          htmlFor=\"param-name\"\r\n",
        "+          className=\"text-xs mb-1 block text-secondary-text\"\r\n",
        "+        >\r\n",
        "+          Parameter Name\r\n",
        "+        </Label>\r\n",
        "+        <Input\r\n",
        "+          id=\"param-name\"\r\n",
        "+          value={editedParam.name}\r\n",
        "+          onChange={(e) =>\r\n",
        "+            setEditedParam({ ...editedParam, name: e.target.value })\r\n",
        "+          }\r\n",
        "+          className=\"h-7 bg-primary-background text-sm\"\r\n",
        "+        />\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      <div>\r\n",
        "+        <Label\r\n",
        "+          htmlFor=\"param-type\"\r\n",
        "+          className=\"text-xs mb-1 block text-secondary-text\"\r\n",
        "+        >\r\n",
        "+          Type\r\n",
        "+        </Label>\r\n",
        "+        <Select\r\n",
        "+          value={editedParam.type}\r\n",
        "+          onValueChange={(value) =>\r\n",
        "+            setEditedParam({ ...editedParam, type: value })\r\n",
        "+          }\r\n",
        "+        >\r\n",
        "+          <SelectTrigger\r\n",
        "+            id=\"param-type\"\r\n",
        "+            className=\"h-7 bg-primary-background text-sm\"\r\n",
        "+          >\r\n",
        "+            <SelectValue placeholder=\"Select type\" />\r\n",
        "+          </SelectTrigger>\r\n",
        "+          <SelectContent>\r\n",
        "+            {paramTypes.map((type) => (\r\n",
        "+              <SelectItem key={type} value={type} className=\"text-sm\">\r\n",
        "+                {type}\r\n",
        "+              </SelectItem>\r\n",
        "+            ))}\r\n",
        "+          </SelectContent>\r\n",
        "+        </Select>\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      <div>\r\n",
        "+        <Label\r\n",
        "+          htmlFor=\"param-description\"\r\n",
        "+          className=\"text-xs mb-1 block text-secondary-text\"\r\n",
        "+        >\r\n",
        "+          Description\r\n",
        "+        </Label>\r\n",
        "+        <Textarea\r\n",
        "+          id=\"param-description\"\r\n",
        "+          value={editedParam.description}\r\n",
        "+          onChange={(e) =>\r\n",
        "+            setEditedParam({\r\n",
        "+              ...editedParam,\r\n",
        "+              description: e.target.value,\r\n",
        "+            })\r\n",
        "+          }\r\n",
        "+          placeholder=\"What does this parameter do?\"\r\n",
        "+          rows={2}\r\n",
        "+          className=\"resize-none bg-primary-background text-sm min-h-[60px]\"\r\n",
        "+        />\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      <div className=\"flex items-center justify-between pt-1\">\r\n",
        "+        <div className=\"flex items-center gap-1.5\">\r\n",
        "+          <Checkbox\r\n",
        "+            id=\"param-required\"\r\n",
        "+            checked={editedParam.required}\r\n",
        "+            onCheckedChange={(checked) =>\r\n",
        "+              setEditedParam({\r\n",
        "+                ...editedParam,\r\n",
        "+                required: checked === true,\r\n",
        "+              })\r\n",
        "+            }\r\n",
        "+            className=\"h-3.5 w-3.5\"\r\n",
        "+          />\r\n",
        "+          <Label htmlFor=\"param-required\" className=\"text-xs\">\r\n",
        "+            Required\r\n",
        "+          </Label>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"flex items-center gap-2\">\r\n",
        "+          <Button\r\n",
        "+            variant=\"outline\"\r\n",
        "+            size=\"sm\"\r\n",
        "+            className=\"h-7 text-xs px-2.5\"\r\n",
        "+            onClick={cancelEdit}\r\n",
        "+          >\r\n",
        "+            Cancel\r\n",
        "+          </Button>\r\n",
        "+          <Button\r\n",
        "+            variant=\"default\"\r\n",
        "+            size=\"sm\"\r\n",
        "+            className=\"h-7 text-xs px-2.5\"\r\n",
        "+            onClick={saveChanges}\r\n",
        "+          >\r\n",
        "+            Save\r\n",
        "+          </Button>\r\n",
        "+        </div>\r\n",
        "+      </div>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+// Mobile card list for query parameters with improved grid layout\r\n",
        "+function MobileQueryParamsList({\r\n",
        "+  params,\r\n",
        "+  isEditing,\r\n",
        "+  onEdit,\r\n",
        "+  onDelete,\r\n",
        "+}: {\r\n",
        "+  params: QueryParam[];\r\n",
        "+  isEditing: boolean;\r\n",
        "+  onEdit?: (index: number, param: QueryParam) => void;\r\n",
        "+  onDelete?: (index: number) => void;\r\n",
        "+}) {\r\n",
        "+  return (\r\n",
        "+    <div className=\"md:hidden grid grid-cols-1 sm:grid-cols-2 gap-2\">\r\n",
        "+      {params.map((param, idx) => (\r\n",
        "+        <QueryParamCard\r\n",
        "+          key={idx}\r\n",
        "+          param={param}\r\n",
        "+          isEditing={isEditing}\r\n",
        "+          onEdit={(updatedParam) => onEdit && onEdit(idx, updatedParam)}\r\n",
        "+          onDelete={() => onDelete && onDelete(idx)}\r\n",
        "+        />\r\n",
        "+      ))}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+// New parameter form with improved styling\r\n",
        "+function NewParameterForm({\r\n",
        "+  newParam,\r\n",
        "+  setNewParam,\r\n",
        "+  addParam,\r\n",
        "+  onCancel,\r\n",
        "+}: {\r\n",
        "+  newParam: QueryParam;\r\n",
        "+  setNewParam: (param: QueryParam) => void;\r\n",
        "+  addParam: () => void;\r\n",
        "+  onCancel: () => void;\r\n",
        "+}) {\r\n",
        "+  return (\r\n",
        "+    <div className=\"mt-2 bg-hover-active/5 rounded-md border border-primary-cta/20 p-3 space-y-2.5\">\r\n",
        "+      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2.5\">\r\n",
        "+        <div>\r\n",
        "+          <Label\r\n",
        "+            htmlFor=\"new-param-name\"\r\n",
        "+            className=\"text-xs mb-1 block text-secondary-text\"\r\n",
        "+          >\r\n",
        "+            Parameter Name\r\n",
        "+          </Label>\r\n",
        "+          <Input\r\n",
        "+            id=\"new-param-name\"\r\n",
        "+            value={newParam.name}\r\n",
        "+            onChange={(e) =>\r\n",
        "+              setNewParam({\r\n",
        "+                ...newParam,\r\n",
        "+                name: e.target.value,\r\n",
        "+              })\r\n",
        "+            }\r\n",
        "+            className=\"h-7 bg-primary-background text-sm\"\r\n",
        "+            placeholder=\"e.g., page, limit\"\r\n",
        "+          />\r\n",
        "+        </div>\r\n",
        "+        <div>\r\n",
        "+          <Label\r\n",
        "+            htmlFor=\"new-param-type\"\r\n",
        "+            className=\"text-xs mb-1 block text-secondary-text\"\r\n",
        "+          >\r\n",
        "+            Type\r\n",
        "+          </Label>\r\n",
        "+          <Select\r\n",
        "+            value={newParam.type}\r\n",
        "+            onValueChange={(value) => setNewParam({ ...newParam, type: value })}\r\n",
        "+          >\r\n",
        "+            <SelectTrigger\r\n",
        "+              id=\"new-param-type\"\r\n",
        "+              className=\"h-7 bg-primary-background text-sm\"\r\n",
        "+            >\r\n",
        "+              <SelectValue placeholder=\"Select type\" />\r\n",
        "+            </SelectTrigger>\r\n",
        "+            <SelectContent>\r\n",
        "+              {paramTypes.map((type) => (\r\n",
        "+                <SelectItem key={type} value={type} className=\"text-sm\">\r\n",
        "+                  {type}\r\n",
        "+                </SelectItem>\r\n",
        "+              ))}\r\n",
        "+            </SelectContent>\r\n",
        "+          </Select>\r\n",
        "+        </div>\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      <div>\r\n",
        "+        <Label\r\n",
        "+          htmlFor=\"new-param-description\"\r\n",
        "+          className=\"text-xs mb-1 block text-secondary-text\"\r\n",
        "+        >\r\n",
        "+          Description\r\n",
        "+        </Label>\r\n",
        "+        <Textarea\r\n",
        "+          id=\"new-param-description\"\r\n",
        "+          value={newParam.description}\r\n",
        "+          onChange={(e) =>\r\n",
        "+            setNewParam({\r\n",
        "+              ...newParam,\r\n",
        "+              description: e.target.value,\r\n",
        "+            })\r\n",
        "+          }\r\n",
        "+          rows={2}\r\n",
        "+          className=\"resize-none bg-primary-background text-sm min-h-[60px]\"\r\n",
        "+          placeholder=\"What does this parameter do?\"\r\n",
        "+        />\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      <div className=\"flex flex-wrap items-center justify-between gap-2 pt-1\">\r\n",
        "+        <div className=\"flex items-center gap-1.5\">\r\n",
        "+          <Checkbox\r\n",
        "+            id=\"new-param-required\"\r\n",
        "+            checked={newParam.required}\r\n",
        "+            onCheckedChange={(checked) =>\r\n",
        "+              setNewParam({\r\n",
        "+                ...newParam,\r\n",
        "+                required: checked === true,\r\n",
        "+              })\r\n",
        "+            }\r\n",
        "+            className=\"h-3.5 w-3.5\"\r\n",
        "+          />\r\n",
        "+          <Label htmlFor=\"new-param-required\" className=\"text-xs\">\r\n",
        "+            Required\r\n",
        "+          </Label>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"flex items-center gap-2\">\r\n",
        "+          <Button\r\n",
        "+            variant=\"outline\"\r\n",
        "+            size=\"sm\"\r\n",
        "+            className=\"h-7 text-xs px-2.5\"\r\n",
        "+            onClick={onCancel}\r\n",
        "+          >\r\n",
        "+            Cancel\r\n",
        "+          </Button>\r\n",
        "+          <Button\r\n",
        "+            variant=\"default\"\r\n",
        "+            size=\"sm\"\r\n",
        "+            className=\"h-7 text-xs px-2.5\"\r\n",
        "+            onClick={addParam}\r\n",
        "+            disabled={!newParam.name.trim()}\r\n",
        "+          >\r\n",
        "+            Add\r\n",
        "+          </Button>\r\n",
        "+        </div>\r\n",
        "+      </div>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+// Desktop table for query parameters\r\n",
        "+function DesktopQueryParamsTable({\r\n",
        "+  params,\r\n",
        "+  isEditing,\r\n",
        "+  onEdit,\r\n",
        "+  onDelete,\r\n",
        "+}: {\r\n",
        "+  params: QueryParam[];\r\n",
        "+  isEditing: boolean;\r\n",
        "+  onEdit?: (index: number, param: QueryParam) => void;\r\n",
        "+  onDelete?: (index: number) => void;\r\n",
        "+}) {\r\n",
        "+  return (\r\n",
        "+    <div className=\"hidden md:block rounded-md border border-divider overflow-hidden\">\r\n",
        "+      <table className=\"w-full text-sm\">\r\n",
        "+        <thead className=\"bg-hover-active border-b border-divider\">\r\n",
        "+          <tr>\r\n",
        "+            <th className=\"px-4 py-2 text-left text-secondary-text\">Name</th>\r\n",
        "+            <th className=\"px-4 py-2 text-left text-secondary-text\">Type</th>\r\n",
        "+            <th className=\"px-4 py-2 text-left text-secondary-text\">\r\n",
        "+              Required\r\n",
        "+            </th>\r\n",
        "+            <th className=\"px-4 py-2 text-left text-secondary-text\">\r\n",
        "+              Description\r\n",
        "+            </th>\r\n",
        "+            {isEditing && <th className=\"px-4 py-2 w-24\"></th>}\r\n",
        "+          </tr>\r\n",
        "+        </thead>\r\n",
        "+        <tbody>\r\n",
        "+          {params.map((param, idx) => (\r\n",
        "+            <tr key={idx} className=\"border-b border-divider last:border-0\">\r\n",
        "+              <td className=\"px-4 py-2 font-medium text-primary-text\">\r\n",
        "+                {param.name}\r\n",
        "+              </td>\r\n",
        "+              <td className=\"px-4 py-2 text-secondary-text\">\r\n",
        "+                <code className=\"bg-hover-active/40 px-1.5 py-0.5 rounded text-xs\">\r\n",
        "+                  {param.type}\r\n",
        "+                </code>\r\n",
        "+              </td>\r\n",
        "+              <td className=\"px-4 py-2\">\r\n",
        "+                {param.required ? (\r\n",
        "+                  <Badge\r\n",
        "+                    variant=\"outline\"\r\n",
        "+                    className=\"bg-amber-600/20 text-amber-400 border-0\"\r\n",
        "+                  >\r\n",
        "+                    Required\r\n",
        "+                  </Badge>\r\n",
        "+                ) : (\r\n",
        "+                  <Badge\r\n",
        "+                    variant=\"outline\"\r\n",
        "+                    className=\"bg-blue-600/20 text-blue-400 border-0\"\r\n",
        "+                  >\r\n",
        "+                    Optional\r\n",
        "+                  </Badge>\r\n",
        "+                )}\r\n",
        "+              </td>\r\n",
        "+              <td className=\"px-4 py-2 text-secondary-text\">\r\n",
        "+                {param.description}\r\n",
        "+              </td>\r\n",
        "+              {isEditing && (\r\n",
        "+                <td className=\"px-4 py-2 text-right\">\r\n",
        "+                  <div className=\"flex items-center justify-end gap-1\">\r\n",
        "+                    <Button\r\n",
        "+                      variant=\"ghost\"\r\n",
        "+                      size=\"sm\"\r\n",
        "+                      className=\"h-7 w-7 p-0\"\r\n",
        "+                      onClick={() => onEdit && onEdit(idx, param)}\r\n",
        "+                    >\r\n",
        "+                      <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n",
        "+                    </Button>\r\n",
        "+                    {onDelete && (\r\n",
        "+                      <Button\r\n",
        "+                        variant=\"ghost\"\r\n",
        "+                        size=\"sm\"\r\n",
        "+                        className=\"h-7 w-7 p-0 hover:text-red-400\"\r\n",
        "+                        onClick={() => onDelete(idx)}\r\n",
        "+                      >\r\n",
        "+                        <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n",
        "+                      </Button>\r\n",
        "+                    )}\r\n",
        "+                  </div>\r\n",
        "+                </td>\r\n",
        "+              )}\r\n",
        "+            </tr>\r\n",
        "+          ))}\r\n",
        "+        </tbody>\r\n",
        "+      </table>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n",
        "+\r\n",
        "+interface RequestSectionProps {\r\n",
        "+  request: Request;\r\n",
        "+  path: string;\r\n",
        "+  isEditing?: boolean;\r\n",
        "+  onUpdateRequest?: (updatedRequest: Request) => void;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function RequestSection({\r\n",
        "+  request,\r\n",
        "+  path,\r\n",
        "+  isEditing = false,\r\n",
        "+  onUpdateRequest,\r\n",
        "+}: RequestSectionProps) {\r\n",
        "+  const [addingParam, setAddingParam] = useState(false);\r\n",
        "+  const [newParam, setNewParam] = useState<QueryParam>({\r\n",
        "+    name: \"\",\r\n",
        "+    type: \"string\",\r\n",
        "+    required: false,\r\n",
        "+    description: \"\",\r\n",
        "+  });\r\n",
        "+\r\n",
        "+  // State for mobile parameter editing\r\n",
        "+  const [editingParamIndex, setEditingParamIndex] = useState<number | null>(\r\n",
        "+    null\r\n",
        "+  );\r\n",
        "+\r\n",
        "+  // Handle parameter update\r\n",
        "+  const handleParamUpdate = (index: number, updatedParam: QueryParam) => {\r\n",
        "+    if (!onUpdateRequest) return;\r\n",
        "+\r\n",
        "+    const newParams = [...request.query_params];\r\n",
        "+    newParams[index] = updatedParam;\r\n",
        "+\r\n",
        "+    onUpdateRequest({\r\n",
        "+      ...request,\r\n",
        "+      query_params: newParams,\r\n",
        "+    });\r\n",
        "+\r\n",
        "+    setEditingParamIndex(null);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle parameter deletion\r\n",
        "+  const handleParamDelete = (index: number) => {\r\n",
        "+    if (!onUpdateRequest) return;\r\n",
        "+\r\n",
        "+    const newParams = [...request.query_params];\r\n",
        "+    newParams.splice(index, 1);\r\n",
        "+\r\n",
        "+    onUpdateRequest({\r\n",
        "+      ...request,\r\n",
        "+      query_params: newParams,\r\n",
        "+    });\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Add new parameter\r\n",
        "+  const addParam = () => {\r\n",
        "+    if (!onUpdateRequest || newParam.name.trim() === \"\") return;\r\n",
        "+\r\n",
        "+    onUpdateRequest({\r\n",
        "+      ...request,\r\n",
        "+      query_params: [...request.query_params, newParam],\r\n",
        "+    });\r\n",
        "+\r\n",
        "+    setNewParam({\r\n",
        "+      name: \"\",\r\n",
        "+      type: \"string\",\r\n",
        "+      required: false,\r\n",
        "+      description: \"\",\r\n",
        "+    });\r\n",
        "+\r\n",
        "+    setAddingParam(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle request body update\r\n",
        "+  const handleBodyUpdate = (schemaData: Record<string, any>) => {\r\n",
        "+    if (!onUpdateRequest || !request.body) return;\r\n",
        "+\r\n",
        "+    onUpdateRequest({\r\n",
        "+      ...request,\r\n",
        "+      body: {\r\n",
        "+        ...request.body,\r\n",
        "+        schema_data: schemaData,\r\n",
        "+      },\r\n",
        "+    });\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"space-y-4\">\r\n",
        "+      {/* Path Parameters */}\r\n",
        "+      <PathParams path={path} editable={isEditing} />\r\n",
        "+\r\n",
        "+      {/* Query Parameters */}\r\n",
        "+      <div>\r\n",
        "+        <div className=\"flex items-center justify-between mb-2\">\r\n",
        "+          <h4 className=\"text-md font-medium text-secondary-text\">\r\n",
        "+            Query Parameters\r\n",
        "+          </h4>\r\n",
        "+          {isEditing && !addingParam && (\r\n",
        "+            <Button\r\n",
        "+              variant=\"ghost\"\r\n",
        "+              size=\"sm\"\r\n",
        "+              className=\"text-primary-cta\"\r\n",
        "+              onClick={() => setAddingParam(true)}\r\n",
        "+            >\r\n",
        "+              <Plus className=\"h-3.5 w-3.5 mr-1\" /> Add Parameter\r\n",
        "+            </Button>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {(request.query_params && request.query_params.length > 0) ||\r\n",
        "+        addingParam ? (\r\n",
        "+          <>\r\n",
        "+            {/* Desktop Table View */}\r\n",
        "+            <DesktopQueryParamsTable\r\n",
        "+              params={request.query_params}\r\n",
        "+              isEditing={isEditing}\r\n",
        "+              onEdit={handleParamUpdate}\r\n",
        "+              onDelete={handleParamDelete}\r\n",
        "+            />\r\n",
        "+\r\n",
        "+            {/* Mobile Card List View */}\r\n",
        "+            <MobileQueryParamsList\r\n",
        "+              params={request.query_params}\r\n",
        "+              isEditing={isEditing}\r\n",
        "+              onEdit={handleParamUpdate}\r\n",
        "+              onDelete={handleParamDelete}\r\n",
        "+            />\r\n",
        "+\r\n",
        "+            {/* New parameter form */}\r\n",
        "+            {isEditing && addingParam && (\r\n",
        "+              <div className=\"mt-2 bg-hover-active/10 rounded-md border border-divider p-3 space-y-3\">\r\n",
        "+                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\r\n",
        "+                  <div>\r\n",
        "+                    <Label\r\n",
        "+                      htmlFor=\"new-param-name\"\r\n",
        "+                      className=\"text-xs mb-1 block\"\r\n",
        "+                    >\r\n",
        "+                      Parameter Name\r\n",
        "+                    </Label>\r\n",
        "+                    <Input\r\n",
        "+                      id=\"new-param-name\"\r\n",
        "+                      value={newParam.name}\r\n",
        "+                      onChange={(e) =>\r\n",
        "+                        setNewParam({\r\n",
        "+                          ...newParam,\r\n",
        "+                          name: e.target.value,\r\n",
        "+                        })\r\n",
        "+                      }\r\n",
        "+                      className=\"h-8 bg-primary-background w-full\"\r\n",
        "+                      placeholder=\"e.g., page, limit\"\r\n",
        "+                    />\r\n",
        "+                  </div>\r\n",
        "+                  <div>\r\n",
        "+                    <Label\r\n",
        "+                      htmlFor=\"new-param-type\"\r\n",
        "+                      className=\"text-xs mb-1 block\"\r\n",
        "+                    >\r\n",
        "+                      Type\r\n",
        "+                    </Label>\r\n",
        "+                    <Select\r\n",
        "+                      value={newParam.type}\r\n",
        "+                      onValueChange={(value) =>\r\n",
        "+                        setNewParam({ ...newParam, type: value })\r\n",
        "+                      }\r\n",
        "+                    >\r\n",
        "+                      <SelectTrigger\r\n",
        "+                        id=\"new-param-type\"\r\n",
        "+                        className=\"h-8 bg-primary-background w-full\"\r\n",
        "+                      >\r\n",
        "+                        <SelectValue placeholder=\"Select type\" />\r\n",
        "+                      </SelectTrigger>\r\n",
        "+                      <SelectContent>\r\n",
        "+                        {paramTypes.map((type) => (\r\n",
        "+                          <SelectItem key={type} value={type}>\r\n",
        "+                            {type}\r\n",
        "+                          </SelectItem>\r\n",
        "+                        ))}\r\n",
        "+                      </SelectContent>\r\n",
        "+                    </Select>\r\n",
        "+                  </div>\r\n",
        "+                </div>\r\n",
        "+\r\n",
        "+                <div>\r\n",
        "+                  <Label\r\n",
        "+                    htmlFor=\"new-param-description\"\r\n",
        "+                    className=\"text-xs mb-1 block\"\r\n",
        "+                  >\r\n",
        "+                    Description\r\n",
        "+                  </Label>\r\n",
        "+                  <Textarea\r\n",
        "+                    id=\"new-param-description\"\r\n",
        "+                    value={newParam.description}\r\n",
        "+                    onChange={(e) =>\r\n",
        "+                      setNewParam({\r\n",
        "+                        ...newParam,\r\n",
        "+                        description: e.target.value,\r\n",
        "+                      })\r\n",
        "+                    }\r\n",
        "+                    rows={2}\r\n",
        "+                    className=\"resize-none bg-primary-background w-full\"\r\n",
        "+                    placeholder=\"What does this parameter do?\"\r\n",
        "+                  />\r\n",
        "+                </div>\r\n",
        "+\r\n",
        "+                <div className=\"flex flex-wrap items-center justify-between gap-2\">\r\n",
        "+                  <div className=\"flex items-center gap-2\">\r\n",
        "+                    <Checkbox\r\n",
        "+                      id=\"new-param-required\"\r\n",
        "+                      checked={newParam.required}\r\n",
        "+                      onCheckedChange={(checked) =>\r\n",
        "+                        setNewParam({\r\n",
        "+                          ...newParam,\r\n",
        "+                          required: checked === true,\r\n",
        "+                        })\r\n",
        "+                      }\r\n",
        "+                    />\r\n",
        "+                    <Label htmlFor=\"new-param-required\" className=\"text-sm\">\r\n",
        "+                      Required\r\n",
        "+                    </Label>\r\n",
        "+                  </div>\r\n",
        "+\r\n",
        "+                  <div className=\"flex items-center gap-2\">\r\n",
        "+                    <Button\r\n",
        "+                      variant=\"outline\"\r\n",
        "+                      size=\"sm\"\r\n",
        "+                      className=\"h-7\"\r\n",
        "+                      onClick={() => setAddingParam(false)}\r\n",
        "+                    >\r\n",
        "+                      Cancel\r\n",
        "+                    </Button>\r\n",
        "+                    <Button\r\n",
        "+                      variant=\"default\"\r\n",
        "+                      size=\"sm\"\r\n",
        "+                      className=\"h-7\"\r\n",
        "+                      onClick={addParam}\r\n",
        "+                      disabled={!newParam.name.trim()}\r\n",
        "+                    >\r\n",
        "+                      Add\r\n",
        "+                    </Button>\r\n",
        "+                  </div>\r\n",
        "+                </div>\r\n",
        "+              </div>\r\n",
        "+            )}\r\n",
        "+          </>\r\n",
        "+        ) : (\r\n",
        "+          <div className=\"rounded-md border border-divider p-3 text-center text-secondary-text\">\r\n",
        "+            No query parameters defined\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      {/* Request Body */}\r\n",
        "+      {(request.body || isEditing) && (\r\n",
        "+        <div>\r\n",
        "+          <h4 className=\"text-md font-medium mb-2 text-secondary-text\">\r\n",
        "+            Request Body\r\n",
        "+          </h4>\r\n",
        "+          <div className=\"space-y-2\">\r\n",
        "+            {request.body && (\r\n",
        "+              <>\r\n",
        "+                <div className=\"flex gap-2 items-center\">\r\n",
        "+                  <Badge\r\n",
        "+                    variant=\"outline\"\r\n",
        "+                    className=\"bg-hover-active text-primary-text border-divider\"\r\n",
        "+                  >\r\n",
        "+                    {request.body.type}\r\n",
        "+                  </Badge>\r\n",
        "+                </div>\r\n",
        "+                <JsonDisplay\r\n",
        "+                  data={request.body.schema_data}\r\n",
        "+                  maxHeight=\"96\"\r\n",
        "+                  editable={isEditing}\r\n",
        "+                  onEdit={handleBodyUpdate}\r\n",
        "+                />\r\n",
        "+              </>\r\n",
        "+            )}\r\n",
        "+            {!request.body && isEditing && (\r\n",
        "+              <div className=\"rounded-md border border-divider p-4 text-center\">\r\n",
        "+                <Button\r\n",
        "+                  variant=\"outline\"\r\n",
        "+                  size=\"sm\"\r\n",
        "+                  onClick={() => {\r\n",
        "+                    if (!onUpdateRequest) return;\r\n",
        "+                    onUpdateRequest({\r\n",
        "+                      ...request,\r\n",
        "+                      body: {\r\n",
        "+                        type: \"application/json\",\r\n",
        "+                        schema_data: {},\r\n",
        "+                      },\r\n",
        "+                    });\r\n",
        "+                  }}\r\n",
        "+                >\r\n",
        "+                  <Plus className=\"h-4 w-4 mr-1\" />\r\n",
        "+                  Add Request Body\r\n",
        "+                </Button>\r\n",
        "+              </div>\r\n",
        "+            )}\r\n",
        "+          </div>\r\n",
        "+        </div>\r\n",
        "+      )}\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/components/resource-section.tsx",
      "status": "modified",
      "additions": 249,
      "deletions": 249,
      "patch": "@@ -1,249 +1,249 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import { Badge } from \"@/components/ui/badge\";\n-import { Button } from \"@/components/ui/button\";\n-import { Input } from \"@/components/ui/input\";\n-import { Textarea } from \"@/components/ui/textarea\";\n-import { ChevronDown, ChevronRight, Edit, Plus, Trash2 } from \"lucide-react\";\n-\n-import { Resource, Endpoint } from \"../types\";\n-import { EndpointItem } from \"./endpoint-item\";\n-import { NewEndpointDialog } from \"./dialogs/new-endpoint-dialog\";\n-\n-interface ResourceSectionProps {\n-  resource: Resource;\n-  baseUrl: string;\n-  isEditing?: boolean;\n-  onUpdateResource?: (updatedResource: Resource) => void;\n-  onDeleteResource?: () => void;\n-}\n-\n-export function ResourceSection({\n-  resource,\n-  baseUrl,\n-  isEditing = false,\n-  onUpdateResource,\n-  onDeleteResource,\n-}: ResourceSectionProps) {\n-  const [isOpen, setIsOpen] = useState(true);\n-  const [editingName, setEditingName] = useState(false);\n-  const [editedResource, setEditedResource] = useState<Resource>({\n-    ...resource,\n-  });\n-  const [showNewEndpointDialog, setShowNewEndpointDialog] = useState(false);\n-\n-  // Update the edited resource whenever the original resource changes\n-  useEffect(() => {\n-    setEditedResource({ ...resource });\n-  }, [resource]);\n-\n-  // Save resource name changes\n-  const saveNameChanges = () => {\n-    if (!onUpdateResource) return;\n-    onUpdateResource(editedResource);\n-    setEditingName(false);\n-  };\n-\n-  // Handle endpoint update\n-  const handleEndpointUpdate = (index: number, updatedEndpoint: Endpoint) => {\n-    if (!onUpdateResource) return;\n-\n-    const newEndpoints = [...editedResource.endpoints];\n-    newEndpoints[index] = updatedEndpoint;\n-\n-    const updatedResource = {\n-      ...editedResource,\n-      endpoints: newEndpoints,\n-    };\n-\n-    setEditedResource(updatedResource);\n-    onUpdateResource(updatedResource);\n-  };\n-\n-  // Handle endpoint deletion\n-  const handleEndpointDelete = (index: number) => {\n-    if (!onUpdateResource) return;\n-\n-    const newEndpoints = [...editedResource.endpoints];\n-    newEndpoints.splice(index, 1);\n-\n-    const updatedResource = {\n-      ...editedResource,\n-      endpoints: newEndpoints,\n-    };\n-\n-    setEditedResource(updatedResource);\n-    onUpdateResource(updatedResource);\n-  };\n-\n-  // Add new endpoint\n-  const handleAddEndpoint = (newEndpoint: Endpoint) => {\n-    if (!onUpdateResource) return;\n-\n-    const updatedResource = {\n-      ...editedResource,\n-      endpoints: [...editedResource.endpoints, newEndpoint],\n-    };\n-\n-    setEditedResource(updatedResource);\n-    onUpdateResource(updatedResource);\n-  };\n-\n-  return (\n-    <div className=\"border border-divider rounded-md overflow-hidden bg-secondary-background\">\n-      {/* Resource Header */}\n-      <div\n-        className=\"p-3 flex items-center justify-between cursor-pointer hover:bg-hover-active\"\n-        onClick={() => setIsOpen(!isOpen)}\n-      >\n-        <div className=\"flex items-center gap-2\">\n-          <Badge className=\"bg-hover-active\">{resource.endpoints.length}</Badge>\n-\n-          {editingName ? (\n-            <div className=\"flex items-center gap-2\">\n-              <Input\n-                value={editedResource.name}\n-                onChange={(e) =>\n-                  setEditedResource({ ...editedResource, name: e.target.value })\n-                }\n-                className=\"h-8 w-48 bg-primary-background\"\n-                onClick={(e) => e.stopPropagation()}\n-              />\n-              <Textarea\n-                value={editedResource.description}\n-                onChange={(e) =>\n-                  setEditedResource({\n-                    ...editedResource,\n-                    description: e.target.value,\n-                  })\n-                }\n-                className=\"h-8 w-48 bg-primary-background resize-none\"\n-                placeholder=\"Resource description\"\n-                onClick={(e) => e.stopPropagation()}\n-              />\n-              <div className=\"flex items-center gap-1\">\n-                <Button\n-                  variant=\"ghost\"\n-                  size=\"sm\"\n-                  className=\"h-7\"\n-                  onClick={(e) => {\n-                    e.stopPropagation();\n-                    setEditedResource({ ...resource });\n-                    setEditingName(false);\n-                  }}\n-                >\n-                  Cancel\n-                </Button>\n-                <Button\n-                  size=\"sm\"\n-                  className=\"h-7\"\n-                  onClick={(e) => {\n-                    e.stopPropagation();\n-                    saveNameChanges();\n-                  }}\n-                >\n-                  Save\n-                </Button>\n-              </div>\n-            </div>\n-          ) : (\n-            <h3 className=\"text-lg font-medium\">{resource.name}</h3>\n-          )}\n-        </div>\n-\n-        <div className=\"flex items-center gap-2\">\n-          <span className=\"text-secondary-text text-sm hidden md:inline-block\">\n-            {resource.description}\n-          </span>\n-\n-          {isEditing && !editingName && (\n-            <div className=\"flex items-center gap-1\">\n-              <Button\n-                variant=\"ghost\"\n-                size=\"sm\"\n-                className=\"h-7 w-7 p-0\"\n-                onClick={(e) => {\n-                  e.stopPropagation();\n-                  setEditingName(true);\n-                }}\n-              >\n-                <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\n-              </Button>\n-              {onDeleteResource && (\n-                <Button\n-                  variant=\"ghost\"\n-                  size=\"sm\"\n-                  className=\"h-7 w-7 p-0 hover:text-red-400\"\n-                  onClick={(e) => {\n-                    e.stopPropagation();\n-                    onDeleteResource();\n-                  }}\n-                >\n-                  <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\n-                </Button>\n-              )}\n-            </div>\n-          )}\n-\n-          {isOpen ? (\n-            <ChevronDown className=\"h-5 w-5 text-secondary-text\" />\n-          ) : (\n-            <ChevronRight className=\"h-5 w-5 text-secondary-text\" />\n-          )}\n-        </div>\n-      </div>\n-\n-      {/* Endpoints List */}\n-      {isOpen && (\n-        <div className=\"border-t border-divider\">\n-          {/* Add Endpoint Button */}\n-          {isEditing && (\n-            <div className=\"p-2 border-b border-divider bg-hover-active/10\">\n-              <Button\n-                variant=\"outline\"\n-                size=\"sm\"\n-                className=\"w-full text-primary-cta\"\n-                onClick={() => setShowNewEndpointDialog(true)}\n-              >\n-                <Plus className=\"h-3.5 w-3.5 mr-1\" /> Add Endpoint\n-              </Button>\n-            </div>\n-          )}\n-\n-          {resource.endpoints.map((endpoint, endpointIdx) => (\n-            <EndpointItem\n-              key={endpointIdx}\n-              endpoint={endpoint}\n-              baseUrl={baseUrl}\n-              isEditing={isEditing}\n-              onUpdateEndpoint={\n-                isEditing\n-                  ? (updatedEndpoint) =>\n-                      handleEndpointUpdate(endpointIdx, updatedEndpoint)\n-                  : undefined\n-              }\n-              onDeleteEndpoint={\n-                isEditing ? () => handleEndpointDelete(endpointIdx) : undefined\n-              }\n-            />\n-          ))}\n-\n-          {resource.endpoints.length === 0 && (\n-            <div className=\"p-4 text-center text-secondary-text\">\n-              No endpoints defined for this resource\n-            </div>\n-          )}\n-        </div>\n-      )}\n-\n-      {/* New Endpoint Dialog */}\n-      <NewEndpointDialog\n-        open={showNewEndpointDialog}\n-        onOpenChange={setShowNewEndpointDialog}\n-        onAddEndpoint={handleAddEndpoint}\n-        resourceName={resource.name}\n-      />\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import { Badge } from \"@/components/ui/badge\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Textarea } from \"@/components/ui/textarea\";\r\n+import { ChevronDown, ChevronRight, Edit, Plus, Trash2 } from \"lucide-react\";\r\n+\r\n+import { Resource, Endpoint } from \"../types\";\r\n+import { EndpointItem } from \"./endpoint-item\";\r\n+import { NewEndpointDialog } from \"./dialogs/new-endpoint-dialog\";\r\n+\r\n+interface ResourceSectionProps {\r\n+  resource: Resource;\r\n+  baseUrl: string;\r\n+  isEditing?: boolean;\r\n+  onUpdateResource?: (updatedResource: Resource) => void;\r\n+  onDeleteResource?: () => void;\r\n+}\r\n+\r\n+export function ResourceSection({\r\n+  resource,\r\n+  baseUrl,\r\n+  isEditing = false,\r\n+  onUpdateResource,\r\n+  onDeleteResource,\r\n+}: ResourceSectionProps) {\r\n+  const [isOpen, setIsOpen] = useState(true);\r\n+  const [editingName, setEditingName] = useState(false);\r\n+  const [editedResource, setEditedResource] = useState<Resource>({\r\n+    ...resource,\r\n+  });\r\n+  const [showNewEndpointDialog, setShowNewEndpointDialog] = useState(false);\r\n+\r\n+  // Update the edited resource whenever the original resource changes\r\n+  useEffect(() => {\r\n+    setEditedResource({ ...resource });\r\n+  }, [resource]);\r\n+\r\n+  // Save resource name changes\r\n+  const saveNameChanges = () => {\r\n+    if (!onUpdateResource) return;\r\n+    onUpdateResource(editedResource);\r\n+    setEditingName(false);\r\n+  };\r\n+\r\n+  // Handle endpoint update\r\n+  const handleEndpointUpdate = (index: number, updatedEndpoint: Endpoint) => {\r\n+    if (!onUpdateResource) return;\r\n+\r\n+    const newEndpoints = [...editedResource.endpoints];\r\n+    newEndpoints[index] = updatedEndpoint;\r\n+\r\n+    const updatedResource = {\r\n+      ...editedResource,\r\n+      endpoints: newEndpoints,\r\n+    };\r\n+\r\n+    setEditedResource(updatedResource);\r\n+    onUpdateResource(updatedResource);\r\n+  };\r\n+\r\n+  // Handle endpoint deletion\r\n+  const handleEndpointDelete = (index: number) => {\r\n+    if (!onUpdateResource) return;\r\n+\r\n+    const newEndpoints = [...editedResource.endpoints];\r\n+    newEndpoints.splice(index, 1);\r\n+\r\n+    const updatedResource = {\r\n+      ...editedResource,\r\n+      endpoints: newEndpoints,\r\n+    };\r\n+\r\n+    setEditedResource(updatedResource);\r\n+    onUpdateResource(updatedResource);\r\n+  };\r\n+\r\n+  // Add new endpoint\r\n+  const handleAddEndpoint = (newEndpoint: Endpoint) => {\r\n+    if (!onUpdateResource) return;\r\n+\r\n+    const updatedResource = {\r\n+      ...editedResource,\r\n+      endpoints: [...editedResource.endpoints, newEndpoint],\r\n+    };\r\n+\r\n+    setEditedResource(updatedResource);\r\n+    onUpdateResource(updatedResource);\r\n+  };\r\n+\r\n+  return (\r\n+    <div className=\"border border-divider rounded-md overflow-hidden bg-secondary-background\">\r\n+      {/* Resource Header */}\r\n+      <div\r\n+        className=\"p-3 flex items-center justify-between cursor-pointer hover:bg-hover-active\"\r\n+        onClick={() => setIsOpen(!isOpen)}\r\n+      >\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <Badge className=\"bg-hover-active\">{resource.endpoints.length}</Badge>\r\n+\r\n+          {editingName ? (\r\n+            <div className=\"flex items-center gap-2\">\r\n+              <Input\r\n+                value={editedResource.name}\r\n+                onChange={(e) =>\r\n+                  setEditedResource({ ...editedResource, name: e.target.value })\r\n+                }\r\n+                className=\"h-8 w-48 bg-primary-background\"\r\n+                onClick={(e) => e.stopPropagation()}\r\n+              />\r\n+              <Textarea\r\n+                value={editedResource.description}\r\n+                onChange={(e) =>\r\n+                  setEditedResource({\r\n+                    ...editedResource,\r\n+                    description: e.target.value,\r\n+                  })\r\n+                }\r\n+                className=\"h-8 w-48 bg-primary-background resize-none\"\r\n+                placeholder=\"Resource description\"\r\n+                onClick={(e) => e.stopPropagation()}\r\n+              />\r\n+              <div className=\"flex items-center gap-1\">\r\n+                <Button\r\n+                  variant=\"ghost\"\r\n+                  size=\"sm\"\r\n+                  className=\"h-7\"\r\n+                  onClick={(e) => {\r\n+                    e.stopPropagation();\r\n+                    setEditedResource({ ...resource });\r\n+                    setEditingName(false);\r\n+                  }}\r\n+                >\r\n+                  Cancel\r\n+                </Button>\r\n+                <Button\r\n+                  size=\"sm\"\r\n+                  className=\"h-7\"\r\n+                  onClick={(e) => {\r\n+                    e.stopPropagation();\r\n+                    saveNameChanges();\r\n+                  }}\r\n+                >\r\n+                  Save\r\n+                </Button>\r\n+              </div>\r\n+            </div>\r\n+          ) : (\r\n+            <h3 className=\"text-lg font-medium\">{resource.name}</h3>\r\n+          )}\r\n+        </div>\r\n+\r\n+        <div className=\"flex items-center gap-2\">\r\n+          <span className=\"text-secondary-text text-sm hidden md:inline-block\">\r\n+            {resource.description}\r\n+          </span>\r\n+\r\n+          {isEditing && !editingName && (\r\n+            <div className=\"flex items-center gap-1\">\r\n+              <Button\r\n+                variant=\"ghost\"\r\n+                size=\"sm\"\r\n+                className=\"h-7 w-7 p-0\"\r\n+                onClick={(e) => {\r\n+                  e.stopPropagation();\r\n+                  setEditingName(true);\r\n+                }}\r\n+              >\r\n+                <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n+              </Button>\r\n+              {onDeleteResource && (\r\n+                <Button\r\n+                  variant=\"ghost\"\r\n+                  size=\"sm\"\r\n+                  className=\"h-7 w-7 p-0 hover:text-red-400\"\r\n+                  onClick={(e) => {\r\n+                    e.stopPropagation();\r\n+                    onDeleteResource();\r\n+                  }}\r\n+                >\r\n+                  <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n+                </Button>\r\n+              )}\r\n+            </div>\r\n+          )}\r\n+\r\n+          {isOpen ? (\r\n+            <ChevronDown className=\"h-5 w-5 text-secondary-text\" />\r\n+          ) : (\r\n+            <ChevronRight className=\"h-5 w-5 text-secondary-text\" />\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {/* Endpoints List */}\r\n+      {isOpen && (\r\n+        <div className=\"border-t border-divider\">\r\n+          {/* Add Endpoint Button */}\r\n+          {isEditing && (\r\n+            <div className=\"p-2 border-b border-divider bg-hover-active/10\">\r\n+              <Button\r\n+                variant=\"outline\"\r\n+                size=\"sm\"\r\n+                className=\"w-full text-primary-cta\"\r\n+                onClick={() => setShowNewEndpointDialog(true)}\r\n+              >\r\n+                <Plus className=\"h-3.5 w-3.5 mr-1\" /> Add Endpoint\r\n+              </Button>\r\n+            </div>\r\n+          )}\r\n+\r\n+          {resource.endpoints.map((endpoint, endpointIdx) => (\r\n+            <EndpointItem\r\n+              key={endpointIdx}\r\n+              endpoint={endpoint}\r\n+              baseUrl={baseUrl}\r\n+              isEditing={isEditing}\r\n+              onUpdateEndpoint={\r\n+                isEditing\r\n+                  ? (updatedEndpoint) =>\r\n+                      handleEndpointUpdate(endpointIdx, updatedEndpoint)\r\n+                  : undefined\r\n+              }\r\n+              onDeleteEndpoint={\r\n+                isEditing ? () => handleEndpointDelete(endpointIdx) : undefined\r\n+              }\r\n+            />\r\n+          ))}\r\n+\r\n+          {resource.endpoints.length === 0 && (\r\n+            <div className=\"p-4 text-center text-secondary-text\">\r\n+              No endpoints defined for this resource\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      )}\r\n+\r\n+      {/* New Endpoint Dialog */}\r\n+      <NewEndpointDialog\r\n+        open={showNewEndpointDialog}\r\n+        onOpenChange={setShowNewEndpointDialog}\r\n+        onAddEndpoint={handleAddEndpoint}\r\n+        resourceName={resource.name}\r\n+      />\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,249 +1,249 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import { Badge } from \"@/components/ui/badge\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import { Textarea } from \"@/components/ui/textarea\";\n",
        "-import { ChevronDown, ChevronRight, Edit, Plus, Trash2 } from \"lucide-react\";\n",
        "-\n",
        "-import { Resource, Endpoint } from \"../types\";\n",
        "-import { EndpointItem } from \"./endpoint-item\";\n",
        "-import { NewEndpointDialog } from \"./dialogs/new-endpoint-dialog\";\n",
        "-\n",
        "-interface ResourceSectionProps {\n",
        "-  resource: Resource;\n",
        "-  baseUrl: string;\n",
        "-  isEditing?: boolean;\n",
        "-  onUpdateResource?: (updatedResource: Resource) => void;\n",
        "-  onDeleteResource?: () => void;\n",
        "-}\n",
        "-\n",
        "-export function ResourceSection({\n",
        "-  resource,\n",
        "-  baseUrl,\n",
        "-  isEditing = false,\n",
        "-  onUpdateResource,\n",
        "-  onDeleteResource,\n",
        "-}: ResourceSectionProps) {\n",
        "-  const [isOpen, setIsOpen] = useState(true);\n",
        "-  const [editingName, setEditingName] = useState(false);\n",
        "-  const [editedResource, setEditedResource] = useState<Resource>({\n",
        "-    ...resource,\n",
        "-  });\n",
        "-  const [showNewEndpointDialog, setShowNewEndpointDialog] = useState(false);\n",
        "-\n",
        "-  // Update the edited resource whenever the original resource changes\n",
        "-  useEffect(() => {\n",
        "-    setEditedResource({ ...resource });\n",
        "-  }, [resource]);\n",
        "-\n",
        "-  // Save resource name changes\n",
        "-  const saveNameChanges = () => {\n",
        "-    if (!onUpdateResource) return;\n",
        "-    onUpdateResource(editedResource);\n",
        "-    setEditingName(false);\n",
        "-  };\n",
        "-\n",
        "-  // Handle endpoint update\n",
        "-  const handleEndpointUpdate = (index: number, updatedEndpoint: Endpoint) => {\n",
        "-    if (!onUpdateResource) return;\n",
        "-\n",
        "-    const newEndpoints = [...editedResource.endpoints];\n",
        "-    newEndpoints[index] = updatedEndpoint;\n",
        "-\n",
        "-    const updatedResource = {\n",
        "-      ...editedResource,\n",
        "-      endpoints: newEndpoints,\n",
        "-    };\n",
        "-\n",
        "-    setEditedResource(updatedResource);\n",
        "-    onUpdateResource(updatedResource);\n",
        "-  };\n",
        "-\n",
        "-  // Handle endpoint deletion\n",
        "-  const handleEndpointDelete = (index: number) => {\n",
        "-    if (!onUpdateResource) return;\n",
        "-\n",
        "-    const newEndpoints = [...editedResource.endpoints];\n",
        "-    newEndpoints.splice(index, 1);\n",
        "-\n",
        "-    const updatedResource = {\n",
        "-      ...editedResource,\n",
        "-      endpoints: newEndpoints,\n",
        "-    };\n",
        "-\n",
        "-    setEditedResource(updatedResource);\n",
        "-    onUpdateResource(updatedResource);\n",
        "-  };\n",
        "-\n",
        "-  // Add new endpoint\n",
        "-  const handleAddEndpoint = (newEndpoint: Endpoint) => {\n",
        "-    if (!onUpdateResource) return;\n",
        "-\n",
        "-    const updatedResource = {\n",
        "-      ...editedResource,\n",
        "-      endpoints: [...editedResource.endpoints, newEndpoint],\n",
        "-    };\n",
        "-\n",
        "-    setEditedResource(updatedResource);\n",
        "-    onUpdateResource(updatedResource);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <div className=\"border border-divider rounded-md overflow-hidden bg-secondary-background\">\n",
        "-      {/* Resource Header */}\n",
        "-      <div\n",
        "-        className=\"p-3 flex items-center justify-between cursor-pointer hover:bg-hover-active\"\n",
        "-        onClick={() => setIsOpen(!isOpen)}\n",
        "-      >\n",
        "-        <div className=\"flex items-center gap-2\">\n",
        "-          <Badge className=\"bg-hover-active\">{resource.endpoints.length}</Badge>\n",
        "-\n",
        "-          {editingName ? (\n",
        "-            <div className=\"flex items-center gap-2\">\n",
        "-              <Input\n",
        "-                value={editedResource.name}\n",
        "-                onChange={(e) =>\n",
        "-                  setEditedResource({ ...editedResource, name: e.target.value })\n",
        "-                }\n",
        "-                className=\"h-8 w-48 bg-primary-background\"\n",
        "-                onClick={(e) => e.stopPropagation()}\n",
        "-              />\n",
        "-              <Textarea\n",
        "-                value={editedResource.description}\n",
        "-                onChange={(e) =>\n",
        "-                  setEditedResource({\n",
        "-                    ...editedResource,\n",
        "-                    description: e.target.value,\n",
        "-                  })\n",
        "-                }\n",
        "-                className=\"h-8 w-48 bg-primary-background resize-none\"\n",
        "-                placeholder=\"Resource description\"\n",
        "-                onClick={(e) => e.stopPropagation()}\n",
        "-              />\n",
        "-              <div className=\"flex items-center gap-1\">\n",
        "-                <Button\n",
        "-                  variant=\"ghost\"\n",
        "-                  size=\"sm\"\n",
        "-                  className=\"h-7\"\n",
        "-                  onClick={(e) => {\n",
        "-                    e.stopPropagation();\n",
        "-                    setEditedResource({ ...resource });\n",
        "-                    setEditingName(false);\n",
        "-                  }}\n",
        "-                >\n",
        "-                  Cancel\n",
        "-                </Button>\n",
        "-                <Button\n",
        "-                  size=\"sm\"\n",
        "-                  className=\"h-7\"\n",
        "-                  onClick={(e) => {\n",
        "-                    e.stopPropagation();\n",
        "-                    saveNameChanges();\n",
        "-                  }}\n",
        "-                >\n",
        "-                  Save\n",
        "-                </Button>\n",
        "-              </div>\n",
        "-            </div>\n",
        "-          ) : (\n",
        "-            <h3 className=\"text-lg font-medium\">{resource.name}</h3>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"flex items-center gap-2\">\n",
        "-          <span className=\"text-secondary-text text-sm hidden md:inline-block\">\n",
        "-            {resource.description}\n",
        "-          </span>\n",
        "-\n",
        "-          {isEditing && !editingName && (\n",
        "-            <div className=\"flex items-center gap-1\">\n",
        "-              <Button\n",
        "-                variant=\"ghost\"\n",
        "-                size=\"sm\"\n",
        "-                className=\"h-7 w-7 p-0\"\n",
        "-                onClick={(e) => {\n",
        "-                  e.stopPropagation();\n",
        "-                  setEditingName(true);\n",
        "-                }}\n",
        "-              >\n",
        "-                <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\n",
        "-              </Button>\n",
        "-              {onDeleteResource && (\n",
        "-                <Button\n",
        "-                  variant=\"ghost\"\n",
        "-                  size=\"sm\"\n",
        "-                  className=\"h-7 w-7 p-0 hover:text-red-400\"\n",
        "-                  onClick={(e) => {\n",
        "-                    e.stopPropagation();\n",
        "-                    onDeleteResource();\n",
        "-                  }}\n",
        "-                >\n",
        "-                  <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\n",
        "-                </Button>\n",
        "-              )}\n",
        "-            </div>\n",
        "-          )}\n",
        "-\n",
        "-          {isOpen ? (\n",
        "-            <ChevronDown className=\"h-5 w-5 text-secondary-text\" />\n",
        "-          ) : (\n",
        "-            <ChevronRight className=\"h-5 w-5 text-secondary-text\" />\n",
        "-          )}\n",
        "-        </div>\n",
        "-      </div>\n",
        "-\n",
        "-      {/* Endpoints List */}\n",
        "-      {isOpen && (\n",
        "-        <div className=\"border-t border-divider\">\n",
        "-          {/* Add Endpoint Button */}\n",
        "-          {isEditing && (\n",
        "-            <div className=\"p-2 border-b border-divider bg-hover-active/10\">\n",
        "-              <Button\n",
        "-                variant=\"outline\"\n",
        "-                size=\"sm\"\n",
        "-                className=\"w-full text-primary-cta\"\n",
        "-                onClick={() => setShowNewEndpointDialog(true)}\n",
        "-              >\n",
        "-                <Plus className=\"h-3.5 w-3.5 mr-1\" /> Add Endpoint\n",
        "-              </Button>\n",
        "-            </div>\n",
        "-          )}\n",
        "-\n",
        "-          {resource.endpoints.map((endpoint, endpointIdx) => (\n",
        "-            <EndpointItem\n",
        "-              key={endpointIdx}\n",
        "-              endpoint={endpoint}\n",
        "-              baseUrl={baseUrl}\n",
        "-              isEditing={isEditing}\n",
        "-              onUpdateEndpoint={\n",
        "-                isEditing\n",
        "-                  ? (updatedEndpoint) =>\n",
        "-                      handleEndpointUpdate(endpointIdx, updatedEndpoint)\n",
        "-                  : undefined\n",
        "-              }\n",
        "-              onDeleteEndpoint={\n",
        "-                isEditing ? () => handleEndpointDelete(endpointIdx) : undefined\n",
        "-              }\n",
        "-            />\n",
        "-          ))}\n",
        "-\n",
        "-          {resource.endpoints.length === 0 && (\n",
        "-            <div className=\"p-4 text-center text-secondary-text\">\n",
        "-              No endpoints defined for this resource\n",
        "-            </div>\n",
        "-          )}\n",
        "-        </div>\n",
        "-      )}\n",
        "-\n",
        "-      {/* New Endpoint Dialog */}\n",
        "-      <NewEndpointDialog\n",
        "-        open={showNewEndpointDialog}\n",
        "-        onOpenChange={setShowNewEndpointDialog}\n",
        "-        onAddEndpoint={handleAddEndpoint}\n",
        "-        resourceName={resource.name}\n",
        "-      />\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import { Badge } from \"@/components/ui/badge\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import { Textarea } from \"@/components/ui/textarea\";\r\n",
        "+import { ChevronDown, ChevronRight, Edit, Plus, Trash2 } from \"lucide-react\";\r\n",
        "+\r\n",
        "+import { Resource, Endpoint } from \"../types\";\r\n",
        "+import { EndpointItem } from \"./endpoint-item\";\r\n",
        "+import { NewEndpointDialog } from \"./dialogs/new-endpoint-dialog\";\r\n",
        "+\r\n",
        "+interface ResourceSectionProps {\r\n",
        "+  resource: Resource;\r\n",
        "+  baseUrl: string;\r\n",
        "+  isEditing?: boolean;\r\n",
        "+  onUpdateResource?: (updatedResource: Resource) => void;\r\n",
        "+  onDeleteResource?: () => void;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function ResourceSection({\r\n",
        "+  resource,\r\n",
        "+  baseUrl,\r\n",
        "+  isEditing = false,\r\n",
        "+  onUpdateResource,\r\n",
        "+  onDeleteResource,\r\n",
        "+}: ResourceSectionProps) {\r\n",
        "+  const [isOpen, setIsOpen] = useState(true);\r\n",
        "+  const [editingName, setEditingName] = useState(false);\r\n",
        "+  const [editedResource, setEditedResource] = useState<Resource>({\r\n",
        "+    ...resource,\r\n",
        "+  });\r\n",
        "+  const [showNewEndpointDialog, setShowNewEndpointDialog] = useState(false);\r\n",
        "+\r\n",
        "+  // Update the edited resource whenever the original resource changes\r\n",
        "+  useEffect(() => {\r\n",
        "+    setEditedResource({ ...resource });\r\n",
        "+  }, [resource]);\r\n",
        "+\r\n",
        "+  // Save resource name changes\r\n",
        "+  const saveNameChanges = () => {\r\n",
        "+    if (!onUpdateResource) return;\r\n",
        "+    onUpdateResource(editedResource);\r\n",
        "+    setEditingName(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle endpoint update\r\n",
        "+  const handleEndpointUpdate = (index: number, updatedEndpoint: Endpoint) => {\r\n",
        "+    if (!onUpdateResource) return;\r\n",
        "+\r\n",
        "+    const newEndpoints = [...editedResource.endpoints];\r\n",
        "+    newEndpoints[index] = updatedEndpoint;\r\n",
        "+\r\n",
        "+    const updatedResource = {\r\n",
        "+      ...editedResource,\r\n",
        "+      endpoints: newEndpoints,\r\n",
        "+    };\r\n",
        "+\r\n",
        "+    setEditedResource(updatedResource);\r\n",
        "+    onUpdateResource(updatedResource);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle endpoint deletion\r\n",
        "+  const handleEndpointDelete = (index: number) => {\r\n",
        "+    if (!onUpdateResource) return;\r\n",
        "+\r\n",
        "+    const newEndpoints = [...editedResource.endpoints];\r\n",
        "+    newEndpoints.splice(index, 1);\r\n",
        "+\r\n",
        "+    const updatedResource = {\r\n",
        "+      ...editedResource,\r\n",
        "+      endpoints: newEndpoints,\r\n",
        "+    };\r\n",
        "+\r\n",
        "+    setEditedResource(updatedResource);\r\n",
        "+    onUpdateResource(updatedResource);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Add new endpoint\r\n",
        "+  const handleAddEndpoint = (newEndpoint: Endpoint) => {\r\n",
        "+    if (!onUpdateResource) return;\r\n",
        "+\r\n",
        "+    const updatedResource = {\r\n",
        "+      ...editedResource,\r\n",
        "+      endpoints: [...editedResource.endpoints, newEndpoint],\r\n",
        "+    };\r\n",
        "+\r\n",
        "+    setEditedResource(updatedResource);\r\n",
        "+    onUpdateResource(updatedResource);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <div className=\"border border-divider rounded-md overflow-hidden bg-secondary-background\">\r\n",
        "+      {/* Resource Header */}\r\n",
        "+      <div\r\n",
        "+        className=\"p-3 flex items-center justify-between cursor-pointer hover:bg-hover-active\"\r\n",
        "+        onClick={() => setIsOpen(!isOpen)}\r\n",
        "+      >\r\n",
        "+        <div className=\"flex items-center gap-2\">\r\n",
        "+          <Badge className=\"bg-hover-active\">{resource.endpoints.length}</Badge>\r\n",
        "+\r\n",
        "+          {editingName ? (\r\n",
        "+            <div className=\"flex items-center gap-2\">\r\n",
        "+              <Input\r\n",
        "+                value={editedResource.name}\r\n",
        "+                onChange={(e) =>\r\n",
        "+                  setEditedResource({ ...editedResource, name: e.target.value })\r\n",
        "+                }\r\n",
        "+                className=\"h-8 w-48 bg-primary-background\"\r\n",
        "+                onClick={(e) => e.stopPropagation()}\r\n",
        "+              />\r\n",
        "+              <Textarea\r\n",
        "+                value={editedResource.description}\r\n",
        "+                onChange={(e) =>\r\n",
        "+                  setEditedResource({\r\n",
        "+                    ...editedResource,\r\n",
        "+                    description: e.target.value,\r\n",
        "+                  })\r\n",
        "+                }\r\n",
        "+                className=\"h-8 w-48 bg-primary-background resize-none\"\r\n",
        "+                placeholder=\"Resource description\"\r\n",
        "+                onClick={(e) => e.stopPropagation()}\r\n",
        "+              />\r\n",
        "+              <div className=\"flex items-center gap-1\">\r\n",
        "+                <Button\r\n",
        "+                  variant=\"ghost\"\r\n",
        "+                  size=\"sm\"\r\n",
        "+                  className=\"h-7\"\r\n",
        "+                  onClick={(e) => {\r\n",
        "+                    e.stopPropagation();\r\n",
        "+                    setEditedResource({ ...resource });\r\n",
        "+                    setEditingName(false);\r\n",
        "+                  }}\r\n",
        "+                >\r\n",
        "+                  Cancel\r\n",
        "+                </Button>\r\n",
        "+                <Button\r\n",
        "+                  size=\"sm\"\r\n",
        "+                  className=\"h-7\"\r\n",
        "+                  onClick={(e) => {\r\n",
        "+                    e.stopPropagation();\r\n",
        "+                    saveNameChanges();\r\n",
        "+                  }}\r\n",
        "+                >\r\n",
        "+                  Save\r\n",
        "+                </Button>\r\n",
        "+              </div>\r\n",
        "+            </div>\r\n",
        "+          ) : (\r\n",
        "+            <h3 className=\"text-lg font-medium\">{resource.name}</h3>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"flex items-center gap-2\">\r\n",
        "+          <span className=\"text-secondary-text text-sm hidden md:inline-block\">\r\n",
        "+            {resource.description}\r\n",
        "+          </span>\r\n",
        "+\r\n",
        "+          {isEditing && !editingName && (\r\n",
        "+            <div className=\"flex items-center gap-1\">\r\n",
        "+              <Button\r\n",
        "+                variant=\"ghost\"\r\n",
        "+                size=\"sm\"\r\n",
        "+                className=\"h-7 w-7 p-0\"\r\n",
        "+                onClick={(e) => {\r\n",
        "+                  e.stopPropagation();\r\n",
        "+                  setEditingName(true);\r\n",
        "+                }}\r\n",
        "+              >\r\n",
        "+                <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n",
        "+              </Button>\r\n",
        "+              {onDeleteResource && (\r\n",
        "+                <Button\r\n",
        "+                  variant=\"ghost\"\r\n",
        "+                  size=\"sm\"\r\n",
        "+                  className=\"h-7 w-7 p-0 hover:text-red-400\"\r\n",
        "+                  onClick={(e) => {\r\n",
        "+                    e.stopPropagation();\r\n",
        "+                    onDeleteResource();\r\n",
        "+                  }}\r\n",
        "+                >\r\n",
        "+                  <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n",
        "+                </Button>\r\n",
        "+              )}\r\n",
        "+            </div>\r\n",
        "+          )}\r\n",
        "+\r\n",
        "+          {isOpen ? (\r\n",
        "+            <ChevronDown className=\"h-5 w-5 text-secondary-text\" />\r\n",
        "+          ) : (\r\n",
        "+            <ChevronRight className=\"h-5 w-5 text-secondary-text\" />\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+      </div>\r\n",
        "+\r\n",
        "+      {/* Endpoints List */}\r\n",
        "+      {isOpen && (\r\n",
        "+        <div className=\"border-t border-divider\">\r\n",
        "+          {/* Add Endpoint Button */}\r\n",
        "+          {isEditing && (\r\n",
        "+            <div className=\"p-2 border-b border-divider bg-hover-active/10\">\r\n",
        "+              <Button\r\n",
        "+                variant=\"outline\"\r\n",
        "+                size=\"sm\"\r\n",
        "+                className=\"w-full text-primary-cta\"\r\n",
        "+                onClick={() => setShowNewEndpointDialog(true)}\r\n",
        "+              >\r\n",
        "+                <Plus className=\"h-3.5 w-3.5 mr-1\" /> Add Endpoint\r\n",
        "+              </Button>\r\n",
        "+            </div>\r\n",
        "+          )}\r\n",
        "+\r\n",
        "+          {resource.endpoints.map((endpoint, endpointIdx) => (\r\n",
        "+            <EndpointItem\r\n",
        "+              key={endpointIdx}\r\n",
        "+              endpoint={endpoint}\r\n",
        "+              baseUrl={baseUrl}\r\n",
        "+              isEditing={isEditing}\r\n",
        "+              onUpdateEndpoint={\r\n",
        "+                isEditing\r\n",
        "+                  ? (updatedEndpoint) =>\r\n",
        "+                      handleEndpointUpdate(endpointIdx, updatedEndpoint)\r\n",
        "+                  : undefined\r\n",
        "+              }\r\n",
        "+              onDeleteEndpoint={\r\n",
        "+                isEditing ? () => handleEndpointDelete(endpointIdx) : undefined\r\n",
        "+              }\r\n",
        "+            />\r\n",
        "+          ))}\r\n",
        "+\r\n",
        "+          {resource.endpoints.length === 0 && (\r\n",
        "+            <div className=\"p-4 text-center text-secondary-text\">\r\n",
        "+              No endpoints defined for this resource\r\n",
        "+            </div>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+      )}\r\n",
        "+\r\n",
        "+      {/* New Endpoint Dialog */}\r\n",
        "+      <NewEndpointDialog\r\n",
        "+        open={showNewEndpointDialog}\r\n",
        "+        onOpenChange={setShowNewEndpointDialog}\r\n",
        "+        onAddEndpoint={handleAddEndpoint}\r\n",
        "+        resourceName={resource.name}\r\n",
        "+      />\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/components/response-error-item.tsx",
      "status": "modified",
      "additions": 155,
      "deletions": 155,
      "patch": "@@ -1,155 +1,155 @@\n-\"use client\";\n-\n-import { useState } from \"react\";\n-import { Badge } from \"@/components/ui/badge\";\n-import { Button } from \"@/components/ui/button\";\n-import { Input } from \"@/components/ui/input\";\n-import { Label } from \"@/components/ui/label\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { Edit, Trash2 } from \"lucide-react\";\n-import { ResponseError } from \"../types\";\n-import { statusColors, errorCodes } from \"../constants\";\n-\n-interface ResponseErrorItemProps {\n-  error: ResponseError;\n-  isEditing: boolean;\n-  onEdit?: (updatedError: ResponseError) => void;\n-  onDelete?: () => void;\n-}\n-\n-export function ResponseErrorItem({\n-  error,\n-  isEditing,\n-  onEdit,\n-  onDelete,\n-}: ResponseErrorItemProps) {\n-  const [editMode, setEditMode] = useState(false);\n-  const [editedError, setEditedError] = useState<ResponseError>({ ...error });\n-\n-  // Save changes and exit edit mode\n-  const saveChanges = () => {\n-    if (onEdit) {\n-      onEdit(editedError);\n-    }\n-    setEditMode(false);\n-  };\n-\n-  // Cancel editing and reset to original values\n-  const cancelEdit = () => {\n-    setEditedError({ ...error });\n-    setEditMode(false);\n-  };\n-\n-  const statusColor =\n-    statusColors[Math.floor(error.status / 100) as keyof typeof statusColors] ||\n-    statusColors[5];\n-\n-  if (!editMode) {\n-    return (\n-      <div className=\"border border-divider rounded-md overflow-hidden mb-3 last:mb-0\">\n-        <div className=\"p-2 bg-primary-background flex items-center border-b border-divider\">\n-          <Badge className={statusColor}>{error.status}</Badge>\n-          <span className=\"text-secondary-text font-medium ml-2 flex-grow\">\n-            {error.description}\n-          </span>\n-\n-          {isEditing && (\n-            <div className=\"flex items-center gap-1\">\n-              <Button\n-                variant=\"ghost\"\n-                size=\"sm\"\n-                className=\"h-7 w-7 p-0\"\n-                onClick={() => setEditMode(true)}\n-              >\n-                <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\n-              </Button>\n-              {onDelete && (\n-                <Button\n-                  variant=\"ghost\"\n-                  size=\"sm\"\n-                  className=\"h-7 w-7 p-0 hover:text-red-400\"\n-                  onClick={onDelete}\n-                >\n-                  <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\n-                </Button>\n-              )}\n-            </div>\n-          )}\n-        </div>\n-      </div>\n-    );\n-  }\n-\n-  // Edit mode\n-  return (\n-    <div className=\"border border-divider rounded-md overflow-hidden mb-3 last:mb-0 bg-hover-active/10\">\n-      <div className=\"p-3\">\n-        <div className=\"grid grid-cols-2 gap-3 mb-3\">\n-          <div>\n-            <Label htmlFor=\"error-status\" className=\"text-xs mb-1\">\n-              Status Code\n-            </Label>\n-            <Select\n-              value={editedError.status.toString()}\n-              onValueChange={(value) =>\n-                setEditedError({ ...editedError, status: parseInt(value) })\n-              }\n-            >\n-              <SelectTrigger\n-                id=\"error-status\"\n-                className=\"h-8 bg-primary-background\"\n-              >\n-                <SelectValue placeholder=\"Select status code\" />\n-              </SelectTrigger>\n-              <SelectContent>\n-                {errorCodes.map((code) => (\n-                  <SelectItem key={code} value={code.toString()}>\n-                    {code}\n-                  </SelectItem>\n-                ))}\n-              </SelectContent>\n-            </Select>\n-          </div>\n-          <div>\n-            <Label htmlFor=\"error-description\" className=\"text-xs mb-1\">\n-              Description\n-            </Label>\n-            <Input\n-              id=\"error-description\"\n-              value={editedError.description}\n-              onChange={(e) =>\n-                setEditedError({ ...editedError, description: e.target.value })\n-              }\n-              className=\"h-8 bg-primary-background\"\n-            />\n-          </div>\n-        </div>\n-\n-        <div className=\"flex items-center justify-end gap-2 mt-3\">\n-          <Button\n-            variant=\"outline\"\n-            size=\"sm\"\n-            className=\"h-7\"\n-            onClick={cancelEdit}\n-          >\n-            Cancel\n-          </Button>\n-          <Button\n-            variant=\"default\"\n-            size=\"sm\"\n-            className=\"h-7\"\n-            onClick={saveChanges}\n-          >\n-            Save\n-          </Button>\n-        </div>\n-      </div>\n-    </div>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { Badge } from \"@/components/ui/badge\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Label } from \"@/components/ui/label\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { Edit, Trash2 } from \"lucide-react\";\r\n+import { ResponseError } from \"../types\";\r\n+import { statusColors, errorCodes } from \"../constants\";\r\n+\r\n+interface ResponseErrorItemProps {\r\n+  error: ResponseError;\r\n+  isEditing: boolean;\r\n+  onEdit?: (updatedError: ResponseError) => void;\r\n+  onDelete?: () => void;\r\n+}\r\n+\r\n+export function ResponseErrorItem({\r\n+  error,\r\n+  isEditing,\r\n+  onEdit,\r\n+  onDelete,\r\n+}: ResponseErrorItemProps) {\r\n+  const [editMode, setEditMode] = useState(false);\r\n+  const [editedError, setEditedError] = useState<ResponseError>({ ...error });\r\n+\r\n+  // Save changes and exit edit mode\r\n+  const saveChanges = () => {\r\n+    if (onEdit) {\r\n+      onEdit(editedError);\r\n+    }\r\n+    setEditMode(false);\r\n+  };\r\n+\r\n+  // Cancel editing and reset to original values\r\n+  const cancelEdit = () => {\r\n+    setEditedError({ ...error });\r\n+    setEditMode(false);\r\n+  };\r\n+\r\n+  const statusColor =\r\n+    statusColors[Math.floor(error.status / 100) as keyof typeof statusColors] ||\r\n+    statusColors[5];\r\n+\r\n+  if (!editMode) {\r\n+    return (\r\n+      <div className=\"border border-divider rounded-md overflow-hidden mb-3 last:mb-0\">\r\n+        <div className=\"p-2 bg-primary-background flex items-center border-b border-divider\">\r\n+          <Badge className={statusColor}>{error.status}</Badge>\r\n+          <span className=\"text-secondary-text font-medium ml-2 flex-grow\">\r\n+            {error.description}\r\n+          </span>\r\n+\r\n+          {isEditing && (\r\n+            <div className=\"flex items-center gap-1\">\r\n+              <Button\r\n+                variant=\"ghost\"\r\n+                size=\"sm\"\r\n+                className=\"h-7 w-7 p-0\"\r\n+                onClick={() => setEditMode(true)}\r\n+              >\r\n+                <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n+              </Button>\r\n+              {onDelete && (\r\n+                <Button\r\n+                  variant=\"ghost\"\r\n+                  size=\"sm\"\r\n+                  className=\"h-7 w-7 p-0 hover:text-red-400\"\r\n+                  onClick={onDelete}\r\n+                >\r\n+                  <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n+                </Button>\r\n+              )}\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n+  // Edit mode\r\n+  return (\r\n+    <div className=\"border border-divider rounded-md overflow-hidden mb-3 last:mb-0 bg-hover-active/10\">\r\n+      <div className=\"p-3\">\r\n+        <div className=\"grid grid-cols-2 gap-3 mb-3\">\r\n+          <div>\r\n+            <Label htmlFor=\"error-status\" className=\"text-xs mb-1\">\r\n+              Status Code\r\n+            </Label>\r\n+            <Select\r\n+              value={editedError.status.toString()}\r\n+              onValueChange={(value) =>\r\n+                setEditedError({ ...editedError, status: parseInt(value) })\r\n+              }\r\n+            >\r\n+              <SelectTrigger\r\n+                id=\"error-status\"\r\n+                className=\"h-8 bg-primary-background\"\r\n+              >\r\n+                <SelectValue placeholder=\"Select status code\" />\r\n+              </SelectTrigger>\r\n+              <SelectContent>\r\n+                {errorCodes.map((code) => (\r\n+                  <SelectItem key={code} value={code.toString()}>\r\n+                    {code}\r\n+                  </SelectItem>\r\n+                ))}\r\n+              </SelectContent>\r\n+            </Select>\r\n+          </div>\r\n+          <div>\r\n+            <Label htmlFor=\"error-description\" className=\"text-xs mb-1\">\r\n+              Description\r\n+            </Label>\r\n+            <Input\r\n+              id=\"error-description\"\r\n+              value={editedError.description}\r\n+              onChange={(e) =>\r\n+                setEditedError({ ...editedError, description: e.target.value })\r\n+              }\r\n+              className=\"h-8 bg-primary-background\"\r\n+            />\r\n+          </div>\r\n+        </div>\r\n+\r\n+        <div className=\"flex items-center justify-end gap-2 mt-3\">\r\n+          <Button\r\n+            variant=\"outline\"\r\n+            size=\"sm\"\r\n+            className=\"h-7\"\r\n+            onClick={cancelEdit}\r\n+          >\r\n+            Cancel\r\n+          </Button>\r\n+          <Button\r\n+            variant=\"default\"\r\n+            size=\"sm\"\r\n+            className=\"h-7\"\r\n+            onClick={saveChanges}\r\n+          >\r\n+            Save\r\n+          </Button>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,155 +1,155 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState } from \"react\";\n",
        "-import { Badge } from \"@/components/ui/badge\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import { Label } from \"@/components/ui/label\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { Edit, Trash2 } from \"lucide-react\";\n",
        "-import { ResponseError } from \"../types\";\n",
        "-import { statusColors, errorCodes } from \"../constants\";\n",
        "-\n",
        "-interface ResponseErrorItemProps {\n",
        "-  error: ResponseError;\n",
        "-  isEditing: boolean;\n",
        "-  onEdit?: (updatedError: ResponseError) => void;\n",
        "-  onDelete?: () => void;\n",
        "-}\n",
        "-\n",
        "-export function ResponseErrorItem({\n",
        "-  error,\n",
        "-  isEditing,\n",
        "-  onEdit,\n",
        "-  onDelete,\n",
        "-}: ResponseErrorItemProps) {\n",
        "-  const [editMode, setEditMode] = useState(false);\n",
        "-  const [editedError, setEditedError] = useState<ResponseError>({ ...error });\n",
        "-\n",
        "-  // Save changes and exit edit mode\n",
        "-  const saveChanges = () => {\n",
        "-    if (onEdit) {\n",
        "-      onEdit(editedError);\n",
        "-    }\n",
        "-    setEditMode(false);\n",
        "-  };\n",
        "-\n",
        "-  // Cancel editing and reset to original values\n",
        "-  const cancelEdit = () => {\n",
        "-    setEditedError({ ...error });\n",
        "-    setEditMode(false);\n",
        "-  };\n",
        "-\n",
        "-  const statusColor =\n",
        "-    statusColors[Math.floor(error.status / 100) as keyof typeof statusColors] ||\n",
        "-    statusColors[5];\n",
        "-\n",
        "-  if (!editMode) {\n",
        "-    return (\n",
        "-      <div className=\"border border-divider rounded-md overflow-hidden mb-3 last:mb-0\">\n",
        "-        <div className=\"p-2 bg-primary-background flex items-center border-b border-divider\">\n",
        "-          <Badge className={statusColor}>{error.status}</Badge>\n",
        "-          <span className=\"text-secondary-text font-medium ml-2 flex-grow\">\n",
        "-            {error.description}\n",
        "-          </span>\n",
        "-\n",
        "-          {isEditing && (\n",
        "-            <div className=\"flex items-center gap-1\">\n",
        "-              <Button\n",
        "-                variant=\"ghost\"\n",
        "-                size=\"sm\"\n",
        "-                className=\"h-7 w-7 p-0\"\n",
        "-                onClick={() => setEditMode(true)}\n",
        "-              >\n",
        "-                <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\n",
        "-              </Button>\n",
        "-              {onDelete && (\n",
        "-                <Button\n",
        "-                  variant=\"ghost\"\n",
        "-                  size=\"sm\"\n",
        "-                  className=\"h-7 w-7 p-0 hover:text-red-400\"\n",
        "-                  onClick={onDelete}\n",
        "-                >\n",
        "-                  <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\n",
        "-                </Button>\n",
        "-              )}\n",
        "-            </div>\n",
        "-          )}\n",
        "-        </div>\n",
        "-      </div>\n",
        "-    );\n",
        "-  }\n",
        "-\n",
        "-  // Edit mode\n",
        "-  return (\n",
        "-    <div className=\"border border-divider rounded-md overflow-hidden mb-3 last:mb-0 bg-hover-active/10\">\n",
        "-      <div className=\"p-3\">\n",
        "-        <div className=\"grid grid-cols-2 gap-3 mb-3\">\n",
        "-          <div>\n",
        "-            <Label htmlFor=\"error-status\" className=\"text-xs mb-1\">\n",
        "-              Status Code\n",
        "-            </Label>\n",
        "-            <Select\n",
        "-              value={editedError.status.toString()}\n",
        "-              onValueChange={(value) =>\n",
        "-                setEditedError({ ...editedError, status: parseInt(value) })\n",
        "-              }\n",
        "-            >\n",
        "-              <SelectTrigger\n",
        "-                id=\"error-status\"\n",
        "-                className=\"h-8 bg-primary-background\"\n",
        "-              >\n",
        "-                <SelectValue placeholder=\"Select status code\" />\n",
        "-              </SelectTrigger>\n",
        "-              <SelectContent>\n",
        "-                {errorCodes.map((code) => (\n",
        "-                  <SelectItem key={code} value={code.toString()}>\n",
        "-                    {code}\n",
        "-                  </SelectItem>\n",
        "-                ))}\n",
        "-              </SelectContent>\n",
        "-            </Select>\n",
        "-          </div>\n",
        "-          <div>\n",
        "-            <Label htmlFor=\"error-description\" className=\"text-xs mb-1\">\n",
        "-              Description\n",
        "-            </Label>\n",
        "-            <Input\n",
        "-              id=\"error-description\"\n",
        "-              value={editedError.description}\n",
        "-              onChange={(e) =>\n",
        "-                setEditedError({ ...editedError, description: e.target.value })\n",
        "-              }\n",
        "-              className=\"h-8 bg-primary-background\"\n",
        "-            />\n",
        "-          </div>\n",
        "-        </div>\n",
        "-\n",
        "-        <div className=\"flex items-center justify-end gap-2 mt-3\">\n",
        "-          <Button\n",
        "-            variant=\"outline\"\n",
        "-            size=\"sm\"\n",
        "-            className=\"h-7\"\n",
        "-            onClick={cancelEdit}\n",
        "-          >\n",
        "-            Cancel\n",
        "-          </Button>\n",
        "-          <Button\n",
        "-            variant=\"default\"\n",
        "-            size=\"sm\"\n",
        "-            className=\"h-7\"\n",
        "-            onClick={saveChanges}\n",
        "-          >\n",
        "-            Save\n",
        "-          </Button>\n",
        "-        </div>\n",
        "-      </div>\n",
        "-    </div>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import { Badge } from \"@/components/ui/badge\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import { Label } from \"@/components/ui/label\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { Edit, Trash2 } from \"lucide-react\";\r\n",
        "+import { ResponseError } from \"../types\";\r\n",
        "+import { statusColors, errorCodes } from \"../constants\";\r\n",
        "+\r\n",
        "+interface ResponseErrorItemProps {\r\n",
        "+  error: ResponseError;\r\n",
        "+  isEditing: boolean;\r\n",
        "+  onEdit?: (updatedError: ResponseError) => void;\r\n",
        "+  onDelete?: () => void;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function ResponseErrorItem({\r\n",
        "+  error,\r\n",
        "+  isEditing,\r\n",
        "+  onEdit,\r\n",
        "+  onDelete,\r\n",
        "+}: ResponseErrorItemProps) {\r\n",
        "+  const [editMode, setEditMode] = useState(false);\r\n",
        "+  const [editedError, setEditedError] = useState<ResponseError>({ ...error });\r\n",
        "+\r\n",
        "+  // Save changes and exit edit mode\r\n",
        "+  const saveChanges = () => {\r\n",
        "+    if (onEdit) {\r\n",
        "+      onEdit(editedError);\r\n",
        "+    }\r\n",
        "+    setEditMode(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Cancel editing and reset to original values\r\n",
        "+  const cancelEdit = () => {\r\n",
        "+    setEditedError({ ...error });\r\n",
        "+    setEditMode(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  const statusColor =\r\n",
        "+    statusColors[Math.floor(error.status / 100) as keyof typeof statusColors] ||\r\n",
        "+    statusColors[5];\r\n",
        "+\r\n",
        "+  if (!editMode) {\r\n",
        "+    return (\r\n",
        "+      <div className=\"border border-divider rounded-md overflow-hidden mb-3 last:mb-0\">\r\n",
        "+        <div className=\"p-2 bg-primary-background flex items-center border-b border-divider\">\r\n",
        "+          <Badge className={statusColor}>{error.status}</Badge>\r\n",
        "+          <span className=\"text-secondary-text font-medium ml-2 flex-grow\">\r\n",
        "+            {error.description}\r\n",
        "+          </span>\r\n",
        "+\r\n",
        "+          {isEditing && (\r\n",
        "+            <div className=\"flex items-center gap-1\">\r\n",
        "+              <Button\r\n",
        "+                variant=\"ghost\"\r\n",
        "+                size=\"sm\"\r\n",
        "+                className=\"h-7 w-7 p-0\"\r\n",
        "+                onClick={() => setEditMode(true)}\r\n",
        "+              >\r\n",
        "+                <Edit className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n",
        "+              </Button>\r\n",
        "+              {onDelete && (\r\n",
        "+                <Button\r\n",
        "+                  variant=\"ghost\"\r\n",
        "+                  size=\"sm\"\r\n",
        "+                  className=\"h-7 w-7 p-0 hover:text-red-400\"\r\n",
        "+                  onClick={onDelete}\r\n",
        "+                >\r\n",
        "+                  <Trash2 className=\"h-3.5 w-3.5 text-secondary-text\" />\r\n",
        "+                </Button>\r\n",
        "+              )}\r\n",
        "+            </div>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+      </div>\r\n",
        "+    );\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  // Edit mode\r\n",
        "+  return (\r\n",
        "+    <div className=\"border border-divider rounded-md overflow-hidden mb-3 last:mb-0 bg-hover-active/10\">\r\n",
        "+      <div className=\"p-3\">\r\n",
        "+        <div className=\"grid grid-cols-2 gap-3 mb-3\">\r\n",
        "+          <div>\r\n",
        "+            <Label htmlFor=\"error-status\" className=\"text-xs mb-1\">\r\n",
        "+              Status Code\r\n",
        "+            </Label>\r\n",
        "+            <Select\r\n",
        "+              value={editedError.status.toString()}\r\n",
        "+              onValueChange={(value) =>\r\n",
        "+                setEditedError({ ...editedError, status: parseInt(value) })\r\n",
        "+              }\r\n",
        "+            >\r\n",
        "+              <SelectTrigger\r\n",
        "+                id=\"error-status\"\r\n",
        "+                className=\"h-8 bg-primary-background\"\r\n",
        "+              >\r\n",
        "+                <SelectValue placeholder=\"Select status code\" />\r\n",
        "+              </SelectTrigger>\r\n",
        "+              <SelectContent>\r\n",
        "+                {errorCodes.map((code) => (\r\n",
        "+                  <SelectItem key={code} value={code.toString()}>\r\n",
        "+                    {code}\r\n",
        "+                  </SelectItem>\r\n",
        "+                ))}\r\n",
        "+              </SelectContent>\r\n",
        "+            </Select>\r\n",
        "+          </div>\r\n",
        "+          <div>\r\n",
        "+            <Label htmlFor=\"error-description\" className=\"text-xs mb-1\">\r\n",
        "+              Description\r\n",
        "+            </Label>\r\n",
        "+            <Input\r\n",
        "+              id=\"error-description\"\r\n",
        "+              value={editedError.description}\r\n",
        "+              onChange={(e) =>\r\n",
        "+                setEditedError({ ...editedError, description: e.target.value })\r\n",
        "+              }\r\n",
        "+              className=\"h-8 bg-primary-background\"\r\n",
        "+            />\r\n",
        "+          </div>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        <div className=\"flex items-center justify-end gap-2 mt-3\">\r\n",
        "+          <Button\r\n",
        "+            variant=\"outline\"\r\n",
        "+            size=\"sm\"\r\n",
        "+            className=\"h-7\"\r\n",
        "+            onClick={cancelEdit}\r\n",
        "+          >\r\n",
        "+            Cancel\r\n",
        "+          </Button>\r\n",
        "+          <Button\r\n",
        "+            variant=\"default\"\r\n",
        "+            size=\"sm\"\r\n",
        "+            className=\"h-7\"\r\n",
        "+            onClick={saveChanges}\r\n",
        "+          >\r\n",
        "+            Save\r\n",
        "+          </Button>\r\n",
        "+        </div>\r\n",
        "+      </div>\r\n",
        "+    </div>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/components/response-section.tsx",
      "status": "modified",
      "additions": 318,
      "deletions": 318,
      "patch": "@@ -1,318 +1,318 @@\n-\"use client\";\n-\n-import { useState } from \"react\";\n-import { Badge } from \"@/components/ui/badge\";\n-import { Button } from \"@/components/ui/button\";\n-import { Input } from \"@/components/ui/input\";\n-import { Label } from \"@/components/ui/label\";\n-import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n-import {\n-  Select,\n-  SelectContent,\n-  SelectItem,\n-  SelectTrigger,\n-  SelectValue,\n-} from \"@/components/ui/select\";\n-import { Plus } from \"lucide-react\";\n-\n-import { Response, ResponseError } from \"../types\";\n-import {\n-  statusColors,\n-  errorCodes,\n-  successCodes,\n-  contentTypes,\n-} from \"../constants\";\n-import { JsonDisplay } from \"./json-display\";\n-import { ResponseErrorItem } from \"./response-error-item\";\n-\n-interface ResponseSectionProps {\n-  response: Response;\n-  isEditing?: boolean;\n-  onUpdateResponse?: (updatedResponse: Response) => void;\n-}\n-\n-export function ResponseSection({\n-  response,\n-  isEditing = false,\n-  onUpdateResponse,\n-}: ResponseSectionProps) {\n-  const [addingError, setAddingError] = useState(false);\n-  const [newError, setNewError] = useState<ResponseError>({\n-    status: 400,\n-    description: \"Bad Request\",\n-  });\n-\n-  // Handle success response update\n-  const handleSuccessUpdate = (schemaData: Record<string, any>) => {\n-    if (!onUpdateResponse) return;\n-\n-    onUpdateResponse({\n-      ...response,\n-      success: {\n-        ...response.success,\n-        schema_data: schemaData,\n-      },\n-    });\n-  };\n-\n-  // Handle status code update\n-  const handleStatusUpdate = (status: number) => {\n-    if (!onUpdateResponse) return;\n-\n-    onUpdateResponse({\n-      ...response,\n-      success: {\n-        ...response.success,\n-        status,\n-      },\n-    });\n-  };\n-\n-  // Handle content type update\n-  const handleContentTypeUpdate = (contentType: string) => {\n-    if (!onUpdateResponse) return;\n-\n-    onUpdateResponse({\n-      ...response,\n-      success: {\n-        ...response.success,\n-        content_type: contentType,\n-      },\n-    });\n-  };\n-\n-  // Handle error update\n-  const handleErrorUpdate = (index: number, updatedError: ResponseError) => {\n-    if (!onUpdateResponse) return;\n-\n-    const newErrors = [...response.errors];\n-    newErrors[index] = updatedError;\n-\n-    onUpdateResponse({\n-      ...response,\n-      errors: newErrors,\n-    });\n-  };\n-\n-  // Handle error deletion\n-  const handleErrorDelete = (index: number) => {\n-    if (!onUpdateResponse) return;\n-\n-    const newErrors = [...response.errors];\n-    newErrors.splice(index, 1);\n-\n-    onUpdateResponse({\n-      ...response,\n-      errors: newErrors,\n-    });\n-  };\n-\n-  // Add new error\n-  const addError = () => {\n-    if (!onUpdateResponse) return;\n-\n-    onUpdateResponse({\n-      ...response,\n-      errors: [...response.errors, newError],\n-    });\n-\n-    setNewError({\n-      status: 400,\n-      description: \"Bad Request\",\n-    });\n-\n-    setAddingError(false);\n-  };\n-\n-  return (\n-    <Tabs defaultValue=\"success\" className=\"w-full\">\n-      <TabsList className=\"mb-4 bg-secondary-background\">\n-        <TabsTrigger\n-          value=\"success\"\n-          className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\n-        >\n-          Success Response\n-        </TabsTrigger>\n-        <TabsTrigger\n-          value=\"errors\"\n-          className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\n-        >\n-          Error Responses ({response.errors.length})\n-        </TabsTrigger>\n-      </TabsList>\n-\n-      <TabsContent value=\"success\" className=\"space-y-4 mt-0\">\n-        <div className=\"flex gap-2 items-center p-2 bg-primary-background rounded-t-md border border-divider border-b-0\">\n-          {isEditing ? (\n-            <>\n-              <Select\n-                value={response.success.status.toString()}\n-                onValueChange={(value) => handleStatusUpdate(parseInt(value))}\n-              >\n-                <SelectTrigger className=\"h-8 w-24 bg-hover-active\">\n-                  <SelectValue placeholder=\"Status\" />\n-                </SelectTrigger>\n-                <SelectContent>\n-                  {successCodes.map((code) => (\n-                    <SelectItem key={code} value={code.toString()}>\n-                      {code}\n-                    </SelectItem>\n-                  ))}\n-                </SelectContent>\n-              </Select>\n-\n-              <Select\n-                value={response.success.content_type}\n-                onValueChange={handleContentTypeUpdate}\n-              >\n-                <SelectTrigger className=\"h-8 bg-hover-active\">\n-                  <SelectValue placeholder=\"Content-Type\" />\n-                </SelectTrigger>\n-                <SelectContent>\n-                  {contentTypes.map((type) => (\n-                    <SelectItem key={type} value={type}>\n-                      {type}\n-                    </SelectItem>\n-                  ))}\n-                </SelectContent>\n-              </Select>\n-            </>\n-          ) : (\n-            <>\n-              <Badge\n-                className={`${\n-                  statusColors[\n-                    Math.floor(\n-                      response.success.status / 100\n-                    ) as keyof typeof statusColors\n-                  ]\n-                }`}\n-              >\n-                {response.success.status}\n-              </Badge>\n-              <span className=\"text-secondary-text\">\n-                {response.success.content_type}\n-              </span>\n-            </>\n-          )}\n-        </div>\n-        <div className=\"border border-divider rounded-b-md overflow-hidden\">\n-          <JsonDisplay\n-            data={response.success.schema_data}\n-            maxHeight=\"96\"\n-            editable={isEditing}\n-            onEdit={handleSuccessUpdate}\n-          />\n-        </div>\n-      </TabsContent>\n-\n-      <TabsContent value=\"errors\" className=\"space-y-4 mt-0\">\n-        {/* Add error button */}\n-        {isEditing && !addingError && (\n-          <div className=\"flex justify-end mb-2\">\n-            <Button\n-              variant=\"outline\"\n-              size=\"sm\"\n-              className=\"text-primary-cta\"\n-              onClick={() => setAddingError(true)}\n-            >\n-              <Plus className=\"h-3.5 w-3.5 mr-1\" /> Add Error\n-            </Button>\n-          </div>\n-        )}\n-\n-        {/* New error form */}\n-        {isEditing && addingError && (\n-          <div className=\"border border-divider rounded-md overflow-hidden mb-4 bg-hover-active/10\">\n-            <div className=\"p-3\">\n-              <div className=\"grid grid-cols-2 gap-3 mb-3\">\n-                <div>\n-                  <Label htmlFor=\"new-error-status\" className=\"text-xs mb-1\">\n-                    Status Code\n-                  </Label>\n-                  <Select\n-                    value={newError.status.toString()}\n-                    onValueChange={(value) =>\n-                      setNewError({ ...newError, status: parseInt(value) })\n-                    }\n-                  >\n-                    <SelectTrigger\n-                      id=\"new-error-status\"\n-                      className=\"h-8 bg-primary-background\"\n-                    >\n-                      <SelectValue placeholder=\"Select status code\" />\n-                    </SelectTrigger>\n-                    <SelectContent>\n-                      {errorCodes.map((code) => (\n-                        <SelectItem key={code} value={code.toString()}>\n-                          {code}\n-                        </SelectItem>\n-                      ))}\n-                    </SelectContent>\n-                  </Select>\n-                </div>\n-                <div>\n-                  <Label\n-                    htmlFor=\"new-error-description\"\n-                    className=\"text-xs mb-1\"\n-                  >\n-                    Description\n-                  </Label>\n-                  <Input\n-                    id=\"new-error-description\"\n-                    value={newError.description}\n-                    onChange={(e) =>\n-                      setNewError({ ...newError, description: e.target.value })\n-                    }\n-                    className=\"h-8 bg-primary-background\"\n-                    placeholder=\"e.g., Bad Request, Not Found\"\n-                  />\n-                </div>\n-              </div>\n-\n-              <div className=\"flex items-center justify-end gap-2 mt-3\">\n-                <Button\n-                  variant=\"outline\"\n-                  size=\"sm\"\n-                  className=\"h-7\"\n-                  onClick={() => setAddingError(false)}\n-                >\n-                  Cancel\n-                </Button>\n-                <Button\n-                  variant=\"default\"\n-                  size=\"sm\"\n-                  className=\"h-7\"\n-                  onClick={addError}\n-                >\n-                  Add\n-                </Button>\n-              </div>\n-            </div>\n-          </div>\n-        )}\n-\n-        {/* Errors list */}\n-        {response.errors.map((error, idx) => (\n-          <ResponseErrorItem\n-            key={idx}\n-            error={error}\n-            isEditing={isEditing}\n-            onEdit={\n-              isEditing\n-                ? (updatedError) => handleErrorUpdate(idx, updatedError)\n-                : undefined\n-            }\n-            onDelete={isEditing ? () => handleErrorDelete(idx) : undefined}\n-          />\n-        ))}\n-\n-        {response.errors.length === 0 && (\n-          <div className=\"p-4 text-center border border-divider rounded-md\">\n-            <p className=\"text-secondary-text\">No error responses defined</p>\n-          </div>\n-        )}\n-      </TabsContent>\n-    </Tabs>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState } from \"react\";\r\n+import { Badge } from \"@/components/ui/badge\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Label } from \"@/components/ui/label\";\r\n+import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\n+import {\r\n+  Select,\r\n+  SelectContent,\r\n+  SelectItem,\r\n+  SelectTrigger,\r\n+  SelectValue,\r\n+} from \"@/components/ui/select\";\r\n+import { Plus } from \"lucide-react\";\r\n+\r\n+import { Response, ResponseError } from \"../types\";\r\n+import {\r\n+  statusColors,\r\n+  errorCodes,\r\n+  successCodes,\r\n+  contentTypes,\r\n+} from \"../constants\";\r\n+import { JsonDisplay } from \"./json-display\";\r\n+import { ResponseErrorItem } from \"./response-error-item\";\r\n+\r\n+interface ResponseSectionProps {\r\n+  response: Response;\r\n+  isEditing?: boolean;\r\n+  onUpdateResponse?: (updatedResponse: Response) => void;\r\n+}\r\n+\r\n+export function ResponseSection({\r\n+  response,\r\n+  isEditing = false,\r\n+  onUpdateResponse,\r\n+}: ResponseSectionProps) {\r\n+  const [addingError, setAddingError] = useState(false);\r\n+  const [newError, setNewError] = useState<ResponseError>({\r\n+    status: 400,\r\n+    description: \"Bad Request\",\r\n+  });\r\n+\r\n+  // Handle success response update\r\n+  const handleSuccessUpdate = (schemaData: Record<string, any>) => {\r\n+    if (!onUpdateResponse) return;\r\n+\r\n+    onUpdateResponse({\r\n+      ...response,\r\n+      success: {\r\n+        ...response.success,\r\n+        schema_data: schemaData,\r\n+      },\r\n+    });\r\n+  };\r\n+\r\n+  // Handle status code update\r\n+  const handleStatusUpdate = (status: number) => {\r\n+    if (!onUpdateResponse) return;\r\n+\r\n+    onUpdateResponse({\r\n+      ...response,\r\n+      success: {\r\n+        ...response.success,\r\n+        status,\r\n+      },\r\n+    });\r\n+  };\r\n+\r\n+  // Handle content type update\r\n+  const handleContentTypeUpdate = (contentType: string) => {\r\n+    if (!onUpdateResponse) return;\r\n+\r\n+    onUpdateResponse({\r\n+      ...response,\r\n+      success: {\r\n+        ...response.success,\r\n+        content_type: contentType,\r\n+      },\r\n+    });\r\n+  };\r\n+\r\n+  // Handle error update\r\n+  const handleErrorUpdate = (index: number, updatedError: ResponseError) => {\r\n+    if (!onUpdateResponse) return;\r\n+\r\n+    const newErrors = [...response.errors];\r\n+    newErrors[index] = updatedError;\r\n+\r\n+    onUpdateResponse({\r\n+      ...response,\r\n+      errors: newErrors,\r\n+    });\r\n+  };\r\n+\r\n+  // Handle error deletion\r\n+  const handleErrorDelete = (index: number) => {\r\n+    if (!onUpdateResponse) return;\r\n+\r\n+    const newErrors = [...response.errors];\r\n+    newErrors.splice(index, 1);\r\n+\r\n+    onUpdateResponse({\r\n+      ...response,\r\n+      errors: newErrors,\r\n+    });\r\n+  };\r\n+\r\n+  // Add new error\r\n+  const addError = () => {\r\n+    if (!onUpdateResponse) return;\r\n+\r\n+    onUpdateResponse({\r\n+      ...response,\r\n+      errors: [...response.errors, newError],\r\n+    });\r\n+\r\n+    setNewError({\r\n+      status: 400,\r\n+      description: \"Bad Request\",\r\n+    });\r\n+\r\n+    setAddingError(false);\r\n+  };\r\n+\r\n+  return (\r\n+    <Tabs defaultValue=\"success\" className=\"w-full\">\r\n+      <TabsList className=\"mb-4 bg-secondary-background\">\r\n+        <TabsTrigger\r\n+          value=\"success\"\r\n+          className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\r\n+        >\r\n+          Success Response\r\n+        </TabsTrigger>\r\n+        <TabsTrigger\r\n+          value=\"errors\"\r\n+          className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\r\n+        >\r\n+          Error Responses ({response.errors.length})\r\n+        </TabsTrigger>\r\n+      </TabsList>\r\n+\r\n+      <TabsContent value=\"success\" className=\"space-y-4 mt-0\">\r\n+        <div className=\"flex gap-2 items-center p-2 bg-primary-background rounded-t-md border border-divider border-b-0\">\r\n+          {isEditing ? (\r\n+            <>\r\n+              <Select\r\n+                value={response.success.status.toString()}\r\n+                onValueChange={(value) => handleStatusUpdate(parseInt(value))}\r\n+              >\r\n+                <SelectTrigger className=\"h-8 w-24 bg-hover-active\">\r\n+                  <SelectValue placeholder=\"Status\" />\r\n+                </SelectTrigger>\r\n+                <SelectContent>\r\n+                  {successCodes.map((code) => (\r\n+                    <SelectItem key={code} value={code.toString()}>\r\n+                      {code}\r\n+                    </SelectItem>\r\n+                  ))}\r\n+                </SelectContent>\r\n+              </Select>\r\n+\r\n+              <Select\r\n+                value={response.success.content_type}\r\n+                onValueChange={handleContentTypeUpdate}\r\n+              >\r\n+                <SelectTrigger className=\"h-8 bg-hover-active\">\r\n+                  <SelectValue placeholder=\"Content-Type\" />\r\n+                </SelectTrigger>\r\n+                <SelectContent>\r\n+                  {contentTypes.map((type) => (\r\n+                    <SelectItem key={type} value={type}>\r\n+                      {type}\r\n+                    </SelectItem>\r\n+                  ))}\r\n+                </SelectContent>\r\n+              </Select>\r\n+            </>\r\n+          ) : (\r\n+            <>\r\n+              <Badge\r\n+                className={`${\r\n+                  statusColors[\r\n+                    Math.floor(\r\n+                      response.success.status / 100\r\n+                    ) as keyof typeof statusColors\r\n+                  ]\r\n+                }`}\r\n+              >\r\n+                {response.success.status}\r\n+              </Badge>\r\n+              <span className=\"text-secondary-text\">\r\n+                {response.success.content_type}\r\n+              </span>\r\n+            </>\r\n+          )}\r\n+        </div>\r\n+        <div className=\"border border-divider rounded-b-md overflow-hidden\">\r\n+          <JsonDisplay\r\n+            data={response.success.schema_data}\r\n+            maxHeight=\"96\"\r\n+            editable={isEditing}\r\n+            onEdit={handleSuccessUpdate}\r\n+          />\r\n+        </div>\r\n+      </TabsContent>\r\n+\r\n+      <TabsContent value=\"errors\" className=\"space-y-4 mt-0\">\r\n+        {/* Add error button */}\r\n+        {isEditing && !addingError && (\r\n+          <div className=\"flex justify-end mb-2\">\r\n+            <Button\r\n+              variant=\"outline\"\r\n+              size=\"sm\"\r\n+              className=\"text-primary-cta\"\r\n+              onClick={() => setAddingError(true)}\r\n+            >\r\n+              <Plus className=\"h-3.5 w-3.5 mr-1\" /> Add Error\r\n+            </Button>\r\n+          </div>\r\n+        )}\r\n+\r\n+        {/* New error form */}\r\n+        {isEditing && addingError && (\r\n+          <div className=\"border border-divider rounded-md overflow-hidden mb-4 bg-hover-active/10\">\r\n+            <div className=\"p-3\">\r\n+              <div className=\"grid grid-cols-2 gap-3 mb-3\">\r\n+                <div>\r\n+                  <Label htmlFor=\"new-error-status\" className=\"text-xs mb-1\">\r\n+                    Status Code\r\n+                  </Label>\r\n+                  <Select\r\n+                    value={newError.status.toString()}\r\n+                    onValueChange={(value) =>\r\n+                      setNewError({ ...newError, status: parseInt(value) })\r\n+                    }\r\n+                  >\r\n+                    <SelectTrigger\r\n+                      id=\"new-error-status\"\r\n+                      className=\"h-8 bg-primary-background\"\r\n+                    >\r\n+                      <SelectValue placeholder=\"Select status code\" />\r\n+                    </SelectTrigger>\r\n+                    <SelectContent>\r\n+                      {errorCodes.map((code) => (\r\n+                        <SelectItem key={code} value={code.toString()}>\r\n+                          {code}\r\n+                        </SelectItem>\r\n+                      ))}\r\n+                    </SelectContent>\r\n+                  </Select>\r\n+                </div>\r\n+                <div>\r\n+                  <Label\r\n+                    htmlFor=\"new-error-description\"\r\n+                    className=\"text-xs mb-1\"\r\n+                  >\r\n+                    Description\r\n+                  </Label>\r\n+                  <Input\r\n+                    id=\"new-error-description\"\r\n+                    value={newError.description}\r\n+                    onChange={(e) =>\r\n+                      setNewError({ ...newError, description: e.target.value })\r\n+                    }\r\n+                    className=\"h-8 bg-primary-background\"\r\n+                    placeholder=\"e.g., Bad Request, Not Found\"\r\n+                  />\r\n+                </div>\r\n+              </div>\r\n+\r\n+              <div className=\"flex items-center justify-end gap-2 mt-3\">\r\n+                <Button\r\n+                  variant=\"outline\"\r\n+                  size=\"sm\"\r\n+                  className=\"h-7\"\r\n+                  onClick={() => setAddingError(false)}\r\n+                >\r\n+                  Cancel\r\n+                </Button>\r\n+                <Button\r\n+                  variant=\"default\"\r\n+                  size=\"sm\"\r\n+                  className=\"h-7\"\r\n+                  onClick={addError}\r\n+                >\r\n+                  Add\r\n+                </Button>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        )}\r\n+\r\n+        {/* Errors list */}\r\n+        {response.errors.map((error, idx) => (\r\n+          <ResponseErrorItem\r\n+            key={idx}\r\n+            error={error}\r\n+            isEditing={isEditing}\r\n+            onEdit={\r\n+              isEditing\r\n+                ? (updatedError) => handleErrorUpdate(idx, updatedError)\r\n+                : undefined\r\n+            }\r\n+            onDelete={isEditing ? () => handleErrorDelete(idx) : undefined}\r\n+          />\r\n+        ))}\r\n+\r\n+        {response.errors.length === 0 && (\r\n+          <div className=\"p-4 text-center border border-divider rounded-md\">\r\n+            <p className=\"text-secondary-text\">No error responses defined</p>\r\n+          </div>\r\n+        )}\r\n+      </TabsContent>\r\n+    </Tabs>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,318 +1,318 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState } from \"react\";\n",
        "-import { Badge } from \"@/components/ui/badge\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import { Label } from \"@/components/ui/label\";\n",
        "-import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n",
        "-import {\n",
        "-  Select,\n",
        "-  SelectContent,\n",
        "-  SelectItem,\n",
        "-  SelectTrigger,\n",
        "-  SelectValue,\n",
        "-} from \"@/components/ui/select\";\n",
        "-import { Plus } from \"lucide-react\";\n",
        "-\n",
        "-import { Response, ResponseError } from \"../types\";\n",
        "-import {\n",
        "-  statusColors,\n",
        "-  errorCodes,\n",
        "-  successCodes,\n",
        "-  contentTypes,\n",
        "-} from \"../constants\";\n",
        "-import { JsonDisplay } from \"./json-display\";\n",
        "-import { ResponseErrorItem } from \"./response-error-item\";\n",
        "-\n",
        "-interface ResponseSectionProps {\n",
        "-  response: Response;\n",
        "-  isEditing?: boolean;\n",
        "-  onUpdateResponse?: (updatedResponse: Response) => void;\n",
        "-}\n",
        "-\n",
        "-export function ResponseSection({\n",
        "-  response,\n",
        "-  isEditing = false,\n",
        "-  onUpdateResponse,\n",
        "-}: ResponseSectionProps) {\n",
        "-  const [addingError, setAddingError] = useState(false);\n",
        "-  const [newError, setNewError] = useState<ResponseError>({\n",
        "-    status: 400,\n",
        "-    description: \"Bad Request\",\n",
        "-  });\n",
        "-\n",
        "-  // Handle success response update\n",
        "-  const handleSuccessUpdate = (schemaData: Record<string, any>) => {\n",
        "-    if (!onUpdateResponse) return;\n",
        "-\n",
        "-    onUpdateResponse({\n",
        "-      ...response,\n",
        "-      success: {\n",
        "-        ...response.success,\n",
        "-        schema_data: schemaData,\n",
        "-      },\n",
        "-    });\n",
        "-  };\n",
        "-\n",
        "-  // Handle status code update\n",
        "-  const handleStatusUpdate = (status: number) => {\n",
        "-    if (!onUpdateResponse) return;\n",
        "-\n",
        "-    onUpdateResponse({\n",
        "-      ...response,\n",
        "-      success: {\n",
        "-        ...response.success,\n",
        "-        status,\n",
        "-      },\n",
        "-    });\n",
        "-  };\n",
        "-\n",
        "-  // Handle content type update\n",
        "-  const handleContentTypeUpdate = (contentType: string) => {\n",
        "-    if (!onUpdateResponse) return;\n",
        "-\n",
        "-    onUpdateResponse({\n",
        "-      ...response,\n",
        "-      success: {\n",
        "-        ...response.success,\n",
        "-        content_type: contentType,\n",
        "-      },\n",
        "-    });\n",
        "-  };\n",
        "-\n",
        "-  // Handle error update\n",
        "-  const handleErrorUpdate = (index: number, updatedError: ResponseError) => {\n",
        "-    if (!onUpdateResponse) return;\n",
        "-\n",
        "-    const newErrors = [...response.errors];\n",
        "-    newErrors[index] = updatedError;\n",
        "-\n",
        "-    onUpdateResponse({\n",
        "-      ...response,\n",
        "-      errors: newErrors,\n",
        "-    });\n",
        "-  };\n",
        "-\n",
        "-  // Handle error deletion\n",
        "-  const handleErrorDelete = (index: number) => {\n",
        "-    if (!onUpdateResponse) return;\n",
        "-\n",
        "-    const newErrors = [...response.errors];\n",
        "-    newErrors.splice(index, 1);\n",
        "-\n",
        "-    onUpdateResponse({\n",
        "-      ...response,\n",
        "-      errors: newErrors,\n",
        "-    });\n",
        "-  };\n",
        "-\n",
        "-  // Add new error\n",
        "-  const addError = () => {\n",
        "-    if (!onUpdateResponse) return;\n",
        "-\n",
        "-    onUpdateResponse({\n",
        "-      ...response,\n",
        "-      errors: [...response.errors, newError],\n",
        "-    });\n",
        "-\n",
        "-    setNewError({\n",
        "-      status: 400,\n",
        "-      description: \"Bad Request\",\n",
        "-    });\n",
        "-\n",
        "-    setAddingError(false);\n",
        "-  };\n",
        "-\n",
        "-  return (\n",
        "-    <Tabs defaultValue=\"success\" className=\"w-full\">\n",
        "-      <TabsList className=\"mb-4 bg-secondary-background\">\n",
        "-        <TabsTrigger\n",
        "-          value=\"success\"\n",
        "-          className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\n",
        "-        >\n",
        "-          Success Response\n",
        "-        </TabsTrigger>\n",
        "-        <TabsTrigger\n",
        "-          value=\"errors\"\n",
        "-          className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\n",
        "-        >\n",
        "-          Error Responses ({response.errors.length})\n",
        "-        </TabsTrigger>\n",
        "-      </TabsList>\n",
        "-\n",
        "-      <TabsContent value=\"success\" className=\"space-y-4 mt-0\">\n",
        "-        <div className=\"flex gap-2 items-center p-2 bg-primary-background rounded-t-md border border-divider border-b-0\">\n",
        "-          {isEditing ? (\n",
        "-            <>\n",
        "-              <Select\n",
        "-                value={response.success.status.toString()}\n",
        "-                onValueChange={(value) => handleStatusUpdate(parseInt(value))}\n",
        "-              >\n",
        "-                <SelectTrigger className=\"h-8 w-24 bg-hover-active\">\n",
        "-                  <SelectValue placeholder=\"Status\" />\n",
        "-                </SelectTrigger>\n",
        "-                <SelectContent>\n",
        "-                  {successCodes.map((code) => (\n",
        "-                    <SelectItem key={code} value={code.toString()}>\n",
        "-                      {code}\n",
        "-                    </SelectItem>\n",
        "-                  ))}\n",
        "-                </SelectContent>\n",
        "-              </Select>\n",
        "-\n",
        "-              <Select\n",
        "-                value={response.success.content_type}\n",
        "-                onValueChange={handleContentTypeUpdate}\n",
        "-              >\n",
        "-                <SelectTrigger className=\"h-8 bg-hover-active\">\n",
        "-                  <SelectValue placeholder=\"Content-Type\" />\n",
        "-                </SelectTrigger>\n",
        "-                <SelectContent>\n",
        "-                  {contentTypes.map((type) => (\n",
        "-                    <SelectItem key={type} value={type}>\n",
        "-                      {type}\n",
        "-                    </SelectItem>\n",
        "-                  ))}\n",
        "-                </SelectContent>\n",
        "-              </Select>\n",
        "-            </>\n",
        "-          ) : (\n",
        "-            <>\n",
        "-              <Badge\n",
        "-                className={`${\n",
        "-                  statusColors[\n",
        "-                    Math.floor(\n",
        "-                      response.success.status / 100\n",
        "-                    ) as keyof typeof statusColors\n",
        "-                  ]\n",
        "-                }`}\n",
        "-              >\n",
        "-                {response.success.status}\n",
        "-              </Badge>\n",
        "-              <span className=\"text-secondary-text\">\n",
        "-                {response.success.content_type}\n",
        "-              </span>\n",
        "-            </>\n",
        "-          )}\n",
        "-        </div>\n",
        "-        <div className=\"border border-divider rounded-b-md overflow-hidden\">\n",
        "-          <JsonDisplay\n",
        "-            data={response.success.schema_data}\n",
        "-            maxHeight=\"96\"\n",
        "-            editable={isEditing}\n",
        "-            onEdit={handleSuccessUpdate}\n",
        "-          />\n",
        "-        </div>\n",
        "-      </TabsContent>\n",
        "-\n",
        "-      <TabsContent value=\"errors\" className=\"space-y-4 mt-0\">\n",
        "-        {/* Add error button */}\n",
        "-        {isEditing && !addingError && (\n",
        "-          <div className=\"flex justify-end mb-2\">\n",
        "-            <Button\n",
        "-              variant=\"outline\"\n",
        "-              size=\"sm\"\n",
        "-              className=\"text-primary-cta\"\n",
        "-              onClick={() => setAddingError(true)}\n",
        "-            >\n",
        "-              <Plus className=\"h-3.5 w-3.5 mr-1\" /> Add Error\n",
        "-            </Button>\n",
        "-          </div>\n",
        "-        )}\n",
        "-\n",
        "-        {/* New error form */}\n",
        "-        {isEditing && addingError && (\n",
        "-          <div className=\"border border-divider rounded-md overflow-hidden mb-4 bg-hover-active/10\">\n",
        "-            <div className=\"p-3\">\n",
        "-              <div className=\"grid grid-cols-2 gap-3 mb-3\">\n",
        "-                <div>\n",
        "-                  <Label htmlFor=\"new-error-status\" className=\"text-xs mb-1\">\n",
        "-                    Status Code\n",
        "-                  </Label>\n",
        "-                  <Select\n",
        "-                    value={newError.status.toString()}\n",
        "-                    onValueChange={(value) =>\n",
        "-                      setNewError({ ...newError, status: parseInt(value) })\n",
        "-                    }\n",
        "-                  >\n",
        "-                    <SelectTrigger\n",
        "-                      id=\"new-error-status\"\n",
        "-                      className=\"h-8 bg-primary-background\"\n",
        "-                    >\n",
        "-                      <SelectValue placeholder=\"Select status code\" />\n",
        "-                    </SelectTrigger>\n",
        "-                    <SelectContent>\n",
        "-                      {errorCodes.map((code) => (\n",
        "-                        <SelectItem key={code} value={code.toString()}>\n",
        "-                          {code}\n",
        "-                        </SelectItem>\n",
        "-                      ))}\n",
        "-                    </SelectContent>\n",
        "-                  </Select>\n",
        "-                </div>\n",
        "-                <div>\n",
        "-                  <Label\n",
        "-                    htmlFor=\"new-error-description\"\n",
        "-                    className=\"text-xs mb-1\"\n",
        "-                  >\n",
        "-                    Description\n",
        "-                  </Label>\n",
        "-                  <Input\n",
        "-                    id=\"new-error-description\"\n",
        "-                    value={newError.description}\n",
        "-                    onChange={(e) =>\n",
        "-                      setNewError({ ...newError, description: e.target.value })\n",
        "-                    }\n",
        "-                    className=\"h-8 bg-primary-background\"\n",
        "-                    placeholder=\"e.g., Bad Request, Not Found\"\n",
        "-                  />\n",
        "-                </div>\n",
        "-              </div>\n",
        "-\n",
        "-              <div className=\"flex items-center justify-end gap-2 mt-3\">\n",
        "-                <Button\n",
        "-                  variant=\"outline\"\n",
        "-                  size=\"sm\"\n",
        "-                  className=\"h-7\"\n",
        "-                  onClick={() => setAddingError(false)}\n",
        "-                >\n",
        "-                  Cancel\n",
        "-                </Button>\n",
        "-                <Button\n",
        "-                  variant=\"default\"\n",
        "-                  size=\"sm\"\n",
        "-                  className=\"h-7\"\n",
        "-                  onClick={addError}\n",
        "-                >\n",
        "-                  Add\n",
        "-                </Button>\n",
        "-              </div>\n",
        "-            </div>\n",
        "-          </div>\n",
        "-        )}\n",
        "-\n",
        "-        {/* Errors list */}\n",
        "-        {response.errors.map((error, idx) => (\n",
        "-          <ResponseErrorItem\n",
        "-            key={idx}\n",
        "-            error={error}\n",
        "-            isEditing={isEditing}\n",
        "-            onEdit={\n",
        "-              isEditing\n",
        "-                ? (updatedError) => handleErrorUpdate(idx, updatedError)\n",
        "-                : undefined\n",
        "-            }\n",
        "-            onDelete={isEditing ? () => handleErrorDelete(idx) : undefined}\n",
        "-          />\n",
        "-        ))}\n",
        "-\n",
        "-        {response.errors.length === 0 && (\n",
        "-          <div className=\"p-4 text-center border border-divider rounded-md\">\n",
        "-            <p className=\"text-secondary-text\">No error responses defined</p>\n",
        "-          </div>\n",
        "-        )}\n",
        "-      </TabsContent>\n",
        "-    </Tabs>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState } from \"react\";\r\n",
        "+import { Badge } from \"@/components/ui/badge\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import { Label } from \"@/components/ui/label\";\r\n",
        "+import { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\n",
        "+import {\r\n",
        "+  Select,\r\n",
        "+  SelectContent,\r\n",
        "+  SelectItem,\r\n",
        "+  SelectTrigger,\r\n",
        "+  SelectValue,\r\n",
        "+} from \"@/components/ui/select\";\r\n",
        "+import { Plus } from \"lucide-react\";\r\n",
        "+\r\n",
        "+import { Response, ResponseError } from \"../types\";\r\n",
        "+import {\r\n",
        "+  statusColors,\r\n",
        "+  errorCodes,\r\n",
        "+  successCodes,\r\n",
        "+  contentTypes,\r\n",
        "+} from \"../constants\";\r\n",
        "+import { JsonDisplay } from \"./json-display\";\r\n",
        "+import { ResponseErrorItem } from \"./response-error-item\";\r\n",
        "+\r\n",
        "+interface ResponseSectionProps {\r\n",
        "+  response: Response;\r\n",
        "+  isEditing?: boolean;\r\n",
        "+  onUpdateResponse?: (updatedResponse: Response) => void;\r\n",
        "+}\r\n",
        "+\r\n",
        "+export function ResponseSection({\r\n",
        "+  response,\r\n",
        "+  isEditing = false,\r\n",
        "+  onUpdateResponse,\r\n",
        "+}: ResponseSectionProps) {\r\n",
        "+  const [addingError, setAddingError] = useState(false);\r\n",
        "+  const [newError, setNewError] = useState<ResponseError>({\r\n",
        "+    status: 400,\r\n",
        "+    description: \"Bad Request\",\r\n",
        "+  });\r\n",
        "+\r\n",
        "+  // Handle success response update\r\n",
        "+  const handleSuccessUpdate = (schemaData: Record<string, any>) => {\r\n",
        "+    if (!onUpdateResponse) return;\r\n",
        "+\r\n",
        "+    onUpdateResponse({\r\n",
        "+      ...response,\r\n",
        "+      success: {\r\n",
        "+        ...response.success,\r\n",
        "+        schema_data: schemaData,\r\n",
        "+      },\r\n",
        "+    });\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle status code update\r\n",
        "+  const handleStatusUpdate = (status: number) => {\r\n",
        "+    if (!onUpdateResponse) return;\r\n",
        "+\r\n",
        "+    onUpdateResponse({\r\n",
        "+      ...response,\r\n",
        "+      success: {\r\n",
        "+        ...response.success,\r\n",
        "+        status,\r\n",
        "+      },\r\n",
        "+    });\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle content type update\r\n",
        "+  const handleContentTypeUpdate = (contentType: string) => {\r\n",
        "+    if (!onUpdateResponse) return;\r\n",
        "+\r\n",
        "+    onUpdateResponse({\r\n",
        "+      ...response,\r\n",
        "+      success: {\r\n",
        "+        ...response.success,\r\n",
        "+        content_type: contentType,\r\n",
        "+      },\r\n",
        "+    });\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle error update\r\n",
        "+  const handleErrorUpdate = (index: number, updatedError: ResponseError) => {\r\n",
        "+    if (!onUpdateResponse) return;\r\n",
        "+\r\n",
        "+    const newErrors = [...response.errors];\r\n",
        "+    newErrors[index] = updatedError;\r\n",
        "+\r\n",
        "+    onUpdateResponse({\r\n",
        "+      ...response,\r\n",
        "+      errors: newErrors,\r\n",
        "+    });\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Handle error deletion\r\n",
        "+  const handleErrorDelete = (index: number) => {\r\n",
        "+    if (!onUpdateResponse) return;\r\n",
        "+\r\n",
        "+    const newErrors = [...response.errors];\r\n",
        "+    newErrors.splice(index, 1);\r\n",
        "+\r\n",
        "+    onUpdateResponse({\r\n",
        "+      ...response,\r\n",
        "+      errors: newErrors,\r\n",
        "+    });\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Add new error\r\n",
        "+  const addError = () => {\r\n",
        "+    if (!onUpdateResponse) return;\r\n",
        "+\r\n",
        "+    onUpdateResponse({\r\n",
        "+      ...response,\r\n",
        "+      errors: [...response.errors, newError],\r\n",
        "+    });\r\n",
        "+\r\n",
        "+    setNewError({\r\n",
        "+      status: 400,\r\n",
        "+      description: \"Bad Request\",\r\n",
        "+    });\r\n",
        "+\r\n",
        "+    setAddingError(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <Tabs defaultValue=\"success\" className=\"w-full\">\r\n",
        "+      <TabsList className=\"mb-4 bg-secondary-background\">\r\n",
        "+        <TabsTrigger\r\n",
        "+          value=\"success\"\r\n",
        "+          className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\r\n",
        "+        >\r\n",
        "+          Success Response\r\n",
        "+        </TabsTrigger>\r\n",
        "+        <TabsTrigger\r\n",
        "+          value=\"errors\"\r\n",
        "+          className=\"data-[state=active]:bg-hover-active data-[state=active]:text-primary-text\"\r\n",
        "+        >\r\n",
        "+          Error Responses ({response.errors.length})\r\n",
        "+        </TabsTrigger>\r\n",
        "+      </TabsList>\r\n",
        "+\r\n",
        "+      <TabsContent value=\"success\" className=\"space-y-4 mt-0\">\r\n",
        "+        <div className=\"flex gap-2 items-center p-2 bg-primary-background rounded-t-md border border-divider border-b-0\">\r\n",
        "+          {isEditing ? (\r\n",
        "+            <>\r\n",
        "+              <Select\r\n",
        "+                value={response.success.status.toString()}\r\n",
        "+                onValueChange={(value) => handleStatusUpdate(parseInt(value))}\r\n",
        "+              >\r\n",
        "+                <SelectTrigger className=\"h-8 w-24 bg-hover-active\">\r\n",
        "+                  <SelectValue placeholder=\"Status\" />\r\n",
        "+                </SelectTrigger>\r\n",
        "+                <SelectContent>\r\n",
        "+                  {successCodes.map((code) => (\r\n",
        "+                    <SelectItem key={code} value={code.toString()}>\r\n",
        "+                      {code}\r\n",
        "+                    </SelectItem>\r\n",
        "+                  ))}\r\n",
        "+                </SelectContent>\r\n",
        "+              </Select>\r\n",
        "+\r\n",
        "+              <Select\r\n",
        "+                value={response.success.content_type}\r\n",
        "+                onValueChange={handleContentTypeUpdate}\r\n",
        "+              >\r\n",
        "+                <SelectTrigger className=\"h-8 bg-hover-active\">\r\n",
        "+                  <SelectValue placeholder=\"Content-Type\" />\r\n",
        "+                </SelectTrigger>\r\n",
        "+                <SelectContent>\r\n",
        "+                  {contentTypes.map((type) => (\r\n",
        "+                    <SelectItem key={type} value={type}>\r\n",
        "+                      {type}\r\n",
        "+                    </SelectItem>\r\n",
        "+                  ))}\r\n",
        "+                </SelectContent>\r\n",
        "+              </Select>\r\n",
        "+            </>\r\n",
        "+          ) : (\r\n",
        "+            <>\r\n",
        "+              <Badge\r\n",
        "+                className={`${\r\n",
        "+                  statusColors[\r\n",
        "+                    Math.floor(\r\n",
        "+                      response.success.status / 100\r\n",
        "+                    ) as keyof typeof statusColors\r\n",
        "+                  ]\r\n",
        "+                }`}\r\n",
        "+              >\r\n",
        "+                {response.success.status}\r\n",
        "+              </Badge>\r\n",
        "+              <span className=\"text-secondary-text\">\r\n",
        "+                {response.success.content_type}\r\n",
        "+              </span>\r\n",
        "+            </>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+        <div className=\"border border-divider rounded-b-md overflow-hidden\">\r\n",
        "+          <JsonDisplay\r\n",
        "+            data={response.success.schema_data}\r\n",
        "+            maxHeight=\"96\"\r\n",
        "+            editable={isEditing}\r\n",
        "+            onEdit={handleSuccessUpdate}\r\n",
        "+          />\r\n",
        "+        </div>\r\n",
        "+      </TabsContent>\r\n",
        "+\r\n",
        "+      <TabsContent value=\"errors\" className=\"space-y-4 mt-0\">\r\n",
        "+        {/* Add error button */}\r\n",
        "+        {isEditing && !addingError && (\r\n",
        "+          <div className=\"flex justify-end mb-2\">\r\n",
        "+            <Button\r\n",
        "+              variant=\"outline\"\r\n",
        "+              size=\"sm\"\r\n",
        "+              className=\"text-primary-cta\"\r\n",
        "+              onClick={() => setAddingError(true)}\r\n",
        "+            >\r\n",
        "+              <Plus className=\"h-3.5 w-3.5 mr-1\" /> Add Error\r\n",
        "+            </Button>\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {/* New error form */}\r\n",
        "+        {isEditing && addingError && (\r\n",
        "+          <div className=\"border border-divider rounded-md overflow-hidden mb-4 bg-hover-active/10\">\r\n",
        "+            <div className=\"p-3\">\r\n",
        "+              <div className=\"grid grid-cols-2 gap-3 mb-3\">\r\n",
        "+                <div>\r\n",
        "+                  <Label htmlFor=\"new-error-status\" className=\"text-xs mb-1\">\r\n",
        "+                    Status Code\r\n",
        "+                  </Label>\r\n",
        "+                  <Select\r\n",
        "+                    value={newError.status.toString()}\r\n",
        "+                    onValueChange={(value) =>\r\n",
        "+                      setNewError({ ...newError, status: parseInt(value) })\r\n",
        "+                    }\r\n",
        "+                  >\r\n",
        "+                    <SelectTrigger\r\n",
        "+                      id=\"new-error-status\"\r\n",
        "+                      className=\"h-8 bg-primary-background\"\r\n",
        "+                    >\r\n",
        "+                      <SelectValue placeholder=\"Select status code\" />\r\n",
        "+                    </SelectTrigger>\r\n",
        "+                    <SelectContent>\r\n",
        "+                      {errorCodes.map((code) => (\r\n",
        "+                        <SelectItem key={code} value={code.toString()}>\r\n",
        "+                          {code}\r\n",
        "+                        </SelectItem>\r\n",
        "+                      ))}\r\n",
        "+                    </SelectContent>\r\n",
        "+                  </Select>\r\n",
        "+                </div>\r\n",
        "+                <div>\r\n",
        "+                  <Label\r\n",
        "+                    htmlFor=\"new-error-description\"\r\n",
        "+                    className=\"text-xs mb-1\"\r\n",
        "+                  >\r\n",
        "+                    Description\r\n",
        "+                  </Label>\r\n",
        "+                  <Input\r\n",
        "+                    id=\"new-error-description\"\r\n",
        "+                    value={newError.description}\r\n",
        "+                    onChange={(e) =>\r\n",
        "+                      setNewError({ ...newError, description: e.target.value })\r\n",
        "+                    }\r\n",
        "+                    className=\"h-8 bg-primary-background\"\r\n",
        "+                    placeholder=\"e.g., Bad Request, Not Found\"\r\n",
        "+                  />\r\n",
        "+                </div>\r\n",
        "+              </div>\r\n",
        "+\r\n",
        "+              <div className=\"flex items-center justify-end gap-2 mt-3\">\r\n",
        "+                <Button\r\n",
        "+                  variant=\"outline\"\r\n",
        "+                  size=\"sm\"\r\n",
        "+                  className=\"h-7\"\r\n",
        "+                  onClick={() => setAddingError(false)}\r\n",
        "+                >\r\n",
        "+                  Cancel\r\n",
        "+                </Button>\r\n",
        "+                <Button\r\n",
        "+                  variant=\"default\"\r\n",
        "+                  size=\"sm\"\r\n",
        "+                  className=\"h-7\"\r\n",
        "+                  onClick={addError}\r\n",
        "+                >\r\n",
        "+                  Add\r\n",
        "+                </Button>\r\n",
        "+              </div>\r\n",
        "+            </div>\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {/* Errors list */}\r\n",
        "+        {response.errors.map((error, idx) => (\r\n",
        "+          <ResponseErrorItem\r\n",
        "+            key={idx}\r\n",
        "+            error={error}\r\n",
        "+            isEditing={isEditing}\r\n",
        "+            onEdit={\r\n",
        "+              isEditing\r\n",
        "+                ? (updatedError) => handleErrorUpdate(idx, updatedError)\r\n",
        "+                : undefined\r\n",
        "+            }\r\n",
        "+            onDelete={isEditing ? () => handleErrorDelete(idx) : undefined}\r\n",
        "+          />\r\n",
        "+        ))}\r\n",
        "+\r\n",
        "+        {response.errors.length === 0 && (\r\n",
        "+          <div className=\"p-4 text-center border border-divider rounded-md\">\r\n",
        "+            <p className=\"text-secondary-text\">No error responses defined</p>\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+      </TabsContent>\r\n",
        "+    </Tabs>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/constants.ts",
      "status": "modified",
      "additions": 78,
      "deletions": 78,
      "patch": "@@ -1,78 +1,78 @@\n-// Constants for API Endpoints Tab\n-\n-// Method badge colors - using Swagger-like colors\n-export const methodColors = {\n-  GET: \"bg-blue-500 text-white\",\n-  POST: \"bg-green-500 text-white\",\n-  PUT: \"bg-amber-500 text-white\",\n-  PATCH: \"bg-violet-500 text-white\",\n-  DELETE: \"bg-red-500 text-white\",\n-  OPTIONS: \"bg-gray-500 text-white\",\n-  HEAD: \"bg-cyan-500 text-white\",\n-};\n-\n-// Available HTTP methods for dropdown\n-export const availableMethods = [\n-  \"GET\",\n-  \"POST\",\n-  \"PUT\",\n-  \"PATCH\",\n-  \"DELETE\",\n-  \"OPTIONS\",\n-  \"HEAD\",\n-];\n-\n-// Status badge colors - using Swagger-like colors\n-export const statusColors = {\n-  2: \"bg-green-500 text-white\", // 2xx\n-  3: \"bg-blue-500 text-white\", // 3xx\n-  4: \"bg-amber-500 text-white\", // 4xx\n-  5: \"bg-red-500 text-white\", // 5xx\n-};\n-\n-// Available parameter types for editing\n-export const paramTypes = [\n-  \"string\",\n-  \"number\",\n-  \"integer\",\n-  \"boolean\",\n-  \"array\",\n-  \"object\",\n-];\n-\n-// Common HTTP status codes for errors\n-export const errorCodes = [400, 401, 403, 404, 409, 422, 429, 500, 502, 503];\n-\n-// Common HTTP status codes for success\n-export const successCodes = [200, 201, 202, 204];\n-\n-// Common content types\n-export const contentTypes = [\n-  \"application/json\",\n-  \"text/plain\",\n-  \"application/xml\",\n-];\n-\n-// Default empty endpoint template\n-export const defaultEndpoint = {\n-  name: \"\",\n-  method: \"GET\",\n-  path: \"\",\n-  description: \"\",\n-  authentication_required: false,\n-  request: {\n-    query_params: [],\n-    body: null,\n-  },\n-  response: {\n-    success: {\n-      status: 200,\n-      content_type: \"application/json\",\n-      schema_data: {},\n-    },\n-    errors: [\n-      { status: 400, description: \"Bad Request\" },\n-      { status: 401, description: \"Unauthorized\" },\n-    ],\n-  },\n-};\n+// Constants for API Endpoints Tab\r\n+\r\n+// Method badge colors - using Swagger-like colors\r\n+export const methodColors = {\r\n+  GET: \"bg-blue-500 text-white\",\r\n+  POST: \"bg-green-500 text-white\",\r\n+  PUT: \"bg-amber-500 text-white\",\r\n+  PATCH: \"bg-violet-500 text-white\",\r\n+  DELETE: \"bg-red-500 text-white\",\r\n+  OPTIONS: \"bg-gray-500 text-white\",\r\n+  HEAD: \"bg-cyan-500 text-white\",\r\n+};\r\n+\r\n+// Available HTTP methods for dropdown\r\n+export const availableMethods = [\r\n+  \"GET\",\r\n+  \"POST\",\r\n+  \"PUT\",\r\n+  \"PATCH\",\r\n+  \"DELETE\",\r\n+  \"OPTIONS\",\r\n+  \"HEAD\",\r\n+];\r\n+\r\n+// Status badge colors - using Swagger-like colors\r\n+export const statusColors = {\r\n+  2: \"bg-green-500 text-white\", // 2xx\r\n+  3: \"bg-blue-500 text-white\", // 3xx\r\n+  4: \"bg-amber-500 text-white\", // 4xx\r\n+  5: \"bg-red-500 text-white\", // 5xx\r\n+};\r\n+\r\n+// Available parameter types for editing\r\n+export const paramTypes = [\r\n+  \"string\",\r\n+  \"number\",\r\n+  \"integer\",\r\n+  \"boolean\",\r\n+  \"array\",\r\n+  \"object\",\r\n+];\r\n+\r\n+// Common HTTP status codes for errors\r\n+export const errorCodes = [400, 401, 403, 404, 409, 422, 429, 500, 502, 503];\r\n+\r\n+// Common HTTP status codes for success\r\n+export const successCodes = [200, 201, 202, 204];\r\n+\r\n+// Common content types\r\n+export const contentTypes = [\r\n+  \"application/json\",\r\n+  \"text/plain\",\r\n+  \"application/xml\",\r\n+];\r\n+\r\n+// Default empty endpoint template\r\n+export const defaultEndpoint = {\r\n+  name: \"\",\r\n+  method: \"GET\",\r\n+  path: \"\",\r\n+  description: \"\",\r\n+  authentication_required: false,\r\n+  request: {\r\n+    query_params: [],\r\n+    body: null,\r\n+  },\r\n+  response: {\r\n+    success: {\r\n+      status: 200,\r\n+      content_type: \"application/json\",\r\n+      schema_data: {},\r\n+    },\r\n+    errors: [\r\n+      { status: 400, description: \"Bad Request\" },\r\n+      { status: 401, description: \"Unauthorized\" },\r\n+    ],\r\n+  },\r\n+};\r",
      "patch_lines": [
        "@@ -1,78 +1,78 @@\n",
        "-// Constants for API Endpoints Tab\n",
        "-\n",
        "-// Method badge colors - using Swagger-like colors\n",
        "-export const methodColors = {\n",
        "-  GET: \"bg-blue-500 text-white\",\n",
        "-  POST: \"bg-green-500 text-white\",\n",
        "-  PUT: \"bg-amber-500 text-white\",\n",
        "-  PATCH: \"bg-violet-500 text-white\",\n",
        "-  DELETE: \"bg-red-500 text-white\",\n",
        "-  OPTIONS: \"bg-gray-500 text-white\",\n",
        "-  HEAD: \"bg-cyan-500 text-white\",\n",
        "-};\n",
        "-\n",
        "-// Available HTTP methods for dropdown\n",
        "-export const availableMethods = [\n",
        "-  \"GET\",\n",
        "-  \"POST\",\n",
        "-  \"PUT\",\n",
        "-  \"PATCH\",\n",
        "-  \"DELETE\",\n",
        "-  \"OPTIONS\",\n",
        "-  \"HEAD\",\n",
        "-];\n",
        "-\n",
        "-// Status badge colors - using Swagger-like colors\n",
        "-export const statusColors = {\n",
        "-  2: \"bg-green-500 text-white\", // 2xx\n",
        "-  3: \"bg-blue-500 text-white\", // 3xx\n",
        "-  4: \"bg-amber-500 text-white\", // 4xx\n",
        "-  5: \"bg-red-500 text-white\", // 5xx\n",
        "-};\n",
        "-\n",
        "-// Available parameter types for editing\n",
        "-export const paramTypes = [\n",
        "-  \"string\",\n",
        "-  \"number\",\n",
        "-  \"integer\",\n",
        "-  \"boolean\",\n",
        "-  \"array\",\n",
        "-  \"object\",\n",
        "-];\n",
        "-\n",
        "-// Common HTTP status codes for errors\n",
        "-export const errorCodes = [400, 401, 403, 404, 409, 422, 429, 500, 502, 503];\n",
        "-\n",
        "-// Common HTTP status codes for success\n",
        "-export const successCodes = [200, 201, 202, 204];\n",
        "-\n",
        "-// Common content types\n",
        "-export const contentTypes = [\n",
        "-  \"application/json\",\n",
        "-  \"text/plain\",\n",
        "-  \"application/xml\",\n",
        "-];\n",
        "-\n",
        "-// Default empty endpoint template\n",
        "-export const defaultEndpoint = {\n",
        "-  name: \"\",\n",
        "-  method: \"GET\",\n",
        "-  path: \"\",\n",
        "-  description: \"\",\n",
        "-  authentication_required: false,\n",
        "-  request: {\n",
        "-    query_params: [],\n",
        "-    body: null,\n",
        "-  },\n",
        "-  response: {\n",
        "-    success: {\n",
        "-      status: 200,\n",
        "-      content_type: \"application/json\",\n",
        "-      schema_data: {},\n",
        "-    },\n",
        "-    errors: [\n",
        "-      { status: 400, description: \"Bad Request\" },\n",
        "-      { status: 401, description: \"Unauthorized\" },\n",
        "-    ],\n",
        "-  },\n",
        "-};\n",
        "+// Constants for API Endpoints Tab\r\n",
        "+\r\n",
        "+// Method badge colors - using Swagger-like colors\r\n",
        "+export const methodColors = {\r\n",
        "+  GET: \"bg-blue-500 text-white\",\r\n",
        "+  POST: \"bg-green-500 text-white\",\r\n",
        "+  PUT: \"bg-amber-500 text-white\",\r\n",
        "+  PATCH: \"bg-violet-500 text-white\",\r\n",
        "+  DELETE: \"bg-red-500 text-white\",\r\n",
        "+  OPTIONS: \"bg-gray-500 text-white\",\r\n",
        "+  HEAD: \"bg-cyan-500 text-white\",\r\n",
        "+};\r\n",
        "+\r\n",
        "+// Available HTTP methods for dropdown\r\n",
        "+export const availableMethods = [\r\n",
        "+  \"GET\",\r\n",
        "+  \"POST\",\r\n",
        "+  \"PUT\",\r\n",
        "+  \"PATCH\",\r\n",
        "+  \"DELETE\",\r\n",
        "+  \"OPTIONS\",\r\n",
        "+  \"HEAD\",\r\n",
        "+];\r\n",
        "+\r\n",
        "+// Status badge colors - using Swagger-like colors\r\n",
        "+export const statusColors = {\r\n",
        "+  2: \"bg-green-500 text-white\", // 2xx\r\n",
        "+  3: \"bg-blue-500 text-white\", // 3xx\r\n",
        "+  4: \"bg-amber-500 text-white\", // 4xx\r\n",
        "+  5: \"bg-red-500 text-white\", // 5xx\r\n",
        "+};\r\n",
        "+\r\n",
        "+// Available parameter types for editing\r\n",
        "+export const paramTypes = [\r\n",
        "+  \"string\",\r\n",
        "+  \"number\",\r\n",
        "+  \"integer\",\r\n",
        "+  \"boolean\",\r\n",
        "+  \"array\",\r\n",
        "+  \"object\",\r\n",
        "+];\r\n",
        "+\r\n",
        "+// Common HTTP status codes for errors\r\n",
        "+export const errorCodes = [400, 401, 403, 404, 409, 422, 429, 500, 502, 503];\r\n",
        "+\r\n",
        "+// Common HTTP status codes for success\r\n",
        "+export const successCodes = [200, 201, 202, 204];\r\n",
        "+\r\n",
        "+// Common content types\r\n",
        "+export const contentTypes = [\r\n",
        "+  \"application/json\",\r\n",
        "+  \"text/plain\",\r\n",
        "+  \"application/xml\",\r\n",
        "+];\r\n",
        "+\r\n",
        "+// Default empty endpoint template\r\n",
        "+export const defaultEndpoint = {\r\n",
        "+  name: \"\",\r\n",
        "+  method: \"GET\",\r\n",
        "+  path: \"\",\r\n",
        "+  description: \"\",\r\n",
        "+  authentication_required: false,\r\n",
        "+  request: {\r\n",
        "+    query_params: [],\r\n",
        "+    body: null,\r\n",
        "+  },\r\n",
        "+  response: {\r\n",
        "+    success: {\r\n",
        "+      status: 200,\r\n",
        "+      content_type: \"application/json\",\r\n",
        "+      schema_data: {},\r\n",
        "+    },\r\n",
        "+    errors: [\r\n",
        "+      { status: 400, description: \"Bad Request\" },\r\n",
        "+      { status: 401, description: \"Unauthorized\" },\r\n",
        "+    ],\r\n",
        "+  },\r\n",
        "+};\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/index.tsx",
      "status": "modified",
      "additions": 580,
      "deletions": 580,
      "patch": "@@ -1,580 +1,580 @@\n-\"use client\";\n-\n-import { useState, useEffect } from \"react\";\n-import {\n-  ServerCrash,\n-  Shield,\n-  BookOpen,\n-  Search,\n-  Copy,\n-  Info,\n-  Edit,\n-  PlusCircle,\n-  Plus,\n-  Trash2,\n-} from \"lucide-react\";\n-import { Badge } from \"@/components/ui/badge\";\n-import { Button } from \"@/components/ui/button\";\n-import { Card } from \"@/components/ui/card\";\n-import { Input } from \"@/components/ui/input\";\n-import { Textarea } from \"@/components/ui/textarea\";\n-import {\n-  Toast,\n-  ToastProvider,\n-  ToastViewport,\n-  ToastTitle,\n-  ToastDescription,\n-} from \"@/components/ui/toast\";\n-\n-import { apiClient } from \"@/lib/api\";\n-import { ResourceSection } from \"./components/resource-section\";\n-import { NewResourceDialog } from \"./components/dialogs/new-recource-dialog\";\n-import {\n-  ApiEndpointsTabProps,\n-  Resource,\n-  APIEndpoints,\n-  ToastState,\n-} from \"./types\";\n-\n-export function ApiEndpointsTab({\n-  project: initialProject,\n-}: ApiEndpointsTabProps) {\n-  // Keep track of the most up to date project version\n-  const [currentProject, setCurrentProject] =\n-    useState<ApiEndpointsTabProps[\"project\"]>(initialProject);\n-  const [searchTerm, setSearchTerm] = useState(\"\");\n-  const [filteredResources, setFilteredResources] = useState<Resource[]>([]);\n-  const [isEditing, setIsEditing] = useState(false);\n-  const [editedApiEndpoints, setEditedApiEndpoints] =\n-    useState<APIEndpoints | null>(null);\n-  const [showNewResourceDialog, setShowNewResourceDialog] = useState(false);\n-  const [isSaving, setIsSaving] = useState(false);\n-  const [unsavedChanges, setUnsavedChanges] = useState(false);\n-  const [toast, setToast] = useState<ToastState>({ open: false, title: \"\" });\n-  const [showAllPrinciples, setShowAllPrinciples] = useState(false);\n-\n-  // Extract API endpoints data from project\n-  const apiEndpoints = currentProject.api_endpoints as APIEndpoints;\n-\n-  // Initialize edited API endpoints from project data\n-  useEffect(() => {\n-    if (currentProject.api_endpoints) {\n-      setEditedApiEndpoints(currentProject.api_endpoints as APIEndpoints);\n-    }\n-  }, [currentProject.api_endpoints]);\n-\n-  // Filter endpoints based on search term\n-  useEffect(() => {\n-    if (!apiEndpoints || !searchTerm.trim()) {\n-      setFilteredResources([]);\n-      return;\n-    }\n-\n-    const term = searchTerm.toLowerCase();\n-    const filtered = apiEndpoints.resources\n-      .map((resource: Resource) => {\n-        const matchingEndpoints = resource.endpoints.filter(\n-          (endpoint) =>\n-            endpoint.name.toLowerCase().includes(term) ||\n-            endpoint.path.toLowerCase().includes(term) ||\n-            endpoint.description.toLowerCase().includes(term) ||\n-            endpoint.method.toLowerCase().includes(term)\n-        );\n-\n-        return matchingEndpoints.length > 0\n-          ? { ...resource, endpoints: matchingEndpoints }\n-          : null;\n-      })\n-      .filter(Boolean) as Resource[];\n-\n-    setFilteredResources(filtered);\n-  }, [searchTerm, apiEndpoints]);\n-\n-  // Show toast function\n-  const showToast = (\n-    title: string,\n-    description?: string,\n-    variant?: \"default\" | \"destructive\"\n-  ) => {\n-    setToast({\n-      open: true,\n-      title,\n-      description,\n-      variant,\n-    });\n-\n-    // Auto-close toast after 3 seconds\n-    setTimeout(() => {\n-      setToast((prev) => ({ ...prev, open: false }));\n-    }, 3000);\n-  };\n-\n-  // Get resources to display (either filtered or all)\n-  const resourcesToDisplay =\n-    searchTerm.trim() !== \"\"\n-      ? filteredResources\n-      : editedApiEndpoints?.resources || apiEndpoints?.resources || [];\n-\n-  // Update resource\n-  const handleUpdateResource = (index: number, updatedResource: Resource) => {\n-    if (!editedApiEndpoints) return;\n-\n-    const newResources = [...editedApiEndpoints.resources];\n-    newResources[index] = updatedResource;\n-\n-    const newApiEndpoints = {\n-      ...editedApiEndpoints,\n-      resources: newResources,\n-    };\n-\n-    setEditedApiEndpoints(newApiEndpoints);\n-    setUnsavedChanges(true);\n-  };\n-\n-  // Delete resource\n-  const handleDeleteResource = (index: number) => {\n-    if (!editedApiEndpoints) return;\n-\n-    const newResources = [...editedApiEndpoints.resources];\n-    newResources.splice(index, 1);\n-\n-    const newApiEndpoints = {\n-      ...editedApiEndpoints,\n-      resources: newResources,\n-    };\n-\n-    setEditedApiEndpoints(newApiEndpoints);\n-    setUnsavedChanges(true);\n-  };\n-\n-  // Add new resource\n-  const handleAddResource = (newResource: Resource) => {\n-    if (!editedApiEndpoints) return;\n-\n-    // Check if resource name already exists\n-    if (editedApiEndpoints.resources.some((r) => r.name === newResource.name)) {\n-      showToast(\n-        \"Resource name already exists\",\n-        \"Please choose a different name\",\n-        \"destructive\"\n-      );\n-      return;\n-    }\n-\n-    const newApiEndpoints = {\n-      ...editedApiEndpoints,\n-      resources: [...editedApiEndpoints.resources, newResource],\n-    };\n-\n-    setEditedApiEndpoints(newApiEndpoints);\n-    setUnsavedChanges(true);\n-  };\n-\n-  // Save changes to the database\n-  const saveChanges = async () => {\n-    if (!editedApiEndpoints) return;\n-\n-    setIsSaving(true);\n-\n-    try {\n-      // Create a copy of the project object\n-      const updatedProject = { ...currentProject };\n-\n-      // Update the api_endpoints field\n-      updatedProject.api_endpoints = editedApiEndpoints;\n-\n-      // Make the API call using apiClient\n-      const result = await apiClient<ApiEndpointsTabProps[\"project\"]>(\n-        `/projects/${currentProject.id}`,\n-        {\n-          method: \"PUT\",\n-          body: updatedProject,\n-          token: localStorage.getItem(\"token\") || undefined,\n-        }\n-      );\n-\n-      // Update the local project state with the result\n-      setCurrentProject(result);\n-\n-      // Exit editing mode\n-      setIsEditing(false);\n-      setUnsavedChanges(false);\n-\n-      showToast(\"Changes saved successfully\");\n-    } catch (error) {\n-      console.error(\"Error saving changes:\", error);\n-      showToast(\"Failed to save changes\", \"Please try again\", \"destructive\");\n-    } finally {\n-      setIsSaving(false);\n-    }\n-  };\n-\n-  // Cancel editing and revert changes\n-  const cancelEditing = () => {\n-    setEditedApiEndpoints(currentProject.api_endpoints as APIEndpoints);\n-    setIsEditing(false);\n-    setUnsavedChanges(false);\n-  };\n-\n-  // If API endpoints data is not available yet\n-  if (!apiEndpoints || Object.keys(apiEndpoints).length === 0) {\n-    return (\n-      <div className=\"p-6 text-center\">\n-        <div className=\"mb-4 flex justify-center\">\n-          <ServerCrash className=\"h-12 w-12 text-secondary-text\" />\n-        </div>\n-        <h3 className=\"text-xl font-semibold mb-2\">\n-          API Endpoints Not Available\n-        </h3>\n-        <p className=\"text-secondary-text max-w-md mx-auto\">\n-          This project doesn't have API endpoints defined yet. You can generate\n-          them from the Plan Generation page.\n-        </p>\n-      </div>\n-    );\n-  }\n-\n-  return (\n-    <ToastProvider>\n-      <div className=\"space-y-6\">\n-        {/* Header with Edit Controls */}\n-        <div className=\"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between\">\n-          <div className=\"flex items-center gap-2\">\n-            <ServerCrash className=\"h-6 w-6 text-primary-cta\" />\n-            <h2 className=\"text-xl font-semibold\">API Documentation</h2>\n-          </div>\n-\n-          <div className=\"flex flex-col md:flex-row gap-3 items-end md:items-center w-full md:w-auto\">\n-            {isEditing ? (\n-              <>\n-                <Button\n-                  variant=\"outline\"\n-                  size=\"sm\"\n-                  onClick={cancelEditing}\n-                  disabled={isSaving}\n-                >\n-                  Cancel\n-                </Button>\n-                <Button\n-                  variant={unsavedChanges ? \"default\" : \"outline\"}\n-                  size=\"sm\"\n-                  onClick={saveChanges}\n-                  disabled={isSaving || !unsavedChanges}\n-                >\n-                  {isSaving ? \"Saving...\" : \"Save Changes\"}\n-                </Button>\n-              </>\n-            ) : (\n-              <Button\n-                variant=\"outline\"\n-                size=\"sm\"\n-                onClick={() => setIsEditing(true)}\n-              >\n-                <Edit className=\"h-4 w-4 mr-1\" /> Edit API\n-              </Button>\n-            )}\n-          </div>\n-        </div>\n-\n-        {/* API Overview Card */}\n-        <Card className=\"border border-divider bg-secondary-background overflow-hidden\">\n-          <div className=\"p-4 sm:p-6\">\n-            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4\">\n-              <div className=\"flex items-center gap-2\">\n-                <ServerCrash className=\"h-5 w-5 sm:h-6 sm:w-6 text-primary-cta\" />\n-                <h2 className=\"text-lg sm:text-xl font-semibold\">\n-                  API Documentation\n-                </h2>\n-              </div>\n-\n-              <div className=\"flex flex-wrap items-center gap-3\">\n-                {isEditing ? (\n-                  <Input\n-                    value={editedApiEndpoints?.base_url}\n-                    onChange={(e) => {\n-                      if (!editedApiEndpoints) return;\n-                      setEditedApiEndpoints({\n-                        ...editedApiEndpoints,\n-                        base_url: e.target.value,\n-                      });\n-                      setUnsavedChanges(true);\n-                    }}\n-                    className=\"h-7 w-full sm:w-64 text-sm bg-primary-background\"\n-                  />\n-                ) : (\n-                  <Badge className=\"bg-hover-active text-primary-text text-xs py-1\">\n-                    {apiEndpoints.base_url}\n-                  </Badge>\n-                )}\n-\n-                <Button\n-                  variant=\"outline\"\n-                  size=\"sm\"\n-                  className=\"h-7 px-2 text-xs\"\n-                  onClick={() =>\n-                    navigator.clipboard.writeText(apiEndpoints.base_url)\n-                  }\n-                >\n-                  <Copy className=\"h-3 w-3 mr-1\" />\n-                  Copy\n-                </Button>\n-              </div>\n-            </div>\n-\n-            <div className=\"flex flex-col gap-5\">\n-              {/* Auth Info - simplified for mobile */}\n-              <div className=\"bg-primary-background border border-divider p-3 rounded-md\">\n-                <div className=\"flex items-center gap-2 mb-2\">\n-                  <Shield className=\"h-3.5 w-3.5 text-amber-400\" />\n-                  <span className=\"font-medium text-sm\">\n-                    Authentication:{\" \"}\n-                    {isEditing ? (\n-                      <Input\n-                        value={editedApiEndpoints?.authentication.type}\n-                        onChange={(e) => {\n-                          if (!editedApiEndpoints) return;\n-                          setEditedApiEndpoints({\n-                            ...editedApiEndpoints,\n-                            authentication: {\n-                              ...editedApiEndpoints.authentication,\n-                              type: e.target.value,\n-                            },\n-                          });\n-                          setUnsavedChanges(true);\n-                        }}\n-                        className=\"h-7 w-full sm:w-48 text-xs bg-hover-active/30 mt-2 mb-2 sm:mt-0 sm:inline-block sm:ml-2\"\n-                      />\n-                    ) : (\n-                      <span className=\"text-primary-text\">\n-                        {apiEndpoints.authentication.type}\n-                      </span>\n-                    )}\n-                  </span>\n-                </div>\n-                {isEditing ? (\n-                  <Textarea\n-                    value={editedApiEndpoints?.authentication.description}\n-                    onChange={(e) => {\n-                      if (!editedApiEndpoints) return;\n-                      setEditedApiEndpoints({\n-                        ...editedApiEndpoints,\n-                        authentication: {\n-                          ...editedApiEndpoints.authentication,\n-                          description: e.target.value,\n-                        },\n-                      });\n-                      setUnsavedChanges(true);\n-                    }}\n-                    className=\"text-xs bg-hover-active/30 resize-none min-h-[80px] p-2\"\n-                    rows={4}\n-                  />\n-                ) : (\n-                  <p className=\"text-secondary-text text-xs leading-relaxed\">\n-                    {apiEndpoints.authentication.description}\n-                  </p>\n-                )}\n-              </div>\n-\n-              {/* API Principles - simplified for mobile */}\n-              <div className=\"bg-primary-background border border-divider p-3 rounded-md\">\n-                <div className=\"flex items-center justify-between mb-2\">\n-                  <div className=\"flex items-center gap-1.5\">\n-                    <BookOpen className=\"h-3.5 w-3.5 text-primary-cta\" />\n-                    <span className=\"font-medium text-sm\">\n-                      API Design Principles\n-                    </span>\n-                  </div>\n-                  {apiEndpoints.api_design_principles.length > 3 && (\n-                    <Button\n-                      variant=\"ghost\"\n-                      size=\"sm\"\n-                      className=\"h-5 text-xs p-0 text-primary-cta\"\n-                      onClick={() => setShowAllPrinciples(!showAllPrinciples)}\n-                    >\n-                      {showAllPrinciples ? \"Less\" : \"More\"}\n-                    </Button>\n-                  )}\n-                </div>\n-                <div\n-                  className={`overflow-y-auto scrollbar-thin ${\n-                    showAllPrinciples ? \"max-h-48 sm:max-h-96\" : \"max-h-24\"\n-                  }`}\n-                >\n-                  {isEditing ? (\n-                    <div className=\"space-y-2\">\n-                      {editedApiEndpoints?.api_design_principles.map(\n-                        (principle, idx) => (\n-                          <div key={idx} className=\"flex items-center gap-1.5\">\n-                            <Input\n-                              value={principle}\n-                              onChange={(e) => {\n-                                if (!editedApiEndpoints) return;\n-                                const newPrinciples = [\n-                                  ...editedApiEndpoints.api_design_principles,\n-                                ];\n-                                newPrinciples[idx] = e.target.value;\n-                                setEditedApiEndpoints({\n-                                  ...editedApiEndpoints,\n-                                  api_design_principles: newPrinciples,\n-                                });\n-                                setUnsavedChanges(true);\n-                              }}\n-                              className=\"h-7 bg-hover-active/30 text-xs flex-1\"\n-                            />\n-                            <Button\n-                              variant=\"ghost\"\n-                              size=\"sm\"\n-                              className=\"h-7 w-7 p-0 hover:text-red-400\"\n-                              onClick={() => {\n-                                if (!editedApiEndpoints) return;\n-                                const newPrinciples = [\n-                                  ...editedApiEndpoints.api_design_principles,\n-                                ];\n-                                newPrinciples.splice(idx, 1);\n-                                setEditedApiEndpoints({\n-                                  ...editedApiEndpoints,\n-                                  api_design_principles: newPrinciples,\n-                                });\n-                                setUnsavedChanges(true);\n-                              }}\n-                            >\n-                              <Trash2 className=\"h-3 w-3\" />\n-                            </Button>\n-                          </div>\n-                        )\n-                      )}\n-                      <Button\n-                        variant=\"outline\"\n-                        size=\"sm\"\n-                        className=\"w-full text-primary-cta text-xs h-7\"\n-                        onClick={() => {\n-                          if (!editedApiEndpoints) return;\n-                          setEditedApiEndpoints({\n-                            ...editedApiEndpoints,\n-                            api_design_principles: [\n-                              ...editedApiEndpoints.api_design_principles,\n-                              \"\",\n-                            ],\n-                          });\n-                          setUnsavedChanges(true);\n-                        }}\n-                      >\n-                        <Plus className=\"h-3 w-3 mr-1\" /> Add Principle\n-                      </Button>\n-                    </div>\n-                  ) : (\n-                    <ul className=\"text-xs leading-relaxed space-y-1 pl-4 marker:text-primary-cta list-disc scrollbar-thin\">\n-                      {(showAllPrinciples\n-                        ? apiEndpoints.api_design_principles\n-                        : apiEndpoints.api_design_principles.slice(0, 3)\n-                      ).map((principle: any, idx: any) => (\n-                        <li key={idx} className=\"text-secondary-text\">\n-                          {principle}\n-                        </li>\n-                      ))}\n-                      {!showAllPrinciples &&\n-                        apiEndpoints.api_design_principles.length > 3 && (\n-                          <li className=\"text-primary-cta text-xs\">\n-                            +{apiEndpoints.api_design_principles.length - 3}{\" \"}\n-                            more\n-                          </li>\n-                        )}\n-                    </ul>\n-                  )}\n-                </div>\n-              </div>\n-            </div>\n-          </div>\n-        </Card>\n-\n-        {/* Edit mode controls */}\n-        {isEditing && (\n-          <div className=\"flex items-center gap-3 justify-end bg-secondary-background p-3 rounded-md border border-divider\">\n-            <Button\n-              variant=\"outline\"\n-              size=\"sm\"\n-              onClick={() => setShowNewResourceDialog(true)}\n-            >\n-              <PlusCircle className=\"h-4 w-4 mr-1\" /> Add Resource\n-            </Button>\n-          </div>\n-        )}\n-\n-        {/* Endpoint Search */}\n-        <div className=\"relative\">\n-          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-text h-4 w-4\" />\n-          <Input\n-            placeholder=\"Search endpoints by name, path, or method...\"\n-            value={searchTerm}\n-            onChange={(e) => setSearchTerm(e.target.value)}\n-            className=\"pl-9 bg-secondary-background border-divider text-sm\"\n-          />\n-          {searchTerm && (\n-            <button\n-              className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-text\"\n-              onClick={() => setSearchTerm(\"\")}\n-            >\n-              <Badge\n-                variant=\"outline\"\n-                className=\"h-6 bg-hover-active border-primary-cta/30 text-primary-text font-normal\"\n-              >\n-                Clear\n-              </Badge>\n-            </button>\n-          )}\n-        </div>\n-\n-        {/* Endpoint not found message */}\n-        {resourcesToDisplay.length === 0 && searchTerm.trim() !== \"\" && (\n-          <div className=\"p-4 text-center border border-divider rounded-md bg-secondary-background\">\n-            <Info className=\"h-8 w-8 text-secondary-text mx-auto mb-2\" />\n-            <p className=\"text-secondary-text\">No matching endpoints found</p>\n-          </div>\n-        )}\n-\n-        {/* Resources List */}\n-        <div className=\"space-y-4\">\n-          {resourcesToDisplay.map((resource, idx) => (\n-            <ResourceSection\n-              key={idx}\n-              resource={resource}\n-              baseUrl={editedApiEndpoints?.base_url || apiEndpoints.base_url}\n-              isEditing={isEditing}\n-              onUpdateResource={\n-                isEditing\n-                  ? (updatedResource) =>\n-                      handleUpdateResource(idx, updatedResource)\n-                  : undefined\n-              }\n-              onDeleteResource={\n-                isEditing ? () => handleDeleteResource(idx) : undefined\n-              }\n-            />\n-          ))}\n-        </div>\n-\n-        {/* New Resource Dialog */}\n-        <NewResourceDialog\n-          open={showNewResourceDialog}\n-          onOpenChange={setShowNewResourceDialog}\n-          onAddResource={handleAddResource}\n-        />\n-\n-        {/* Toast */}\n-        {toast.open && (\n-          <Toast\n-            variant={toast.variant}\n-            className=\"fixed bottom-4 right-4 z-50\"\n-          >\n-            <ToastTitle>{toast.title}</ToastTitle>\n-            {toast.description && (\n-              <ToastDescription>{toast.description}</ToastDescription>\n-            )}\n-          </Toast>\n-        )}\n-\n-        <ToastViewport />\n-      </div>\n-    </ToastProvider>\n-  );\n-}\n+\"use client\";\r\n+\r\n+import { useState, useEffect } from \"react\";\r\n+import {\r\n+  ServerCrash,\r\n+  Shield,\r\n+  BookOpen,\r\n+  Search,\r\n+  Copy,\r\n+  Info,\r\n+  Edit,\r\n+  PlusCircle,\r\n+  Plus,\r\n+  Trash2,\r\n+} from \"lucide-react\";\r\n+import { Badge } from \"@/components/ui/badge\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Card } from \"@/components/ui/card\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Textarea } from \"@/components/ui/textarea\";\r\n+import {\r\n+  Toast,\r\n+  ToastProvider,\r\n+  ToastViewport,\r\n+  ToastTitle,\r\n+  ToastDescription,\r\n+} from \"@/components/ui/toast\";\r\n+\r\n+import { apiClient } from \"@/lib/api\";\r\n+import { ResourceSection } from \"./components/resource-section\";\r\n+import { NewResourceDialog } from \"./components/dialogs/new-recource-dialog\";\r\n+import {\r\n+  ApiEndpointsTabProps,\r\n+  Resource,\r\n+  APIEndpoints,\r\n+  ToastState,\r\n+} from \"./types\";\r\n+\r\n+export function ApiEndpointsTab({\r\n+  project: initialProject,\r\n+}: ApiEndpointsTabProps) {\r\n+  // Keep track of the most up to date project version\r\n+  const [currentProject, setCurrentProject] =\r\n+    useState<ApiEndpointsTabProps[\"project\"]>(initialProject);\r\n+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n+  const [filteredResources, setFilteredResources] = useState<Resource[]>([]);\r\n+  const [isEditing, setIsEditing] = useState(false);\r\n+  const [editedApiEndpoints, setEditedApiEndpoints] =\r\n+    useState<APIEndpoints | null>(null);\r\n+  const [showNewResourceDialog, setShowNewResourceDialog] = useState(false);\r\n+  const [isSaving, setIsSaving] = useState(false);\r\n+  const [unsavedChanges, setUnsavedChanges] = useState(false);\r\n+  const [toast, setToast] = useState<ToastState>({ open: false, title: \"\" });\r\n+  const [showAllPrinciples, setShowAllPrinciples] = useState(false);\r\n+\r\n+  // Extract API endpoints data from project\r\n+  const apiEndpoints = currentProject.api_endpoints as APIEndpoints;\r\n+\r\n+  // Initialize edited API endpoints from project data\r\n+  useEffect(() => {\r\n+    if (currentProject.api_endpoints) {\r\n+      setEditedApiEndpoints(currentProject.api_endpoints as APIEndpoints);\r\n+    }\r\n+  }, [currentProject.api_endpoints]);\r\n+\r\n+  // Filter endpoints based on search term\r\n+  useEffect(() => {\r\n+    if (!apiEndpoints || !searchTerm.trim()) {\r\n+      setFilteredResources([]);\r\n+      return;\r\n+    }\r\n+\r\n+    const term = searchTerm.toLowerCase();\r\n+    const filtered = apiEndpoints.resources\r\n+      .map((resource: Resource) => {\r\n+        const matchingEndpoints = resource.endpoints.filter(\r\n+          (endpoint) =>\r\n+            endpoint.name.toLowerCase().includes(term) ||\r\n+            endpoint.path.toLowerCase().includes(term) ||\r\n+            endpoint.description.toLowerCase().includes(term) ||\r\n+            endpoint.method.toLowerCase().includes(term)\r\n+        );\r\n+\r\n+        return matchingEndpoints.length > 0\r\n+          ? { ...resource, endpoints: matchingEndpoints }\r\n+          : null;\r\n+      })\r\n+      .filter(Boolean) as Resource[];\r\n+\r\n+    setFilteredResources(filtered);\r\n+  }, [searchTerm, apiEndpoints]);\r\n+\r\n+  // Show toast function\r\n+  const showToast = (\r\n+    title: string,\r\n+    description?: string,\r\n+    variant?: \"default\" | \"destructive\"\r\n+  ) => {\r\n+    setToast({\r\n+      open: true,\r\n+      title,\r\n+      description,\r\n+      variant,\r\n+    });\r\n+\r\n+    // Auto-close toast after 3 seconds\r\n+    setTimeout(() => {\r\n+      setToast((prev) => ({ ...prev, open: false }));\r\n+    }, 3000);\r\n+  };\r\n+\r\n+  // Get resources to display (either filtered or all)\r\n+  const resourcesToDisplay =\r\n+    searchTerm.trim() !== \"\"\r\n+      ? filteredResources\r\n+      : editedApiEndpoints?.resources || apiEndpoints?.resources || [];\r\n+\r\n+  // Update resource\r\n+  const handleUpdateResource = (index: number, updatedResource: Resource) => {\r\n+    if (!editedApiEndpoints) return;\r\n+\r\n+    const newResources = [...editedApiEndpoints.resources];\r\n+    newResources[index] = updatedResource;\r\n+\r\n+    const newApiEndpoints = {\r\n+      ...editedApiEndpoints,\r\n+      resources: newResources,\r\n+    };\r\n+\r\n+    setEditedApiEndpoints(newApiEndpoints);\r\n+    setUnsavedChanges(true);\r\n+  };\r\n+\r\n+  // Delete resource\r\n+  const handleDeleteResource = (index: number) => {\r\n+    if (!editedApiEndpoints) return;\r\n+\r\n+    const newResources = [...editedApiEndpoints.resources];\r\n+    newResources.splice(index, 1);\r\n+\r\n+    const newApiEndpoints = {\r\n+      ...editedApiEndpoints,\r\n+      resources: newResources,\r\n+    };\r\n+\r\n+    setEditedApiEndpoints(newApiEndpoints);\r\n+    setUnsavedChanges(true);\r\n+  };\r\n+\r\n+  // Add new resource\r\n+  const handleAddResource = (newResource: Resource) => {\r\n+    if (!editedApiEndpoints) return;\r\n+\r\n+    // Check if resource name already exists\r\n+    if (editedApiEndpoints.resources.some((r) => r.name === newResource.name)) {\r\n+      showToast(\r\n+        \"Resource name already exists\",\r\n+        \"Please choose a different name\",\r\n+        \"destructive\"\r\n+      );\r\n+      return;\r\n+    }\r\n+\r\n+    const newApiEndpoints = {\r\n+      ...editedApiEndpoints,\r\n+      resources: [...editedApiEndpoints.resources, newResource],\r\n+    };\r\n+\r\n+    setEditedApiEndpoints(newApiEndpoints);\r\n+    setUnsavedChanges(true);\r\n+  };\r\n+\r\n+  // Save changes to the database\r\n+  const saveChanges = async () => {\r\n+    if (!editedApiEndpoints) return;\r\n+\r\n+    setIsSaving(true);\r\n+\r\n+    try {\r\n+      // Create a copy of the project object\r\n+      const updatedProject = { ...currentProject };\r\n+\r\n+      // Update the api_endpoints field\r\n+      updatedProject.api_endpoints = editedApiEndpoints;\r\n+\r\n+      // Make the API call using apiClient\r\n+      const result = await apiClient<ApiEndpointsTabProps[\"project\"]>(\r\n+        `/projects/${currentProject.id}`,\r\n+        {\r\n+          method: \"PUT\",\r\n+          body: updatedProject,\r\n+          token: localStorage.getItem(\"token\") || undefined,\r\n+        }\r\n+      );\r\n+\r\n+      // Update the local project state with the result\r\n+      setCurrentProject(result);\r\n+\r\n+      // Exit editing mode\r\n+      setIsEditing(false);\r\n+      setUnsavedChanges(false);\r\n+\r\n+      showToast(\"Changes saved successfully\");\r\n+    } catch (error) {\r\n+      console.error(\"Error saving changes:\", error);\r\n+      showToast(\"Failed to save changes\", \"Please try again\", \"destructive\");\r\n+    } finally {\r\n+      setIsSaving(false);\r\n+    }\r\n+  };\r\n+\r\n+  // Cancel editing and revert changes\r\n+  const cancelEditing = () => {\r\n+    setEditedApiEndpoints(currentProject.api_endpoints as APIEndpoints);\r\n+    setIsEditing(false);\r\n+    setUnsavedChanges(false);\r\n+  };\r\n+\r\n+  // If API endpoints data is not available yet\r\n+  if (!apiEndpoints || Object.keys(apiEndpoints).length === 0) {\r\n+    return (\r\n+      <div className=\"p-6 text-center\">\r\n+        <div className=\"mb-4 flex justify-center\">\r\n+          <ServerCrash className=\"h-12 w-12 text-secondary-text\" />\r\n+        </div>\r\n+        <h3 className=\"text-xl font-semibold mb-2\">\r\n+          API Endpoints Not Available\r\n+        </h3>\r\n+        <p className=\"text-secondary-text max-w-md mx-auto\">\r\n+          This project doesn't have API endpoints defined yet. You can generate\r\n+          them from the Plan Generation page.\r\n+        </p>\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n+  return (\r\n+    <ToastProvider>\r\n+      <div className=\"space-y-6\">\r\n+        {/* Header with Edit Controls */}\r\n+        <div className=\"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between\">\r\n+          <div className=\"flex items-center gap-2\">\r\n+            <ServerCrash className=\"h-6 w-6 text-primary-cta\" />\r\n+            <h2 className=\"text-xl font-semibold\">API Documentation</h2>\r\n+          </div>\r\n+\r\n+          <div className=\"flex flex-col md:flex-row gap-3 items-end md:items-center w-full md:w-auto\">\r\n+            {isEditing ? (\r\n+              <>\r\n+                <Button\r\n+                  variant=\"outline\"\r\n+                  size=\"sm\"\r\n+                  onClick={cancelEditing}\r\n+                  disabled={isSaving}\r\n+                >\r\n+                  Cancel\r\n+                </Button>\r\n+                <Button\r\n+                  variant={unsavedChanges ? \"default\" : \"outline\"}\r\n+                  size=\"sm\"\r\n+                  onClick={saveChanges}\r\n+                  disabled={isSaving || !unsavedChanges}\r\n+                >\r\n+                  {isSaving ? \"Saving...\" : \"Save Changes\"}\r\n+                </Button>\r\n+              </>\r\n+            ) : (\r\n+              <Button\r\n+                variant=\"outline\"\r\n+                size=\"sm\"\r\n+                onClick={() => setIsEditing(true)}\r\n+              >\r\n+                <Edit className=\"h-4 w-4 mr-1\" /> Edit API\r\n+              </Button>\r\n+            )}\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* API Overview Card */}\r\n+        <Card className=\"border border-divider bg-secondary-background overflow-hidden\">\r\n+          <div className=\"p-4 sm:p-6\">\r\n+            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4\">\r\n+              <div className=\"flex items-center gap-2\">\r\n+                <ServerCrash className=\"h-5 w-5 sm:h-6 sm:w-6 text-primary-cta\" />\r\n+                <h2 className=\"text-lg sm:text-xl font-semibold\">\r\n+                  API Documentation\r\n+                </h2>\r\n+              </div>\r\n+\r\n+              <div className=\"flex flex-wrap items-center gap-3\">\r\n+                {isEditing ? (\r\n+                  <Input\r\n+                    value={editedApiEndpoints?.base_url}\r\n+                    onChange={(e) => {\r\n+                      if (!editedApiEndpoints) return;\r\n+                      setEditedApiEndpoints({\r\n+                        ...editedApiEndpoints,\r\n+                        base_url: e.target.value,\r\n+                      });\r\n+                      setUnsavedChanges(true);\r\n+                    }}\r\n+                    className=\"h-7 w-full sm:w-64 text-sm bg-primary-background\"\r\n+                  />\r\n+                ) : (\r\n+                  <Badge className=\"bg-hover-active text-primary-text text-xs py-1\">\r\n+                    {apiEndpoints.base_url}\r\n+                  </Badge>\r\n+                )}\r\n+\r\n+                <Button\r\n+                  variant=\"outline\"\r\n+                  size=\"sm\"\r\n+                  className=\"h-7 px-2 text-xs\"\r\n+                  onClick={() =>\r\n+                    navigator.clipboard.writeText(apiEndpoints.base_url)\r\n+                  }\r\n+                >\r\n+                  <Copy className=\"h-3 w-3 mr-1\" />\r\n+                  Copy\r\n+                </Button>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"flex flex-col gap-5\">\r\n+              {/* Auth Info - simplified for mobile */}\r\n+              <div className=\"bg-primary-background border border-divider p-3 rounded-md\">\r\n+                <div className=\"flex items-center gap-2 mb-2\">\r\n+                  <Shield className=\"h-3.5 w-3.5 text-amber-400\" />\r\n+                  <span className=\"font-medium text-sm\">\r\n+                    Authentication:{\" \"}\r\n+                    {isEditing ? (\r\n+                      <Input\r\n+                        value={editedApiEndpoints?.authentication.type}\r\n+                        onChange={(e) => {\r\n+                          if (!editedApiEndpoints) return;\r\n+                          setEditedApiEndpoints({\r\n+                            ...editedApiEndpoints,\r\n+                            authentication: {\r\n+                              ...editedApiEndpoints.authentication,\r\n+                              type: e.target.value,\r\n+                            },\r\n+                          });\r\n+                          setUnsavedChanges(true);\r\n+                        }}\r\n+                        className=\"h-7 w-full sm:w-48 text-xs bg-hover-active/30 mt-2 mb-2 sm:mt-0 sm:inline-block sm:ml-2\"\r\n+                      />\r\n+                    ) : (\r\n+                      <span className=\"text-primary-text\">\r\n+                        {apiEndpoints.authentication.type}\r\n+                      </span>\r\n+                    )}\r\n+                  </span>\r\n+                </div>\r\n+                {isEditing ? (\r\n+                  <Textarea\r\n+                    value={editedApiEndpoints?.authentication.description}\r\n+                    onChange={(e) => {\r\n+                      if (!editedApiEndpoints) return;\r\n+                      setEditedApiEndpoints({\r\n+                        ...editedApiEndpoints,\r\n+                        authentication: {\r\n+                          ...editedApiEndpoints.authentication,\r\n+                          description: e.target.value,\r\n+                        },\r\n+                      });\r\n+                      setUnsavedChanges(true);\r\n+                    }}\r\n+                    className=\"text-xs bg-hover-active/30 resize-none min-h-[80px] p-2\"\r\n+                    rows={4}\r\n+                  />\r\n+                ) : (\r\n+                  <p className=\"text-secondary-text text-xs leading-relaxed\">\r\n+                    {apiEndpoints.authentication.description}\r\n+                  </p>\r\n+                )}\r\n+              </div>\r\n+\r\n+              {/* API Principles - simplified for mobile */}\r\n+              <div className=\"bg-primary-background border border-divider p-3 rounded-md\">\r\n+                <div className=\"flex items-center justify-between mb-2\">\r\n+                  <div className=\"flex items-center gap-1.5\">\r\n+                    <BookOpen className=\"h-3.5 w-3.5 text-primary-cta\" />\r\n+                    <span className=\"font-medium text-sm\">\r\n+                      API Design Principles\r\n+                    </span>\r\n+                  </div>\r\n+                  {apiEndpoints.api_design_principles.length > 3 && (\r\n+                    <Button\r\n+                      variant=\"ghost\"\r\n+                      size=\"sm\"\r\n+                      className=\"h-5 text-xs p-0 text-primary-cta\"\r\n+                      onClick={() => setShowAllPrinciples(!showAllPrinciples)}\r\n+                    >\r\n+                      {showAllPrinciples ? \"Less\" : \"More\"}\r\n+                    </Button>\r\n+                  )}\r\n+                </div>\r\n+                <div\r\n+                  className={`overflow-y-auto scrollbar-thin ${\r\n+                    showAllPrinciples ? \"max-h-48 sm:max-h-96\" : \"max-h-24\"\r\n+                  }`}\r\n+                >\r\n+                  {isEditing ? (\r\n+                    <div className=\"space-y-2\">\r\n+                      {editedApiEndpoints?.api_design_principles.map(\r\n+                        (principle, idx) => (\r\n+                          <div key={idx} className=\"flex items-center gap-1.5\">\r\n+                            <Input\r\n+                              value={principle}\r\n+                              onChange={(e) => {\r\n+                                if (!editedApiEndpoints) return;\r\n+                                const newPrinciples = [\r\n+                                  ...editedApiEndpoints.api_design_principles,\r\n+                                ];\r\n+                                newPrinciples[idx] = e.target.value;\r\n+                                setEditedApiEndpoints({\r\n+                                  ...editedApiEndpoints,\r\n+                                  api_design_principles: newPrinciples,\r\n+                                });\r\n+                                setUnsavedChanges(true);\r\n+                              }}\r\n+                              className=\"h-7 bg-hover-active/30 text-xs flex-1\"\r\n+                            />\r\n+                            <Button\r\n+                              variant=\"ghost\"\r\n+                              size=\"sm\"\r\n+                              className=\"h-7 w-7 p-0 hover:text-red-400\"\r\n+                              onClick={() => {\r\n+                                if (!editedApiEndpoints) return;\r\n+                                const newPrinciples = [\r\n+                                  ...editedApiEndpoints.api_design_principles,\r\n+                                ];\r\n+                                newPrinciples.splice(idx, 1);\r\n+                                setEditedApiEndpoints({\r\n+                                  ...editedApiEndpoints,\r\n+                                  api_design_principles: newPrinciples,\r\n+                                });\r\n+                                setUnsavedChanges(true);\r\n+                              }}\r\n+                            >\r\n+                              <Trash2 className=\"h-3 w-3\" />\r\n+                            </Button>\r\n+                          </div>\r\n+                        )\r\n+                      )}\r\n+                      <Button\r\n+                        variant=\"outline\"\r\n+                        size=\"sm\"\r\n+                        className=\"w-full text-primary-cta text-xs h-7\"\r\n+                        onClick={() => {\r\n+                          if (!editedApiEndpoints) return;\r\n+                          setEditedApiEndpoints({\r\n+                            ...editedApiEndpoints,\r\n+                            api_design_principles: [\r\n+                              ...editedApiEndpoints.api_design_principles,\r\n+                              \"\",\r\n+                            ],\r\n+                          });\r\n+                          setUnsavedChanges(true);\r\n+                        }}\r\n+                      >\r\n+                        <Plus className=\"h-3 w-3 mr-1\" /> Add Principle\r\n+                      </Button>\r\n+                    </div>\r\n+                  ) : (\r\n+                    <ul className=\"text-xs leading-relaxed space-y-1 pl-4 marker:text-primary-cta list-disc scrollbar-thin\">\r\n+                      {(showAllPrinciples\r\n+                        ? apiEndpoints.api_design_principles\r\n+                        : apiEndpoints.api_design_principles.slice(0, 3)\r\n+                      ).map((principle: any, idx: any) => (\r\n+                        <li key={idx} className=\"text-secondary-text\">\r\n+                          {principle}\r\n+                        </li>\r\n+                      ))}\r\n+                      {!showAllPrinciples &&\r\n+                        apiEndpoints.api_design_principles.length > 3 && (\r\n+                          <li className=\"text-primary-cta text-xs\">\r\n+                            +{apiEndpoints.api_design_principles.length - 3}{\" \"}\r\n+                            more\r\n+                          </li>\r\n+                        )}\r\n+                    </ul>\r\n+                  )}\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </Card>\r\n+\r\n+        {/* Edit mode controls */}\r\n+        {isEditing && (\r\n+          <div className=\"flex items-center gap-3 justify-end bg-secondary-background p-3 rounded-md border border-divider\">\r\n+            <Button\r\n+              variant=\"outline\"\r\n+              size=\"sm\"\r\n+              onClick={() => setShowNewResourceDialog(true)}\r\n+            >\r\n+              <PlusCircle className=\"h-4 w-4 mr-1\" /> Add Resource\r\n+            </Button>\r\n+          </div>\r\n+        )}\r\n+\r\n+        {/* Endpoint Search */}\r\n+        <div className=\"relative\">\r\n+          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-text h-4 w-4\" />\r\n+          <Input\r\n+            placeholder=\"Search endpoints by name, path, or method...\"\r\n+            value={searchTerm}\r\n+            onChange={(e) => setSearchTerm(e.target.value)}\r\n+            className=\"pl-9 bg-secondary-background border-divider text-sm\"\r\n+          />\r\n+          {searchTerm && (\r\n+            <button\r\n+              className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-text\"\r\n+              onClick={() => setSearchTerm(\"\")}\r\n+            >\r\n+              <Badge\r\n+                variant=\"outline\"\r\n+                className=\"h-6 bg-hover-active border-primary-cta/30 text-primary-text font-normal\"\r\n+              >\r\n+                Clear\r\n+              </Badge>\r\n+            </button>\r\n+          )}\r\n+        </div>\r\n+\r\n+        {/* Endpoint not found message */}\r\n+        {resourcesToDisplay.length === 0 && searchTerm.trim() !== \"\" && (\r\n+          <div className=\"p-4 text-center border border-divider rounded-md bg-secondary-background\">\r\n+            <Info className=\"h-8 w-8 text-secondary-text mx-auto mb-2\" />\r\n+            <p className=\"text-secondary-text\">No matching endpoints found</p>\r\n+          </div>\r\n+        )}\r\n+\r\n+        {/* Resources List */}\r\n+        <div className=\"space-y-4\">\r\n+          {resourcesToDisplay.map((resource, idx) => (\r\n+            <ResourceSection\r\n+              key={idx}\r\n+              resource={resource}\r\n+              baseUrl={editedApiEndpoints?.base_url || apiEndpoints.base_url}\r\n+              isEditing={isEditing}\r\n+              onUpdateResource={\r\n+                isEditing\r\n+                  ? (updatedResource) =>\r\n+                      handleUpdateResource(idx, updatedResource)\r\n+                  : undefined\r\n+              }\r\n+              onDeleteResource={\r\n+                isEditing ? () => handleDeleteResource(idx) : undefined\r\n+              }\r\n+            />\r\n+          ))}\r\n+        </div>\r\n+\r\n+        {/* New Resource Dialog */}\r\n+        <NewResourceDialog\r\n+          open={showNewResourceDialog}\r\n+          onOpenChange={setShowNewResourceDialog}\r\n+          onAddResource={handleAddResource}\r\n+        />\r\n+\r\n+        {/* Toast */}\r\n+        {toast.open && (\r\n+          <Toast\r\n+            variant={toast.variant}\r\n+            className=\"fixed bottom-4 right-4 z-50\"\r\n+          >\r\n+            <ToastTitle>{toast.title}</ToastTitle>\r\n+            {toast.description && (\r\n+              <ToastDescription>{toast.description}</ToastDescription>\r\n+            )}\r\n+          </Toast>\r\n+        )}\r\n+\r\n+        <ToastViewport />\r\n+      </div>\r\n+    </ToastProvider>\r\n+  );\r\n+}\r",
      "patch_lines": [
        "@@ -1,580 +1,580 @@\n",
        "-\"use client\";\n",
        "-\n",
        "-import { useState, useEffect } from \"react\";\n",
        "-import {\n",
        "-  ServerCrash,\n",
        "-  Shield,\n",
        "-  BookOpen,\n",
        "-  Search,\n",
        "-  Copy,\n",
        "-  Info,\n",
        "-  Edit,\n",
        "-  PlusCircle,\n",
        "-  Plus,\n",
        "-  Trash2,\n",
        "-} from \"lucide-react\";\n",
        "-import { Badge } from \"@/components/ui/badge\";\n",
        "-import { Button } from \"@/components/ui/button\";\n",
        "-import { Card } from \"@/components/ui/card\";\n",
        "-import { Input } from \"@/components/ui/input\";\n",
        "-import { Textarea } from \"@/components/ui/textarea\";\n",
        "-import {\n",
        "-  Toast,\n",
        "-  ToastProvider,\n",
        "-  ToastViewport,\n",
        "-  ToastTitle,\n",
        "-  ToastDescription,\n",
        "-} from \"@/components/ui/toast\";\n",
        "-\n",
        "-import { apiClient } from \"@/lib/api\";\n",
        "-import { ResourceSection } from \"./components/resource-section\";\n",
        "-import { NewResourceDialog } from \"./components/dialogs/new-recource-dialog\";\n",
        "-import {\n",
        "-  ApiEndpointsTabProps,\n",
        "-  Resource,\n",
        "-  APIEndpoints,\n",
        "-  ToastState,\n",
        "-} from \"./types\";\n",
        "-\n",
        "-export function ApiEndpointsTab({\n",
        "-  project: initialProject,\n",
        "-}: ApiEndpointsTabProps) {\n",
        "-  // Keep track of the most up to date project version\n",
        "-  const [currentProject, setCurrentProject] =\n",
        "-    useState<ApiEndpointsTabProps[\"project\"]>(initialProject);\n",
        "-  const [searchTerm, setSearchTerm] = useState(\"\");\n",
        "-  const [filteredResources, setFilteredResources] = useState<Resource[]>([]);\n",
        "-  const [isEditing, setIsEditing] = useState(false);\n",
        "-  const [editedApiEndpoints, setEditedApiEndpoints] =\n",
        "-    useState<APIEndpoints | null>(null);\n",
        "-  const [showNewResourceDialog, setShowNewResourceDialog] = useState(false);\n",
        "-  const [isSaving, setIsSaving] = useState(false);\n",
        "-  const [unsavedChanges, setUnsavedChanges] = useState(false);\n",
        "-  const [toast, setToast] = useState<ToastState>({ open: false, title: \"\" });\n",
        "-  const [showAllPrinciples, setShowAllPrinciples] = useState(false);\n",
        "-\n",
        "-  // Extract API endpoints data from project\n",
        "-  const apiEndpoints = currentProject.api_endpoints as APIEndpoints;\n",
        "-\n",
        "-  // Initialize edited API endpoints from project data\n",
        "-  useEffect(() => {\n",
        "-    if (currentProject.api_endpoints) {\n",
        "-      setEditedApiEndpoints(currentProject.api_endpoints as APIEndpoints);\n",
        "-    }\n",
        "-  }, [currentProject.api_endpoints]);\n",
        "-\n",
        "-  // Filter endpoints based on search term\n",
        "-  useEffect(() => {\n",
        "-    if (!apiEndpoints || !searchTerm.trim()) {\n",
        "-      setFilteredResources([]);\n",
        "-      return;\n",
        "-    }\n",
        "-\n",
        "-    const term = searchTerm.toLowerCase();\n",
        "-    const filtered = apiEndpoints.resources\n",
        "-      .map((resource: Resource) => {\n",
        "-        const matchingEndpoints = resource.endpoints.filter(\n",
        "-          (endpoint) =>\n",
        "-            endpoint.name.toLowerCase().includes(term) ||\n",
        "-            endpoint.path.toLowerCase().includes(term) ||\n",
        "-            endpoint.description.toLowerCase().includes(term) ||\n",
        "-            endpoint.method.toLowerCase().includes(term)\n",
        "-        );\n",
        "-\n",
        "-        return matchingEndpoints.length > 0\n",
        "-          ? { ...resource, endpoints: matchingEndpoints }\n",
        "-          : null;\n",
        "-      })\n",
        "-      .filter(Boolean) as Resource[];\n",
        "-\n",
        "-    setFilteredResources(filtered);\n",
        "-  }, [searchTerm, apiEndpoints]);\n",
        "-\n",
        "-  // Show toast function\n",
        "-  const showToast = (\n",
        "-    title: string,\n",
        "-    description?: string,\n",
        "-    variant?: \"default\" | \"destructive\"\n",
        "-  ) => {\n",
        "-    setToast({\n",
        "-      open: true,\n",
        "-      title,\n",
        "-      description,\n",
        "-      variant,\n",
        "-    });\n",
        "-\n",
        "-    // Auto-close toast after 3 seconds\n",
        "-    setTimeout(() => {\n",
        "-      setToast((prev) => ({ ...prev, open: false }));\n",
        "-    }, 3000);\n",
        "-  };\n",
        "-\n",
        "-  // Get resources to display (either filtered or all)\n",
        "-  const resourcesToDisplay =\n",
        "-    searchTerm.trim() !== \"\"\n",
        "-      ? filteredResources\n",
        "-      : editedApiEndpoints?.resources || apiEndpoints?.resources || [];\n",
        "-\n",
        "-  // Update resource\n",
        "-  const handleUpdateResource = (index: number, updatedResource: Resource) => {\n",
        "-    if (!editedApiEndpoints) return;\n",
        "-\n",
        "-    const newResources = [...editedApiEndpoints.resources];\n",
        "-    newResources[index] = updatedResource;\n",
        "-\n",
        "-    const newApiEndpoints = {\n",
        "-      ...editedApiEndpoints,\n",
        "-      resources: newResources,\n",
        "-    };\n",
        "-\n",
        "-    setEditedApiEndpoints(newApiEndpoints);\n",
        "-    setUnsavedChanges(true);\n",
        "-  };\n",
        "-\n",
        "-  // Delete resource\n",
        "-  const handleDeleteResource = (index: number) => {\n",
        "-    if (!editedApiEndpoints) return;\n",
        "-\n",
        "-    const newResources = [...editedApiEndpoints.resources];\n",
        "-    newResources.splice(index, 1);\n",
        "-\n",
        "-    const newApiEndpoints = {\n",
        "-      ...editedApiEndpoints,\n",
        "-      resources: newResources,\n",
        "-    };\n",
        "-\n",
        "-    setEditedApiEndpoints(newApiEndpoints);\n",
        "-    setUnsavedChanges(true);\n",
        "-  };\n",
        "-\n",
        "-  // Add new resource\n",
        "-  const handleAddResource = (newResource: Resource) => {\n",
        "-    if (!editedApiEndpoints) return;\n",
        "-\n",
        "-    // Check if resource name already exists\n",
        "-    if (editedApiEndpoints.resources.some((r) => r.name === newResource.name)) {\n",
        "-      showToast(\n",
        "-        \"Resource name already exists\",\n",
        "-        \"Please choose a different name\",\n",
        "-        \"destructive\"\n",
        "-      );\n",
        "-      return;\n",
        "-    }\n",
        "-\n",
        "-    const newApiEndpoints = {\n",
        "-      ...editedApiEndpoints,\n",
        "-      resources: [...editedApiEndpoints.resources, newResource],\n",
        "-    };\n",
        "-\n",
        "-    setEditedApiEndpoints(newApiEndpoints);\n",
        "-    setUnsavedChanges(true);\n",
        "-  };\n",
        "-\n",
        "-  // Save changes to the database\n",
        "-  const saveChanges = async () => {\n",
        "-    if (!editedApiEndpoints) return;\n",
        "-\n",
        "-    setIsSaving(true);\n",
        "-\n",
        "-    try {\n",
        "-      // Create a copy of the project object\n",
        "-      const updatedProject = { ...currentProject };\n",
        "-\n",
        "-      // Update the api_endpoints field\n",
        "-      updatedProject.api_endpoints = editedApiEndpoints;\n",
        "-\n",
        "-      // Make the API call using apiClient\n",
        "-      const result = await apiClient<ApiEndpointsTabProps[\"project\"]>(\n",
        "-        `/projects/${currentProject.id}`,\n",
        "-        {\n",
        "-          method: \"PUT\",\n",
        "-          body: updatedProject,\n",
        "-          token: localStorage.getItem(\"token\") || undefined,\n",
        "-        }\n",
        "-      );\n",
        "-\n",
        "-      // Update the local project state with the result\n",
        "-      setCurrentProject(result);\n",
        "-\n",
        "-      // Exit editing mode\n",
        "-      setIsEditing(false);\n",
        "-      setUnsavedChanges(false);\n",
        "-\n",
        "-      showToast(\"Changes saved successfully\");\n",
        "-    } catch (error) {\n",
        "-      console.error(\"Error saving changes:\", error);\n",
        "-      showToast(\"Failed to save changes\", \"Please try again\", \"destructive\");\n",
        "-    } finally {\n",
        "-      setIsSaving(false);\n",
        "-    }\n",
        "-  };\n",
        "-\n",
        "-  // Cancel editing and revert changes\n",
        "-  const cancelEditing = () => {\n",
        "-    setEditedApiEndpoints(currentProject.api_endpoints as APIEndpoints);\n",
        "-    setIsEditing(false);\n",
        "-    setUnsavedChanges(false);\n",
        "-  };\n",
        "-\n",
        "-  // If API endpoints data is not available yet\n",
        "-  if (!apiEndpoints || Object.keys(apiEndpoints).length === 0) {\n",
        "-    return (\n",
        "-      <div className=\"p-6 text-center\">\n",
        "-        <div className=\"mb-4 flex justify-center\">\n",
        "-          <ServerCrash className=\"h-12 w-12 text-secondary-text\" />\n",
        "-        </div>\n",
        "-        <h3 className=\"text-xl font-semibold mb-2\">\n",
        "-          API Endpoints Not Available\n",
        "-        </h3>\n",
        "-        <p className=\"text-secondary-text max-w-md mx-auto\">\n",
        "-          This project doesn't have API endpoints defined yet. You can generate\n",
        "-          them from the Plan Generation page.\n",
        "-        </p>\n",
        "-      </div>\n",
        "-    );\n",
        "-  }\n",
        "-\n",
        "-  return (\n",
        "-    <ToastProvider>\n",
        "-      <div className=\"space-y-6\">\n",
        "-        {/* Header with Edit Controls */}\n",
        "-        <div className=\"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between\">\n",
        "-          <div className=\"flex items-center gap-2\">\n",
        "-            <ServerCrash className=\"h-6 w-6 text-primary-cta\" />\n",
        "-            <h2 className=\"text-xl font-semibold\">API Documentation</h2>\n",
        "-          </div>\n",
        "-\n",
        "-          <div className=\"flex flex-col md:flex-row gap-3 items-end md:items-center w-full md:w-auto\">\n",
        "-            {isEditing ? (\n",
        "-              <>\n",
        "-                <Button\n",
        "-                  variant=\"outline\"\n",
        "-                  size=\"sm\"\n",
        "-                  onClick={cancelEditing}\n",
        "-                  disabled={isSaving}\n",
        "-                >\n",
        "-                  Cancel\n",
        "-                </Button>\n",
        "-                <Button\n",
        "-                  variant={unsavedChanges ? \"default\" : \"outline\"}\n",
        "-                  size=\"sm\"\n",
        "-                  onClick={saveChanges}\n",
        "-                  disabled={isSaving || !unsavedChanges}\n",
        "-                >\n",
        "-                  {isSaving ? \"Saving...\" : \"Save Changes\"}\n",
        "-                </Button>\n",
        "-              </>\n",
        "-            ) : (\n",
        "-              <Button\n",
        "-                variant=\"outline\"\n",
        "-                size=\"sm\"\n",
        "-                onClick={() => setIsEditing(true)}\n",
        "-              >\n",
        "-                <Edit className=\"h-4 w-4 mr-1\" /> Edit API\n",
        "-              </Button>\n",
        "-            )}\n",
        "-          </div>\n",
        "-        </div>\n",
        "-\n",
        "-        {/* API Overview Card */}\n",
        "-        <Card className=\"border border-divider bg-secondary-background overflow-hidden\">\n",
        "-          <div className=\"p-4 sm:p-6\">\n",
        "-            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4\">\n",
        "-              <div className=\"flex items-center gap-2\">\n",
        "-                <ServerCrash className=\"h-5 w-5 sm:h-6 sm:w-6 text-primary-cta\" />\n",
        "-                <h2 className=\"text-lg sm:text-xl font-semibold\">\n",
        "-                  API Documentation\n",
        "-                </h2>\n",
        "-              </div>\n",
        "-\n",
        "-              <div className=\"flex flex-wrap items-center gap-3\">\n",
        "-                {isEditing ? (\n",
        "-                  <Input\n",
        "-                    value={editedApiEndpoints?.base_url}\n",
        "-                    onChange={(e) => {\n",
        "-                      if (!editedApiEndpoints) return;\n",
        "-                      setEditedApiEndpoints({\n",
        "-                        ...editedApiEndpoints,\n",
        "-                        base_url: e.target.value,\n",
        "-                      });\n",
        "-                      setUnsavedChanges(true);\n",
        "-                    }}\n",
        "-                    className=\"h-7 w-full sm:w-64 text-sm bg-primary-background\"\n",
        "-                  />\n",
        "-                ) : (\n",
        "-                  <Badge className=\"bg-hover-active text-primary-text text-xs py-1\">\n",
        "-                    {apiEndpoints.base_url}\n",
        "-                  </Badge>\n",
        "-                )}\n",
        "-\n",
        "-                <Button\n",
        "-                  variant=\"outline\"\n",
        "-                  size=\"sm\"\n",
        "-                  className=\"h-7 px-2 text-xs\"\n",
        "-                  onClick={() =>\n",
        "-                    navigator.clipboard.writeText(apiEndpoints.base_url)\n",
        "-                  }\n",
        "-                >\n",
        "-                  <Copy className=\"h-3 w-3 mr-1\" />\n",
        "-                  Copy\n",
        "-                </Button>\n",
        "-              </div>\n",
        "-            </div>\n",
        "-\n",
        "-            <div className=\"flex flex-col gap-5\">\n",
        "-              {/* Auth Info - simplified for mobile */}\n",
        "-              <div className=\"bg-primary-background border border-divider p-3 rounded-md\">\n",
        "-                <div className=\"flex items-center gap-2 mb-2\">\n",
        "-                  <Shield className=\"h-3.5 w-3.5 text-amber-400\" />\n",
        "-                  <span className=\"font-medium text-sm\">\n",
        "-                    Authentication:{\" \"}\n",
        "-                    {isEditing ? (\n",
        "-                      <Input\n",
        "-                        value={editedApiEndpoints?.authentication.type}\n",
        "-                        onChange={(e) => {\n",
        "-                          if (!editedApiEndpoints) return;\n",
        "-                          setEditedApiEndpoints({\n",
        "-                            ...editedApiEndpoints,\n",
        "-                            authentication: {\n",
        "-                              ...editedApiEndpoints.authentication,\n",
        "-                              type: e.target.value,\n",
        "-                            },\n",
        "-                          });\n",
        "-                          setUnsavedChanges(true);\n",
        "-                        }}\n",
        "-                        className=\"h-7 w-full sm:w-48 text-xs bg-hover-active/30 mt-2 mb-2 sm:mt-0 sm:inline-block sm:ml-2\"\n",
        "-                      />\n",
        "-                    ) : (\n",
        "-                      <span className=\"text-primary-text\">\n",
        "-                        {apiEndpoints.authentication.type}\n",
        "-                      </span>\n",
        "-                    )}\n",
        "-                  </span>\n",
        "-                </div>\n",
        "-                {isEditing ? (\n",
        "-                  <Textarea\n",
        "-                    value={editedApiEndpoints?.authentication.description}\n",
        "-                    onChange={(e) => {\n",
        "-                      if (!editedApiEndpoints) return;\n",
        "-                      setEditedApiEndpoints({\n",
        "-                        ...editedApiEndpoints,\n",
        "-                        authentication: {\n",
        "-                          ...editedApiEndpoints.authentication,\n",
        "-                          description: e.target.value,\n",
        "-                        },\n",
        "-                      });\n",
        "-                      setUnsavedChanges(true);\n",
        "-                    }}\n",
        "-                    className=\"text-xs bg-hover-active/30 resize-none min-h-[80px] p-2\"\n",
        "-                    rows={4}\n",
        "-                  />\n",
        "-                ) : (\n",
        "-                  <p className=\"text-secondary-text text-xs leading-relaxed\">\n",
        "-                    {apiEndpoints.authentication.description}\n",
        "-                  </p>\n",
        "-                )}\n",
        "-              </div>\n",
        "-\n",
        "-              {/* API Principles - simplified for mobile */}\n",
        "-              <div className=\"bg-primary-background border border-divider p-3 rounded-md\">\n",
        "-                <div className=\"flex items-center justify-between mb-2\">\n",
        "-                  <div className=\"flex items-center gap-1.5\">\n",
        "-                    <BookOpen className=\"h-3.5 w-3.5 text-primary-cta\" />\n",
        "-                    <span className=\"font-medium text-sm\">\n",
        "-                      API Design Principles\n",
        "-                    </span>\n",
        "-                  </div>\n",
        "-                  {apiEndpoints.api_design_principles.length > 3 && (\n",
        "-                    <Button\n",
        "-                      variant=\"ghost\"\n",
        "-                      size=\"sm\"\n",
        "-                      className=\"h-5 text-xs p-0 text-primary-cta\"\n",
        "-                      onClick={() => setShowAllPrinciples(!showAllPrinciples)}\n",
        "-                    >\n",
        "-                      {showAllPrinciples ? \"Less\" : \"More\"}\n",
        "-                    </Button>\n",
        "-                  )}\n",
        "-                </div>\n",
        "-                <div\n",
        "-                  className={`overflow-y-auto scrollbar-thin ${\n",
        "-                    showAllPrinciples ? \"max-h-48 sm:max-h-96\" : \"max-h-24\"\n",
        "-                  }`}\n",
        "-                >\n",
        "-                  {isEditing ? (\n",
        "-                    <div className=\"space-y-2\">\n",
        "-                      {editedApiEndpoints?.api_design_principles.map(\n",
        "-                        (principle, idx) => (\n",
        "-                          <div key={idx} className=\"flex items-center gap-1.5\">\n",
        "-                            <Input\n",
        "-                              value={principle}\n",
        "-                              onChange={(e) => {\n",
        "-                                if (!editedApiEndpoints) return;\n",
        "-                                const newPrinciples = [\n",
        "-                                  ...editedApiEndpoints.api_design_principles,\n",
        "-                                ];\n",
        "-                                newPrinciples[idx] = e.target.value;\n",
        "-                                setEditedApiEndpoints({\n",
        "-                                  ...editedApiEndpoints,\n",
        "-                                  api_design_principles: newPrinciples,\n",
        "-                                });\n",
        "-                                setUnsavedChanges(true);\n",
        "-                              }}\n",
        "-                              className=\"h-7 bg-hover-active/30 text-xs flex-1\"\n",
        "-                            />\n",
        "-                            <Button\n",
        "-                              variant=\"ghost\"\n",
        "-                              size=\"sm\"\n",
        "-                              className=\"h-7 w-7 p-0 hover:text-red-400\"\n",
        "-                              onClick={() => {\n",
        "-                                if (!editedApiEndpoints) return;\n",
        "-                                const newPrinciples = [\n",
        "-                                  ...editedApiEndpoints.api_design_principles,\n",
        "-                                ];\n",
        "-                                newPrinciples.splice(idx, 1);\n",
        "-                                setEditedApiEndpoints({\n",
        "-                                  ...editedApiEndpoints,\n",
        "-                                  api_design_principles: newPrinciples,\n",
        "-                                });\n",
        "-                                setUnsavedChanges(true);\n",
        "-                              }}\n",
        "-                            >\n",
        "-                              <Trash2 className=\"h-3 w-3\" />\n",
        "-                            </Button>\n",
        "-                          </div>\n",
        "-                        )\n",
        "-                      )}\n",
        "-                      <Button\n",
        "-                        variant=\"outline\"\n",
        "-                        size=\"sm\"\n",
        "-                        className=\"w-full text-primary-cta text-xs h-7\"\n",
        "-                        onClick={() => {\n",
        "-                          if (!editedApiEndpoints) return;\n",
        "-                          setEditedApiEndpoints({\n",
        "-                            ...editedApiEndpoints,\n",
        "-                            api_design_principles: [\n",
        "-                              ...editedApiEndpoints.api_design_principles,\n",
        "-                              \"\",\n",
        "-                            ],\n",
        "-                          });\n",
        "-                          setUnsavedChanges(true);\n",
        "-                        }}\n",
        "-                      >\n",
        "-                        <Plus className=\"h-3 w-3 mr-1\" /> Add Principle\n",
        "-                      </Button>\n",
        "-                    </div>\n",
        "-                  ) : (\n",
        "-                    <ul className=\"text-xs leading-relaxed space-y-1 pl-4 marker:text-primary-cta list-disc scrollbar-thin\">\n",
        "-                      {(showAllPrinciples\n",
        "-                        ? apiEndpoints.api_design_principles\n",
        "-                        : apiEndpoints.api_design_principles.slice(0, 3)\n",
        "-                      ).map((principle: any, idx: any) => (\n",
        "-                        <li key={idx} className=\"text-secondary-text\">\n",
        "-                          {principle}\n",
        "-                        </li>\n",
        "-                      ))}\n",
        "-                      {!showAllPrinciples &&\n",
        "-                        apiEndpoints.api_design_principles.length > 3 && (\n",
        "-                          <li className=\"text-primary-cta text-xs\">\n",
        "-                            +{apiEndpoints.api_design_principles.length - 3}{\" \"}\n",
        "-                            more\n",
        "-                          </li>\n",
        "-                        )}\n",
        "-                    </ul>\n",
        "-                  )}\n",
        "-                </div>\n",
        "-              </div>\n",
        "-            </div>\n",
        "-          </div>\n",
        "-        </Card>\n",
        "-\n",
        "-        {/* Edit mode controls */}\n",
        "-        {isEditing && (\n",
        "-          <div className=\"flex items-center gap-3 justify-end bg-secondary-background p-3 rounded-md border border-divider\">\n",
        "-            <Button\n",
        "-              variant=\"outline\"\n",
        "-              size=\"sm\"\n",
        "-              onClick={() => setShowNewResourceDialog(true)}\n",
        "-            >\n",
        "-              <PlusCircle className=\"h-4 w-4 mr-1\" /> Add Resource\n",
        "-            </Button>\n",
        "-          </div>\n",
        "-        )}\n",
        "-\n",
        "-        {/* Endpoint Search */}\n",
        "-        <div className=\"relative\">\n",
        "-          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-text h-4 w-4\" />\n",
        "-          <Input\n",
        "-            placeholder=\"Search endpoints by name, path, or method...\"\n",
        "-            value={searchTerm}\n",
        "-            onChange={(e) => setSearchTerm(e.target.value)}\n",
        "-            className=\"pl-9 bg-secondary-background border-divider text-sm\"\n",
        "-          />\n",
        "-          {searchTerm && (\n",
        "-            <button\n",
        "-              className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-text\"\n",
        "-              onClick={() => setSearchTerm(\"\")}\n",
        "-            >\n",
        "-              <Badge\n",
        "-                variant=\"outline\"\n",
        "-                className=\"h-6 bg-hover-active border-primary-cta/30 text-primary-text font-normal\"\n",
        "-              >\n",
        "-                Clear\n",
        "-              </Badge>\n",
        "-            </button>\n",
        "-          )}\n",
        "-        </div>\n",
        "-\n",
        "-        {/* Endpoint not found message */}\n",
        "-        {resourcesToDisplay.length === 0 && searchTerm.trim() !== \"\" && (\n",
        "-          <div className=\"p-4 text-center border border-divider rounded-md bg-secondary-background\">\n",
        "-            <Info className=\"h-8 w-8 text-secondary-text mx-auto mb-2\" />\n",
        "-            <p className=\"text-secondary-text\">No matching endpoints found</p>\n",
        "-          </div>\n",
        "-        )}\n",
        "-\n",
        "-        {/* Resources List */}\n",
        "-        <div className=\"space-y-4\">\n",
        "-          {resourcesToDisplay.map((resource, idx) => (\n",
        "-            <ResourceSection\n",
        "-              key={idx}\n",
        "-              resource={resource}\n",
        "-              baseUrl={editedApiEndpoints?.base_url || apiEndpoints.base_url}\n",
        "-              isEditing={isEditing}\n",
        "-              onUpdateResource={\n",
        "-                isEditing\n",
        "-                  ? (updatedResource) =>\n",
        "-                      handleUpdateResource(idx, updatedResource)\n",
        "-                  : undefined\n",
        "-              }\n",
        "-              onDeleteResource={\n",
        "-                isEditing ? () => handleDeleteResource(idx) : undefined\n",
        "-              }\n",
        "-            />\n",
        "-          ))}\n",
        "-        </div>\n",
        "-\n",
        "-        {/* New Resource Dialog */}\n",
        "-        <NewResourceDialog\n",
        "-          open={showNewResourceDialog}\n",
        "-          onOpenChange={setShowNewResourceDialog}\n",
        "-          onAddResource={handleAddResource}\n",
        "-        />\n",
        "-\n",
        "-        {/* Toast */}\n",
        "-        {toast.open && (\n",
        "-          <Toast\n",
        "-            variant={toast.variant}\n",
        "-            className=\"fixed bottom-4 right-4 z-50\"\n",
        "-          >\n",
        "-            <ToastTitle>{toast.title}</ToastTitle>\n",
        "-            {toast.description && (\n",
        "-              <ToastDescription>{toast.description}</ToastDescription>\n",
        "-            )}\n",
        "-          </Toast>\n",
        "-        )}\n",
        "-\n",
        "-        <ToastViewport />\n",
        "-      </div>\n",
        "-    </ToastProvider>\n",
        "-  );\n",
        "-}\n",
        "+\"use client\";\r\n",
        "+\r\n",
        "+import { useState, useEffect } from \"react\";\r\n",
        "+import {\r\n",
        "+  ServerCrash,\r\n",
        "+  Shield,\r\n",
        "+  BookOpen,\r\n",
        "+  Search,\r\n",
        "+  Copy,\r\n",
        "+  Info,\r\n",
        "+  Edit,\r\n",
        "+  PlusCircle,\r\n",
        "+  Plus,\r\n",
        "+  Trash2,\r\n",
        "+} from \"lucide-react\";\r\n",
        "+import { Badge } from \"@/components/ui/badge\";\r\n",
        "+import { Button } from \"@/components/ui/button\";\r\n",
        "+import { Card } from \"@/components/ui/card\";\r\n",
        "+import { Input } from \"@/components/ui/input\";\r\n",
        "+import { Textarea } from \"@/components/ui/textarea\";\r\n",
        "+import {\r\n",
        "+  Toast,\r\n",
        "+  ToastProvider,\r\n",
        "+  ToastViewport,\r\n",
        "+  ToastTitle,\r\n",
        "+  ToastDescription,\r\n",
        "+} from \"@/components/ui/toast\";\r\n",
        "+\r\n",
        "+import { apiClient } from \"@/lib/api\";\r\n",
        "+import { ResourceSection } from \"./components/resource-section\";\r\n",
        "+import { NewResourceDialog } from \"./components/dialogs/new-recource-dialog\";\r\n",
        "+import {\r\n",
        "+  ApiEndpointsTabProps,\r\n",
        "+  Resource,\r\n",
        "+  APIEndpoints,\r\n",
        "+  ToastState,\r\n",
        "+} from \"./types\";\r\n",
        "+\r\n",
        "+export function ApiEndpointsTab({\r\n",
        "+  project: initialProject,\r\n",
        "+}: ApiEndpointsTabProps) {\r\n",
        "+  // Keep track of the most up to date project version\r\n",
        "+  const [currentProject, setCurrentProject] =\r\n",
        "+    useState<ApiEndpointsTabProps[\"project\"]>(initialProject);\r\n",
        "+  const [searchTerm, setSearchTerm] = useState(\"\");\r\n",
        "+  const [filteredResources, setFilteredResources] = useState<Resource[]>([]);\r\n",
        "+  const [isEditing, setIsEditing] = useState(false);\r\n",
        "+  const [editedApiEndpoints, setEditedApiEndpoints] =\r\n",
        "+    useState<APIEndpoints | null>(null);\r\n",
        "+  const [showNewResourceDialog, setShowNewResourceDialog] = useState(false);\r\n",
        "+  const [isSaving, setIsSaving] = useState(false);\r\n",
        "+  const [unsavedChanges, setUnsavedChanges] = useState(false);\r\n",
        "+  const [toast, setToast] = useState<ToastState>({ open: false, title: \"\" });\r\n",
        "+  const [showAllPrinciples, setShowAllPrinciples] = useState(false);\r\n",
        "+\r\n",
        "+  // Extract API endpoints data from project\r\n",
        "+  const apiEndpoints = currentProject.api_endpoints as APIEndpoints;\r\n",
        "+\r\n",
        "+  // Initialize edited API endpoints from project data\r\n",
        "+  useEffect(() => {\r\n",
        "+    if (currentProject.api_endpoints) {\r\n",
        "+      setEditedApiEndpoints(currentProject.api_endpoints as APIEndpoints);\r\n",
        "+    }\r\n",
        "+  }, [currentProject.api_endpoints]);\r\n",
        "+\r\n",
        "+  // Filter endpoints based on search term\r\n",
        "+  useEffect(() => {\r\n",
        "+    if (!apiEndpoints || !searchTerm.trim()) {\r\n",
        "+      setFilteredResources([]);\r\n",
        "+      return;\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    const term = searchTerm.toLowerCase();\r\n",
        "+    const filtered = apiEndpoints.resources\r\n",
        "+      .map((resource: Resource) => {\r\n",
        "+        const matchingEndpoints = resource.endpoints.filter(\r\n",
        "+          (endpoint) =>\r\n",
        "+            endpoint.name.toLowerCase().includes(term) ||\r\n",
        "+            endpoint.path.toLowerCase().includes(term) ||\r\n",
        "+            endpoint.description.toLowerCase().includes(term) ||\r\n",
        "+            endpoint.method.toLowerCase().includes(term)\r\n",
        "+        );\r\n",
        "+\r\n",
        "+        return matchingEndpoints.length > 0\r\n",
        "+          ? { ...resource, endpoints: matchingEndpoints }\r\n",
        "+          : null;\r\n",
        "+      })\r\n",
        "+      .filter(Boolean) as Resource[];\r\n",
        "+\r\n",
        "+    setFilteredResources(filtered);\r\n",
        "+  }, [searchTerm, apiEndpoints]);\r\n",
        "+\r\n",
        "+  // Show toast function\r\n",
        "+  const showToast = (\r\n",
        "+    title: string,\r\n",
        "+    description?: string,\r\n",
        "+    variant?: \"default\" | \"destructive\"\r\n",
        "+  ) => {\r\n",
        "+    setToast({\r\n",
        "+      open: true,\r\n",
        "+      title,\r\n",
        "+      description,\r\n",
        "+      variant,\r\n",
        "+    });\r\n",
        "+\r\n",
        "+    // Auto-close toast after 3 seconds\r\n",
        "+    setTimeout(() => {\r\n",
        "+      setToast((prev) => ({ ...prev, open: false }));\r\n",
        "+    }, 3000);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Get resources to display (either filtered or all)\r\n",
        "+  const resourcesToDisplay =\r\n",
        "+    searchTerm.trim() !== \"\"\r\n",
        "+      ? filteredResources\r\n",
        "+      : editedApiEndpoints?.resources || apiEndpoints?.resources || [];\r\n",
        "+\r\n",
        "+  // Update resource\r\n",
        "+  const handleUpdateResource = (index: number, updatedResource: Resource) => {\r\n",
        "+    if (!editedApiEndpoints) return;\r\n",
        "+\r\n",
        "+    const newResources = [...editedApiEndpoints.resources];\r\n",
        "+    newResources[index] = updatedResource;\r\n",
        "+\r\n",
        "+    const newApiEndpoints = {\r\n",
        "+      ...editedApiEndpoints,\r\n",
        "+      resources: newResources,\r\n",
        "+    };\r\n",
        "+\r\n",
        "+    setEditedApiEndpoints(newApiEndpoints);\r\n",
        "+    setUnsavedChanges(true);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Delete resource\r\n",
        "+  const handleDeleteResource = (index: number) => {\r\n",
        "+    if (!editedApiEndpoints) return;\r\n",
        "+\r\n",
        "+    const newResources = [...editedApiEndpoints.resources];\r\n",
        "+    newResources.splice(index, 1);\r\n",
        "+\r\n",
        "+    const newApiEndpoints = {\r\n",
        "+      ...editedApiEndpoints,\r\n",
        "+      resources: newResources,\r\n",
        "+    };\r\n",
        "+\r\n",
        "+    setEditedApiEndpoints(newApiEndpoints);\r\n",
        "+    setUnsavedChanges(true);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Add new resource\r\n",
        "+  const handleAddResource = (newResource: Resource) => {\r\n",
        "+    if (!editedApiEndpoints) return;\r\n",
        "+\r\n",
        "+    // Check if resource name already exists\r\n",
        "+    if (editedApiEndpoints.resources.some((r) => r.name === newResource.name)) {\r\n",
        "+      showToast(\r\n",
        "+        \"Resource name already exists\",\r\n",
        "+        \"Please choose a different name\",\r\n",
        "+        \"destructive\"\r\n",
        "+      );\r\n",
        "+      return;\r\n",
        "+    }\r\n",
        "+\r\n",
        "+    const newApiEndpoints = {\r\n",
        "+      ...editedApiEndpoints,\r\n",
        "+      resources: [...editedApiEndpoints.resources, newResource],\r\n",
        "+    };\r\n",
        "+\r\n",
        "+    setEditedApiEndpoints(newApiEndpoints);\r\n",
        "+    setUnsavedChanges(true);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Save changes to the database\r\n",
        "+  const saveChanges = async () => {\r\n",
        "+    if (!editedApiEndpoints) return;\r\n",
        "+\r\n",
        "+    setIsSaving(true);\r\n",
        "+\r\n",
        "+    try {\r\n",
        "+      // Create a copy of the project object\r\n",
        "+      const updatedProject = { ...currentProject };\r\n",
        "+\r\n",
        "+      // Update the api_endpoints field\r\n",
        "+      updatedProject.api_endpoints = editedApiEndpoints;\r\n",
        "+\r\n",
        "+      // Make the API call using apiClient\r\n",
        "+      const result = await apiClient<ApiEndpointsTabProps[\"project\"]>(\r\n",
        "+        `/projects/${currentProject.id}`,\r\n",
        "+        {\r\n",
        "+          method: \"PUT\",\r\n",
        "+          body: updatedProject,\r\n",
        "+          token: localStorage.getItem(\"token\") || undefined,\r\n",
        "+        }\r\n",
        "+      );\r\n",
        "+\r\n",
        "+      // Update the local project state with the result\r\n",
        "+      setCurrentProject(result);\r\n",
        "+\r\n",
        "+      // Exit editing mode\r\n",
        "+      setIsEditing(false);\r\n",
        "+      setUnsavedChanges(false);\r\n",
        "+\r\n",
        "+      showToast(\"Changes saved successfully\");\r\n",
        "+    } catch (error) {\r\n",
        "+      console.error(\"Error saving changes:\", error);\r\n",
        "+      showToast(\"Failed to save changes\", \"Please try again\", \"destructive\");\r\n",
        "+    } finally {\r\n",
        "+      setIsSaving(false);\r\n",
        "+    }\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // Cancel editing and revert changes\r\n",
        "+  const cancelEditing = () => {\r\n",
        "+    setEditedApiEndpoints(currentProject.api_endpoints as APIEndpoints);\r\n",
        "+    setIsEditing(false);\r\n",
        "+    setUnsavedChanges(false);\r\n",
        "+  };\r\n",
        "+\r\n",
        "+  // If API endpoints data is not available yet\r\n",
        "+  if (!apiEndpoints || Object.keys(apiEndpoints).length === 0) {\r\n",
        "+    return (\r\n",
        "+      <div className=\"p-6 text-center\">\r\n",
        "+        <div className=\"mb-4 flex justify-center\">\r\n",
        "+          <ServerCrash className=\"h-12 w-12 text-secondary-text\" />\r\n",
        "+        </div>\r\n",
        "+        <h3 className=\"text-xl font-semibold mb-2\">\r\n",
        "+          API Endpoints Not Available\r\n",
        "+        </h3>\r\n",
        "+        <p className=\"text-secondary-text max-w-md mx-auto\">\r\n",
        "+          This project doesn't have API endpoints defined yet. You can generate\r\n",
        "+          them from the Plan Generation page.\r\n",
        "+        </p>\r\n",
        "+      </div>\r\n",
        "+    );\r\n",
        "+  }\r\n",
        "+\r\n",
        "+  return (\r\n",
        "+    <ToastProvider>\r\n",
        "+      <div className=\"space-y-6\">\r\n",
        "+        {/* Header with Edit Controls */}\r\n",
        "+        <div className=\"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between\">\r\n",
        "+          <div className=\"flex items-center gap-2\">\r\n",
        "+            <ServerCrash className=\"h-6 w-6 text-primary-cta\" />\r\n",
        "+            <h2 className=\"text-xl font-semibold\">API Documentation</h2>\r\n",
        "+          </div>\r\n",
        "+\r\n",
        "+          <div className=\"flex flex-col md:flex-row gap-3 items-end md:items-center w-full md:w-auto\">\r\n",
        "+            {isEditing ? (\r\n",
        "+              <>\r\n",
        "+                <Button\r\n",
        "+                  variant=\"outline\"\r\n",
        "+                  size=\"sm\"\r\n",
        "+                  onClick={cancelEditing}\r\n",
        "+                  disabled={isSaving}\r\n",
        "+                >\r\n",
        "+                  Cancel\r\n",
        "+                </Button>\r\n",
        "+                <Button\r\n",
        "+                  variant={unsavedChanges ? \"default\" : \"outline\"}\r\n",
        "+                  size=\"sm\"\r\n",
        "+                  onClick={saveChanges}\r\n",
        "+                  disabled={isSaving || !unsavedChanges}\r\n",
        "+                >\r\n",
        "+                  {isSaving ? \"Saving...\" : \"Save Changes\"}\r\n",
        "+                </Button>\r\n",
        "+              </>\r\n",
        "+            ) : (\r\n",
        "+              <Button\r\n",
        "+                variant=\"outline\"\r\n",
        "+                size=\"sm\"\r\n",
        "+                onClick={() => setIsEditing(true)}\r\n",
        "+              >\r\n",
        "+                <Edit className=\"h-4 w-4 mr-1\" /> Edit API\r\n",
        "+              </Button>\r\n",
        "+            )}\r\n",
        "+          </div>\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {/* API Overview Card */}\r\n",
        "+        <Card className=\"border border-divider bg-secondary-background overflow-hidden\">\r\n",
        "+          <div className=\"p-4 sm:p-6\">\r\n",
        "+            <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4\">\r\n",
        "+              <div className=\"flex items-center gap-2\">\r\n",
        "+                <ServerCrash className=\"h-5 w-5 sm:h-6 sm:w-6 text-primary-cta\" />\r\n",
        "+                <h2 className=\"text-lg sm:text-xl font-semibold\">\r\n",
        "+                  API Documentation\r\n",
        "+                </h2>\r\n",
        "+              </div>\r\n",
        "+\r\n",
        "+              <div className=\"flex flex-wrap items-center gap-3\">\r\n",
        "+                {isEditing ? (\r\n",
        "+                  <Input\r\n",
        "+                    value={editedApiEndpoints?.base_url}\r\n",
        "+                    onChange={(e) => {\r\n",
        "+                      if (!editedApiEndpoints) return;\r\n",
        "+                      setEditedApiEndpoints({\r\n",
        "+                        ...editedApiEndpoints,\r\n",
        "+                        base_url: e.target.value,\r\n",
        "+                      });\r\n",
        "+                      setUnsavedChanges(true);\r\n",
        "+                    }}\r\n",
        "+                    className=\"h-7 w-full sm:w-64 text-sm bg-primary-background\"\r\n",
        "+                  />\r\n",
        "+                ) : (\r\n",
        "+                  <Badge className=\"bg-hover-active text-primary-text text-xs py-1\">\r\n",
        "+                    {apiEndpoints.base_url}\r\n",
        "+                  </Badge>\r\n",
        "+                )}\r\n",
        "+\r\n",
        "+                <Button\r\n",
        "+                  variant=\"outline\"\r\n",
        "+                  size=\"sm\"\r\n",
        "+                  className=\"h-7 px-2 text-xs\"\r\n",
        "+                  onClick={() =>\r\n",
        "+                    navigator.clipboard.writeText(apiEndpoints.base_url)\r\n",
        "+                  }\r\n",
        "+                >\r\n",
        "+                  <Copy className=\"h-3 w-3 mr-1\" />\r\n",
        "+                  Copy\r\n",
        "+                </Button>\r\n",
        "+              </div>\r\n",
        "+            </div>\r\n",
        "+\r\n",
        "+            <div className=\"flex flex-col gap-5\">\r\n",
        "+              {/* Auth Info - simplified for mobile */}\r\n",
        "+              <div className=\"bg-primary-background border border-divider p-3 rounded-md\">\r\n",
        "+                <div className=\"flex items-center gap-2 mb-2\">\r\n",
        "+                  <Shield className=\"h-3.5 w-3.5 text-amber-400\" />\r\n",
        "+                  <span className=\"font-medium text-sm\">\r\n",
        "+                    Authentication:{\" \"}\r\n",
        "+                    {isEditing ? (\r\n",
        "+                      <Input\r\n",
        "+                        value={editedApiEndpoints?.authentication.type}\r\n",
        "+                        onChange={(e) => {\r\n",
        "+                          if (!editedApiEndpoints) return;\r\n",
        "+                          setEditedApiEndpoints({\r\n",
        "+                            ...editedApiEndpoints,\r\n",
        "+                            authentication: {\r\n",
        "+                              ...editedApiEndpoints.authentication,\r\n",
        "+                              type: e.target.value,\r\n",
        "+                            },\r\n",
        "+                          });\r\n",
        "+                          setUnsavedChanges(true);\r\n",
        "+                        }}\r\n",
        "+                        className=\"h-7 w-full sm:w-48 text-xs bg-hover-active/30 mt-2 mb-2 sm:mt-0 sm:inline-block sm:ml-2\"\r\n",
        "+                      />\r\n",
        "+                    ) : (\r\n",
        "+                      <span className=\"text-primary-text\">\r\n",
        "+                        {apiEndpoints.authentication.type}\r\n",
        "+                      </span>\r\n",
        "+                    )}\r\n",
        "+                  </span>\r\n",
        "+                </div>\r\n",
        "+                {isEditing ? (\r\n",
        "+                  <Textarea\r\n",
        "+                    value={editedApiEndpoints?.authentication.description}\r\n",
        "+                    onChange={(e) => {\r\n",
        "+                      if (!editedApiEndpoints) return;\r\n",
        "+                      setEditedApiEndpoints({\r\n",
        "+                        ...editedApiEndpoints,\r\n",
        "+                        authentication: {\r\n",
        "+                          ...editedApiEndpoints.authentication,\r\n",
        "+                          description: e.target.value,\r\n",
        "+                        },\r\n",
        "+                      });\r\n",
        "+                      setUnsavedChanges(true);\r\n",
        "+                    }}\r\n",
        "+                    className=\"text-xs bg-hover-active/30 resize-none min-h-[80px] p-2\"\r\n",
        "+                    rows={4}\r\n",
        "+                  />\r\n",
        "+                ) : (\r\n",
        "+                  <p className=\"text-secondary-text text-xs leading-relaxed\">\r\n",
        "+                    {apiEndpoints.authentication.description}\r\n",
        "+                  </p>\r\n",
        "+                )}\r\n",
        "+              </div>\r\n",
        "+\r\n",
        "+              {/* API Principles - simplified for mobile */}\r\n",
        "+              <div className=\"bg-primary-background border border-divider p-3 rounded-md\">\r\n",
        "+                <div className=\"flex items-center justify-between mb-2\">\r\n",
        "+                  <div className=\"flex items-center gap-1.5\">\r\n",
        "+                    <BookOpen className=\"h-3.5 w-3.5 text-primary-cta\" />\r\n",
        "+                    <span className=\"font-medium text-sm\">\r\n",
        "+                      API Design Principles\r\n",
        "+                    </span>\r\n",
        "+                  </div>\r\n",
        "+                  {apiEndpoints.api_design_principles.length > 3 && (\r\n",
        "+                    <Button\r\n",
        "+                      variant=\"ghost\"\r\n",
        "+                      size=\"sm\"\r\n",
        "+                      className=\"h-5 text-xs p-0 text-primary-cta\"\r\n",
        "+                      onClick={() => setShowAllPrinciples(!showAllPrinciples)}\r\n",
        "+                    >\r\n",
        "+                      {showAllPrinciples ? \"Less\" : \"More\"}\r\n",
        "+                    </Button>\r\n",
        "+                  )}\r\n",
        "+                </div>\r\n",
        "+                <div\r\n",
        "+                  className={`overflow-y-auto scrollbar-thin ${\r\n",
        "+                    showAllPrinciples ? \"max-h-48 sm:max-h-96\" : \"max-h-24\"\r\n",
        "+                  }`}\r\n",
        "+                >\r\n",
        "+                  {isEditing ? (\r\n",
        "+                    <div className=\"space-y-2\">\r\n",
        "+                      {editedApiEndpoints?.api_design_principles.map(\r\n",
        "+                        (principle, idx) => (\r\n",
        "+                          <div key={idx} className=\"flex items-center gap-1.5\">\r\n",
        "+                            <Input\r\n",
        "+                              value={principle}\r\n",
        "+                              onChange={(e) => {\r\n",
        "+                                if (!editedApiEndpoints) return;\r\n",
        "+                                const newPrinciples = [\r\n",
        "+                                  ...editedApiEndpoints.api_design_principles,\r\n",
        "+                                ];\r\n",
        "+                                newPrinciples[idx] = e.target.value;\r\n",
        "+                                setEditedApiEndpoints({\r\n",
        "+                                  ...editedApiEndpoints,\r\n",
        "+                                  api_design_principles: newPrinciples,\r\n",
        "+                                });\r\n",
        "+                                setUnsavedChanges(true);\r\n",
        "+                              }}\r\n",
        "+                              className=\"h-7 bg-hover-active/30 text-xs flex-1\"\r\n",
        "+                            />\r\n",
        "+                            <Button\r\n",
        "+                              variant=\"ghost\"\r\n",
        "+                              size=\"sm\"\r\n",
        "+                              className=\"h-7 w-7 p-0 hover:text-red-400\"\r\n",
        "+                              onClick={() => {\r\n",
        "+                                if (!editedApiEndpoints) return;\r\n",
        "+                                const newPrinciples = [\r\n",
        "+                                  ...editedApiEndpoints.api_design_principles,\r\n",
        "+                                ];\r\n",
        "+                                newPrinciples.splice(idx, 1);\r\n",
        "+                                setEditedApiEndpoints({\r\n",
        "+                                  ...editedApiEndpoints,\r\n",
        "+                                  api_design_principles: newPrinciples,\r\n",
        "+                                });\r\n",
        "+                                setUnsavedChanges(true);\r\n",
        "+                              }}\r\n",
        "+                            >\r\n",
        "+                              <Trash2 className=\"h-3 w-3\" />\r\n",
        "+                            </Button>\r\n",
        "+                          </div>\r\n",
        "+                        )\r\n",
        "+                      )}\r\n",
        "+                      <Button\r\n",
        "+                        variant=\"outline\"\r\n",
        "+                        size=\"sm\"\r\n",
        "+                        className=\"w-full text-primary-cta text-xs h-7\"\r\n",
        "+                        onClick={() => {\r\n",
        "+                          if (!editedApiEndpoints) return;\r\n",
        "+                          setEditedApiEndpoints({\r\n",
        "+                            ...editedApiEndpoints,\r\n",
        "+                            api_design_principles: [\r\n",
        "+                              ...editedApiEndpoints.api_design_principles,\r\n",
        "+                              \"\",\r\n",
        "+                            ],\r\n",
        "+                          });\r\n",
        "+                          setUnsavedChanges(true);\r\n",
        "+                        }}\r\n",
        "+                      >\r\n",
        "+                        <Plus className=\"h-3 w-3 mr-1\" /> Add Principle\r\n",
        "+                      </Button>\r\n",
        "+                    </div>\r\n",
        "+                  ) : (\r\n",
        "+                    <ul className=\"text-xs leading-relaxed space-y-1 pl-4 marker:text-primary-cta list-disc scrollbar-thin\">\r\n",
        "+                      {(showAllPrinciples\r\n",
        "+                        ? apiEndpoints.api_design_principles\r\n",
        "+                        : apiEndpoints.api_design_principles.slice(0, 3)\r\n",
        "+                      ).map((principle: any, idx: any) => (\r\n",
        "+                        <li key={idx} className=\"text-secondary-text\">\r\n",
        "+                          {principle}\r\n",
        "+                        </li>\r\n",
        "+                      ))}\r\n",
        "+                      {!showAllPrinciples &&\r\n",
        "+                        apiEndpoints.api_design_principles.length > 3 && (\r\n",
        "+                          <li className=\"text-primary-cta text-xs\">\r\n",
        "+                            +{apiEndpoints.api_design_principles.length - 3}{\" \"}\r\n",
        "+                            more\r\n",
        "+                          </li>\r\n",
        "+                        )}\r\n",
        "+                    </ul>\r\n",
        "+                  )}\r\n",
        "+                </div>\r\n",
        "+              </div>\r\n",
        "+            </div>\r\n",
        "+          </div>\r\n",
        "+        </Card>\r\n",
        "+\r\n",
        "+        {/* Edit mode controls */}\r\n",
        "+        {isEditing && (\r\n",
        "+          <div className=\"flex items-center gap-3 justify-end bg-secondary-background p-3 rounded-md border border-divider\">\r\n",
        "+            <Button\r\n",
        "+              variant=\"outline\"\r\n",
        "+              size=\"sm\"\r\n",
        "+              onClick={() => setShowNewResourceDialog(true)}\r\n",
        "+            >\r\n",
        "+              <PlusCircle className=\"h-4 w-4 mr-1\" /> Add Resource\r\n",
        "+            </Button>\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {/* Endpoint Search */}\r\n",
        "+        <div className=\"relative\">\r\n",
        "+          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-secondary-text h-4 w-4\" />\r\n",
        "+          <Input\r\n",
        "+            placeholder=\"Search endpoints by name, path, or method...\"\r\n",
        "+            value={searchTerm}\r\n",
        "+            onChange={(e) => setSearchTerm(e.target.value)}\r\n",
        "+            className=\"pl-9 bg-secondary-background border-divider text-sm\"\r\n",
        "+          />\r\n",
        "+          {searchTerm && (\r\n",
        "+            <button\r\n",
        "+              className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-secondary-text\"\r\n",
        "+              onClick={() => setSearchTerm(\"\")}\r\n",
        "+            >\r\n",
        "+              <Badge\r\n",
        "+                variant=\"outline\"\r\n",
        "+                className=\"h-6 bg-hover-active border-primary-cta/30 text-primary-text font-normal\"\r\n",
        "+              >\r\n",
        "+                Clear\r\n",
        "+              </Badge>\r\n",
        "+            </button>\r\n",
        "+          )}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {/* Endpoint not found message */}\r\n",
        "+        {resourcesToDisplay.length === 0 && searchTerm.trim() !== \"\" && (\r\n",
        "+          <div className=\"p-4 text-center border border-divider rounded-md bg-secondary-background\">\r\n",
        "+            <Info className=\"h-8 w-8 text-secondary-text mx-auto mb-2\" />\r\n",
        "+            <p className=\"text-secondary-text\">No matching endpoints found</p>\r\n",
        "+          </div>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        {/* Resources List */}\r\n",
        "+        <div className=\"space-y-4\">\r\n",
        "+          {resourcesToDisplay.map((resource, idx) => (\r\n",
        "+            <ResourceSection\r\n",
        "+              key={idx}\r\n",
        "+              resource={resource}\r\n",
        "+              baseUrl={editedApiEndpoints?.base_url || apiEndpoints.base_url}\r\n",
        "+              isEditing={isEditing}\r\n",
        "+              onUpdateResource={\r\n",
        "+                isEditing\r\n",
        "+                  ? (updatedResource) =>\r\n",
        "+                      handleUpdateResource(idx, updatedResource)\r\n",
        "+                  : undefined\r\n",
        "+              }\r\n",
        "+              onDeleteResource={\r\n",
        "+                isEditing ? () => handleDeleteResource(idx) : undefined\r\n",
        "+              }\r\n",
        "+            />\r\n",
        "+          ))}\r\n",
        "+        </div>\r\n",
        "+\r\n",
        "+        {/* New Resource Dialog */}\r\n",
        "+        <NewResourceDialog\r\n",
        "+          open={showNewResourceDialog}\r\n",
        "+          onOpenChange={setShowNewResourceDialog}\r\n",
        "+          onAddResource={handleAddResource}\r\n",
        "+        />\r\n",
        "+\r\n",
        "+        {/* Toast */}\r\n",
        "+        {toast.open && (\r\n",
        "+          <Toast\r\n",
        "+            variant={toast.variant}\r\n",
        "+            className=\"fixed bottom-4 right-4 z-50\"\r\n",
        "+          >\r\n",
        "+            <ToastTitle>{toast.title}</ToastTitle>\r\n",
        "+            {toast.description && (\r\n",
        "+              <ToastDescription>{toast.description}</ToastDescription>\r\n",
        "+            )}\r\n",
        "+          </Toast>\r\n",
        "+        )}\r\n",
        "+\r\n",
        "+        <ToastViewport />\r\n",
        "+      </div>\r\n",
        "+    </ToastProvider>\r\n",
        "+  );\r\n",
        "+}\r\n"
      ]
    },
    {
      "path": "frontend/src/components/projects/tabs/api-endpoints-tab/types.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/architecture-tab/components/section-communication.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/architecture-tab/components/section-components.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/architecture-tab/components/section-infrastructure.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/architecture-tab/components/section-overview.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/architecture-tab/components/section-patterns.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/architecture-tab/helpers.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/architecture-tab/index.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/architecture-tab/types.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/data-models-tab/components/dialogs/new-entity-dialog.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/data-models-tab/components/dialogs/new-relationship-dialog.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/data-models-tab/components/entity-card.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/data-models-tab/components/expandable-text.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/data-models-tab/components/property-item.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/data-models-tab/components/relationship-badge.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/data-models-tab/constants.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/data-models-tab/index.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/data-models-tab/types.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/high-level-plan-tab/components/section-features.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/high-level-plan-tab/components/section-overview.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/high-level-plan-tab/components/section-risks.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/high-level-plan-tab/components/section-scope.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/high-level-plan-tab/components/section-success.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/high-level-plan-tab/components/section-users.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/high-level-plan-tab/components/section-vision.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/high-level-plan-tab/helpers.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/high-level-plan-tab/index.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/high-level-plan-tab/types.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/implementation_plan_tab/components/completion-bar.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/implementation_plan_tab/components/dialogs/edit-milestone-dialog.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/implementation_plan_tab/components/dialogs/edit-subtask-dialog.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/implementation_plan_tab/components/dialogs/edit-task-dialog.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/implementation_plan_tab/components/milestone-item.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/implementation_plan_tab/components/subtask-item.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/implementation_plan_tab/components/task-item.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/implementation_plan_tab/constants.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/implementation_plan_tab/index.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/implementation_plan_tab/types.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/ui_components-tab/components/component-card.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/ui_components-tab/components/component-item.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/ui_components-tab/components/dialogs/new-component-dialog.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/ui_components-tab/components/dialogs/new-screen-dialog.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/ui_components-tab/components/expandable-text.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/ui_components-tab/components/screen-header.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/ui_components-tab/constants.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/ui_components-tab/index.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/projects/tabs/ui_components-tab/types.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/sections/feature-carousel.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/sections/hero-section.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/sections/how-it-works.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/sections/index.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/sections/pain-points-section.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/accordion.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/alert-dialog.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/background-gradient.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/badge.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/button.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/checkbox.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/collapsible.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/comparison-slider.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/progress.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/radio-group.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/screenshot-display.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/scroll-area.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/select.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/skeleton.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/switch.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/textarea.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/timeline-progress.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/toast.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/components/ui/toaster.tsx",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/hooks/use-toast.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/lib/api.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/lib/auth.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/lib/projects.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/lib/utils.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/src/types/index.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "frontend/tailwind.config.ts",
      "status": "modified",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    }
  ]
}