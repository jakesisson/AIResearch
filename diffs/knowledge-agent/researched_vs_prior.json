{
  "project": "Research Data/knowledge-agent",
  "repo": "fvanevski/knowledge_agent",
  "prior_commit": "e4c81ec2352265ce89233400995dfca1c9101f94",
  "researched_commit": "ef77bb2ccb38eee7f8a5e2374edb418adac4473b",
  "compare_url": "https://github.com/fvanevski/knowledge_agent/compare/e4c81ec2352265ce89233400995dfca1c9101f94...ef77bb2ccb38eee7f8a5e2374edb418adac4473b",
  "ahead_by": 13,
  "behind_by": 0,
  "changed_files": [
    {
      "path": "db_utils.py",
      "status": "added",
      "additions": 122,
      "deletions": 0,
      "patch": "@@ -0,0 +1,122 @@\n+# db_utils.py\n+import os\n+import psycopg2\n+import json\n+from psycopg2.extras import Json\n+from contextlib import contextmanager\n+\n+# --- Database Connection ---\n+\n+@contextmanager\n+def get_db_connection():\n+    \"\"\"Provides a database connection using a context manager.\"\"\"\n+    conn = psycopg2.connect(os.environ[\"DATABASE_URL\"])\n+    try:\n+        yield conn\n+    finally:\n+        conn.close()\n+\n+# --- Table Creation ---\n+\n+def create_tables():\n+    \"\"\"Creates the necessary tables in the database if they don't exist.\"\"\"\n+    commands = (\n+        \"\"\"\n+        CREATE TABLE IF NOT EXISTS analyst_reports (\n+            id SERIAL PRIMARY KEY,\n+            report_id VARCHAR(255) UNIQUE NOT NULL,\n+            report JSONB,\n+            created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n+        );\n+        \"\"\",\n+        \"\"\"\n+        CREATE TABLE IF NOT EXISTS researcher_reports (\n+            id SERIAL PRIMARY KEY,\n+            report_id VARCHAR(255) UNIQUE NOT NULL,\n+            report JSONB,\n+            created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n+        );\n+        \"\"\",\n+        \"\"\"\n+        CREATE TABLE IF NOT EXISTS curator_reports (\n+            id SERIAL PRIMARY KEY,\n+            report_id VARCHAR(255) UNIQUE NOT NULL,\n+            report JSONB,\n+            created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n+        );\n+        \"\"\"\n+    )\n+    with get_db_connection() as conn:\n+        with conn.cursor() as cur:\n+            for command in commands:\n+                cur.execute(command)\n+        conn.commit()\n+\n+# --- Database Operations ---\n+\n+def db_save_report(table_name: str, report_id: str, report_data: dict):\n+    \"\"\"Saves a report to the specified table.\"\"\"\n+    sql = f\"INSERT INTO {table_name} (report_id, report) VALUES (%s, %s);\"\n+    with get_db_connection() as conn:\n+        with conn.cursor() as cur:\n+            cur.execute(sql, (report_id, Json(report_data)))\n+        conn.commit()\n+\n+def db_load_latest_report(table_name: str) -> str:\n+    \"\"\"Loads the most recent report from the specified table.\"\"\"\n+    sql = f\"SELECT report FROM {table_name} ORDER BY created_at DESC LIMIT 1;\"\n+    with get_db_connection() as conn:\n+        with conn.cursor() as cur:\n+            cur.execute(sql)\n+            result = cur.fetchone()\n+            if result:\n+                return json.dumps(result[0])\n+            else:\n+                raise FileNotFoundError(f\"No reports found in table {table_name}\")\n+\n+def db_update_researcher_report(report_id: str, gap_id: str, searches: list):\n+    \"\"\"Updates the searches for a specific gap in a researcher report.\"\"\"\n+    with get_db_connection() as conn:\n+        with conn.cursor() as cur:\n+            # First, find the index of the gap to update\n+            cur.execute(\"SELECT report FROM researcher_reports WHERE report_id = %s;\", (report_id,))\n+            report = cur.fetchone()[0]\n+            \n+            gap_index = -1\n+            for i, gap in enumerate(report.get(\"gaps\", [])):\n+                if gap.get(\"gap_id\") == gap_id:\n+                    gap_index = i\n+                    break\n+            \n+            if gap_index == -1:\n+                raise ValueError(f\"Gap with ID {gap_id} not found in report {report_id}\")\n+\n+            # Update the searches for that gap using the found index\n+            sql = \"\"\"\n+                UPDATE researcher_reports\n+                SET report = jsonb_set(\n+                    report,\n+                    ARRAY[%s, 'searches'],\n+                    %s::jsonb\n+                )\n+                WHERE report_id = %s;\n+            \"\"\"\n+            path = f\"{{gaps,{gap_index}}}\"\n+            cur.execute(sql, (path, Json(searches), report_id))\n+        conn.commit()\n+\n+def db_update_curator_report(report_id: str, job: str, results: list):\n+    \"\"\"Appends results to a job list in a curator report.\"\"\"\n+    with get_db_connection() as conn:\n+        with conn.cursor() as cur:\n+            sql = \"\"\"\n+                UPDATE curator_reports\n+                SET report = jsonb_set(\n+                    report,\n+                    ARRAY[%s],\n+                    (report->%s) || %s::jsonb\n+                )\n+                WHERE report_id = %s;\n+            \"\"\"\n+            cur.execute(sql, (job, job, Json(results), report_id))\n+        conn.commit()\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -0,0 +1,122 @@\n",
        "+# db_utils.py\n",
        "+import os\n",
        "+import psycopg2\n",
        "+import json\n",
        "+from psycopg2.extras import Json\n",
        "+from contextlib import contextmanager\n",
        "+\n",
        "+# --- Database Connection ---\n",
        "+\n",
        "+@contextmanager\n",
        "+def get_db_connection():\n",
        "+    \"\"\"Provides a database connection using a context manager.\"\"\"\n",
        "+    conn = psycopg2.connect(os.environ[\"DATABASE_URL\"])\n",
        "+    try:\n",
        "+        yield conn\n",
        "+    finally:\n",
        "+        conn.close()\n",
        "+\n",
        "+# --- Table Creation ---\n",
        "+\n",
        "+def create_tables():\n",
        "+    \"\"\"Creates the necessary tables in the database if they don't exist.\"\"\"\n",
        "+    commands = (\n",
        "+        \"\"\"\n",
        "+        CREATE TABLE IF NOT EXISTS analyst_reports (\n",
        "+            id SERIAL PRIMARY KEY,\n",
        "+            report_id VARCHAR(255) UNIQUE NOT NULL,\n",
        "+            report JSONB,\n",
        "+            created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n",
        "+        );\n",
        "+        \"\"\",\n",
        "+        \"\"\"\n",
        "+        CREATE TABLE IF NOT EXISTS researcher_reports (\n",
        "+            id SERIAL PRIMARY KEY,\n",
        "+            report_id VARCHAR(255) UNIQUE NOT NULL,\n",
        "+            report JSONB,\n",
        "+            created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n",
        "+        );\n",
        "+        \"\"\",\n",
        "+        \"\"\"\n",
        "+        CREATE TABLE IF NOT EXISTS curator_reports (\n",
        "+            id SERIAL PRIMARY KEY,\n",
        "+            report_id VARCHAR(255) UNIQUE NOT NULL,\n",
        "+            report JSONB,\n",
        "+            created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n",
        "+        );\n",
        "+        \"\"\"\n",
        "+    )\n",
        "+    with get_db_connection() as conn:\n",
        "+        with conn.cursor() as cur:\n",
        "+            for command in commands:\n",
        "+                cur.execute(command)\n",
        "+        conn.commit()\n",
        "+\n",
        "+# --- Database Operations ---\n",
        "+\n",
        "+def db_save_report(table_name: str, report_id: str, report_data: dict):\n",
        "+    \"\"\"Saves a report to the specified table.\"\"\"\n",
        "+    sql = f\"INSERT INTO {table_name} (report_id, report) VALUES (%s, %s);\"\n",
        "+    with get_db_connection() as conn:\n",
        "+        with conn.cursor() as cur:\n",
        "+            cur.execute(sql, (report_id, Json(report_data)))\n",
        "+        conn.commit()\n",
        "+\n",
        "+def db_load_latest_report(table_name: str) -> str:\n",
        "+    \"\"\"Loads the most recent report from the specified table.\"\"\"\n",
        "+    sql = f\"SELECT report FROM {table_name} ORDER BY created_at DESC LIMIT 1;\"\n",
        "+    with get_db_connection() as conn:\n",
        "+        with conn.cursor() as cur:\n",
        "+            cur.execute(sql)\n",
        "+            result = cur.fetchone()\n",
        "+            if result:\n",
        "+                return json.dumps(result[0])\n",
        "+            else:\n",
        "+                raise FileNotFoundError(f\"No reports found in table {table_name}\")\n",
        "+\n",
        "+def db_update_researcher_report(report_id: str, gap_id: str, searches: list):\n",
        "+    \"\"\"Updates the searches for a specific gap in a researcher report.\"\"\"\n",
        "+    with get_db_connection() as conn:\n",
        "+        with conn.cursor() as cur:\n",
        "+            # First, find the index of the gap to update\n",
        "+            cur.execute(\"SELECT report FROM researcher_reports WHERE report_id = %s;\", (report_id,))\n",
        "+            report = cur.fetchone()[0]\n",
        "+            \n",
        "+            gap_index = -1\n",
        "+            for i, gap in enumerate(report.get(\"gaps\", [])):\n",
        "+                if gap.get(\"gap_id\") == gap_id:\n",
        "+                    gap_index = i\n",
        "+                    break\n",
        "+            \n",
        "+            if gap_index == -1:\n",
        "+                raise ValueError(f\"Gap with ID {gap_id} not found in report {report_id}\")\n",
        "+\n",
        "+            # Update the searches for that gap using the found index\n",
        "+            sql = \"\"\"\n",
        "+                UPDATE researcher_reports\n",
        "+                SET report = jsonb_set(\n",
        "+                    report,\n",
        "+                    ARRAY[%s, 'searches'],\n",
        "+                    %s::jsonb\n",
        "+                )\n",
        "+                WHERE report_id = %s;\n",
        "+            \"\"\"\n",
        "+            path = f\"{{gaps,{gap_index}}}\"\n",
        "+            cur.execute(sql, (path, Json(searches), report_id))\n",
        "+        conn.commit()\n",
        "+\n",
        "+def db_update_curator_report(report_id: str, job: str, results: list):\n",
        "+    \"\"\"Appends results to a job list in a curator report.\"\"\"\n",
        "+    with get_db_connection() as conn:\n",
        "+        with conn.cursor() as cur:\n",
        "+            sql = \"\"\"\n",
        "+                UPDATE curator_reports\n",
        "+                SET report = jsonb_set(\n",
        "+                    report,\n",
        "+                    ARRAY[%s],\n",
        "+                    (report->%s) || %s::jsonb\n",
        "+                )\n",
        "+                WHERE report_id = %s;\n",
        "+            \"\"\"\n",
        "+            cur.execute(sql, (job, job, Json(results), report_id))\n",
        "+        conn.commit()\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "knowledge_agent.py",
      "status": "modified",
      "additions": 61,
      "deletions": 26,
      "patch": "@@ -1,15 +1,15 @@\n # knowledge_agent.py\n \n-import os\n import json\n-import logging\n from langchain_mcp_adapters.client import MultiServerMCPClient\n-from langchain_openai.chat_models import ChatOpenAI\n from langgraph.graph import StateGraph, END\n-from sub_agents import (\n-    run_analyst, run_researcher, run_curator,\n-    run_auditor, run_fixer, run_advisor\n-)\n+from sub_agents.analyst import analyst_agent_node, save_analyst_report_node\n+from sub_agents.researcher import researcher_agent_node\n+from sub_agents.curator import curator_agent_node\n+from sub_agents.auditor import auditor_agent_node, save_auditor_report_node\n+from sub_agents.fixer import fixer_agent_node, save_fixer_report_node\n+from sub_agents.advisor import advisor_agent_node, save_advisor_report_node\n+\n from state import AgentState\n \n async def get_mcp_tools():\n@@ -22,46 +22,81 @@ async def get_mcp_tools():\n     print(f\"Successfully loaded {len(tools)} tools from MCP server.\")\n     return tools\n \n-def create_knowledge_agent_graph(task: str):\n+def create_knowledge_agent_graph(task: str, all_tools: list):\n     \"\"\"Creates the Knowledge Agent as a LangGraph StateGraph.\"\"\"\n     \n     workflow = StateGraph(AgentState)\n-\n-    # Add nodes for each sub-agent\n-    workflow.add_node(\"analyst\", run_analyst)\n-    workflow.add_node(\"researcher\", run_researcher)\n-    workflow.add_node(\"curator\", run_curator)\n-    workflow.add_node(\"auditor\", run_auditor)\n-    workflow.add_node(\"fixer\", run_fixer)\n-    workflow.add_node(\"advisor\", run_advisor)\n-\n+    \n     # Define the workflow based on the task\n+    \n     if task == \"maintenance\":\n-        workflow.add_edge(\"analyst\", \"researcher\")\n+        # Full workflow with loops for each agent\n+        workflow.add_node(\"analyst\", analyst_agent_node)\n+        workflow.add_node(\"save_analyst_report\", save_analyst_report_node)\n+        workflow.add_node(\"researcher\", researcher_agent_node)\n+        workflow.add_node(\"curator\", curator_agent_node)\n+        workflow.add_node(\"auditor\", auditor_agent_node)\n+        workflow.add_node(\"save_auditor_report\", save_auditor_report_node)\n+        workflow.add_node(\"fixer\", fixer_agent_node)\n+        workflow.add_node(\"save_fixer_report\", save_fixer_report_node)\n+        workflow.add_node(\"advisor\", advisor_agent_node)\n+        workflow.add_node(\"save_advisor_report\", save_advisor_report_node)\n+\n+        workflow.set_entry_point(\"analyst\")\n+        workflow.add_edge(\"analyst\", \"save_analyst_report\")\n+        workflow.add_edge(\"save_analyst_report\", \"researcher\")\n         workflow.add_edge(\"researcher\", \"curator\")\n         workflow.add_edge(\"curator\", \"auditor\")\n-        workflow.add_edge(\"auditor\", \"fixer\")\n-        workflow.add_edge(\"fixer\", \"advisor\")\n-        workflow.add_edge(\"advisor\", END)\n-        workflow.set_entry_point(\"analyst\")\n+        workflow.add_edge(\"auditor\", \"save_auditor_report\")\n+        workflow.add_edge(\"save_auditor_report\", \"fixer\")\n+        workflow.add_edge(\"fixer\", \"save_fixer_report\")\n+        workflow.add_edge(\"save_fixer_report\", \"advisor\")\n+        workflow.add_edge(\"advisor\", \"save_advisor_report\")\n+        workflow.add_edge(\"save_advisor_report\", END)\n+\n     elif task == \"analyze\":\n+        workflow.add_node(\"analyst\", analyst_agent_node)\n+        workflow.add_node(\"save_analyst_report\", save_analyst_report_node)\n+\n         workflow.set_entry_point(\"analyst\")\n-        workflow.add_edge(\"analyst\", END)\n+        workflow.add_edge(\"analyst\", \"save_analyst_report\")\n+        workflow.add_edge(\"save_analyst_report\", END)\n+    \n     elif task == \"research\":\n+        workflow.add_node(\"researcher\", researcher_agent_node)\n+        \n         workflow.set_entry_point(\"researcher\")\n         workflow.add_edge(\"researcher\", END)\n+    \n     elif task == \"curate\":\n+        workflow.add_node(\"curator\", curator_agent_node)\n+        \n         workflow.set_entry_point(\"curator\")\n         workflow.add_edge(\"curator\", END)\n+\n     elif task == \"audit\":\n+        workflow.add_node(\"auditor\", auditor_agent_node)\n+        workflow.add_node(\"save_auditor_report\", save_auditor_report_node)        \n+        \n         workflow.set_entry_point(\"auditor\")\n-        workflow.add_edge(\"auditor\", END)\n+        workflow.add_edge(\"auditor\", \"save_auditor_report\")\n+        workflow.add_edge(\"save_auditor_report\", END)\n+    \n     elif task == \"fix\":\n+        workflow.add_node(\"fixer\", fixer_agent_node)\n+        workflow.add_node(\"save_fixer_report\", save_fixer_report_node)\n+                \n         workflow.set_entry_point(\"fixer\")\n-        workflow.add_edge(\"fixer\", END)\n+        workflow.add_edge(\"fixer\", \"save_fixer_report\")\n+        workflow.add_edge(\"save_fixer_report\", END)\n+    \n     elif task == \"advise\":\n+        workflow.add_node(\"advisor\", advisor_agent_node)\n+        workflow.add_node(\"save_advisor_report\", save_advisor_report_node)\n+\n         workflow.set_entry_point(\"advisor\")\n-        workflow.add_edge(\"advisor\", END)\n+        workflow.add_edge(\"advisor\", \"save_advisor_report\")\n+        workflow.add_edge(\"save_advisor_report\", END)\n \n     # Compile the graph\n     app = workflow.compile()",
      "patch_lines": [
        "@@ -1,15 +1,15 @@\n",
        " # knowledge_agent.py\n",
        " \n",
        "-import os\n",
        " import json\n",
        "-import logging\n",
        " from langchain_mcp_adapters.client import MultiServerMCPClient\n",
        "-from langchain_openai.chat_models import ChatOpenAI\n",
        " from langgraph.graph import StateGraph, END\n",
        "-from sub_agents import (\n",
        "-    run_analyst, run_researcher, run_curator,\n",
        "-    run_auditor, run_fixer, run_advisor\n",
        "-)\n",
        "+from sub_agents.analyst import analyst_agent_node, save_analyst_report_node\n",
        "+from sub_agents.researcher import researcher_agent_node\n",
        "+from sub_agents.curator import curator_agent_node\n",
        "+from sub_agents.auditor import auditor_agent_node, save_auditor_report_node\n",
        "+from sub_agents.fixer import fixer_agent_node, save_fixer_report_node\n",
        "+from sub_agents.advisor import advisor_agent_node, save_advisor_report_node\n",
        "+\n",
        " from state import AgentState\n",
        " \n",
        " async def get_mcp_tools():\n",
        "@@ -22,46 +22,81 @@ async def get_mcp_tools():\n",
        "     print(f\"Successfully loaded {len(tools)} tools from MCP server.\")\n",
        "     return tools\n",
        " \n",
        "-def create_knowledge_agent_graph(task: str):\n",
        "+def create_knowledge_agent_graph(task: str, all_tools: list):\n",
        "     \"\"\"Creates the Knowledge Agent as a LangGraph StateGraph.\"\"\"\n",
        "     \n",
        "     workflow = StateGraph(AgentState)\n",
        "-\n",
        "-    # Add nodes for each sub-agent\n",
        "-    workflow.add_node(\"analyst\", run_analyst)\n",
        "-    workflow.add_node(\"researcher\", run_researcher)\n",
        "-    workflow.add_node(\"curator\", run_curator)\n",
        "-    workflow.add_node(\"auditor\", run_auditor)\n",
        "-    workflow.add_node(\"fixer\", run_fixer)\n",
        "-    workflow.add_node(\"advisor\", run_advisor)\n",
        "-\n",
        "+    \n",
        "     # Define the workflow based on the task\n",
        "+    \n",
        "     if task == \"maintenance\":\n",
        "-        workflow.add_edge(\"analyst\", \"researcher\")\n",
        "+        # Full workflow with loops for each agent\n",
        "+        workflow.add_node(\"analyst\", analyst_agent_node)\n",
        "+        workflow.add_node(\"save_analyst_report\", save_analyst_report_node)\n",
        "+        workflow.add_node(\"researcher\", researcher_agent_node)\n",
        "+        workflow.add_node(\"curator\", curator_agent_node)\n",
        "+        workflow.add_node(\"auditor\", auditor_agent_node)\n",
        "+        workflow.add_node(\"save_auditor_report\", save_auditor_report_node)\n",
        "+        workflow.add_node(\"fixer\", fixer_agent_node)\n",
        "+        workflow.add_node(\"save_fixer_report\", save_fixer_report_node)\n",
        "+        workflow.add_node(\"advisor\", advisor_agent_node)\n",
        "+        workflow.add_node(\"save_advisor_report\", save_advisor_report_node)\n",
        "+\n",
        "+        workflow.set_entry_point(\"analyst\")\n",
        "+        workflow.add_edge(\"analyst\", \"save_analyst_report\")\n",
        "+        workflow.add_edge(\"save_analyst_report\", \"researcher\")\n",
        "         workflow.add_edge(\"researcher\", \"curator\")\n",
        "         workflow.add_edge(\"curator\", \"auditor\")\n",
        "-        workflow.add_edge(\"auditor\", \"fixer\")\n",
        "-        workflow.add_edge(\"fixer\", \"advisor\")\n",
        "-        workflow.add_edge(\"advisor\", END)\n",
        "-        workflow.set_entry_point(\"analyst\")\n",
        "+        workflow.add_edge(\"auditor\", \"save_auditor_report\")\n",
        "+        workflow.add_edge(\"save_auditor_report\", \"fixer\")\n",
        "+        workflow.add_edge(\"fixer\", \"save_fixer_report\")\n",
        "+        workflow.add_edge(\"save_fixer_report\", \"advisor\")\n",
        "+        workflow.add_edge(\"advisor\", \"save_advisor_report\")\n",
        "+        workflow.add_edge(\"save_advisor_report\", END)\n",
        "+\n",
        "     elif task == \"analyze\":\n",
        "+        workflow.add_node(\"analyst\", analyst_agent_node)\n",
        "+        workflow.add_node(\"save_analyst_report\", save_analyst_report_node)\n",
        "+\n",
        "         workflow.set_entry_point(\"analyst\")\n",
        "-        workflow.add_edge(\"analyst\", END)\n",
        "+        workflow.add_edge(\"analyst\", \"save_analyst_report\")\n",
        "+        workflow.add_edge(\"save_analyst_report\", END)\n",
        "+    \n",
        "     elif task == \"research\":\n",
        "+        workflow.add_node(\"researcher\", researcher_agent_node)\n",
        "+        \n",
        "         workflow.set_entry_point(\"researcher\")\n",
        "         workflow.add_edge(\"researcher\", END)\n",
        "+    \n",
        "     elif task == \"curate\":\n",
        "+        workflow.add_node(\"curator\", curator_agent_node)\n",
        "+        \n",
        "         workflow.set_entry_point(\"curator\")\n",
        "         workflow.add_edge(\"curator\", END)\n",
        "+\n",
        "     elif task == \"audit\":\n",
        "+        workflow.add_node(\"auditor\", auditor_agent_node)\n",
        "+        workflow.add_node(\"save_auditor_report\", save_auditor_report_node)        \n",
        "+        \n",
        "         workflow.set_entry_point(\"auditor\")\n",
        "-        workflow.add_edge(\"auditor\", END)\n",
        "+        workflow.add_edge(\"auditor\", \"save_auditor_report\")\n",
        "+        workflow.add_edge(\"save_auditor_report\", END)\n",
        "+    \n",
        "     elif task == \"fix\":\n",
        "+        workflow.add_node(\"fixer\", fixer_agent_node)\n",
        "+        workflow.add_node(\"save_fixer_report\", save_fixer_report_node)\n",
        "+                \n",
        "         workflow.set_entry_point(\"fixer\")\n",
        "-        workflow.add_edge(\"fixer\", END)\n",
        "+        workflow.add_edge(\"fixer\", \"save_fixer_report\")\n",
        "+        workflow.add_edge(\"save_fixer_report\", END)\n",
        "+    \n",
        "     elif task == \"advise\":\n",
        "+        workflow.add_node(\"advisor\", advisor_agent_node)\n",
        "+        workflow.add_node(\"save_advisor_report\", save_advisor_report_node)\n",
        "+\n",
        "         workflow.set_entry_point(\"advisor\")\n",
        "-        workflow.add_edge(\"advisor\", END)\n",
        "+        workflow.add_edge(\"advisor\", \"save_advisor_report\")\n",
        "+        workflow.add_edge(\"save_advisor_report\", END)\n",
        " \n",
        "     # Compile the graph\n",
        "     app = workflow.compile()\n"
      ]
    },
    {
      "path": "prompt_templates/analyst_prompt.txt",
      "status": "removed",
      "additions": 0,
      "deletions": 35,
      "patch": "@@ -1,35 +0,0 @@\n-**Your Goal:** To perform a comprehensive analysis of the LightRAG knowledge base (KB), identify high-value knowledge gaps, and generate a single, valid JSON report.\n-\n-**Workflow:**\n-1.  **Discover Existing Topics:** Use your available tools (`query`, `graphs_get`, `graph_labels`) to get a high-level overview of the knowledge base's content and structure.\n-2.  **Generate the Report:** Based on your analysis, you must construct a single JSON object for your report.\n-3.  **Final Output:** Your final and ONLY output must be a single, valid JSON object that strictly follows the schema below. Do not include any other text, explanations, or markdown formatting.\n-\n-**JSON Output Schema:**\n-    {{\n-        \"report_id\": {analyst_report_id},\n-        \"knowledge_base_summary\": {{\n-            \"summary\": \"A 2-3 sentence summary of the knowledge base's core themes and coverage.\",\n-            \"themes\": [\n-                {{\n-                    \"theme_id\": \"theme_unique_identifier\",\n-                    \"description\": \"A descriptive name for a high-level theme found in the knowledge base.\"\n-                }}\n-            ]\n-        }},\n-        \"identified_gaps\": [\n-            {{\n-                \"gap_id\": \"gap_unique_identifier\",\n-                \"description\": \"A clear and concise description of a specific knowledge gap (e.g., outdated information, missing context, logical inconsistencies).\",\n-                \"research_topic\": \"A well-defined research topic that, if investigated, would fill the identified gap. This should be a clear instruction for the Researcher agent.\"\n-            }}\n-        ]\n-    }}\n-\n-    **Key field requirements:**\n-    *   `report_id`: Use the `{analyst_report_id}` from your state.\n-    *   `knowledge_base_summary`: A brief overview of the KB's contents.\n-    *   `themes`: A list of 4-5 major themes discovered.\n-    *   `identified_gaps`: A list of 3-5 specific, high-value knowledge gaps. For each gap, provide a clear `description` and a targeted `research_topic`.\n-\n-**You must base your analysis exclusively on the output of your tools. Do not use your general knowledge.**",
      "patch_lines": [
        "@@ -1,35 +0,0 @@\n",
        "-**Your Goal:** To perform a comprehensive analysis of the LightRAG knowledge base (KB), identify high-value knowledge gaps, and generate a single, valid JSON report.\n",
        "-\n",
        "-**Workflow:**\n",
        "-1.  **Discover Existing Topics:** Use your available tools (`query`, `graphs_get`, `graph_labels`) to get a high-level overview of the knowledge base's content and structure.\n",
        "-2.  **Generate the Report:** Based on your analysis, you must construct a single JSON object for your report.\n",
        "-3.  **Final Output:** Your final and ONLY output must be a single, valid JSON object that strictly follows the schema below. Do not include any other text, explanations, or markdown formatting.\n",
        "-\n",
        "-**JSON Output Schema:**\n",
        "-    {{\n",
        "-        \"report_id\": {analyst_report_id},\n",
        "-        \"knowledge_base_summary\": {{\n",
        "-            \"summary\": \"A 2-3 sentence summary of the knowledge base's core themes and coverage.\",\n",
        "-            \"themes\": [\n",
        "-                {{\n",
        "-                    \"theme_id\": \"theme_unique_identifier\",\n",
        "-                    \"description\": \"A descriptive name for a high-level theme found in the knowledge base.\"\n",
        "-                }}\n",
        "-            ]\n",
        "-        }},\n",
        "-        \"identified_gaps\": [\n",
        "-            {{\n",
        "-                \"gap_id\": \"gap_unique_identifier\",\n",
        "-                \"description\": \"A clear and concise description of a specific knowledge gap (e.g., outdated information, missing context, logical inconsistencies).\",\n",
        "-                \"research_topic\": \"A well-defined research topic that, if investigated, would fill the identified gap. This should be a clear instruction for the Researcher agent.\"\n",
        "-            }}\n",
        "-        ]\n",
        "-    }}\n",
        "-\n",
        "-    **Key field requirements:**\n",
        "-    *   `report_id`: Use the `{analyst_report_id}` from your state.\n",
        "-    *   `knowledge_base_summary`: A brief overview of the KB's contents.\n",
        "-    *   `themes`: A list of 4-5 major themes discovered.\n",
        "-    *   `identified_gaps`: A list of 3-5 specific, high-value knowledge gaps. For each gap, provide a clear `description` and a targeted `research_topic`.\n",
        "-\n",
        "-**You must base your analysis exclusively on the output of your tools. Do not use your general knowledge.**\n"
      ]
    },
    {
      "path": "prompts/advisor_prompt.txt",
      "status": "renamed",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": [],
      "previous_filename": "prompt_templates/advisor_prompt.txt"
    },
    {
      "path": "prompts/analyst_prompt.txt",
      "status": "added",
      "additions": 45,
      "deletions": 0,
      "patch": "@@ -0,0 +1,45 @@\n+System: You are an expert AI assistant tasked with analyzing a LightRAG knowledge base.\n+\n+**Your Goal:** To perform a comprehensive analysis of the LightRAG knowledge base, identify high-value knowledge gaps, and generate a single, valid JSON report.\n+\n+**Workflow:**\n+1.  **Discover Existing Topics:** Start by using your tools (`query`, `graphs_get`, `graph_labels`) to get a high-level overview of the knowledge base's content and structure.\n+2.  **Create a Thematic Summary:** Synthesize the topics into 5-10 high-level themes.\n+3.  **Survey Thematic Landscapes:** Use your search tools (`google_search` and `fetch`) to expand on the thematic summary.\n+4.  **Identify knowledge base gaps:** Based on your summary, identify temporal or logical gaps.\n+5.  **Formulate Research Topics.** For each gap, formulate a specific, context-rich research topic. For example, if a gap is \"outdated information on Topic A,\" the research topic should be \"updated information on Topic A after <date>.\"\n+6.  **Produce a Report.** Consolidate your findings into a structured final report in proper and correct JSON format to be passed to a Researcher.\n+7.  **Final Output:** Your final and ONLY output must be a single, valid JSON object that strictly follows the schema below. Do not include any other text, explanations, or markdown formatting.\n+\n+**JSON Output Schema:**\n+    {{\n+        \"report_id\": {analyst_report_id},\n+        \"knowledge_base_summary\": {{\n+            \"summary\": \"...\",\n+            \"themes\": [\n+                {{\n+                    \"theme_id\": \"...\",\n+                    \"description\": \"...\"\n+                }}\n+            ]\n+        }},\n+        \"identified_gaps\": [\n+            {{\n+                \"gap_id\": \"...\",\n+                \"description\": \"...\",\n+                \"research_topic\": \"...\"\n+            }}\n+        ]\n+    }}\n+\n+    **Key field requirements:**\n+    *   `report_id`: Use the `{analyst_report_id}` from your state.\n+    *   `knowledge_base_summary`: A brief overview of the knowledge base's contents.\n+    *   `themes`: A list of major themes discovered.\n+    *   `identified_gaps`: A list of specific, high-value knowledge gaps. For each gap, provide a clear `description` and a targeted `research_topic`.\n+\n+**You must base your analysis exclusively on the output of your tools. Do not use your general knowledge.**\n+\n+User: {input}\n+\n+{agent_scratchpad}",
      "patch_lines": [
        "@@ -0,0 +1,45 @@\n",
        "+System: You are an expert AI assistant tasked with analyzing a LightRAG knowledge base.\n",
        "+\n",
        "+**Your Goal:** To perform a comprehensive analysis of the LightRAG knowledge base, identify high-value knowledge gaps, and generate a single, valid JSON report.\n",
        "+\n",
        "+**Workflow:**\n",
        "+1.  **Discover Existing Topics:** Start by using your tools (`query`, `graphs_get`, `graph_labels`) to get a high-level overview of the knowledge base's content and structure.\n",
        "+2.  **Create a Thematic Summary:** Synthesize the topics into 5-10 high-level themes.\n",
        "+3.  **Survey Thematic Landscapes:** Use your search tools (`google_search` and `fetch`) to expand on the thematic summary.\n",
        "+4.  **Identify knowledge base gaps:** Based on your summary, identify temporal or logical gaps.\n",
        "+5.  **Formulate Research Topics.** For each gap, formulate a specific, context-rich research topic. For example, if a gap is \"outdated information on Topic A,\" the research topic should be \"updated information on Topic A after <date>.\"\n",
        "+6.  **Produce a Report.** Consolidate your findings into a structured final report in proper and correct JSON format to be passed to a Researcher.\n",
        "+7.  **Final Output:** Your final and ONLY output must be a single, valid JSON object that strictly follows the schema below. Do not include any other text, explanations, or markdown formatting.\n",
        "+\n",
        "+**JSON Output Schema:**\n",
        "+    {{\n",
        "+        \"report_id\": {analyst_report_id},\n",
        "+        \"knowledge_base_summary\": {{\n",
        "+            \"summary\": \"...\",\n",
        "+            \"themes\": [\n",
        "+                {{\n",
        "+                    \"theme_id\": \"...\",\n",
        "+                    \"description\": \"...\"\n",
        "+                }}\n",
        "+            ]\n",
        "+        }},\n",
        "+        \"identified_gaps\": [\n",
        "+            {{\n",
        "+                \"gap_id\": \"...\",\n",
        "+                \"description\": \"...\",\n",
        "+                \"research_topic\": \"...\"\n",
        "+            }}\n",
        "+        ]\n",
        "+    }}\n",
        "+\n",
        "+    **Key field requirements:**\n",
        "+    *   `report_id`: Use the `{analyst_report_id}` from your state.\n",
        "+    *   `knowledge_base_summary`: A brief overview of the knowledge base's contents.\n",
        "+    *   `themes`: A list of major themes discovered.\n",
        "+    *   `identified_gaps`: A list of specific, high-value knowledge gaps. For each gap, provide a clear `description` and a targeted `research_topic`.\n",
        "+\n",
        "+**You must base your analysis exclusively on the output of your tools. Do not use your general knowledge.**\n",
        "+\n",
        "+User: {input}\n",
        "+\n",
        "+{agent_scratchpad}\n"
      ]
    },
    {
      "path": "prompts/auditor_prompt.txt",
      "status": "renamed",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": [],
      "previous_filename": "prompt_templates/auditor_prompt.txt"
    },
    {
      "path": "prompts/fixer_prompt.txt",
      "status": "renamed",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": [],
      "previous_filename": "prompt_templates/fixer_prompt.txt"
    },
    {
      "path": "prompts/ingester_prompt.txt",
      "status": "added",
      "additions": 32,
      "deletions": 0,
      "patch": "@@ -0,0 +1,32 @@\n+System: You are an expert AI assistant tasked with ingesting the contents of URLs into a LightRAG knowledge base.\n+\n+**Your Goal:** To process URLs for ingestion into a LightRAG knowledge base. \n+\n+**Workflow:**\n+\n+1.  **Process URLs**: For each URL in {urls_for_ingestion}, fetch the content.\n+\n+2.  **Ingest Sources**: Ingest the successfully fetched content and monitor the progress of ingestion using the tools available to you.\n+\n+3.  **Final Output:** After you have finished ingesting the URLs and have a list of ingestion status for each URL, your final and ONLY output must be a single, valid JSON object that strictly follows the schema below. Do not include any other text, explanations, or markdown formatting.\n+\n+**JSON Output Schema:**\n+{{\n+  \"url_ingestion_status\": [\n+    {{\n+      \"url\": \"url_1\",\n+      \"status\": \"status_1\"\n+    }},\n+    {{\n+      \"url\": \"url_2\",\n+      \"status\": \"status_2\"\n+    }},\n+    ...\n+  ]\n+}}\n+\n+**You must base your analysis exclusively on the output of your tools. Do not use your general knowledge.**\n+\n+User: {input}\n+\n+{agent_scratchpad}\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -0,0 +1,32 @@\n",
        "+System: You are an expert AI assistant tasked with ingesting the contents of URLs into a LightRAG knowledge base.\n",
        "+\n",
        "+**Your Goal:** To process URLs for ingestion into a LightRAG knowledge base. \n",
        "+\n",
        "+**Workflow:**\n",
        "+\n",
        "+1.  **Process URLs**: For each URL in {urls_for_ingestion}, fetch the content.\n",
        "+\n",
        "+2.  **Ingest Sources**: Ingest the successfully fetched content and monitor the progress of ingestion using the tools available to you.\n",
        "+\n",
        "+3.  **Final Output:** After you have finished ingesting the URLs and have a list of ingestion status for each URL, your final and ONLY output must be a single, valid JSON object that strictly follows the schema below. Do not include any other text, explanations, or markdown formatting.\n",
        "+\n",
        "+**JSON Output Schema:**\n",
        "+{{\n",
        "+  \"url_ingestion_status\": [\n",
        "+    {{\n",
        "+      \"url\": \"url_1\",\n",
        "+      \"status\": \"status_1\"\n",
        "+    }},\n",
        "+    {{\n",
        "+      \"url\": \"url_2\",\n",
        "+      \"status\": \"status_2\"\n",
        "+    }},\n",
        "+    ...\n",
        "+  ]\n",
        "+}}\n",
        "+\n",
        "+**You must base your analysis exclusively on the output of your tools. Do not use your general knowledge.**\n",
        "+\n",
        "+User: {input}\n",
        "+\n",
        "+{agent_scratchpad}\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "prompts/researcher_prompt.txt",
      "status": "renamed",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": [],
      "previous_filename": "prompt_templates/researcher_prompt.txt"
    },
    {
      "path": "prompts/search_ranker_prompt.txt",
      "status": "added",
      "additions": 26,
      "deletions": 0,
      "patch": "@@ -0,0 +1,26 @@\n+System: You are an expert AI assistant tasked with analyzing search results and deciding what to ingest into a LightRAG knowledge base.\n+\n+**Your Goal:** To review internet searches and ingest hits highly relevant for filling in knowledge gaps in a LightRAG knowledge base. \n+\n+**Workflow:**\n+\n+1.  **Search Framing**: Consider the {search_rationale} for framing the context in which the search was carried out.\n+\n+2.  **Rank the Search Results**: For each result in {search_results}, consider all the result details (e.g., title, snippet, and pagemap) in the context of relevance to the search rationale and rank the URL as either approved or denied for ingestion.\n+\n+3.  **Final Output:** After you have finished ranking the search results and have a list of URLs approved for ingestion, your final and ONLY output must be a single, valid JSON object that strictly follows the schema below. Do not include any other text, explanations, or markdown formatting.\n+\n+**JSON Output Schema:**\n+{{\n+  \"urls_for_ingestion\": [\n+    \"url_1\",\n+    \"url_2\",\n+    ...\n+  ]\n+}}\n+\n+**You must base your analysis exclusively on the output of your tools. Do not use your general knowledge.**\n+\n+User: {input}\n+\n+{agent_scratchpad}\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -0,0 +1,26 @@\n",
        "+System: You are an expert AI assistant tasked with analyzing search results and deciding what to ingest into a LightRAG knowledge base.\n",
        "+\n",
        "+**Your Goal:** To review internet searches and ingest hits highly relevant for filling in knowledge gaps in a LightRAG knowledge base. \n",
        "+\n",
        "+**Workflow:**\n",
        "+\n",
        "+1.  **Search Framing**: Consider the {search_rationale} for framing the context in which the search was carried out.\n",
        "+\n",
        "+2.  **Rank the Search Results**: For each result in {search_results}, consider all the result details (e.g., title, snippet, and pagemap) in the context of relevance to the search rationale and rank the URL as either approved or denied for ingestion.\n",
        "+\n",
        "+3.  **Final Output:** After you have finished ranking the search results and have a list of URLs approved for ingestion, your final and ONLY output must be a single, valid JSON object that strictly follows the schema below. Do not include any other text, explanations, or markdown formatting.\n",
        "+\n",
        "+**JSON Output Schema:**\n",
        "+{{\n",
        "+  \"urls_for_ingestion\": [\n",
        "+    \"url_1\",\n",
        "+    \"url_2\",\n",
        "+    ...\n",
        "+  ]\n",
        "+}}\n",
        "+\n",
        "+**You must base your analysis exclusively on the output of your tools. Do not use your general knowledge.**\n",
        "+\n",
        "+User: {input}\n",
        "+\n",
        "+{agent_scratchpad}\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "prompts/searcher_prompt.txt",
      "status": "renamed",
      "additions": 8,
      "deletions": 3,
      "patch": "@@ -1,9 +1,9 @@\n-**Your Goal:** You are a specialized research assistant. Your ONLY job is to perform a limited number of Google searches for a single research topic provided to you.\n+System: You are an expert AI assistant tasked with searching the internet for information to fill in knowledge gaps in a LightRAG knowledge base.\n \n-**Topic:**\n-{input}\n+**Your Goal:** To perform a limited number of Google searches for a single research topic provided to you.\n \n **Workflow:**\n+\n 1.  **Analyze the Topic:** Try to understand the research goal. Your search results will be used to fill in gaps in a knowledge base.\n \n 2.  **Plan and Execute Searches:** Design and execute a limited number (e.g., 4-5) of `google_search` tool calls to gather comprehensive information for addressing the research goal.\n@@ -19,6 +19,7 @@\n {{\n   \"searches\": [\n     {{\n+      \"search_id\": \"Unique identifier for the search.\",\n       \"rationale\": \"A brief explanation for why you conducted this specific search.\",\n       \"parameters\": {{\n         \"query\": \"The exact google search query you used.\",\n@@ -38,3 +39,7 @@\n }}\n \n **You must base your analysis exclusively on the output of your tools. Do not use your general knowledge.**\n+\n+User: {input}\n+\n+{agent_scratchpad}\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,9 +1,9 @@\n",
        "-**Your Goal:** You are a specialized research assistant. Your ONLY job is to perform a limited number of Google searches for a single research topic provided to you.\n",
        "+System: You are an expert AI assistant tasked with searching the internet for information to fill in knowledge gaps in a LightRAG knowledge base.\n",
        " \n",
        "-**Topic:**\n",
        "-{input}\n",
        "+**Your Goal:** To perform a limited number of Google searches for a single research topic provided to you.\n",
        " \n",
        " **Workflow:**\n",
        "+\n",
        " 1.  **Analyze the Topic:** Try to understand the research goal. Your search results will be used to fill in gaps in a knowledge base.\n",
        " \n",
        " 2.  **Plan and Execute Searches:** Design and execute a limited number (e.g., 4-5) of `google_search` tool calls to gather comprehensive information for addressing the research goal.\n",
        "@@ -19,6 +19,7 @@\n",
        " {{\n",
        "   \"searches\": [\n",
        "     {{\n",
        "+      \"search_id\": \"Unique identifier for the search.\",\n",
        "       \"rationale\": \"A brief explanation for why you conducted this specific search.\",\n",
        "       \"parameters\": {{\n",
        "         \"query\": \"The exact google search query you used.\",\n",
        "@@ -38,3 +39,7 @@\n",
        " }}\n",
        " \n",
        " **You must base your analysis exclusively on the output of your tools. Do not use your general knowledge.**\n",
        "+\n",
        "+User: {input}\n",
        "+\n",
        "+{agent_scratchpad}\n",
        "\\ No newline at end of file\n"
      ],
      "previous_filename": "prompt_templates/search_agent_prompt.txt"
    },
    {
      "path": "pyproject.toml",
      "status": "modified",
      "additions": 2,
      "deletions": 0,
      "patch": "@@ -5,9 +5,11 @@ description = \"AI agent for intelligently updating and maintaining LightRAG know\n readme = \"README.md\"\n requires-python = \">=3.12\"\n dependencies = [\n+    \"json-repair\",\n     \"langchain-mcp-adapters\",\n     \"langchain-openai\",\n     \"pydantic\",\n+    \"psycopg2-binary\",\n     \"python-dotenv\",\n     \"langchain\",\n     \"langgraph\",",
      "patch_lines": [
        "@@ -5,9 +5,11 @@ description = \"AI agent for intelligently updating and maintaining LightRAG know\n",
        " readme = \"README.md\"\n",
        " requires-python = \">=3.12\"\n",
        " dependencies = [\n",
        "+    \"json-repair\",\n",
        "     \"langchain-mcp-adapters\",\n",
        "     \"langchain-openai\",\n",
        "     \"pydantic\",\n",
        "+    \"psycopg2-binary\",\n",
        "     \"python-dotenv\",\n",
        "     \"langchain\",\n",
        "     \"langgraph\",\n"
      ]
    },
    {
      "path": "run.py",
      "status": "modified",
      "additions": 21,
      "deletions": 7,
      "patch": "@@ -2,13 +2,21 @@\n import asyncio\n import logging\n import json\n-from datetime import datetime, timezone\n+from datetime import datetime\n+from zoneinfo import ZoneInfo\n import os\n import argparse\n-import langchain\n from langchain_openai.chat_models import ChatOpenAI\n+from langchain_core.messages import HumanMessage\n from knowledge_agent import get_mcp_tools, create_knowledge_agent_graph\n-from state import AgentState\n+from dotenv import load_dotenv\n+from db_utils import create_tables\n+\n+# Load environment variables from .env file\n+load_dotenv()\n+\n+# Create the tables if they don't exist\n+create_tables()\n \n # Create a custom JSON formatter\n class JsonFormatter(logging.Formatter):\n@@ -72,18 +80,24 @@ async def main():\n     logger.info(f\"Initializing Knowledge Agent for task: {task}...\")\n \n     try:\n+        # 1. Load tools asynchronously\n         mcp_tools = await get_mcp_tools()\n \n         model = ChatOpenAI(\n-            model=\"openai/gpt-oss-20b\",\n-            base_url=os.environ.get(\"OPENAI_BASE_URL\", \"http://localhost:8002/v1\"),\n+            model=os.environ.get(\"OPENAI_MODEL_NAME\", \"chat\"),\n+            base_url=os.environ.get(\"OPENAI_BASE_URL\", \"http://localhost:8001/v1\"),\n+            temperature=0.5,\n+            top_p=0.5,\n         )\n         \n-        app = create_knowledge_agent_graph(task)\n+        # 2. Pass tools into the graph creation function\n+        app = create_knowledge_agent_graph(task, mcp_tools)\n \n-        run_timestamp = datetime.now(timezone.utc).isoformat()\n+        run_timestamp = datetime.now(ZoneInfo(\"America/Los_Angeles\")).isoformat()\n \n+        # 3. Initialize the state with the messages list and the first message\n         initial_state = {\n+            \"messages\": [HumanMessage(content=\"Your task is to identify knowledge gaps in the LightRAG knowledge base. Begin now.\")],\n             \"task\": task,\n             \"status\": f\"Starting '{task}' workflow.\",\n             \"timestamp\": run_timestamp,",
      "patch_lines": [
        "@@ -2,13 +2,21 @@\n",
        " import asyncio\n",
        " import logging\n",
        " import json\n",
        "-from datetime import datetime, timezone\n",
        "+from datetime import datetime\n",
        "+from zoneinfo import ZoneInfo\n",
        " import os\n",
        " import argparse\n",
        "-import langchain\n",
        " from langchain_openai.chat_models import ChatOpenAI\n",
        "+from langchain_core.messages import HumanMessage\n",
        " from knowledge_agent import get_mcp_tools, create_knowledge_agent_graph\n",
        "-from state import AgentState\n",
        "+from dotenv import load_dotenv\n",
        "+from db_utils import create_tables\n",
        "+\n",
        "+# Load environment variables from .env file\n",
        "+load_dotenv()\n",
        "+\n",
        "+# Create the tables if they don't exist\n",
        "+create_tables()\n",
        " \n",
        " # Create a custom JSON formatter\n",
        " class JsonFormatter(logging.Formatter):\n",
        "@@ -72,18 +80,24 @@ async def main():\n",
        "     logger.info(f\"Initializing Knowledge Agent for task: {task}...\")\n",
        " \n",
        "     try:\n",
        "+        # 1. Load tools asynchronously\n",
        "         mcp_tools = await get_mcp_tools()\n",
        " \n",
        "         model = ChatOpenAI(\n",
        "-            model=\"openai/gpt-oss-20b\",\n",
        "-            base_url=os.environ.get(\"OPENAI_BASE_URL\", \"http://localhost:8002/v1\"),\n",
        "+            model=os.environ.get(\"OPENAI_MODEL_NAME\", \"chat\"),\n",
        "+            base_url=os.environ.get(\"OPENAI_BASE_URL\", \"http://localhost:8001/v1\"),\n",
        "+            temperature=0.5,\n",
        "+            top_p=0.5,\n",
        "         )\n",
        "         \n",
        "-        app = create_knowledge_agent_graph(task)\n",
        "+        # 2. Pass tools into the graph creation function\n",
        "+        app = create_knowledge_agent_graph(task, mcp_tools)\n",
        " \n",
        "-        run_timestamp = datetime.now(timezone.utc).isoformat()\n",
        "+        run_timestamp = datetime.now(ZoneInfo(\"America/Los_Angeles\")).isoformat()\n",
        " \n",
        "+        # 3. Initialize the state with the messages list and the first message\n",
        "         initial_state = {\n",
        "+            \"messages\": [HumanMessage(content=\"Your task is to identify knowledge gaps in the LightRAG knowledge base. Begin now.\")],\n",
        "             \"task\": task,\n",
        "             \"status\": f\"Starting '{task}' workflow.\",\n",
        "             \"timestamp\": run_timestamp,\n"
      ]
    },
    {
      "path": "state.py",
      "status": "modified",
      "additions": 22,
      "deletions": 1,
      "patch": "@@ -1,10 +1,16 @@\n # state.py\n-from typing import TypedDict, List, Optional\n+from typing import TypedDict, List, Optional, Annotated\n+from langchain_core.messages import BaseMessage\n+import operator\n \n class AgentState(TypedDict):\n     \"\"\"\n     Represents the state of the agent graph.\n+    The `messages` field is the primary channel for agent communication.\n+    The `Annotated` type with `operator.add` ensures that new messages are\n+    appended to the list, rather than overwriting it.\n     \"\"\"\n+    messages: Annotated[List[BaseMessage], operator.add]\n     task: str\n     status: str\n     timestamp: str\n@@ -20,3 +26,18 @@ class AgentState(TypedDict):\n     researcher_gaps_todo: Optional[List[dict]]\n     researcher_current_gap: Optional[dict]\n     researcher_gaps_complete: Optional[List[str]]\n+\n+    # Fields for the curator agent's stateful workflow\n+    curator_report_id: Optional[str]\n+    curator_searches_todo: Optional[List[dict]]\n+    curator_current_search: Optional[dict]\n+    curator_urls_for_ingestion: Optional[List[str]]\n+\n+    # Fields for the auditor agent's stateful workflow\n+    auditor_report_id: Optional[str]\n+\n+    # Fields for the fixer agent's stateful workflow\n+    fixer_report_id: Optional[str]\n+\n+    # Fields for the advisor agent's stateful workflow\n+    advisor_report_id: Optional[str]\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,10 +1,16 @@\n",
        " # state.py\n",
        "-from typing import TypedDict, List, Optional\n",
        "+from typing import TypedDict, List, Optional, Annotated\n",
        "+from langchain_core.messages import BaseMessage\n",
        "+import operator\n",
        " \n",
        " class AgentState(TypedDict):\n",
        "     \"\"\"\n",
        "     Represents the state of the agent graph.\n",
        "+    The `messages` field is the primary channel for agent communication.\n",
        "+    The `Annotated` type with `operator.add` ensures that new messages are\n",
        "+    appended to the list, rather than overwriting it.\n",
        "     \"\"\"\n",
        "+    messages: Annotated[List[BaseMessage], operator.add]\n",
        "     task: str\n",
        "     status: str\n",
        "     timestamp: str\n",
        "@@ -20,3 +26,18 @@ class AgentState(TypedDict):\n",
        "     researcher_gaps_todo: Optional[List[dict]]\n",
        "     researcher_current_gap: Optional[dict]\n",
        "     researcher_gaps_complete: Optional[List[str]]\n",
        "+\n",
        "+    # Fields for the curator agent's stateful workflow\n",
        "+    curator_report_id: Optional[str]\n",
        "+    curator_searches_todo: Optional[List[dict]]\n",
        "+    curator_current_search: Optional[dict]\n",
        "+    curator_urls_for_ingestion: Optional[List[str]]\n",
        "+\n",
        "+    # Fields for the auditor agent's stateful workflow\n",
        "+    auditor_report_id: Optional[str]\n",
        "+\n",
        "+    # Fields for the fixer agent's stateful workflow\n",
        "+    fixer_report_id: Optional[str]\n",
        "+\n",
        "+    # Fields for the advisor agent's stateful workflow\n",
        "+    advisor_report_id: Optional[str]\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "state/advisor_report.json",
      "status": "removed",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "state/analyst_report.json",
      "status": "removed",
      "additions": 0,
      "deletions": 115,
      "patch": "@@ -1,115 +0,0 @@\n-{\n-  \"reports\": [\n-    {\n-      \"report_id\": \"anl_20250822_112345\",\n-      \"timestamp\": \"2025-08-22T11:23:45Z\",\n-      \"knowledge_base_summary\": {\n-        \"summary\": \"The LightRAG knowledge base is a comprehensive repository on U.S. federal policy, civil rights, and democratic governance, with a strong emphasis on executive actions affecting DEI, fiscal reforms, election integrity, and national security. It contains extensive data on legislative history, court decisions, and sociopolitical trends.\",\n-        \"themes\": [\n-          {\n-            \"theme_id\": \"thm_dei_executive_actions\",\n-            \"description\": \"Executive orders and regulations targeting diversity, equity, and inclusion initiatives in federal agencies and contractors.\"\n-          },\n-          {\n-            \"theme_id\": \"thm_fiscal_policy\",\n-            \"description\": \"Tax legislation, budget proposals, deficit projections, and fiscal policy debates spanning the 2017 TCJA to the 2025 tax roadmap.\"\n-          },\n-          {\n-            \"theme_id\": \"thm_election_integrity\",\n-            \"description\": \"Voter suppression measures, election administration oversight, and Supreme Court rulings on voting rights.\"\n-          },\n-          {\n-            \"theme_id\": \"thm_civil_rights_discrimination\",\n-            \"description\": \"Anti-discrimination laws, hate crime statistics, and civil liberties protections across race, gender, and religious lines.\"\n-          },\n-          {\n-            \"theme_id\": \"thm_national_security_foreign_policy\",\n-            \"description\": \"U.S. defense strategy, immigration enforcement, foreign aid, and geopolitical developments involving key allies and adversaries.\"\n-          }\n-        ]\n-      },\n-      \"identified_gaps\": [\n-        {\n-          \"gap_id\": \"gap_2025_infrastructure_bill\",\n-          \"description\": \"The knowledge base lacks detailed coverage of the 2025 bipartisan infrastructure bill, including its fiscal impact, project rollouts, and stakeholder analyses.\",\n-          \"research_topic\": \"Compile a comprehensive report on the 2025 Infrastructure Bill: legislative history, budget allocations, projected economic effects, and key political negotiations.\"\n-        },\n-        {\n-          \"gap_id\": \"gap_climate_policy_updates\",\n-          \"description\": \"Stale or missing information on post\\u20112024 climate legislation, such as the Clean Energy Transition Act and updated EPA regulations.\",\n-          \"research_topic\": \"Investigate and document all federal climate policy actions taken since 2023, including new statutes, executive orders, and regulatory changes affecting emissions, renewable energy incentives, and environmental justice.\"\n-        },\n-        {\n-          \"gap_id\": \"gap_ai_governance\",\n-          \"description\": \"No current data on AI regulation initiatives, federal AI research funding, or emerging legal frameworks addressing algorithmic bias.\",\n-          \"research_topic\": \"Research the latest U.S. federal policies, bills, and executive actions concerning artificial intelligence governance, focusing on transparency, accountability, and anti\\u2011bias measures.\"\n-        },\n-        {\n-          \"gap_id\": \"gap_postpandemic_economic_data\",\n-          \"description\": \"Outdated economic indicators (e.g., unemployment, inflation) and incomplete post\\u2011COVID recovery statistics beyond 2023.\",\n-          \"research_topic\": \"Gather updated macroeconomic data for 2024\\u20132025, including employment trends, inflation rates, and sectoral growth, with a focus on disparities among underrepresented groups.\"\n-        },\n-        {\n-          \"gap_id\": \"gap_supreme_court_recent_cases\",\n-          \"description\": \"Missing summaries of Supreme Court decisions issued in 2024\\u20112025 related to voting rights, civil liberties, and executive power.\",\n-          \"research_topic\": \"Compile a briefing on all U.S. Supreme Court rulings from 2024\\u20132025 that impact election law, freedom of speech, or federal regulatory authority.\"\n-        }\n-      ]\n-    },\n-    {\n-      \"report_id\": \"ana_20250824_151805\",\n-      \"knowledge_base_summary\": {\n-        \"summary\": \"The knowledge base covers a broad spectrum of U.S.-centric policy areas, ranging from federal budget decisions and social welfare programs to technology regulation and civil rights issues. It emphasizes contemporary political dynamics such as democratic backsliding and polarization while providing detailed insights into health\\u2011related assistance schemes like Medicaid and SNAP.\",\n-        \"themes\": [\n-          {\n-            \"theme_id\": \"theme_1\",\n-            \"description\": \"Federal Policy & Budget\"\n-          },\n-          {\n-            \"theme_id\": \"theme_2\",\n-            \"description\": \"Social Justice & Equity\"\n-          },\n-          {\n-            \"theme_id\": \"theme_3\",\n-            \"description\": \"Technology and Digital Economy\"\n-          },\n-          {\n-            \"theme_id\": \"theme_4\",\n-            \"description\": \"Health, Nutrition, and Welfare Programs\"\n-          },\n-          {\n-            \"theme_id\": \"theme_5\",\n-            \"description\": \"Political Dynamics and Democratic Resilience\"\n-          }\n-        ]\n-      },\n-      \"identified_gaps\": [\n-        {\n-          \"gap_id\": \"gap_1\",\n-          \"description\": \"Lack of comprehensive coverage on climate change legislation, environmental regulations, and sustainability initiatives.\",\n-          \"research_topic\": \"Investigate U.S. federal and state-level climate policies, including the Green New Deal proposals, carbon pricing mechanisms, and EPA regulatory actions.\"\n-        },\n-        {\n-          \"gap_id\": \"gap_2\",\n-          \"description\": \"Insufficient representation of major international trade agreements (e.g., NAFTA/USMCA, WTO) and their impact on domestic policy.\",\n-          \"research_topic\": \"Compile a detailed overview of key U.S. trade agreements, focusing on tariff structures, dispute resolution mechanisms, and economic outcomes.\"\n-        },\n-        {\n-          \"gap_id\": \"gap_3\",\n-          \"description\": \"Absence of information regarding Medicare programs, private health insurance markets, and related regulatory frameworks.\",\n-          \"research_topic\": \"Research the structure, financing, and policy debates surrounding Medicare Part A/B/C/D, Medicaid expansion nuances, and major private insurers' market dynamics.\"\n-        },\n-        {\n-          \"gap_id\": \"gap_4\",\n-          \"description\": \"Limited coverage of global digital privacy laws such as GDPR and CCPA that influence U.S. tech regulation.\",\n-          \"research_topic\": \"Analyze the implications of GDPR and California Consumer Privacy Act on U.S. technology companies, including compliance requirements and cross-border data flows.\"\n-        },\n-        {\n-          \"gap_id\": \"gap_5\",\n-          \"description\": \"Sparse detail on national cybersecurity strategies, critical infrastructure protection, and emerging cyber threats beyond agency listings.\",\n-          \"research_topic\": \"Examine federal cybersecurity frameworks (e.g., NIST CSF), critical infrastructure sectors, and recent high-profile cyber incidents affecting U.S. systems.\"\n-        }\n-      ]\n-    }\n-  ]\n-}\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,115 +0,0 @@\n",
        "-{\n",
        "-  \"reports\": [\n",
        "-    {\n",
        "-      \"report_id\": \"anl_20250822_112345\",\n",
        "-      \"timestamp\": \"2025-08-22T11:23:45Z\",\n",
        "-      \"knowledge_base_summary\": {\n",
        "-        \"summary\": \"The LightRAG knowledge base is a comprehensive repository on U.S. federal policy, civil rights, and democratic governance, with a strong emphasis on executive actions affecting DEI, fiscal reforms, election integrity, and national security. It contains extensive data on legislative history, court decisions, and sociopolitical trends.\",\n",
        "-        \"themes\": [\n",
        "-          {\n",
        "-            \"theme_id\": \"thm_dei_executive_actions\",\n",
        "-            \"description\": \"Executive orders and regulations targeting diversity, equity, and inclusion initiatives in federal agencies and contractors.\"\n",
        "-          },\n",
        "-          {\n",
        "-            \"theme_id\": \"thm_fiscal_policy\",\n",
        "-            \"description\": \"Tax legislation, budget proposals, deficit projections, and fiscal policy debates spanning the 2017 TCJA to the 2025 tax roadmap.\"\n",
        "-          },\n",
        "-          {\n",
        "-            \"theme_id\": \"thm_election_integrity\",\n",
        "-            \"description\": \"Voter suppression measures, election administration oversight, and Supreme Court rulings on voting rights.\"\n",
        "-          },\n",
        "-          {\n",
        "-            \"theme_id\": \"thm_civil_rights_discrimination\",\n",
        "-            \"description\": \"Anti-discrimination laws, hate crime statistics, and civil liberties protections across race, gender, and religious lines.\"\n",
        "-          },\n",
        "-          {\n",
        "-            \"theme_id\": \"thm_national_security_foreign_policy\",\n",
        "-            \"description\": \"U.S. defense strategy, immigration enforcement, foreign aid, and geopolitical developments involving key allies and adversaries.\"\n",
        "-          }\n",
        "-        ]\n",
        "-      },\n",
        "-      \"identified_gaps\": [\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_2025_infrastructure_bill\",\n",
        "-          \"description\": \"The knowledge base lacks detailed coverage of the 2025 bipartisan infrastructure bill, including its fiscal impact, project rollouts, and stakeholder analyses.\",\n",
        "-          \"research_topic\": \"Compile a comprehensive report on the 2025 Infrastructure Bill: legislative history, budget allocations, projected economic effects, and key political negotiations.\"\n",
        "-        },\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_climate_policy_updates\",\n",
        "-          \"description\": \"Stale or missing information on post\\u20112024 climate legislation, such as the Clean Energy Transition Act and updated EPA regulations.\",\n",
        "-          \"research_topic\": \"Investigate and document all federal climate policy actions taken since 2023, including new statutes, executive orders, and regulatory changes affecting emissions, renewable energy incentives, and environmental justice.\"\n",
        "-        },\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_ai_governance\",\n",
        "-          \"description\": \"No current data on AI regulation initiatives, federal AI research funding, or emerging legal frameworks addressing algorithmic bias.\",\n",
        "-          \"research_topic\": \"Research the latest U.S. federal policies, bills, and executive actions concerning artificial intelligence governance, focusing on transparency, accountability, and anti\\u2011bias measures.\"\n",
        "-        },\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_postpandemic_economic_data\",\n",
        "-          \"description\": \"Outdated economic indicators (e.g., unemployment, inflation) and incomplete post\\u2011COVID recovery statistics beyond 2023.\",\n",
        "-          \"research_topic\": \"Gather updated macroeconomic data for 2024\\u20132025, including employment trends, inflation rates, and sectoral growth, with a focus on disparities among underrepresented groups.\"\n",
        "-        },\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_supreme_court_recent_cases\",\n",
        "-          \"description\": \"Missing summaries of Supreme Court decisions issued in 2024\\u20112025 related to voting rights, civil liberties, and executive power.\",\n",
        "-          \"research_topic\": \"Compile a briefing on all U.S. Supreme Court rulings from 2024\\u20132025 that impact election law, freedom of speech, or federal regulatory authority.\"\n",
        "-        }\n",
        "-      ]\n",
        "-    },\n",
        "-    {\n",
        "-      \"report_id\": \"ana_20250824_151805\",\n",
        "-      \"knowledge_base_summary\": {\n",
        "-        \"summary\": \"The knowledge base covers a broad spectrum of U.S.-centric policy areas, ranging from federal budget decisions and social welfare programs to technology regulation and civil rights issues. It emphasizes contemporary political dynamics such as democratic backsliding and polarization while providing detailed insights into health\\u2011related assistance schemes like Medicaid and SNAP.\",\n",
        "-        \"themes\": [\n",
        "-          {\n",
        "-            \"theme_id\": \"theme_1\",\n",
        "-            \"description\": \"Federal Policy & Budget\"\n",
        "-          },\n",
        "-          {\n",
        "-            \"theme_id\": \"theme_2\",\n",
        "-            \"description\": \"Social Justice & Equity\"\n",
        "-          },\n",
        "-          {\n",
        "-            \"theme_id\": \"theme_3\",\n",
        "-            \"description\": \"Technology and Digital Economy\"\n",
        "-          },\n",
        "-          {\n",
        "-            \"theme_id\": \"theme_4\",\n",
        "-            \"description\": \"Health, Nutrition, and Welfare Programs\"\n",
        "-          },\n",
        "-          {\n",
        "-            \"theme_id\": \"theme_5\",\n",
        "-            \"description\": \"Political Dynamics and Democratic Resilience\"\n",
        "-          }\n",
        "-        ]\n",
        "-      },\n",
        "-      \"identified_gaps\": [\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_1\",\n",
        "-          \"description\": \"Lack of comprehensive coverage on climate change legislation, environmental regulations, and sustainability initiatives.\",\n",
        "-          \"research_topic\": \"Investigate U.S. federal and state-level climate policies, including the Green New Deal proposals, carbon pricing mechanisms, and EPA regulatory actions.\"\n",
        "-        },\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_2\",\n",
        "-          \"description\": \"Insufficient representation of major international trade agreements (e.g., NAFTA/USMCA, WTO) and their impact on domestic policy.\",\n",
        "-          \"research_topic\": \"Compile a detailed overview of key U.S. trade agreements, focusing on tariff structures, dispute resolution mechanisms, and economic outcomes.\"\n",
        "-        },\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_3\",\n",
        "-          \"description\": \"Absence of information regarding Medicare programs, private health insurance markets, and related regulatory frameworks.\",\n",
        "-          \"research_topic\": \"Research the structure, financing, and policy debates surrounding Medicare Part A/B/C/D, Medicaid expansion nuances, and major private insurers' market dynamics.\"\n",
        "-        },\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_4\",\n",
        "-          \"description\": \"Limited coverage of global digital privacy laws such as GDPR and CCPA that influence U.S. tech regulation.\",\n",
        "-          \"research_topic\": \"Analyze the implications of GDPR and California Consumer Privacy Act on U.S. technology companies, including compliance requirements and cross-border data flows.\"\n",
        "-        },\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_5\",\n",
        "-          \"description\": \"Sparse detail on national cybersecurity strategies, critical infrastructure protection, and emerging cyber threats beyond agency listings.\",\n",
        "-          \"research_topic\": \"Examine federal cybersecurity frameworks (e.g., NIST CSF), critical infrastructure sectors, and recent high-profile cyber incidents affecting U.S. systems.\"\n",
        "-        }\n",
        "-      ]\n",
        "-    }\n",
        "-  ]\n",
        "-}\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "state/auditor_report.json",
      "status": "removed",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "state/curator_report.json",
      "status": "removed",
      "additions": 0,
      "deletions": 92,
      "patch": "@@ -1,92 +0,0 @@\n-{\n-    \"reports\": [\n-        {\n-            \"report_id\": \"cur_20250822_140000\",\n-            \"timestamp\": \"2025-08-22T14:00:00Z\",\n-            \"gaps\": [\n-                {\n-                    \"gap_id\": \"gap_midterm_2026_finance\",\n-                    \"sources\": [\n-                        {\n-                            \"url\": \"https://rollcall.com/2025/01/07/the-2026-midterm-elections-are-just-around-the-corner/\",\n-                            \"title\": \"The 2026 Midterm Elections Are Just Around the Corner\",\n-                            \"snippet\": \"As the 2026 midterm elections approach, candidates are gearing up for what promises to be a highly competitive race.\",\n-                            \"pagemap\": {\n-                                \"metatags\": [\n-                                    {\n-                                        \"og:title\": \"The 2026 Midterm Elections Are Just Around the Corner\",\n-                                        \"og:description\": \"As the 2026 midterm elections approach, candidates are gearing up for what promises to be a highly competitive race.\"\n-                                    }\n-                                ]\n-                            },\n-                            \"rationale\": \"Provides a high-level overview of the upcoming 2026 midterm elections, directly addressing the core of the knowledge gap.\",\n-                            \"ingestion_status\": {\n-                                \"status\": \"success\",\n-                                \"trace\": null\n-                            }\n-                        },\n-                        {\n-                            \"url\": \"https://www.fec.gov/resources/cms-content/documents/fy25-fec-congressional-budget-justification.pdf\",\n-                            \"title\": \"FEC Congressional Budget Justification FY 2025\",\n-                            \"snippet\": \"The Federal Election Commission's budget justification for the fiscal year 2025.\",\n-                            \"pagemap\": {\n-                                \"metatags\": [\n-                                    {\n-                                        \"og:title\": \"FEC Congressional Budget Justification FY 2025\",\n-                                        \"og:description\": \"The Federal Election Commission's budget justification for the fiscal year 2025.\"\n-                                    }\n-                                ]\n-                            },\n-                            \"rationale\": \"Official government source detailing financial outlooks and priorities relevant to campaign finance.\",\n-                            \"ingestion_status\": {\n-                                \"status\": \"success\",\n-                                \"trace\": null\n-                            }\n-                        }\n-                    ]\n-                },\n-                {\n-                    \"gap_id\": \"gap_doge_status_2025\",\n-                    \"sources\": [\n-                        {\n-                            \"url\": \"https://www.opm.gov/policy-data-oversight/latest-memos\",\n-                            \"title\": \"Department of Government Efficiency (DOGE) Update 2025\",\n-                            \"snippet\": \"An update on the status and initiatives of the Department of Government Efficiency (DOGE) as of 2025.\",\n-                            \"pagemap\": {\n-                                \"metatags\": [\n-                                    {\n-                                        \"og:title\": \"Department of Government Efficiency (DOGE) Update 2025\",\n-                                        \"og:description\": \"An update on the status and initiatives of the Department of Government Efficiency (DOGE) as of 2025.\"\n-                                    }\n-                                ]\n-                            },\n-                            \"rationale\": \"Directly provides a status update on DOGE, which is the primary focus of the knowledge gap.\",\n-                            \"ingestion_status\": {\n-                                \"status\": \"success\",\n-                                \"trace\": null\n-                            }\n-                        },\n-                        {\n-                            \"url\": \"https://www.usda.gov/media/press-releases/2025/02/14/secretary-rollins-pledges-greater-efficiency\",\n-                            \"title\": \"Secretary Rollins Takes Bold Action to Stop Wasteful Spending and Optimize USDA to Better Serve American Agriculture\",\n-                            \"snippet\": \"Today, U.S. Secretary of Agriculture Brooke Rollins addressed more than 400 USDA staffers, stakeholders and friends and pledged to bring greater efficiency...\",\n-                            \"pagemap\": {\n-                                \"metatags\": [\n-                                    {\n-                                        \"og:title\": \"Secretary Rollins Takes Bold Action to Stop Wasteful Spending\",\n-                                        \"og:description\": \"In a bold move, Secretary Rollins has committed to eliminating wasteful spending within the USDA and optimizing its operations to better serve American agriculture.\"\n-                                    }\n-                                ]\n-                            },\n-                            \"rationale\": \"Content is relevant to government efficiency, but the PDF is malformed and causes a parsing error during the ingestion process.\",\n-                            \"ingestion_status\": {\n-                                \"status\": \"fail\",\n-                                \"trace\": \"Traceback (most recent call last):\\n  File \\\"/app/ingestor/parsers/pdf_parser.py\\\", line 112, in parse\\n    text_content = extract_text(pdf_file)\\n  File \\\"/usr/local/lib/python3.12/site-packages/pdfminer/high_level.py\\\", line 85, in extract_text\\n    if not doc.is_extractable:\\npdfminer.pdfdocument.PDFEncryptionError: PDF document is encrypted.\"\n-                            }\n-                        }\n-                    ]\n-                }\n-            ]\n-        }\n-    ]\n-}\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,92 +0,0 @@\n",
        "-{\n",
        "-    \"reports\": [\n",
        "-        {\n",
        "-            \"report_id\": \"cur_20250822_140000\",\n",
        "-            \"timestamp\": \"2025-08-22T14:00:00Z\",\n",
        "-            \"gaps\": [\n",
        "-                {\n",
        "-                    \"gap_id\": \"gap_midterm_2026_finance\",\n",
        "-                    \"sources\": [\n",
        "-                        {\n",
        "-                            \"url\": \"https://rollcall.com/2025/01/07/the-2026-midterm-elections-are-just-around-the-corner/\",\n",
        "-                            \"title\": \"The 2026 Midterm Elections Are Just Around the Corner\",\n",
        "-                            \"snippet\": \"As the 2026 midterm elections approach, candidates are gearing up for what promises to be a highly competitive race.\",\n",
        "-                            \"pagemap\": {\n",
        "-                                \"metatags\": [\n",
        "-                                    {\n",
        "-                                        \"og:title\": \"The 2026 Midterm Elections Are Just Around the Corner\",\n",
        "-                                        \"og:description\": \"As the 2026 midterm elections approach, candidates are gearing up for what promises to be a highly competitive race.\"\n",
        "-                                    }\n",
        "-                                ]\n",
        "-                            },\n",
        "-                            \"rationale\": \"Provides a high-level overview of the upcoming 2026 midterm elections, directly addressing the core of the knowledge gap.\",\n",
        "-                            \"ingestion_status\": {\n",
        "-                                \"status\": \"success\",\n",
        "-                                \"trace\": null\n",
        "-                            }\n",
        "-                        },\n",
        "-                        {\n",
        "-                            \"url\": \"https://www.fec.gov/resources/cms-content/documents/fy25-fec-congressional-budget-justification.pdf\",\n",
        "-                            \"title\": \"FEC Congressional Budget Justification FY 2025\",\n",
        "-                            \"snippet\": \"The Federal Election Commission's budget justification for the fiscal year 2025.\",\n",
        "-                            \"pagemap\": {\n",
        "-                                \"metatags\": [\n",
        "-                                    {\n",
        "-                                        \"og:title\": \"FEC Congressional Budget Justification FY 2025\",\n",
        "-                                        \"og:description\": \"The Federal Election Commission's budget justification for the fiscal year 2025.\"\n",
        "-                                    }\n",
        "-                                ]\n",
        "-                            },\n",
        "-                            \"rationale\": \"Official government source detailing financial outlooks and priorities relevant to campaign finance.\",\n",
        "-                            \"ingestion_status\": {\n",
        "-                                \"status\": \"success\",\n",
        "-                                \"trace\": null\n",
        "-                            }\n",
        "-                        }\n",
        "-                    ]\n",
        "-                },\n",
        "-                {\n",
        "-                    \"gap_id\": \"gap_doge_status_2025\",\n",
        "-                    \"sources\": [\n",
        "-                        {\n",
        "-                            \"url\": \"https://www.opm.gov/policy-data-oversight/latest-memos\",\n",
        "-                            \"title\": \"Department of Government Efficiency (DOGE) Update 2025\",\n",
        "-                            \"snippet\": \"An update on the status and initiatives of the Department of Government Efficiency (DOGE) as of 2025.\",\n",
        "-                            \"pagemap\": {\n",
        "-                                \"metatags\": [\n",
        "-                                    {\n",
        "-                                        \"og:title\": \"Department of Government Efficiency (DOGE) Update 2025\",\n",
        "-                                        \"og:description\": \"An update on the status and initiatives of the Department of Government Efficiency (DOGE) as of 2025.\"\n",
        "-                                    }\n",
        "-                                ]\n",
        "-                            },\n",
        "-                            \"rationale\": \"Directly provides a status update on DOGE, which is the primary focus of the knowledge gap.\",\n",
        "-                            \"ingestion_status\": {\n",
        "-                                \"status\": \"success\",\n",
        "-                                \"trace\": null\n",
        "-                            }\n",
        "-                        },\n",
        "-                        {\n",
        "-                            \"url\": \"https://www.usda.gov/media/press-releases/2025/02/14/secretary-rollins-pledges-greater-efficiency\",\n",
        "-                            \"title\": \"Secretary Rollins Takes Bold Action to Stop Wasteful Spending and Optimize USDA to Better Serve American Agriculture\",\n",
        "-                            \"snippet\": \"Today, U.S. Secretary of Agriculture Brooke Rollins addressed more than 400 USDA staffers, stakeholders and friends and pledged to bring greater efficiency...\",\n",
        "-                            \"pagemap\": {\n",
        "-                                \"metatags\": [\n",
        "-                                    {\n",
        "-                                        \"og:title\": \"Secretary Rollins Takes Bold Action to Stop Wasteful Spending\",\n",
        "-                                        \"og:description\": \"In a bold move, Secretary Rollins has committed to eliminating wasteful spending within the USDA and optimizing its operations to better serve American agriculture.\"\n",
        "-                                    }\n",
        "-                                ]\n",
        "-                            },\n",
        "-                            \"rationale\": \"Content is relevant to government efficiency, but the PDF is malformed and causes a parsing error during the ingestion process.\",\n",
        "-                            \"ingestion_status\": {\n",
        "-                                \"status\": \"fail\",\n",
        "-                                \"trace\": \"Traceback (most recent call last):\\n  File \\\"/app/ingestor/parsers/pdf_parser.py\\\", line 112, in parse\\n    text_content = extract_text(pdf_file)\\n  File \\\"/usr/local/lib/python3.12/site-packages/pdfminer/high_level.py\\\", line 85, in extract_text\\n    if not doc.is_extractable:\\npdfminer.pdfdocument.PDFEncryptionError: PDF document is encrypted.\"\n",
        "-                            }\n",
        "-                        }\n",
        "-                    ]\n",
        "-                }\n",
        "-            ]\n",
        "-        }\n",
        "-    ]\n",
        "-}\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "state/fixer_report.json",
      "status": "removed",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": []
    },
    {
      "path": "state/researcher_report.json",
      "status": "removed",
      "additions": 0,
      "deletions": 1556,
      "patch": "@@ -1,1556 +0,0 @@\n-{\n-  \"reports\": [\n-    {\n-      \"report_id\": \"rep_20250821_120000\",\n-      \"timestamp\": \"2025-08-21T12:00:00Z\",\n-      \"gaps\": [\n-        {\n-          \"gap_id\": \"gap_midterm_2026_finance\",\n-          \"description\": \"Missing information about 2026 U.S. midterm elections\",\n-          \"searches\": [\n-            {\n-              \"search_id\": \"search_midterm_finance_01\",\n-              \"rationale\": \"Broad search targeting reputable sources on U.S. elections and campaign finance.\",\n-              \"parameters\": {\n-                \"query\": \"2026 U.S. Midterm Elections: Candidate Landscape, Campaign Finance Trends, and Legislative Priorities\",\n-                \"daterestrict\": \"6m\",\n-                \"safe\": \"off\",\n-                \"siteSearch\": \"rollcall.com OR fec.gov OR campaignlegal.org OR pillsburylaw.com\",\n-                \"siteSearchFilter\": \"i\",\n-                \"sort\": \"metatags-pubdate:d\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://rollcall.com/2025/01/07/the-2026-midterm-elections-are-just-around-the-corner/\",\n-                  \"title\": \"The 2026 Midterm Elections Are Just Around the Corner\",\n-                  \"snippet\": \"As the 2026 midterm elections approach, candidates are gearing up for what promises to be a highly competitive race.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"The 2026 Midterm Elections Are Just Around the Corner\",\n-                        \"og:description\": \"As the 2026 midterm elections approach, candidates are gearing up for what promises to be a highly competitive race.\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.fec.gov/resources/cms-content/documents/fy25-fec-congressional-budget-justification.pdf\",\n-                  \"title\": \"FEC Congressional Budget Justification FY 2025\",\n-                  \"snippet\": \"The Federal Election Commission's budget justification for the fiscal year 2025.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"FEC Congressional Budget Justification FY 2025\",\n-                        \"og:description\": \"The Federal Election Commission's budget justification for the fiscal year 2025.\"\n-                      }\n-                    ]\n-                  }\n-                }\n-              ]\n-            },\n-            {\n-              \"search_id\": \"search_midterm_finance_02\",\n-              \"rationale\": \"Focused search on the impact of recent legal decisions on campaign finance.\",\n-              \"parameters\": {\n-                \"query\": \"Impact of Citizens United on 2026 Midterm Election Fundraising\",\n-                \"daterestrict\": \"y1\",\n-                \"safe\": \"off\",\n-                \"siteSearch\": \"campaignlegal.org OR brennancenter.org\",\n-                \"siteSearchFilter\": \"i\",\n-                \"sort\": \"date\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://campaignlegal.org/update/how-does-citizens-united-decision-still-affect-us-2025\",\n-                  \"title\": \"How Does the Citizens United Decision Still Affect Us?\",\n-                  \"snippet\": \"An analysis of the ongoing impact of the Citizens United decision on campaign finance.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"How Does the Citizens United Decision Still Affect Us?\",\n-                        \"og:description\": \"An analysis of the ongoing impact of the Citizens United decision on campaign finance.\"\n-                      }\n-                    ]\n-                  }\n-                }\n-              ]\n-            }\n-          ]\n-        },\n-        {\n-          \"gap_id\": \"gap_doge_status_2025\",\n-          \"description\": \"Outdated status of the Department of Government Efficiency (DOGE) since January 2025\",\n-          \"searches\": [\n-            {\n-              \"search_id\": \"search_doge_status_01\",\n-              \"rationale\": \"Targeted search for official government memos and updates regarding DOGE.\",\n-              \"parameters\": {\n-                \"query\": \"\\\"Department of Government Efficiency\\\" memos 2025\",\n-                \"daterestrict\": \"9m\",\n-                \"safe\": \"off\",\n-                \"siteSearch\": \"opm.gov OR whitehouse.gov\",\n-                \"siteSearchFilter\": \"i\",\n-                \"sort\": \"metatags-pubdate:d\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://www.opm.gov/policy-data-oversight/latest-memos\",\n-                  \"title\": \"Department of Government Efficiency (DOGE) Update 2025\",\n-                  \"snippet\": \"An update on the status and initiatives of the Department of Government Efficiency (DOGE) as of 2025.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"Department of Government Efficiency (DOGE) Update 2025\",\n-                        \"og:description\": \"An update on the status and initiatives of the Department of Government Efficiency (DOGE) as of 2025.\"\n-                      }\n-                    ]\n-                  }\n-                }\n-              ]\n-            },\n-            {\n-              \"search_id\": \"search_doge_initiatives_02\",\n-              \"rationale\": \"Broader search for news and press releases related to government efficiency initiatives.\",\n-              \"parameters\": {\n-                \"query\": \"government efficiency initiatives press release \\\"Brooke Rollins\\\"\",\n-                \"daterestrict\": \"m6\",\n-                \"safe\": \"off\",\n-                \"siteSearch\": \".gov\",\n-                \"siteSearchFilter\": \"i\",\n-                \"sort\": \"date\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://www.usda.gov/media/press-releases/2025/02/14/secretary-rollins-pledges-greater-efficiency\",\n-                  \"title\": \"Secretary Rollins Takes Bold Action to Stop Wasteful Spending and Optimize USDA to Better Serve American Agriculture\",\n-                  \"snippet\": \"Today, U.S. Secretary of Agriculture Brooke Rollins addressed more than 400 USDA staffers, stakeholders and friends and pledged to bring greater efficiency...\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"Secretary Rollins Takes Bold Action to Stop Wasteful Spending\",\n-                        \"og:description\": \"In a bold move, Secretary Rollins has committed to eliminating wasteful spending within the USDA and optimizing its operations to better serve American agriculture.\"\n-                      }\n-                    ]\n-                  }\n-                }\n-              ]\n-            }\n-          ]\n-        }\n-      ]\n-    },\n-    {\n-      \"report_id\": \"res_20250824_062613\",\n-      \"gaps\": [\n-        {\n-          \"gap_id\": \"gap_2025_infrastructure_bill\",\n-          \"description\": \"The knowledge base lacks detailed coverage of the 2025 bipartisan infrastructure bill, including its fiscal impact, project rollouts, and stakeholder analyses.\",\n-          \"research_topic\": \"Compile a comprehensive report on the 2025 Infrastructure Bill: legislative history, budget allocations, projected economic effects, and key political negotiations.\",\n-          \"searches\": []\n-        },\n-        {\n-          \"gap_id\": \"gap_climate_policy_updates\",\n-          \"description\": \"Stale or missing information on post\\u20112024 climate legislation, such as the Clean Energy Transition Act and updated EPA regulations.\",\n-          \"research_topic\": \"Investigate and document all federal climate policy actions taken since 2023, including new statutes, executive orders, and regulatory changes affecting emissions, renewable energy incentives, and environmental justice.\",\n-          \"searches\": [\n-            {\n-              \"rationale\": \"Broad overview of federal climate policy actions since 2023 to identify key statutes, executive orders, and regulations.\",\n-              \"parameters\": {\n-                \"query\": \"\\\"federal climate policy\\\" 2023 site:gov\",\n-                \"daterestrict\": \"y2\",\n-                \"safe\": \"off\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://www.federalregister.gov/documents/2025/01/28/2025-01901/initial-rescissions-of-harmful-executive-orders-and-actions\",\n-                  \"title\": \"Initial Rescissions of Harmful Executive Orders and Actions\",\n-                  \"snippet\": \"Jan 28, 2025 ... (ff) Executive Order 14027 of May 7, 2021 (Establishment of the Climate Change Support Office). ... (hhh) Executive Order 14115 of February 1, 2024 \\u2026\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/01/unleashing-american-energy/\",\n-                  \"title\": \"Unleashing American Energy \\u2013 The White House\",\n-                  \"snippet\": \"Jan 20, 2025 ... Executive Order 14030 of May 20, 2021 (Climate-Related Financial Risk); Executive Order 14037 of August \\u2026\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/01/putting-america-first-in-international-environmental-agreements/\",\n-                  \"title\": \"Putting America First In International Environmental Agreements \\u2013 The White House\",\n-                  \"snippet\": \"Jan 20, 2025 ... Section 1. \\u2026\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.federalregister.gov/documents/2024/02/28/2024-01567/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n-                  \"snippet\": \"Feb 28, 2024 ... This rule establishes a new emissions standard for electric power plants to reduce CO2 and other pollutants.\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.federalregister.gov/documents/2023/12/15/2023-26001/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n-                  \"snippet\": \"Dec 15, 2023 ... The rule sets a new emissions standard for coal\\u2011 and gas\\u2011powered electric power plants.\",\n-                  \"pagemap\": {}\n-                }\n-              ]\n-            },\n-            {\n-              \"rationale\": \"Targeted search for executive orders issued since 2023 that directly address climate change, renewable energy incentives, or environmental justice.\",\n-              \"parameters\": {\n-                \"query\": \"\\\"Executive Order\\\" \\\"climate\\\" 2024 site:gov\",\n-                \"daterestrict\": \"y1\",\n-                \"safe\": \"off\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/01/putting-america-first-in-international-environmental-agreements/\",\n-                  \"title\": \"Putting America First In International Environmental Agreements \\u2013 The White House\",\n-                  \"snippet\": \"Jan 20, 2025 ... Section 1. \\u2026\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2024/02/04/executive-order-on-climate-action/\",\n-                  \"title\": \"Executive Order on Climate Action \\u2013 The White House\",\n-                  \"snippet\": \"Feb 4, 2024 ... This executive order directs federal agencies to develop a comprehensive climate action plan and strengthen climate resilience.\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/01/unleashing-american-energy/\",\n-                  \"title\": \"Unleashing American Energy \\u2013 The White House\",\n-                  \"snippet\": \"Jan 20, 2025 ... Executive Order 14030 of May 20, 2021 (Climate-Related Financial Risk); Executive Order 14037 of August \\u2026\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.federalregister.gov/documents/2024/03/15/2024-05012/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n-                  \"snippet\": \"Mar 15, 2024 ... This rule establishes a new emissions standard for electric power plants to reduce CO2 and other pollutants.\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.federalregister.gov/documents/2025/01/28/2025-01901/initial-rescissions-of-harmful-executive-orders-and-actions\",\n-                  \"title\": \"Initial Rescissions of Harmful Executive Orders and Actions \\u2013 Federal Register\",\n-                  \"snippet\": \"Jan 28, 2025 ... (hhh) Executive Order 14115 of February 1, 2024 \\u2026\",\n-                  \"pagemap\": {}\n-                }\n-              ]\n-            },\n-            {\n-              \"rationale\": \"Search for new federal statutes enacted since 2023 that impact emissions, renewable energy incentives, or environmental justice.\",\n-              \"parameters\": {\n-                \"query\": \"\\\"public law\\\" \\\"climate\\\" 2024 site:gov\",\n-                \"daterestrict\": \"y1\",\n-                \"safe\": \"off\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://www.govinfo.gov/content/pkg/PLAW-117-112/pdf/PLAW-117-112.pdf\",\n-                  \"title\": \"Public Law 117\\u2011112 \\u2013 Climate Action and Resilience Act of 2023\",\n-                  \"snippet\": \"This law establishes a national carbon pricing mechanism, expands renewable energy tax credits, and creates an Environmental Justice Fund.\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.govinfo.gov/content/pkg/PLAW-118-45/pdf/PLAW-118-45.pdf\",\n-                  \"title\": \"Public Law 118\\u201145 \\u2013 Clean Energy Investment Act of 2024\",\n-                  \"snippet\": \"The act authorizes $30\\u202fbillion in federal renewable energy incentives and sets new emissions standards for transportation.\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.govinfo.gov/content/pkg/PLAW-118-12/pdf/PLAW-118-12.pdf\",\n-                  \"title\": \"Public Law 118\\u201112 \\u2013 Environmental Justice Climate Adaptation Act of 2024\",\n-                  \"snippet\": \"Provides funding for climate resilience projects in disadvantaged communities and mandates federal agencies to conduct environmental justice assessments.\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.federalregister.gov/documents/2023/12/15/2023-26001/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n-                  \"snippet\": \"Dec 15, 2023 ... The rule sets a new emissions standard for coal\\u2011 and gas\\u2011powered electric power plants.\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.federalregister.gov/documents/2024/03/15/2024-05012/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n-                  \"snippet\": \"Mar 15, 2024 ... This rule establishes a new emissions standard for electric power plants to reduce CO2 and other pollutants.\",\n-                  \"pagemap\": {}\n-                }\n-              ]\n-            },\n-            {\n-              \"rationale\": \"Targeted search for regulatory changes (rules) issued by federal agencies since 2023 that affect emissions, renewable energy incentives, or environmental justice.\",\n-              \"parameters\": {\n-                \"query\": \"\\\"final rule\\\" \\\"renewable energy\\\" 2024 site:federalregister.gov\",\n-                \"daterestrict\": \"y1\",\n-                \"safe\": \"off\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://www.federalregister.gov/documents/2024/04/30/2024-08612/final-rule-expanding-federal-renewable-energy-incentives\",\n-                  \"title\": \"Final Rule: Expanding Federal Renewable Energy Incentives \\u2013 Federal Register\",\n-                  \"snippet\": \"Apr 30, 2024 ... The rule increases the Investment Tax Credit for solar and wind projects and introduces a new credit for community microgrids.\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.federalregister.gov/documents/2025/01/28/2025-01901/initial-rescissions-of-harmful-executive-orders-and-actions\",\n-                  \"title\": \"Initial Rescissions of Harmful Executive Orders and Actions \\u2013 Federal Register\",\n-                  \"snippet\": \"Jan 28, 2025 ... (hhh) Executive Order 14115 of February 1, 2024 \\u2026\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.federalregister.gov/documents/2023/12/15/2023-26001/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n-                  \"snippet\": \"Dec 15, 2023 ... The rule sets a new emissions standard for coal\\u2011 and gas\\u2011powered electric power plants.\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.federalregister.gov/documents/2024/03/15/2024-05012/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n-                  \"snippet\": \"Mar 15, 2024 ... This rule establishes a new emissions standard for electric power plants to reduce CO2 and other pollutants.\",\n-                  \"pagemap\": {}\n-                },\n-                {\n-                  \"url\": \"https://www.federalregister.gov/documents/2025/02/01/2025-01234/final-rule-environmental-justice-assessment-guidelines\",\n-                  \"title\": \"Final Rule: Environmental Justice Assessment Guidelines \\u2013 Federal Register\",\n-                  \"snippet\": \"Feb 1, 2025 ... Agencies must conduct environmental justice assessments for all major projects and report findings to the EPA.\",\n-                  \"pagemap\": {}\n-                }\n-              ]\n-            }\n-          ]\n-        },\n-        {\n-          \"gap_id\": \"gap_ai_governance\",\n-          \"description\": \"No current data on AI regulation initiatives, federal AI research funding, or emerging legal frameworks addressing algorithmic bias.\",\n-          \"research_topic\": \"Research the latest U.S. federal policies, bills, and executive actions concerning artificial intelligence governance, focusing on transparency, accountability, and anti\\u2011bias measures.\",\n-          \"searches\": [\n-            {\n-              \"rationale\": \"Broad overview of U.S. federal AI governance initiatives, including laws, bills, and policy frameworks published in the last year.\",\n-              \"parameters\": {\n-                \"query\": \"\\\"U.S.\\\" \\\"artificial intelligence\\\" governance transparency accountability bias\",\n-                \"num\": 10,\n-                \"dateRestrict\": \"y1\",\n-                \"safe\": \"off\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://www.whitecase.com/insight-our-thinking/ai-watch-global-regulatory-tracker-united-states\",\n-                  \"title\": \"AI Watch: Global regulatory tracker - United States | White & Case LLP\",\n-                  \"snippet\": \"Jul 21, 2025 ... The US relies on existing federal laws and guidelines to regulate AI but aims to introduce AI legislation and a federal regulation authority.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRVXIkG2V4NOY82jh9V32uxse_-Wkk8GI01Or-Rry6T5hbAyFZMsc5-ZhB2&s\",\n-                        \"width\": \"367\",\n-                        \"height\": \"137\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"og:image\": \"https://www.whitecase.com/sites/default/files/images/hero/2020/05/NY_Hero_1600x600.jpg\",\n-                        \"og:image:width\": \"1600\",\n-                        \"twitter:card\": \"summary_large_image\",\n-                        \"twitter:title\": \"AI Watch: Global regulatory tracker - United States | White & Case LLP\",\n-                        \"handheldfriendly\": \"true\",\n-                        \"og:title\": \"AI Watch: Global regulatory tracker - United States | White & Case LLP\",\n-                        \"og:image:height\": \"600\",\n-                        \"twitter:description\": \"Laws/Regulations directly regulating AI (the \\u201cAI Regulations\\u201d)\",\n-                        \"mobileoptimized\": \"width\",\n-                        \"og:url\": \"https://www.whitecase.com/insight-our-thinking/ai-watch-global-regulatory-tracker-united-states\"\n-                      }\n-                    ],\n-                    \"cse_image\": [\n-                      {\n-                        \"src\": \"https://www.whitecase.com/sites/default/files/images/hero/2020/05/NY_Hero_1600x600.jpg\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.ncsl.org/technology-and-communication/artificial-intelligence-in-government-the-federal-and-state-landscape\",\n-                  \"title\": \"Artificial Intelligence in Government: The Federal and State Landscape\",\n-                  \"snippet\": \"Nov 22, 2024 ... Federal, state and local governments have started to adopt AI tools in their daily operations and to deliver government benefits and services.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"viewport\": \"width=device-width, initial-scale=1.0\",\n-                        \"facebook-domain-verification\": \"d01vcrcofyvil47w3ksyhcvlcgb2eg\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://iapp.org/resources/article/key-terms-for-ai-governance/\",\n-                  \"title\": \"Key Terms for AI Governance\",\n-                  \"snippet\": \"Jul 30, 2025 ... ... AI systems depends on transparency and helps promote accountability within AI governance. ... US federal AI governance: Laws, policies and strategies.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7t_xZHF71y3kJC33e56b-Fm4WUuzayF9gUoiHfYoyRA-qleF9gD-3Ev5A&s\",\n-                        \"width\": \"200\",\n-                        \"height\": \"200\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"msapplication-tilecolor\": \"#ffffff\",\n-                        \"og:image\": \"https://iapp.org/wp-content/themes/iapp/static/img/iapp_logo_fb.png\",\n-                        \"theme-color\": \"#ffffff\",\n-                        \"viewport\": \"width=device-width, initial-scale=1.0, user-scalable=0\",\n-                        \"og:title\": \"Key Terms for AI Governance\",\n-                        \"msapplication-tileimage\": \"/ms-icon-144x144.png\",\n-                        \"og:description\": \"This glossary provides definitions and explanations for some of the most common terms related to AI governance.\"\n-                      }\n-                    ],\n-                    \"cse_image\": [\n-                      {\n-                        \"src\": \"https://iapp.org/wp-content/themes/iapp/static/img/iapp_logo_fb.png\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.sciencedirect.com/science/article/pii/S0963868724000672\",\n-                  \"title\": \"Responsible artificial intelligence governance: A review and ...\",\n-                  \"snippet\": \"Jan 3, 2025 ... Accountability and transparency in artificial intelligence. AI ... Steering the governance of artificial intelligence: National strategies in perspective.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTVxgW7IcLXjH63ljLedwLACBPB0JeQn2E01yoSq2f_mTSzNK1O5SZUKS8&s\",\n-                        \"width\": \"110\",\n-                        \"height\": \"150\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"citation_author_orcid\": \"0000-0002-6788-2277\",\n-                        \"og:image\": \"https://ars.els-cdn.com/content/image/1-s2.0-S0963868724X00062-cov150h.gif\",\n-                        \"citation_publication_date\": \"2025/06/01\",\n-                        \"citation_title\": \"Responsible artificial intelligence governance: A review and research framework\"\n-                      }\n-                    ],\n-                    \"cse_image\": [\n-                      {\n-                        \"src\": \"https://ars.els-cdn.com/content/image/1-s2.0-S0963868724X00062-cov150h.gif\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.mcdonaldhopkins.com/insights/news/ai-governance-an-overview-for-businesses-financial-institutions-and-hipaa-covered-entities\",\n-                  \"title\": \"AI governance: An overview for businesses, financial institutions ...\",\n-                  \"snippet\": \"Aug 4, 2025 ... AI governance involves creating frameworks and rules that address issues like fairness, transparency, accountability, data privacy, and the prevention of bias\\u2026\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQlfAlABAmxHN0zFm0dG4hlfmLrs_30A7P6FP04suxwyoRxP8fN2sDhqSs&s\",\n-                        \"width\": \"284\",\n-                        \"height\": \"178\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"og:image\": \"https://www.mcdonaldhopkins.com/assets/images-t1755531901/1091.jpeg\",\n-                        \"twitter:card\": \"summary_large_image\",\n-                        \"twitter:site\": \"@mcdonaldhopkins\"\n-                      }\n-                    ],\n-                    \"cse_image\": [\n-                      {\n-                        \"src\": \"https://www.mcdonaldhopkins.com/assets/images-t1755531901/1091.jpeg\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://kennedyslaw.com/en/thought-leadership/article/2025/key-insights-into-ai-regulations-in-the-eu-and-the-us-navigating-the-evolving-landscape/\",\n-                  \"title\": \"Key insights into AI regulations in the EU and the US: navigating the ...\",\n-                  \"snippet\": \"Jan 21, 2025 ... However, both prioritise fairness, transparency, and accountability ... federal guidelines, underscoring the need for flexibility in AI governance strategies.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"theme-color\": \"#00A3E0\",\n-                        \"og:type\": \"website\"\n-                      }\n-                    ],\n-                    \"sitenavigationelement\": [\n-                      {\n-                        \"name\": \"Where we are\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.unesco.org/en/artificial-intelligence/recommendation-ethics\",\n-                  \"title\": \"Ethics of Artificial Intelligence | UNESCO\",\n-                  \"snippet\": \"Aug 26, 2024 ... The aim of the Global AI Ethics and Governance Observatory is to provide a global resource for policymakers, regulators, academics, the private sector and civil\\u2026\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:type\": \"article\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.littler.com/news-analysis/asap/executive-order-tracker\",\n-                  \"title\": \"Executive Order Tracker | Littler\",\n-                  \"snippet\": \"Aug 7, 2025 ... This executive order rescinds Executive Order 14237, signed March 14, 2025\\u2026\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSBw584IGvU9epTINhOkGf1TWfIZ9XH4j7kvLdW17vEUIdHXzxQBP8TWYg&s\",\n-                        \"width\": \"311\",\n-                        \"height\": \"162\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"og:image\": \"https://www.littler.com/sites/default/files/sm_asap_executive_order_tracker.png\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.usda.gov/sites/default/files/documents/fy-2025-2026-usda-ai-strategy.pdf\",\n-                  \"title\": \"United States Department of Agriculture Fiscal Year 2025\\u20132026 AI ...\",\n-                  \"snippet\": \"Dec 20, 2024 ... Therefore, our AI Strategy for Fiscal Years. 2025\\u202f\\u2013\\u202f26 reflects a thoughtful, responsible, transparent, and accountable approach to harnessing cutting\\u2011edge.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4WfDN6Le_4uAhd8fbHf5J3s1_a1dDdU0_G-2CAV9GNqrU-XRrGDYABPqe&s\",\n-                        \"width\": \"240\",\n-                        \"height\": \"210\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"moddate\": \"D:20241220114829-05'00'\",\n-                        \"creationdate\": \"D:20241220093234-06'00'\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.taftlaw.com/news-events/law-bulletins/what-does-a-second-trump-administration-mean-for-ai-regulation/\",\n-                  \"title\": \"What Does a Second Trump Administration Mean for AI Regulation? | Law Bulletins | Taft Law\",\n-                  \"snippet\": \"Nov 14, 2024 ... AI Accountability and Transparency Initiatives: President Biden's administration took steps to set AI \\u2026 executive orders \\u2013 like those promoting AI ethics\\u2026\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQKROg7xtSOpNSgxUq5WRteqj-WcMGzUYPnFhPZV1oMP1ly2dTDf_tWLNS1&s\",\n-                        \"width\": \"303\",\n-                        \"height\": \"166\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"og:image\": \"https://media.taftlaw.com/wp-content/uploads/2024/11/14094243/AI-Whiteboard-scaled.jpg\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://iprospectcheck.com/ai-recruiting/\",\n-                  \"title\": \"AI Recruiting: A Guide for Employers (2025) - iprospectcheck\",\n-                  \"snippet\": \"Apr 8, 2025 ... AI in hiring offers numerous benefits to recruitment teams but must be used prudently with attention to laws and potential drawbacks. Learn more.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTeDP2AcPutCObXsMUiNQ4Dpkqi203a5VQFjW6GaY0CCWJr-2V5V4P966QZ&s\",\n-                        \"width\": \"275\",\n-                        \"height\": \"183\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"og:image\": \"https://iprospectcheck.com/wp-content/uploads/2025/02/ai-recruiting.jpg\"\n-                      }\n-                    ]\n-                  }\n-                }\n-              ]\n-            },\n-            {\n-              \"rationale\": \"Identify specific federal bills introduced or passed in 2024\\u201125 that target AI transparency, accountability and anti\\u2011bias.\",\n-              \"parameters\": {\n-                \"query\": \"\\\"AI Accountability Act\\\" bill United States 2025\",\n-                \"num\": 10,\n-                \"dateRestrict\": \"y2\",\n-                \"safe\": \"off\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://www.congress.gov/bill/118th-congress/senate-bill/1234\",\n-                  \"title\": \"S.1234 - AI Accountability Act of 2025 (House)\",\n-                  \"snippet\": \"Introduced: Jan\\u00a012,\\u202f2025 \\u2013 The AI Accountability Act proposes mandatory transparency reports for all federal agencies deploying AI systems and requires bias audits.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"S.1234 - AI Accountability Act of 2025 (House)\",\n-                        \"description\": \"The AI Accountability Act proposes mandatory transparency reports for all federal agencies deploying AI systems.\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.congress.gov/bill/118th-congress/senate-bill/5678\",\n-                  \"title\": \"S.5678 - Federal Anti\\u2011Bias in Artificial Intelligence Act of 2025\",\n-                  \"snippet\": \"Introduced: Mar\\u00a03,\\u202f2025 \\u2013 This bill mandates that any AI system used by the federal government must undergo an independent bias assessment and publish findings.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"S.5678 - Federal Anti\\u2011Bias in Artificial Intelligence Act of 2025\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.congress.gov/bill/118th-congress/hc-9876\",\n-                  \"title\": \"H.R.9876 \\u2013 AI Transparency and Accountability for Public Sector (Public Law)\",\n-                  \"snippet\": \"Passed: Jun\\u00a015,\\u202f2025 \\u2013 The act requires federal agencies to disclose data sources, model architecture, and decision\\u2011making logic for all AI deployments.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"H.R.9876 \\u2013 AI Transparency and Accountability for Public Sector\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title15/html/USCODE-2025-title15-chap3-sec1234.htm\",\n-                  \"title\": \"Title 15 \\u2013 AI Governance and Transparency (U.S. Code)\",\n-                  \"snippet\": \"Section\\u202f1234 of Title\\u00a015 codifies the requirement for federal agencies to maintain an AI transparency registry.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"Title 15 \\u2013 AI Governance and Transparency\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title42/html/USCODE-2025-title42-chap1-sec101.htm\",\n-                  \"title\": \"Title\\u00a042 \\u2013 Anti\\u2011Bias in AI Act (U.S. Code)\",\n-                  \"snippet\": \"Section\\u202f101 mandates that all federally funded research involving AI must include bias mitigation plans.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"Title 42 \\u2013 Anti-Bias in AI Act\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title18/html/USCODE-2025-title18-chap2-sec201.htm\",\n-                  \"title\": \"Title\\u00a018 \\u2013 Federal Transparency for AI Systems (U.S. Code)\",\n-                  \"snippet\": \"Section\\u202f201 requires federal agencies to publish an annual transparency report on AI usage.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"Title 18 \\u2013 Federal Transparency for AI Systems\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title9/html/USCODE-2025-title9-chap4-sec301.htm\",\n-                  \"title\": \"Title\\u00a09 \\u2013 Accountability of AI Algorithms (U.S. Code)\",\n-                  \"snippet\": \"Section\\u202f301 mandates independent audits for any algorithmic decision\\u2011making used by federal agencies.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"Title 9 \\u2013 Accountability of AI Algorithms\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title34/html/USCODE-2025-title34-chap7-sec401.htm\",\n-                  \"title\": \"Title\\u00a034 \\u2013 Data Privacy and AI Transparency (U.S. Code)\",\n-                  \"snippet\": \"Section\\u202f401 requires that all data used in AI models be disclosed to the public.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"Title 34 \\u2013 Data Privacy and AI Transparency\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title23/html/USCODE-2025-title23-chap2-sec201.htm\",\n-                  \"title\": \"Title\\u00a023 \\u2013 Anti\\u2011Bias Enforcement (U.S. Code)\",\n-                  \"snippet\": \"Section\\u202f201 establishes a federal anti\\u2011bias enforcement agency for AI systems.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"Title 23 \\u2013 Anti-Bias Enforcement\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title19/html/USCODE-2025-title19-chap1-sec101.htm\",\n-                  \"title\": \"Title\\u00a019 \\u2013 AI Accountability and Oversight (U.S. Code)\",\n-                  \"snippet\": \"Section\\u202f101 requires federal agencies to appoint an independent oversight board for AI deployments.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"Title 19 \\u2013 AI Accountability and Oversight\"\n-                      }\n-                    ]\n-                  }\n-                }\n-              ]\n-            },\n-            {\n-              \"rationale\": \"Collect executive orders from the last year that explicitly address AI transparency, accountability or bias mitigation.\",\n-              \"parameters\": {\n-                \"query\": \"\\\"Executive Order\\\" \\\"AI\\\" transparency accountability bias 2025\",\n-                \"num\": 10,\n-                \"dateRestrict\": \"y1\",\n-                \"safe\": \"off\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/07/preventing-woke-ai-in-the-federal-government/\",\n-                  \"title\": \"Preventing Woke AI in the Federal Government \\u2013 The White House\",\n-                  \"snippet\": \"Jul 23, 2025 ... Executive Order: Preventing Woke AI in the Federal Government. Requires agencies to conduct bias audits and publish transparency reports.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRGZ5IBWAgPWwukNtn53c-9NXwAJlh1uyK1pUqGAdNI14IjDd4z9tMP7Ptu&s\",\n-                        \"width\": \"311\",\n-                        \"height\": \"162\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"og:image\": \"https://www.whitehouse.gov/wp-content/uploads/2025/03/WH47-Presidential-Actions-Social-Share-Card.jpg\",\n-                        \"article:published_time\": \"2025-07-23T22:47:48+00:00\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/01/removing-barriers-to-american-leadership-in-artificial-intelligence/\",\n-                  \"title\": \"Removing Barriers to American Leadership in Artificial Intelligence \\u2013 The White House\",\n-                  \"snippet\": \"Jan 23, 2025 ... Executive Order 14148 establishes a federal AI strategy that mandates transparency reporting and anti\\u2011bias oversight for all agencies.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1qJz2n5K4l6ZyVw8xL-3QeX7EjnTtYfGgkA&s\",\n-                        \"width\": \"300\",\n-                        \"height\": \"200\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"og:image\": \"https://www.whitehouse.gov/wp-content/uploads/2025/01/EO14148-Header.jpg\",\n-                        \"article:published_time\": \"2025-01-23T10:00:00+00:00\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2024/12/federal-ai-transparency-order/\",\n-                  \"title\": \"Federal AI Transparency Order \\u2013 The White House\",\n-                  \"snippet\": \"Dec 15, 2024 ... Executive Order 14130 requires all federal agencies to publish an annual transparency report on their AI systems and mandates bias mitigation plans.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRkzY1lS2n5Zb8iH7xV6eM3wLhKJf4uNqXgA&s\",\n-                        \"width\": \"310\",\n-                        \"height\": \"160\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"og:image\": \"https://www.whitehouse.gov/wp-content/uploads/2024/12/Federal-AI-Transparency.jpg\",\n-                        \"article:published_time\": \"2024-12-15T08:00:00+00:00\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.hklaw.com/en/general-pages/trumps-2025-executive-orders-chart\",\n-                  \"title\": \"Trump's 2025 Executive Orders | Holland & Knight\",\n-                  \"snippet\": \"Jul 24, 2025 ... This executive order pushes to increase transparency for government spending and AI systems free from ideological bias.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTT7XQR7pa8UhNRBg5dqpCRlk1Hr6wLWpRmycxP1aP0x1YpmVnuUIANnO8&s\",\n-                        \"width\": \"311\",\n-                        \"height\": \"162\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"og:image\": \"https://www.hklaw.com/-/media/images/twittercards/hk_opengraph.png?rev=ec0d75523b1f4e68920e3e1b42304866&sc_lang=en&hash=3345DDE33F8D43A99B42BABA11D22AF8\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.littler.com/news-analysis/asap/executive-order-tracker\",\n-                  \"title\": \"Executive Order Tracker | Littler\",\n-                  \"snippet\": \"Aug 7, 2025 ... This executive order rescinds Executive Order 14237, signed March\\u00a014,\\u202f2025 \\u2013 the previous AI transparency mandate was updated to require bias audits.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSBw584IGvU9epTINhOkGf1TWfIZ9XH4j7kvLdW17vEUIdHXzxQBP8TWYg&s\",\n-                        \"width\": \"311\",\n-                        \"height\": \"162\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"og:image\": \"https://www.littler.com/sites/default/files/sm_asap_executive_order_tracker.png\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/04/federal-ai-anti-bias-order/\",\n-                  \"title\": \"Federal AI Anti\\u2011Bias Order \\u2013 The White House\",\n-                  \"snippet\": \"Apr 12, 2025 ... Executive Order 14155 establishes an independent oversight board to audit bias in all federal AI systems.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS8e7G6K2xYk3u4Qh1Jt5nLzZVfXqB5oM8WgA&s\",\n-                        \"width\": \"300\",\n-                        \"height\": \"200\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"og:image\": \"https://www.whitehouse.gov/wp-content/uploads/2025/04/Federal-AI-Anti-Bias.jpg\",\n-                        \"article:published_time\": \"2025-04-12T09:30:00+00:00\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.congress.gov/bill/118th-congress/senate-bill/9876\",\n-                  \"title\": \"S.9876 \\u2013 Executive Order on AI Transparency (Senate)\",\n-                  \"snippet\": \"Introduced: Mar\\u00a05,\\u202f2025 \\u2013 The bill proposes to formalize an executive order that requires all agencies to publish transparency reports and conduct bias audits.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"S.9876 \\u2013 Executive Order on AI Transparency (Senate)\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title10/html/USCODE-2025-title10-chap1-sec101.htm\",\n-                  \"title\": \"Title\\u00a010 \\u2013 Executive Order on AI Transparency (U.S. Code)\",\n-                  \"snippet\": \"Section\\u202f101 codifies the requirement for a federal executive order mandating transparency and anti\\u2011bias measures in AI.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"Title 10 \\u2013 Executive Order on AI Transparency\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title15/html/USCODE-2025-title15-chap3-sec1234.htm\",\n-                  \"title\": \"Title\\u00a015 \\u2013 Federal AI Executive Order (U.S. Code)\",\n-                  \"snippet\": \"Section\\u202f1234 requires the President to issue an executive order on AI transparency, accountability and bias mitigation.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"og:title\": \"Title 15 \\u2013 Federal AI Executive Order\"\n-                      }\n-                    ]\n-                  }\n-                }\n-              ]\n-            }\n-          ]\n-        },\n-        {\n-          \"gap_id\": \"gap_postpandemic_economic_data\",\n-          \"description\": \"Outdated economic indicators (e.g., unemployment, inflation) and incomplete post\\u2011COVID recovery statistics beyond 2023.\",\n-          \"research_topic\": \"Gather updated macroeconomic data for 2024\\u20132025, including employment trends, inflation rates, and sectoral growth, with a focus on disparities among underrepresented groups.\",\n-          \"searches\": [\n-            {\n-              \"rationale\": \"Broad overview of macro\\u2011economic trends for 2024\\u20132025, including employment growth, inflation outlook and sectoral performance with a focus on disparities among underrepresented groups.\",\n-              \"parameters\": {\n-                \"query\": \"\\\"macroeconomic data\\\" \\\"2024\\\" \\\"2025\\\" employment inflation sector growth underrepresented groups\",\n-                \"num\": 10,\n-                \"dateRestrict\": \"y1\",\n-                \"safe\": \"off\",\n-                \"sort\": \"date\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://www.americanprogress.org/article/trumps-agenda-is-a-direct-threat-to-the-black-middle-class/\",\n-                  \"title\": \"Trump's Agenda Is a Direct Threat to the Black Middle Class - Center for American Progress\",\n-                  \"snippet\": \"6 days ago ... During his 2024 campaign for the White House, Donald Trump made various overtures to Black Americans about what he would do for them as president. In this \\u2026\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRoc-yMnNWgNTAGmzPVRVRTfzulIPzVMsu346l-Y5G5OY3zk-fnpX2qx0I&s\",\n-                        \"width\": 310,\n-                        \"height\": 163\n-                      }\n-                    ],\n-                    \"document\": [\n-                      {\n-                        \"website\": \"Center for American Progress\",\n-                        \"issue\": \"Advancing Racial Equity and Justice\",\n-                        \"author\": \"William Roberts;Mariam Rashid\",\n-                        \"topics\": \"College Affordability and Student Debt;Growing the Middle Class;Racial Equity and Justice;Trump Administration\",\n-                        \"description\": \"Donald Trump returned to the presidency promising a policy agenda that would help the Black middle class succeed. However, his choices in office and his attacks on diversity and equal opportunity have represented a direct assault on their ability to maintain economic stability.\",\n-                        \"team\": \"Racial Equity and Justice\",\n-                        \"type\": \"Article\",\n-                        \"title\": \"Trump\\u2019s Agenda Is a\\u00a0Direct Threat to the Black Middle Class\",\n-                        \"post_id\": 140938,\n-                        \"post_date\": \"08/18/2025\",\n-                        \"last_update\": \"08/18/2025\",\n-                        \"department\": \"Rights and Justice\",\n-                        \"slug\": \"trumps-agenda-is-a-direct-threat-to-the-black-middle-class\"\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"msapplication-tilecolor\": \"#ffffff\",\n-                        \"og:image\": \"https://www.americanprogress.org/wp-content/uploads/sites/2/2022/08/cap_social_share.png\",\n-                        \"msapplication-config\": \"https://www.americanprogress.org/wp-content/themes/cap2021/assets/favicons/browserconfig.xml\",\n-                        \"og:type\": \"article\",\n-                        \"og:image:width\": 1200,\n-                        \"twitter:card\": \"summary_large_image\",\n-                        \"theme-color\": \"#ffffff\",\n-                        \"og:site_name\": \"Center for American Progress\",\n-                        \"og:title\": \"Trump\\u2019s Agenda Is a Direct Threat to the Black Middle Class\",\n-                        \"og:image:height\": 630,\n-                        \"parsely-author\": \"William Roberts\",\n-                        \"og:description\": \"Donald Trump returned to the presidency promising a policy agenda that would help the Black middle class succeed. However, his choices in office and his attacks on diversity and equal opportunity have represented a direct assault on their ability to maintain economic stability.\",\n-                        \"parsely-tags\": [\n-                          \"Topic: College Affordability and Student Debt\",\n-                          \"Topic: Growing the Middle Class\",\n-                          \"Topic: Racial Equity and Justice\",\n-                          \"Topic: Trump Administration\"\n-                        ],\n-                        \"article:published_time\": \"\",\n-                        \"og:url\": \"https://www.americanprogress.org/article/trumps-agenda-is-a-direct-threat-to-the-black-middle-class/\"\n-                      }\n-                    ],\n-                    \"cse_image\": [\n-                      {\n-                        \"src\": \"https://www.americanprogress.org/wp-content/uploads/sites/2/2022/08/cap_social_share.png\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://eere-exchange.energy.gov/\",\n-                  \"title\": \"EERE eXCHANGE: Funding Opportunities\",\n-                  \"snippet\": \"Aug 14, 2025 ... EERE Funding Opportunities ; FY2024 Vehicle Technologies Office Research & Development Funding Opportunity Announcement ; TPL-0000054, Teaming\\u2026\",\n-                  \"pagemap\": null\n-                },\n-                {\n-                  \"url\": \"https://www.oregon.gov/employ/Agency/Documents/2024/2024-08-14/2025-27-Agency-Request-Budget.pdf\",\n-                  \"title\": \"Employment Department 2025-27 Agency Request Budget\",\n-                  \"snippet\": \"Aug 13, 2025 ... This document outlines the budget request for employment and economic development initiatives in Oregon.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSZzUZFg5MIFumpbOIvatxsHP-cAUHsa_s0Hseu0D6kEWIA5XAJR6L2dqg&s\",\n-                        \"width\": 275,\n-                        \"height\": 183\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"moddate\": \"20240814135946-07'00'\",\n-                        \"creationdate\": \"20240814135131-07'00'\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://openknowledge.worldbank.org/entities/publication/4fae73ee-a82e-596a-877a-aa2d3ed54464\",\n-                  \"title\": \"Publication: Ethnic and Gender Wage Disparities in Sri Lanka\",\n-                  \"snippet\": \"Aug 12, 2025 ... The authors examine wage inequalities in Sri Lanka's formal sector using data from the Sri Lanka Integrated Survey 1999-2000.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTOMR8J4LYOhFdoVU6mtGuH7X6wBcwbsQeiTg2DOsGpSkv1iF-fj1q5WZ6&s\",\n-                        \"width\": 197,\n-                        \"height\": 256\n-                      }\n-                    ],\n-                    \"metatags\": [\n-                      {\n-                        \"citation_keywords\": \"WAGE DIFFERENTIATION; ETHNIC DISCRIMINATION; GENDER DISCRIMINATION; WAGE RATES; LABOR MARKETS; GENDER INEQUALITY; WOMEN WAGES; ETHNICITY ALS; ...\",\n-                        \"citation_title\": \"Ethnic and Gender Wage Disparities in Sri Lanka\",\n-                        \"citation_date\": \"2002-06-30\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://ised-isde.canada.ca/site/planning-performance-reporting/en/departmental-plans/innovation-science-and-economic-development-canadas-2024-2025-departmental-plan\",\n-                  \"title\": \"Innovation, Science and Economic Development Canada's 2024\\u20132025 Departmental Plan\",\n-                  \"snippet\": \"Aug 12, 2025 ... The plan outlines initiatives to support under\\u2011represented groups in the Canadian workforce.\",\n-                  \"pagemap\": {\n-                    \"metatags\": [\n-                      {\n-                        \"dcterms.date\": \"2025-08-13\",\n-                        \"dcterms.created\": \"2024-02-20\"\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.usda.gov/sites/default/files/documents/2025-usda-budget-summary.pdf\",\n-                  \"title\": \"United States Department of Agriculture FY 2025 BUDGET SUMMARY\",\n-                  \"snippet\": \"Aug 12, 2025 ... Performance data for 2024 and 2025 are estimates and subject to \\u2026 The budget requests additional funding to further support underrepresented groups.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTZ9ldThbZyd_PEfrvNFV4coKkpOOjPG8WCmOdu3DT6pxqIT0azN1F3rZ&s\",\n-                        \"width\": 272,\n-                        \"height\": 186\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.epi.org/publication/widening-public-sector-pay-gap/\",\n-                  \"title\": \"The public\\u2011sector pay gap is widening. Unions help shrink it.\",\n-                  \"snippet\": \"Aug 29, 2024 ... The report highlights disparities in wages for underrepresented workers in the public sector.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqDmlnXbuSNVsY9knejhiOzXP8G2Oz40ocDv3RPi4y-PoA1dW_IY1xDuzk&s\",\n-                        \"width\": 275,\n-                        \"height\": 183\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/opub/mlr/2024/article/labor-force-and-macroeconomic-projections-overview-and-highlights-2023-33.htm\",\n-                  \"title\": \"Labor force and macroeconomic projections overview and highlights 2023\\u201133.\",\n-                  \"snippet\": \"Aug 29, 2024 ... This rebound leaves less room for growth as the economy was at or near full employment in 2023. Each year, the U.S. Bureau of Labor Statistics publishes\\u2026\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/chart-unemployment-earnings-education.htm\",\n-                  \"title\": \"Education pays: U.S. Bureau of Labor Statistics.\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS has some data on the employment status of \\u2026\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://reports.weforum.org/docs/WEF_Future_of_Jobs_Report_2025.pdf\",\n-                  \"title\": \"Future of Jobs Report 2025 | World Economic Forum\",\n-                  \"snippet\": \"Jan 7, 2025 ... Inflation is predicted to have a mixed outlook for net job creation to 2030, while slower growth is expected to displace 1.6 million jobs globally.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGraQ8CHB0-oNVgMS0zZqS-AZ2VzB13R_QMZa4UDuQEAqhWfQEuABeixo&s\",\n-                        \"width\": 226,\n-                        \"height\": 223\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/\",\n-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/\",\n-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/\",\n-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/\",\n-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/\",\n-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/\",\n-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/\",\n-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/\",\n-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/\",\n-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/\",\n-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by... \",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/\",\n-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n-                  \"snippet\": \"...\",\n-                  \"pagemap\": null\n-                }\n-              ]\n-            },\n-            {\n-              \"rationale\": \"Detailed labor\\u2011force participation and employment statistics broken down by race, ethnicity, sex and age for 2024\\u20132025 to capture disparities among underrepresented groups.\",\n-              \"parameters\": {\n-                \"query\": \"\\\"civilian labor force participation rate\\\" \\\"race\\\" \\\"ethnicity\\\" 2024\",\n-                \"num\": 10,\n-                \"dateRestrict\": \"m6\",\n-                \"safe\": \"off\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/\",\n-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/chart-unemployment-earnings-education.htm\",\n-                  \"title\": \"Education pays: U.S. Bureau of Labor Statistics.\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS has some data on the employment status of \\u2026\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/chart-unemployment-earnings-education.htm\",\n-                  \"title\": \"Education pays: U.S. Bureau of Labor Statistics.\",\n-                  \"snippet\": \"...\",\n-                  \"pagemap\": null\n-                }\n-              ]\n-            },\n-            {\n-              \"rationale\": \"Sector\\u2011specific growth projections and inflation outlook for 2024\\u20132025, with emphasis on how these trends affect underrepresented groups in the workforce.\",\n-              \"parameters\": {\n-                \"query\": \"\\\"Future of Jobs Report\\\" 2025 sectoral growth disparities\",\n-                \"num\": 10,\n-                \"dateRestrict\": \"y1\",\n-                \"safe\": \"off\"\n-              },\n-              \"results\": [\n-                {\n-                  \"url\": \"https://reports.weforum.org/docs/WEF_Future_of_Jobs_Report_2025.pdf\",\n-                  \"title\": \"Future of Jobs Report 2025 | World Economic Forum\",\n-                  \"snippet\": \"Jan 7, 2025 ... Inflation is predicted to have a mixed outlook for net job creation to 2030, while slower growth is expected to displace 1.6 million jobs globally.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGraQ8CHB0-oNVgMS0zZqS-AZ2VzB13R_QMZa4UDuQEAqhWfQEuABeixo&s\",\n-                        \"width\": 226,\n-                        \"height\": 223\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/\",\n-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n-                  \"pagemap\": {\n-                    \"cse_thumbnail\": [\n-                      {\n-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n-                        \"width\": 228,\n-                        \"height\": 126\n-                      }\n-                    ]\n-                  }\n-                },\n-                {\n-                  \"url\": \"https://www.bls.gov/emp/chart-unemployment-earnings-education.htm\",\n-                  \"title\": \"Education pays: U.S. Bureau of Labor Statistics.\",\n-                  \"snippet\": \"...\",\n-                  \"pagemap\": null\n-                }\n-              ]\n-            }\n-          ]\n-        },\n-        {\n-          \"gap_id\": \"gap_supreme_court_recent_cases\",\n-          \"description\": \"Missing summaries of Supreme Court decisions issued in 2024\\u20112025 related to voting rights, civil liberties, and executive power.\",\n-          \"research_topic\": \"Compile a briefing on all U.S. Supreme Court rulings from 2024\\u20132025 that impact election law, freedom of speech, or federal regulatory authority.\",\n-          \"searches\": [\n-            {\n-              \"rationale\": \"Broad overview of Supreme Court election and free\\u2011speech decisions in 2024\\u201325\",\n-              \"parameters\": {\n-                \"query\": \"U.S. Supreme Court election law decision 2024 2025 \\\"Supreme Court\\\"\",\n-                \"dateRestrict\": \"y1\",\n-                \"safe\": \"off\",\n-                \"num\": 10\n-              },\n-              \"results\": []\n-            },\n-            {\n-              \"rationale\": \"Targeted search for voter roll purge stay (Youngkin case)\",\n-              \"parameters\": {\n-                \"query\": \"Youngkin voter rolls purge Supreme Court stay October 2024\",\n-                \"dateRestrict\": \"m6\",\n-                \"safe\": \"off\",\n-                \"num\": 5\n-              },\n-              \"results\": []\n-            },\n-            {\n-              \"rationale\": \"Search for Arizona election practices ruling (Biden v. Trump or similar)\",\n-              \"parameters\": {\n-                \"query\": \"Supreme Court Arizona election rules decision September 2024\",\n-                \"dateRestrict\": \"y1\",\n-                \"safe\": \"off\",\n-                \"num\": 5\n-              },\n-              \"results\": []\n-            },\n-            {\n-              \"rationale\": \"Redistricting case Callais v. Landry federal court review\",\n-              \"parameters\": {\n-                \"query\": \"Callais v. Landry Supreme Court November 2024\",\n-                \"dateRestrict\": \"m6\",\n-                \"safe\": \"off\",\n-                \"num\": 5\n-              },\n-              \"results\": []\n-            },\n-            {\n-              \"rationale\": \"Free\\u2011speech related ruling (e.g., Citizens United influence or new cases on campaign finance)\",\n-              \"parameters\": {\n-                \"query\": \"Supreme Court free speech campaign finance decision 2024 2025\",\n-                \"dateRestrict\": \"y1\",\n-                \"safe\": \"off\",\n-                \"num\": 5\n-              },\n-              \"results\": []\n-            }\n-          ]\n-        }\n-      ]\n-    }\n-  ]\n-}\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,1556 +0,0 @@\n",
        "-{\n",
        "-  \"reports\": [\n",
        "-    {\n",
        "-      \"report_id\": \"rep_20250821_120000\",\n",
        "-      \"timestamp\": \"2025-08-21T12:00:00Z\",\n",
        "-      \"gaps\": [\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_midterm_2026_finance\",\n",
        "-          \"description\": \"Missing information about 2026 U.S. midterm elections\",\n",
        "-          \"searches\": [\n",
        "-            {\n",
        "-              \"search_id\": \"search_midterm_finance_01\",\n",
        "-              \"rationale\": \"Broad search targeting reputable sources on U.S. elections and campaign finance.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"2026 U.S. Midterm Elections: Candidate Landscape, Campaign Finance Trends, and Legislative Priorities\",\n",
        "-                \"daterestrict\": \"6m\",\n",
        "-                \"safe\": \"off\",\n",
        "-                \"siteSearch\": \"rollcall.com OR fec.gov OR campaignlegal.org OR pillsburylaw.com\",\n",
        "-                \"siteSearchFilter\": \"i\",\n",
        "-                \"sort\": \"metatags-pubdate:d\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://rollcall.com/2025/01/07/the-2026-midterm-elections-are-just-around-the-corner/\",\n",
        "-                  \"title\": \"The 2026 Midterm Elections Are Just Around the Corner\",\n",
        "-                  \"snippet\": \"As the 2026 midterm elections approach, candidates are gearing up for what promises to be a highly competitive race.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"The 2026 Midterm Elections Are Just Around the Corner\",\n",
        "-                        \"og:description\": \"As the 2026 midterm elections approach, candidates are gearing up for what promises to be a highly competitive race.\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.fec.gov/resources/cms-content/documents/fy25-fec-congressional-budget-justification.pdf\",\n",
        "-                  \"title\": \"FEC Congressional Budget Justification FY 2025\",\n",
        "-                  \"snippet\": \"The Federal Election Commission's budget justification for the fiscal year 2025.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"FEC Congressional Budget Justification FY 2025\",\n",
        "-                        \"og:description\": \"The Federal Election Commission's budget justification for the fiscal year 2025.\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                }\n",
        "-              ]\n",
        "-            },\n",
        "-            {\n",
        "-              \"search_id\": \"search_midterm_finance_02\",\n",
        "-              \"rationale\": \"Focused search on the impact of recent legal decisions on campaign finance.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"Impact of Citizens United on 2026 Midterm Election Fundraising\",\n",
        "-                \"daterestrict\": \"y1\",\n",
        "-                \"safe\": \"off\",\n",
        "-                \"siteSearch\": \"campaignlegal.org OR brennancenter.org\",\n",
        "-                \"siteSearchFilter\": \"i\",\n",
        "-                \"sort\": \"date\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://campaignlegal.org/update/how-does-citizens-united-decision-still-affect-us-2025\",\n",
        "-                  \"title\": \"How Does the Citizens United Decision Still Affect Us?\",\n",
        "-                  \"snippet\": \"An analysis of the ongoing impact of the Citizens United decision on campaign finance.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"How Does the Citizens United Decision Still Affect Us?\",\n",
        "-                        \"og:description\": \"An analysis of the ongoing impact of the Citizens United decision on campaign finance.\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                }\n",
        "-              ]\n",
        "-            }\n",
        "-          ]\n",
        "-        },\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_doge_status_2025\",\n",
        "-          \"description\": \"Outdated status of the Department of Government Efficiency (DOGE) since January 2025\",\n",
        "-          \"searches\": [\n",
        "-            {\n",
        "-              \"search_id\": \"search_doge_status_01\",\n",
        "-              \"rationale\": \"Targeted search for official government memos and updates regarding DOGE.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"\\\"Department of Government Efficiency\\\" memos 2025\",\n",
        "-                \"daterestrict\": \"9m\",\n",
        "-                \"safe\": \"off\",\n",
        "-                \"siteSearch\": \"opm.gov OR whitehouse.gov\",\n",
        "-                \"siteSearchFilter\": \"i\",\n",
        "-                \"sort\": \"metatags-pubdate:d\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://www.opm.gov/policy-data-oversight/latest-memos\",\n",
        "-                  \"title\": \"Department of Government Efficiency (DOGE) Update 2025\",\n",
        "-                  \"snippet\": \"An update on the status and initiatives of the Department of Government Efficiency (DOGE) as of 2025.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"Department of Government Efficiency (DOGE) Update 2025\",\n",
        "-                        \"og:description\": \"An update on the status and initiatives of the Department of Government Efficiency (DOGE) as of 2025.\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                }\n",
        "-              ]\n",
        "-            },\n",
        "-            {\n",
        "-              \"search_id\": \"search_doge_initiatives_02\",\n",
        "-              \"rationale\": \"Broader search for news and press releases related to government efficiency initiatives.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"government efficiency initiatives press release \\\"Brooke Rollins\\\"\",\n",
        "-                \"daterestrict\": \"m6\",\n",
        "-                \"safe\": \"off\",\n",
        "-                \"siteSearch\": \".gov\",\n",
        "-                \"siteSearchFilter\": \"i\",\n",
        "-                \"sort\": \"date\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://www.usda.gov/media/press-releases/2025/02/14/secretary-rollins-pledges-greater-efficiency\",\n",
        "-                  \"title\": \"Secretary Rollins Takes Bold Action to Stop Wasteful Spending and Optimize USDA to Better Serve American Agriculture\",\n",
        "-                  \"snippet\": \"Today, U.S. Secretary of Agriculture Brooke Rollins addressed more than 400 USDA staffers, stakeholders and friends and pledged to bring greater efficiency...\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"Secretary Rollins Takes Bold Action to Stop Wasteful Spending\",\n",
        "-                        \"og:description\": \"In a bold move, Secretary Rollins has committed to eliminating wasteful spending within the USDA and optimizing its operations to better serve American agriculture.\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                }\n",
        "-              ]\n",
        "-            }\n",
        "-          ]\n",
        "-        }\n",
        "-      ]\n",
        "-    },\n",
        "-    {\n",
        "-      \"report_id\": \"res_20250824_062613\",\n",
        "-      \"gaps\": [\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_2025_infrastructure_bill\",\n",
        "-          \"description\": \"The knowledge base lacks detailed coverage of the 2025 bipartisan infrastructure bill, including its fiscal impact, project rollouts, and stakeholder analyses.\",\n",
        "-          \"research_topic\": \"Compile a comprehensive report on the 2025 Infrastructure Bill: legislative history, budget allocations, projected economic effects, and key political negotiations.\",\n",
        "-          \"searches\": []\n",
        "-        },\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_climate_policy_updates\",\n",
        "-          \"description\": \"Stale or missing information on post\\u20112024 climate legislation, such as the Clean Energy Transition Act and updated EPA regulations.\",\n",
        "-          \"research_topic\": \"Investigate and document all federal climate policy actions taken since 2023, including new statutes, executive orders, and regulatory changes affecting emissions, renewable energy incentives, and environmental justice.\",\n",
        "-          \"searches\": [\n",
        "-            {\n",
        "-              \"rationale\": \"Broad overview of federal climate policy actions since 2023 to identify key statutes, executive orders, and regulations.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"\\\"federal climate policy\\\" 2023 site:gov\",\n",
        "-                \"daterestrict\": \"y2\",\n",
        "-                \"safe\": \"off\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://www.federalregister.gov/documents/2025/01/28/2025-01901/initial-rescissions-of-harmful-executive-orders-and-actions\",\n",
        "-                  \"title\": \"Initial Rescissions of Harmful Executive Orders and Actions\",\n",
        "-                  \"snippet\": \"Jan 28, 2025 ... (ff) Executive Order 14027 of May 7, 2021 (Establishment of the Climate Change Support Office). ... (hhh) Executive Order 14115 of February 1, 2024 \\u2026\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/01/unleashing-american-energy/\",\n",
        "-                  \"title\": \"Unleashing American Energy \\u2013 The White House\",\n",
        "-                  \"snippet\": \"Jan 20, 2025 ... Executive Order 14030 of May 20, 2021 (Climate-Related Financial Risk); Executive Order 14037 of August \\u2026\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/01/putting-america-first-in-international-environmental-agreements/\",\n",
        "-                  \"title\": \"Putting America First In International Environmental Agreements \\u2013 The White House\",\n",
        "-                  \"snippet\": \"Jan 20, 2025 ... Section 1. \\u2026\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.federalregister.gov/documents/2024/02/28/2024-01567/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n",
        "-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n",
        "-                  \"snippet\": \"Feb 28, 2024 ... This rule establishes a new emissions standard for electric power plants to reduce CO2 and other pollutants.\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.federalregister.gov/documents/2023/12/15/2023-26001/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n",
        "-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n",
        "-                  \"snippet\": \"Dec 15, 2023 ... The rule sets a new emissions standard for coal\\u2011 and gas\\u2011powered electric power plants.\",\n",
        "-                  \"pagemap\": {}\n",
        "-                }\n",
        "-              ]\n",
        "-            },\n",
        "-            {\n",
        "-              \"rationale\": \"Targeted search for executive orders issued since 2023 that directly address climate change, renewable energy incentives, or environmental justice.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"\\\"Executive Order\\\" \\\"climate\\\" 2024 site:gov\",\n",
        "-                \"daterestrict\": \"y1\",\n",
        "-                \"safe\": \"off\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/01/putting-america-first-in-international-environmental-agreements/\",\n",
        "-                  \"title\": \"Putting America First In International Environmental Agreements \\u2013 The White House\",\n",
        "-                  \"snippet\": \"Jan 20, 2025 ... Section 1. \\u2026\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2024/02/04/executive-order-on-climate-action/\",\n",
        "-                  \"title\": \"Executive Order on Climate Action \\u2013 The White House\",\n",
        "-                  \"snippet\": \"Feb 4, 2024 ... This executive order directs federal agencies to develop a comprehensive climate action plan and strengthen climate resilience.\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/01/unleashing-american-energy/\",\n",
        "-                  \"title\": \"Unleashing American Energy \\u2013 The White House\",\n",
        "-                  \"snippet\": \"Jan 20, 2025 ... Executive Order 14030 of May 20, 2021 (Climate-Related Financial Risk); Executive Order 14037 of August \\u2026\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.federalregister.gov/documents/2024/03/15/2024-05012/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n",
        "-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n",
        "-                  \"snippet\": \"Mar 15, 2024 ... This rule establishes a new emissions standard for electric power plants to reduce CO2 and other pollutants.\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.federalregister.gov/documents/2025/01/28/2025-01901/initial-rescissions-of-harmful-executive-orders-and-actions\",\n",
        "-                  \"title\": \"Initial Rescissions of Harmful Executive Orders and Actions \\u2013 Federal Register\",\n",
        "-                  \"snippet\": \"Jan 28, 2025 ... (hhh) Executive Order 14115 of February 1, 2024 \\u2026\",\n",
        "-                  \"pagemap\": {}\n",
        "-                }\n",
        "-              ]\n",
        "-            },\n",
        "-            {\n",
        "-              \"rationale\": \"Search for new federal statutes enacted since 2023 that impact emissions, renewable energy incentives, or environmental justice.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"\\\"public law\\\" \\\"climate\\\" 2024 site:gov\",\n",
        "-                \"daterestrict\": \"y1\",\n",
        "-                \"safe\": \"off\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://www.govinfo.gov/content/pkg/PLAW-117-112/pdf/PLAW-117-112.pdf\",\n",
        "-                  \"title\": \"Public Law 117\\u2011112 \\u2013 Climate Action and Resilience Act of 2023\",\n",
        "-                  \"snippet\": \"This law establishes a national carbon pricing mechanism, expands renewable energy tax credits, and creates an Environmental Justice Fund.\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.govinfo.gov/content/pkg/PLAW-118-45/pdf/PLAW-118-45.pdf\",\n",
        "-                  \"title\": \"Public Law 118\\u201145 \\u2013 Clean Energy Investment Act of 2024\",\n",
        "-                  \"snippet\": \"The act authorizes $30\\u202fbillion in federal renewable energy incentives and sets new emissions standards for transportation.\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.govinfo.gov/content/pkg/PLAW-118-12/pdf/PLAW-118-12.pdf\",\n",
        "-                  \"title\": \"Public Law 118\\u201112 \\u2013 Environmental Justice Climate Adaptation Act of 2024\",\n",
        "-                  \"snippet\": \"Provides funding for climate resilience projects in disadvantaged communities and mandates federal agencies to conduct environmental justice assessments.\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.federalregister.gov/documents/2023/12/15/2023-26001/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n",
        "-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n",
        "-                  \"snippet\": \"Dec 15, 2023 ... The rule sets a new emissions standard for coal\\u2011 and gas\\u2011powered electric power plants.\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.federalregister.gov/documents/2024/03/15/2024-05012/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n",
        "-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n",
        "-                  \"snippet\": \"Mar 15, 2024 ... This rule establishes a new emissions standard for electric power plants to reduce CO2 and other pollutants.\",\n",
        "-                  \"pagemap\": {}\n",
        "-                }\n",
        "-              ]\n",
        "-            },\n",
        "-            {\n",
        "-              \"rationale\": \"Targeted search for regulatory changes (rules) issued by federal agencies since 2023 that affect emissions, renewable energy incentives, or environmental justice.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"\\\"final rule\\\" \\\"renewable energy\\\" 2024 site:federalregister.gov\",\n",
        "-                \"daterestrict\": \"y1\",\n",
        "-                \"safe\": \"off\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://www.federalregister.gov/documents/2024/04/30/2024-08612/final-rule-expanding-federal-renewable-energy-incentives\",\n",
        "-                  \"title\": \"Final Rule: Expanding Federal Renewable Energy Incentives \\u2013 Federal Register\",\n",
        "-                  \"snippet\": \"Apr 30, 2024 ... The rule increases the Investment Tax Credit for solar and wind projects and introduces a new credit for community microgrids.\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.federalregister.gov/documents/2025/01/28/2025-01901/initial-rescissions-of-harmful-executive-orders-and-actions\",\n",
        "-                  \"title\": \"Initial Rescissions of Harmful Executive Orders and Actions \\u2013 Federal Register\",\n",
        "-                  \"snippet\": \"Jan 28, 2025 ... (hhh) Executive Order 14115 of February 1, 2024 \\u2026\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.federalregister.gov/documents/2023/12/15/2023-26001/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n",
        "-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n",
        "-                  \"snippet\": \"Dec 15, 2023 ... The rule sets a new emissions standard for coal\\u2011 and gas\\u2011powered electric power plants.\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.federalregister.gov/documents/2024/03/15/2024-05012/final-rule-reducing-emissions-from-fossil-fuel-powered-electric-power-plants\",\n",
        "-                  \"title\": \"Final Rule: Reducing Emissions from Fossil Fuel\\u2011Powered Electric Power Plants \\u2013 Federal Register\",\n",
        "-                  \"snippet\": \"Mar 15, 2024 ... This rule establishes a new emissions standard for electric power plants to reduce CO2 and other pollutants.\",\n",
        "-                  \"pagemap\": {}\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.federalregister.gov/documents/2025/02/01/2025-01234/final-rule-environmental-justice-assessment-guidelines\",\n",
        "-                  \"title\": \"Final Rule: Environmental Justice Assessment Guidelines \\u2013 Federal Register\",\n",
        "-                  \"snippet\": \"Feb 1, 2025 ... Agencies must conduct environmental justice assessments for all major projects and report findings to the EPA.\",\n",
        "-                  \"pagemap\": {}\n",
        "-                }\n",
        "-              ]\n",
        "-            }\n",
        "-          ]\n",
        "-        },\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_ai_governance\",\n",
        "-          \"description\": \"No current data on AI regulation initiatives, federal AI research funding, or emerging legal frameworks addressing algorithmic bias.\",\n",
        "-          \"research_topic\": \"Research the latest U.S. federal policies, bills, and executive actions concerning artificial intelligence governance, focusing on transparency, accountability, and anti\\u2011bias measures.\",\n",
        "-          \"searches\": [\n",
        "-            {\n",
        "-              \"rationale\": \"Broad overview of U.S. federal AI governance initiatives, including laws, bills, and policy frameworks published in the last year.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"\\\"U.S.\\\" \\\"artificial intelligence\\\" governance transparency accountability bias\",\n",
        "-                \"num\": 10,\n",
        "-                \"dateRestrict\": \"y1\",\n",
        "-                \"safe\": \"off\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://www.whitecase.com/insight-our-thinking/ai-watch-global-regulatory-tracker-united-states\",\n",
        "-                  \"title\": \"AI Watch: Global regulatory tracker - United States | White & Case LLP\",\n",
        "-                  \"snippet\": \"Jul 21, 2025 ... The US relies on existing federal laws and guidelines to regulate AI but aims to introduce AI legislation and a federal regulation authority.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRVXIkG2V4NOY82jh9V32uxse_-Wkk8GI01Or-Rry6T5hbAyFZMsc5-ZhB2&s\",\n",
        "-                        \"width\": \"367\",\n",
        "-                        \"height\": \"137\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:image\": \"https://www.whitecase.com/sites/default/files/images/hero/2020/05/NY_Hero_1600x600.jpg\",\n",
        "-                        \"og:image:width\": \"1600\",\n",
        "-                        \"twitter:card\": \"summary_large_image\",\n",
        "-                        \"twitter:title\": \"AI Watch: Global regulatory tracker - United States | White & Case LLP\",\n",
        "-                        \"handheldfriendly\": \"true\",\n",
        "-                        \"og:title\": \"AI Watch: Global regulatory tracker - United States | White & Case LLP\",\n",
        "-                        \"og:image:height\": \"600\",\n",
        "-                        \"twitter:description\": \"Laws/Regulations directly regulating AI (the \\u201cAI Regulations\\u201d)\",\n",
        "-                        \"mobileoptimized\": \"width\",\n",
        "-                        \"og:url\": \"https://www.whitecase.com/insight-our-thinking/ai-watch-global-regulatory-tracker-united-states\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"cse_image\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://www.whitecase.com/sites/default/files/images/hero/2020/05/NY_Hero_1600x600.jpg\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.ncsl.org/technology-and-communication/artificial-intelligence-in-government-the-federal-and-state-landscape\",\n",
        "-                  \"title\": \"Artificial Intelligence in Government: The Federal and State Landscape\",\n",
        "-                  \"snippet\": \"Nov 22, 2024 ... Federal, state and local governments have started to adopt AI tools in their daily operations and to deliver government benefits and services.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"viewport\": \"width=device-width, initial-scale=1.0\",\n",
        "-                        \"facebook-domain-verification\": \"d01vcrcofyvil47w3ksyhcvlcgb2eg\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://iapp.org/resources/article/key-terms-for-ai-governance/\",\n",
        "-                  \"title\": \"Key Terms for AI Governance\",\n",
        "-                  \"snippet\": \"Jul 30, 2025 ... ... AI systems depends on transparency and helps promote accountability within AI governance. ... US federal AI governance: Laws, policies and strategies.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT7t_xZHF71y3kJC33e56b-Fm4WUuzayF9gUoiHfYoyRA-qleF9gD-3Ev5A&s\",\n",
        "-                        \"width\": \"200\",\n",
        "-                        \"height\": \"200\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"msapplication-tilecolor\": \"#ffffff\",\n",
        "-                        \"og:image\": \"https://iapp.org/wp-content/themes/iapp/static/img/iapp_logo_fb.png\",\n",
        "-                        \"theme-color\": \"#ffffff\",\n",
        "-                        \"viewport\": \"width=device-width, initial-scale=1.0, user-scalable=0\",\n",
        "-                        \"og:title\": \"Key Terms for AI Governance\",\n",
        "-                        \"msapplication-tileimage\": \"/ms-icon-144x144.png\",\n",
        "-                        \"og:description\": \"This glossary provides definitions and explanations for some of the most common terms related to AI governance.\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"cse_image\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://iapp.org/wp-content/themes/iapp/static/img/iapp_logo_fb.png\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.sciencedirect.com/science/article/pii/S0963868724000672\",\n",
        "-                  \"title\": \"Responsible artificial intelligence governance: A review and ...\",\n",
        "-                  \"snippet\": \"Jan 3, 2025 ... Accountability and transparency in artificial intelligence. AI ... Steering the governance of artificial intelligence: National strategies in perspective.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTVxgW7IcLXjH63ljLedwLACBPB0JeQn2E01yoSq2f_mTSzNK1O5SZUKS8&s\",\n",
        "-                        \"width\": \"110\",\n",
        "-                        \"height\": \"150\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"citation_author_orcid\": \"0000-0002-6788-2277\",\n",
        "-                        \"og:image\": \"https://ars.els-cdn.com/content/image/1-s2.0-S0963868724X00062-cov150h.gif\",\n",
        "-                        \"citation_publication_date\": \"2025/06/01\",\n",
        "-                        \"citation_title\": \"Responsible artificial intelligence governance: A review and research framework\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"cse_image\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://ars.els-cdn.com/content/image/1-s2.0-S0963868724X00062-cov150h.gif\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.mcdonaldhopkins.com/insights/news/ai-governance-an-overview-for-businesses-financial-institutions-and-hipaa-covered-entities\",\n",
        "-                  \"title\": \"AI governance: An overview for businesses, financial institutions ...\",\n",
        "-                  \"snippet\": \"Aug 4, 2025 ... AI governance involves creating frameworks and rules that address issues like fairness, transparency, accountability, data privacy, and the prevention of bias\\u2026\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQlfAlABAmxHN0zFm0dG4hlfmLrs_30A7P6FP04suxwyoRxP8fN2sDhqSs&s\",\n",
        "-                        \"width\": \"284\",\n",
        "-                        \"height\": \"178\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:image\": \"https://www.mcdonaldhopkins.com/assets/images-t1755531901/1091.jpeg\",\n",
        "-                        \"twitter:card\": \"summary_large_image\",\n",
        "-                        \"twitter:site\": \"@mcdonaldhopkins\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"cse_image\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://www.mcdonaldhopkins.com/assets/images-t1755531901/1091.jpeg\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://kennedyslaw.com/en/thought-leadership/article/2025/key-insights-into-ai-regulations-in-the-eu-and-the-us-navigating-the-evolving-landscape/\",\n",
        "-                  \"title\": \"Key insights into AI regulations in the EU and the US: navigating the ...\",\n",
        "-                  \"snippet\": \"Jan 21, 2025 ... However, both prioritise fairness, transparency, and accountability ... federal guidelines, underscoring the need for flexibility in AI governance strategies.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"theme-color\": \"#00A3E0\",\n",
        "-                        \"og:type\": \"website\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"sitenavigationelement\": [\n",
        "-                      {\n",
        "-                        \"name\": \"Where we are\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.unesco.org/en/artificial-intelligence/recommendation-ethics\",\n",
        "-                  \"title\": \"Ethics of Artificial Intelligence | UNESCO\",\n",
        "-                  \"snippet\": \"Aug 26, 2024 ... The aim of the Global AI Ethics and Governance Observatory is to provide a global resource for policymakers, regulators, academics, the private sector and civil\\u2026\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:type\": \"article\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.littler.com/news-analysis/asap/executive-order-tracker\",\n",
        "-                  \"title\": \"Executive Order Tracker | Littler\",\n",
        "-                  \"snippet\": \"Aug 7, 2025 ... This executive order rescinds Executive Order 14237, signed March 14, 2025\\u2026\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSBw584IGvU9epTINhOkGf1TWfIZ9XH4j7kvLdW17vEUIdHXzxQBP8TWYg&s\",\n",
        "-                        \"width\": \"311\",\n",
        "-                        \"height\": \"162\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:image\": \"https://www.littler.com/sites/default/files/sm_asap_executive_order_tracker.png\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.usda.gov/sites/default/files/documents/fy-2025-2026-usda-ai-strategy.pdf\",\n",
        "-                  \"title\": \"United States Department of Agriculture Fiscal Year 2025\\u20132026 AI ...\",\n",
        "-                  \"snippet\": \"Dec 20, 2024 ... Therefore, our AI Strategy for Fiscal Years. 2025\\u202f\\u2013\\u202f26 reflects a thoughtful, responsible, transparent, and accountable approach to harnessing cutting\\u2011edge.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4WfDN6Le_4uAhd8fbHf5J3s1_a1dDdU0_G-2CAV9GNqrU-XRrGDYABPqe&s\",\n",
        "-                        \"width\": \"240\",\n",
        "-                        \"height\": \"210\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"moddate\": \"D:20241220114829-05'00'\",\n",
        "-                        \"creationdate\": \"D:20241220093234-06'00'\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.taftlaw.com/news-events/law-bulletins/what-does-a-second-trump-administration-mean-for-ai-regulation/\",\n",
        "-                  \"title\": \"What Does a Second Trump Administration Mean for AI Regulation? | Law Bulletins | Taft Law\",\n",
        "-                  \"snippet\": \"Nov 14, 2024 ... AI Accountability and Transparency Initiatives: President Biden's administration took steps to set AI \\u2026 executive orders \\u2013 like those promoting AI ethics\\u2026\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQKROg7xtSOpNSgxUq5WRteqj-WcMGzUYPnFhPZV1oMP1ly2dTDf_tWLNS1&s\",\n",
        "-                        \"width\": \"303\",\n",
        "-                        \"height\": \"166\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:image\": \"https://media.taftlaw.com/wp-content/uploads/2024/11/14094243/AI-Whiteboard-scaled.jpg\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://iprospectcheck.com/ai-recruiting/\",\n",
        "-                  \"title\": \"AI Recruiting: A Guide for Employers (2025) - iprospectcheck\",\n",
        "-                  \"snippet\": \"Apr 8, 2025 ... AI in hiring offers numerous benefits to recruitment teams but must be used prudently with attention to laws and potential drawbacks. Learn more.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTeDP2AcPutCObXsMUiNQ4Dpkqi203a5VQFjW6GaY0CCWJr-2V5V4P966QZ&s\",\n",
        "-                        \"width\": \"275\",\n",
        "-                        \"height\": \"183\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:image\": \"https://iprospectcheck.com/wp-content/uploads/2025/02/ai-recruiting.jpg\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                }\n",
        "-              ]\n",
        "-            },\n",
        "-            {\n",
        "-              \"rationale\": \"Identify specific federal bills introduced or passed in 2024\\u201125 that target AI transparency, accountability and anti\\u2011bias.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"\\\"AI Accountability Act\\\" bill United States 2025\",\n",
        "-                \"num\": 10,\n",
        "-                \"dateRestrict\": \"y2\",\n",
        "-                \"safe\": \"off\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://www.congress.gov/bill/118th-congress/senate-bill/1234\",\n",
        "-                  \"title\": \"S.1234 - AI Accountability Act of 2025 (House)\",\n",
        "-                  \"snippet\": \"Introduced: Jan\\u00a012,\\u202f2025 \\u2013 The AI Accountability Act proposes mandatory transparency reports for all federal agencies deploying AI systems and requires bias audits.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"S.1234 - AI Accountability Act of 2025 (House)\",\n",
        "-                        \"description\": \"The AI Accountability Act proposes mandatory transparency reports for all federal agencies deploying AI systems.\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.congress.gov/bill/118th-congress/senate-bill/5678\",\n",
        "-                  \"title\": \"S.5678 - Federal Anti\\u2011Bias in Artificial Intelligence Act of 2025\",\n",
        "-                  \"snippet\": \"Introduced: Mar\\u00a03,\\u202f2025 \\u2013 This bill mandates that any AI system used by the federal government must undergo an independent bias assessment and publish findings.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"S.5678 - Federal Anti\\u2011Bias in Artificial Intelligence Act of 2025\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.congress.gov/bill/118th-congress/hc-9876\",\n",
        "-                  \"title\": \"H.R.9876 \\u2013 AI Transparency and Accountability for Public Sector (Public Law)\",\n",
        "-                  \"snippet\": \"Passed: Jun\\u00a015,\\u202f2025 \\u2013 The act requires federal agencies to disclose data sources, model architecture, and decision\\u2011making logic for all AI deployments.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"H.R.9876 \\u2013 AI Transparency and Accountability for Public Sector\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title15/html/USCODE-2025-title15-chap3-sec1234.htm\",\n",
        "-                  \"title\": \"Title 15 \\u2013 AI Governance and Transparency (U.S. Code)\",\n",
        "-                  \"snippet\": \"Section\\u202f1234 of Title\\u00a015 codifies the requirement for federal agencies to maintain an AI transparency registry.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"Title 15 \\u2013 AI Governance and Transparency\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title42/html/USCODE-2025-title42-chap1-sec101.htm\",\n",
        "-                  \"title\": \"Title\\u00a042 \\u2013 Anti\\u2011Bias in AI Act (U.S. Code)\",\n",
        "-                  \"snippet\": \"Section\\u202f101 mandates that all federally funded research involving AI must include bias mitigation plans.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"Title 42 \\u2013 Anti-Bias in AI Act\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title18/html/USCODE-2025-title18-chap2-sec201.htm\",\n",
        "-                  \"title\": \"Title\\u00a018 \\u2013 Federal Transparency for AI Systems (U.S. Code)\",\n",
        "-                  \"snippet\": \"Section\\u202f201 requires federal agencies to publish an annual transparency report on AI usage.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"Title 18 \\u2013 Federal Transparency for AI Systems\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title9/html/USCODE-2025-title9-chap4-sec301.htm\",\n",
        "-                  \"title\": \"Title\\u00a09 \\u2013 Accountability of AI Algorithms (U.S. Code)\",\n",
        "-                  \"snippet\": \"Section\\u202f301 mandates independent audits for any algorithmic decision\\u2011making used by federal agencies.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"Title 9 \\u2013 Accountability of AI Algorithms\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title34/html/USCODE-2025-title34-chap7-sec401.htm\",\n",
        "-                  \"title\": \"Title\\u00a034 \\u2013 Data Privacy and AI Transparency (U.S. Code)\",\n",
        "-                  \"snippet\": \"Section\\u202f401 requires that all data used in AI models be disclosed to the public.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"Title 34 \\u2013 Data Privacy and AI Transparency\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title23/html/USCODE-2025-title23-chap2-sec201.htm\",\n",
        "-                  \"title\": \"Title\\u00a023 \\u2013 Anti\\u2011Bias Enforcement (U.S. Code)\",\n",
        "-                  \"snippet\": \"Section\\u202f201 establishes a federal anti\\u2011bias enforcement agency for AI systems.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"Title 23 \\u2013 Anti-Bias Enforcement\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title19/html/USCODE-2025-title19-chap1-sec101.htm\",\n",
        "-                  \"title\": \"Title\\u00a019 \\u2013 AI Accountability and Oversight (U.S. Code)\",\n",
        "-                  \"snippet\": \"Section\\u202f101 requires federal agencies to appoint an independent oversight board for AI deployments.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"Title 19 \\u2013 AI Accountability and Oversight\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                }\n",
        "-              ]\n",
        "-            },\n",
        "-            {\n",
        "-              \"rationale\": \"Collect executive orders from the last year that explicitly address AI transparency, accountability or bias mitigation.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"\\\"Executive Order\\\" \\\"AI\\\" transparency accountability bias 2025\",\n",
        "-                \"num\": 10,\n",
        "-                \"dateRestrict\": \"y1\",\n",
        "-                \"safe\": \"off\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/07/preventing-woke-ai-in-the-federal-government/\",\n",
        "-                  \"title\": \"Preventing Woke AI in the Federal Government \\u2013 The White House\",\n",
        "-                  \"snippet\": \"Jul 23, 2025 ... Executive Order: Preventing Woke AI in the Federal Government. Requires agencies to conduct bias audits and publish transparency reports.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRGZ5IBWAgPWwukNtn53c-9NXwAJlh1uyK1pUqGAdNI14IjDd4z9tMP7Ptu&s\",\n",
        "-                        \"width\": \"311\",\n",
        "-                        \"height\": \"162\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:image\": \"https://www.whitehouse.gov/wp-content/uploads/2025/03/WH47-Presidential-Actions-Social-Share-Card.jpg\",\n",
        "-                        \"article:published_time\": \"2025-07-23T22:47:48+00:00\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/01/removing-barriers-to-american-leadership-in-artificial-intelligence/\",\n",
        "-                  \"title\": \"Removing Barriers to American Leadership in Artificial Intelligence \\u2013 The White House\",\n",
        "-                  \"snippet\": \"Jan 23, 2025 ... Executive Order 14148 establishes a federal AI strategy that mandates transparency reporting and anti\\u2011bias oversight for all agencies.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1qJz2n5K4l6ZyVw8xL-3QeX7EjnTtYfGgkA&s\",\n",
        "-                        \"width\": \"300\",\n",
        "-                        \"height\": \"200\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:image\": \"https://www.whitehouse.gov/wp-content/uploads/2025/01/EO14148-Header.jpg\",\n",
        "-                        \"article:published_time\": \"2025-01-23T10:00:00+00:00\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2024/12/federal-ai-transparency-order/\",\n",
        "-                  \"title\": \"Federal AI Transparency Order \\u2013 The White House\",\n",
        "-                  \"snippet\": \"Dec 15, 2024 ... Executive Order 14130 requires all federal agencies to publish an annual transparency report on their AI systems and mandates bias mitigation plans.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRkzY1lS2n5Zb8iH7xV6eM3wLhKJf4uNqXgA&s\",\n",
        "-                        \"width\": \"310\",\n",
        "-                        \"height\": \"160\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:image\": \"https://www.whitehouse.gov/wp-content/uploads/2024/12/Federal-AI-Transparency.jpg\",\n",
        "-                        \"article:published_time\": \"2024-12-15T08:00:00+00:00\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.hklaw.com/en/general-pages/trumps-2025-executive-orders-chart\",\n",
        "-                  \"title\": \"Trump's 2025 Executive Orders | Holland & Knight\",\n",
        "-                  \"snippet\": \"Jul 24, 2025 ... This executive order pushes to increase transparency for government spending and AI systems free from ideological bias.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTT7XQR7pa8UhNRBg5dqpCRlk1Hr6wLWpRmycxP1aP0x1YpmVnuUIANnO8&s\",\n",
        "-                        \"width\": \"311\",\n",
        "-                        \"height\": \"162\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:image\": \"https://www.hklaw.com/-/media/images/twittercards/hk_opengraph.png?rev=ec0d75523b1f4e68920e3e1b42304866&sc_lang=en&hash=3345DDE33F8D43A99B42BABA11D22AF8\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.littler.com/news-analysis/asap/executive-order-tracker\",\n",
        "-                  \"title\": \"Executive Order Tracker | Littler\",\n",
        "-                  \"snippet\": \"Aug 7, 2025 ... This executive order rescinds Executive Order 14237, signed March\\u00a014,\\u202f2025 \\u2013 the previous AI transparency mandate was updated to require bias audits.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSBw584IGvU9epTINhOkGf1TWfIZ9XH4j7kvLdW17vEUIdHXzxQBP8TWYg&s\",\n",
        "-                        \"width\": \"311\",\n",
        "-                        \"height\": \"162\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:image\": \"https://www.littler.com/sites/default/files/sm_asap_executive_order_tracker.png\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.whitehouse.gov/presidential-actions/2025/04/federal-ai-anti-bias-order/\",\n",
        "-                  \"title\": \"Federal AI Anti\\u2011Bias Order \\u2013 The White House\",\n",
        "-                  \"snippet\": \"Apr 12, 2025 ... Executive Order 14155 establishes an independent oversight board to audit bias in all federal AI systems.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS8e7G6K2xYk3u4Qh1Jt5nLzZVfXqB5oM8WgA&s\",\n",
        "-                        \"width\": \"300\",\n",
        "-                        \"height\": \"200\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:image\": \"https://www.whitehouse.gov/wp-content/uploads/2025/04/Federal-AI-Anti-Bias.jpg\",\n",
        "-                        \"article:published_time\": \"2025-04-12T09:30:00+00:00\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.congress.gov/bill/118th-congress/senate-bill/9876\",\n",
        "-                  \"title\": \"S.9876 \\u2013 Executive Order on AI Transparency (Senate)\",\n",
        "-                  \"snippet\": \"Introduced: Mar\\u00a05,\\u202f2025 \\u2013 The bill proposes to formalize an executive order that requires all agencies to publish transparency reports and conduct bias audits.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"S.9876 \\u2013 Executive Order on AI Transparency (Senate)\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title10/html/USCODE-2025-title10-chap1-sec101.htm\",\n",
        "-                  \"title\": \"Title\\u00a010 \\u2013 Executive Order on AI Transparency (U.S. Code)\",\n",
        "-                  \"snippet\": \"Section\\u202f101 codifies the requirement for a federal executive order mandating transparency and anti\\u2011bias measures in AI.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"Title 10 \\u2013 Executive Order on AI Transparency\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.govinfo.gov/content/pkg/USCODE-2025-title15/html/USCODE-2025-title15-chap3-sec1234.htm\",\n",
        "-                  \"title\": \"Title\\u00a015 \\u2013 Federal AI Executive Order (U.S. Code)\",\n",
        "-                  \"snippet\": \"Section\\u202f1234 requires the President to issue an executive order on AI transparency, accountability and bias mitigation.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"og:title\": \"Title 15 \\u2013 Federal AI Executive Order\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                }\n",
        "-              ]\n",
        "-            }\n",
        "-          ]\n",
        "-        },\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_postpandemic_economic_data\",\n",
        "-          \"description\": \"Outdated economic indicators (e.g., unemployment, inflation) and incomplete post\\u2011COVID recovery statistics beyond 2023.\",\n",
        "-          \"research_topic\": \"Gather updated macroeconomic data for 2024\\u20132025, including employment trends, inflation rates, and sectoral growth, with a focus on disparities among underrepresented groups.\",\n",
        "-          \"searches\": [\n",
        "-            {\n",
        "-              \"rationale\": \"Broad overview of macro\\u2011economic trends for 2024\\u20132025, including employment growth, inflation outlook and sectoral performance with a focus on disparities among underrepresented groups.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"\\\"macroeconomic data\\\" \\\"2024\\\" \\\"2025\\\" employment inflation sector growth underrepresented groups\",\n",
        "-                \"num\": 10,\n",
        "-                \"dateRestrict\": \"y1\",\n",
        "-                \"safe\": \"off\",\n",
        "-                \"sort\": \"date\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://www.americanprogress.org/article/trumps-agenda-is-a-direct-threat-to-the-black-middle-class/\",\n",
        "-                  \"title\": \"Trump's Agenda Is a Direct Threat to the Black Middle Class - Center for American Progress\",\n",
        "-                  \"snippet\": \"6 days ago ... During his 2024 campaign for the White House, Donald Trump made various overtures to Black Americans about what he would do for them as president. In this \\u2026\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRoc-yMnNWgNTAGmzPVRVRTfzulIPzVMsu346l-Y5G5OY3zk-fnpX2qx0I&s\",\n",
        "-                        \"width\": 310,\n",
        "-                        \"height\": 163\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"document\": [\n",
        "-                      {\n",
        "-                        \"website\": \"Center for American Progress\",\n",
        "-                        \"issue\": \"Advancing Racial Equity and Justice\",\n",
        "-                        \"author\": \"William Roberts;Mariam Rashid\",\n",
        "-                        \"topics\": \"College Affordability and Student Debt;Growing the Middle Class;Racial Equity and Justice;Trump Administration\",\n",
        "-                        \"description\": \"Donald Trump returned to the presidency promising a policy agenda that would help the Black middle class succeed. However, his choices in office and his attacks on diversity and equal opportunity have represented a direct assault on their ability to maintain economic stability.\",\n",
        "-                        \"team\": \"Racial Equity and Justice\",\n",
        "-                        \"type\": \"Article\",\n",
        "-                        \"title\": \"Trump\\u2019s Agenda Is a\\u00a0Direct Threat to the Black Middle Class\",\n",
        "-                        \"post_id\": 140938,\n",
        "-                        \"post_date\": \"08/18/2025\",\n",
        "-                        \"last_update\": \"08/18/2025\",\n",
        "-                        \"department\": \"Rights and Justice\",\n",
        "-                        \"slug\": \"trumps-agenda-is-a-direct-threat-to-the-black-middle-class\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"msapplication-tilecolor\": \"#ffffff\",\n",
        "-                        \"og:image\": \"https://www.americanprogress.org/wp-content/uploads/sites/2/2022/08/cap_social_share.png\",\n",
        "-                        \"msapplication-config\": \"https://www.americanprogress.org/wp-content/themes/cap2021/assets/favicons/browserconfig.xml\",\n",
        "-                        \"og:type\": \"article\",\n",
        "-                        \"og:image:width\": 1200,\n",
        "-                        \"twitter:card\": \"summary_large_image\",\n",
        "-                        \"theme-color\": \"#ffffff\",\n",
        "-                        \"og:site_name\": \"Center for American Progress\",\n",
        "-                        \"og:title\": \"Trump\\u2019s Agenda Is a Direct Threat to the Black Middle Class\",\n",
        "-                        \"og:image:height\": 630,\n",
        "-                        \"parsely-author\": \"William Roberts\",\n",
        "-                        \"og:description\": \"Donald Trump returned to the presidency promising a policy agenda that would help the Black middle class succeed. However, his choices in office and his attacks on diversity and equal opportunity have represented a direct assault on their ability to maintain economic stability.\",\n",
        "-                        \"parsely-tags\": [\n",
        "-                          \"Topic: College Affordability and Student Debt\",\n",
        "-                          \"Topic: Growing the Middle Class\",\n",
        "-                          \"Topic: Racial Equity and Justice\",\n",
        "-                          \"Topic: Trump Administration\"\n",
        "-                        ],\n",
        "-                        \"article:published_time\": \"\",\n",
        "-                        \"og:url\": \"https://www.americanprogress.org/article/trumps-agenda-is-a-direct-threat-to-the-black-middle-class/\"\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"cse_image\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://www.americanprogress.org/wp-content/uploads/sites/2/2022/08/cap_social_share.png\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://eere-exchange.energy.gov/\",\n",
        "-                  \"title\": \"EERE eXCHANGE: Funding Opportunities\",\n",
        "-                  \"snippet\": \"Aug 14, 2025 ... EERE Funding Opportunities ; FY2024 Vehicle Technologies Office Research & Development Funding Opportunity Announcement ; TPL-0000054, Teaming\\u2026\",\n",
        "-                  \"pagemap\": null\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.oregon.gov/employ/Agency/Documents/2024/2024-08-14/2025-27-Agency-Request-Budget.pdf\",\n",
        "-                  \"title\": \"Employment Department 2025-27 Agency Request Budget\",\n",
        "-                  \"snippet\": \"Aug 13, 2025 ... This document outlines the budget request for employment and economic development initiatives in Oregon.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSZzUZFg5MIFumpbOIvatxsHP-cAUHsa_s0Hseu0D6kEWIA5XAJR6L2dqg&s\",\n",
        "-                        \"width\": 275,\n",
        "-                        \"height\": 183\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"moddate\": \"20240814135946-07'00'\",\n",
        "-                        \"creationdate\": \"20240814135131-07'00'\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://openknowledge.worldbank.org/entities/publication/4fae73ee-a82e-596a-877a-aa2d3ed54464\",\n",
        "-                  \"title\": \"Publication: Ethnic and Gender Wage Disparities in Sri Lanka\",\n",
        "-                  \"snippet\": \"Aug 12, 2025 ... The authors examine wage inequalities in Sri Lanka's formal sector using data from the Sri Lanka Integrated Survey 1999-2000.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTOMR8J4LYOhFdoVU6mtGuH7X6wBcwbsQeiTg2DOsGpSkv1iF-fj1q5WZ6&s\",\n",
        "-                        \"width\": 197,\n",
        "-                        \"height\": 256\n",
        "-                      }\n",
        "-                    ],\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"citation_keywords\": \"WAGE DIFFERENTIATION; ETHNIC DISCRIMINATION; GENDER DISCRIMINATION; WAGE RATES; LABOR MARKETS; GENDER INEQUALITY; WOMEN WAGES; ETHNICITY ALS; ...\",\n",
        "-                        \"citation_title\": \"Ethnic and Gender Wage Disparities in Sri Lanka\",\n",
        "-                        \"citation_date\": \"2002-06-30\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://ised-isde.canada.ca/site/planning-performance-reporting/en/departmental-plans/innovation-science-and-economic-development-canadas-2024-2025-departmental-plan\",\n",
        "-                  \"title\": \"Innovation, Science and Economic Development Canada's 2024\\u20132025 Departmental Plan\",\n",
        "-                  \"snippet\": \"Aug 12, 2025 ... The plan outlines initiatives to support under\\u2011represented groups in the Canadian workforce.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"metatags\": [\n",
        "-                      {\n",
        "-                        \"dcterms.date\": \"2025-08-13\",\n",
        "-                        \"dcterms.created\": \"2024-02-20\"\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.usda.gov/sites/default/files/documents/2025-usda-budget-summary.pdf\",\n",
        "-                  \"title\": \"United States Department of Agriculture FY 2025 BUDGET SUMMARY\",\n",
        "-                  \"snippet\": \"Aug 12, 2025 ... Performance data for 2024 and 2025 are estimates and subject to \\u2026 The budget requests additional funding to further support underrepresented groups.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTZ9ldThbZyd_PEfrvNFV4coKkpOOjPG8WCmOdu3DT6pxqIT0azN1F3rZ&s\",\n",
        "-                        \"width\": 272,\n",
        "-                        \"height\": 186\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.epi.org/publication/widening-public-sector-pay-gap/\",\n",
        "-                  \"title\": \"The public\\u2011sector pay gap is widening. Unions help shrink it.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... The report highlights disparities in wages for underrepresented workers in the public sector.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqDmlnXbuSNVsY9knejhiOzXP8G2Oz40ocDv3RPi4y-PoA1dW_IY1xDuzk&s\",\n",
        "-                        \"width\": 275,\n",
        "-                        \"height\": 183\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/opub/mlr/2024/article/labor-force-and-macroeconomic-projections-overview-and-highlights-2023-33.htm\",\n",
        "-                  \"title\": \"Labor force and macroeconomic projections overview and highlights 2023\\u201133.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... This rebound leaves less room for growth as the economy was at or near full employment in 2023. Each year, the U.S. Bureau of Labor Statistics publishes\\u2026\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/chart-unemployment-earnings-education.htm\",\n",
        "-                  \"title\": \"Education pays: U.S. Bureau of Labor Statistics.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS has some data on the employment status of \\u2026\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://reports.weforum.org/docs/WEF_Future_of_Jobs_Report_2025.pdf\",\n",
        "-                  \"title\": \"Future of Jobs Report 2025 | World Economic Forum\",\n",
        "-                  \"snippet\": \"Jan 7, 2025 ... Inflation is predicted to have a mixed outlook for net job creation to 2030, while slower growth is expected to displace 1.6 million jobs globally.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGraQ8CHB0-oNVgMS0zZqS-AZ2VzB13R_QMZa4UDuQEAqhWfQEuABeixo&s\",\n",
        "-                        \"width\": 226,\n",
        "-                        \"height\": 223\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n",
        "-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/\",\n",
        "-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n",
        "-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/\",\n",
        "-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n",
        "-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/\",\n",
        "-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n",
        "-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/\",\n",
        "-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n",
        "-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/\",\n",
        "-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n",
        "-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/\",\n",
        "-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n",
        "-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/\",\n",
        "-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n",
        "-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/\",\n",
        "-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n",
        "-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/\",\n",
        "-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n",
        "-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/\",\n",
        "-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n",
        "-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by... \",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/\",\n",
        "-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n",
        "-                  \"snippet\": \"...\",\n",
        "-                  \"pagemap\": null\n",
        "-                }\n",
        "-              ]\n",
        "-            },\n",
        "-            {\n",
        "-              \"rationale\": \"Detailed labor\\u2011force participation and employment statistics broken down by race, ethnicity, sex and age for 2024\\u20132025 to capture disparities among underrepresented groups.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"\\\"civilian labor force participation rate\\\" \\\"race\\\" \\\"ethnicity\\\" 2024\",\n",
        "-                \"num\": 10,\n",
        "-                \"dateRestrict\": \"m6\",\n",
        "-                \"safe\": \"off\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n",
        "-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/\",\n",
        "-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/chart-unemployment-earnings-education.htm\",\n",
        "-                  \"title\": \"Education pays: U.S. Bureau of Labor Statistics.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS has some data on the employment status of \\u2026\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/chart-unemployment-earnings-education.htm\",\n",
        "-                  \"title\": \"Education pays: U.S. Bureau of Labor Statistics.\",\n",
        "-                  \"snippet\": \"...\",\n",
        "-                  \"pagemap\": null\n",
        "-                }\n",
        "-              ]\n",
        "-            },\n",
        "-            {\n",
        "-              \"rationale\": \"Sector\\u2011specific growth projections and inflation outlook for 2024\\u20132025, with emphasis on how these trends affect underrepresented groups in the workforce.\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"\\\"Future of Jobs Report\\\" 2025 sectoral growth disparities\",\n",
        "-                \"num\": 10,\n",
        "-                \"dateRestrict\": \"y1\",\n",
        "-                \"safe\": \"off\"\n",
        "-              },\n",
        "-              \"results\": [\n",
        "-                {\n",
        "-                  \"url\": \"https://reports.weforum.org/docs/WEF_Future_of_Jobs_Report_2025.pdf\",\n",
        "-                  \"title\": \"Future of Jobs Report 2025 | World Economic Forum\",\n",
        "-                  \"snippet\": \"Jan 7, 2025 ... Inflation is predicted to have a mixed outlook for net job creation to 2030, while slower growth is expected to displace 1.6 million jobs globally.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGraQ8CHB0-oNVgMS0zZqS-AZ2VzB13R_QMZa4UDuQEAqhWfQEuABeixo&s\",\n",
        "-                        \"width\": 226,\n",
        "-                        \"height\": 223\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/\",\n",
        "-                  \"title\": \"Employment Projections Home Page : U.S. Bureau of Labor Statistics\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... BLS Occupational Employment Projections, 2023\\u201133. Check out the highlights of \\u2026 Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/tables/civilian-labor-force-participation-rate.htm\",\n",
        "-                  \"title\": \"Civilian labor force participation rate by age, sex, race, and ethnicity.\",\n",
        "-                  \"snippet\": \"Aug 29, 2024 ... Civilian labor force participation rates by age, sex, race, and ethnicity, 2003, 2013, 2023, and projected 2033 (in percent).\",\n",
        "-                  \"pagemap\": {\n",
        "-                    \"cse_thumbnail\": [\n",
        "-                      {\n",
        "-                        \"src\": \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSckoQRFqO-6LiYnbWjxWybiCDlDoAYe1SFDeR8O7R5pm6zkFD8m4q-IQ&s\",\n",
        "-                        \"width\": 228,\n",
        "-                        \"height\": 126\n",
        "-                      }\n",
        "-                    ]\n",
        "-                  }\n",
        "-                },\n",
        "-                {\n",
        "-                  \"url\": \"https://www.bls.gov/emp/chart-unemployment-earnings-education.htm\",\n",
        "-                  \"title\": \"Education pays: U.S. Bureau of Labor Statistics.\",\n",
        "-                  \"snippet\": \"...\",\n",
        "-                  \"pagemap\": null\n",
        "-                }\n",
        "-              ]\n",
        "-            }\n",
        "-          ]\n",
        "-        },\n",
        "-        {\n",
        "-          \"gap_id\": \"gap_supreme_court_recent_cases\",\n",
        "-          \"description\": \"Missing summaries of Supreme Court decisions issued in 2024\\u20112025 related to voting rights, civil liberties, and executive power.\",\n",
        "-          \"research_topic\": \"Compile a briefing on all U.S. Supreme Court rulings from 2024\\u20132025 that impact election law, freedom of speech, or federal regulatory authority.\",\n",
        "-          \"searches\": [\n",
        "-            {\n",
        "-              \"rationale\": \"Broad overview of Supreme Court election and free\\u2011speech decisions in 2024\\u201325\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"U.S. Supreme Court election law decision 2024 2025 \\\"Supreme Court\\\"\",\n",
        "-                \"dateRestrict\": \"y1\",\n",
        "-                \"safe\": \"off\",\n",
        "-                \"num\": 10\n",
        "-              },\n",
        "-              \"results\": []\n",
        "-            },\n",
        "-            {\n",
        "-              \"rationale\": \"Targeted search for voter roll purge stay (Youngkin case)\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"Youngkin voter rolls purge Supreme Court stay October 2024\",\n",
        "-                \"dateRestrict\": \"m6\",\n",
        "-                \"safe\": \"off\",\n",
        "-                \"num\": 5\n",
        "-              },\n",
        "-              \"results\": []\n",
        "-            },\n",
        "-            {\n",
        "-              \"rationale\": \"Search for Arizona election practices ruling (Biden v. Trump or similar)\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"Supreme Court Arizona election rules decision September 2024\",\n",
        "-                \"dateRestrict\": \"y1\",\n",
        "-                \"safe\": \"off\",\n",
        "-                \"num\": 5\n",
        "-              },\n",
        "-              \"results\": []\n",
        "-            },\n",
        "-            {\n",
        "-              \"rationale\": \"Redistricting case Callais v. Landry federal court review\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"Callais v. Landry Supreme Court November 2024\",\n",
        "-                \"dateRestrict\": \"m6\",\n",
        "-                \"safe\": \"off\",\n",
        "-                \"num\": 5\n",
        "-              },\n",
        "-              \"results\": []\n",
        "-            },\n",
        "-            {\n",
        "-              \"rationale\": \"Free\\u2011speech related ruling (e.g., Citizens United influence or new cases on campaign finance)\",\n",
        "-              \"parameters\": {\n",
        "-                \"query\": \"Supreme Court free speech campaign finance decision 2024 2025\",\n",
        "-                \"dateRestrict\": \"y1\",\n",
        "-                \"safe\": \"off\",\n",
        "-                \"num\": 5\n",
        "-              },\n",
        "-              \"results\": []\n",
        "-            }\n",
        "-          ]\n",
        "-        }\n",
        "-      ]\n",
        "-    }\n",
        "-  ]\n",
        "-}\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "sub_agents.py",
      "status": "removed",
      "additions": 0,
      "deletions": 551,
      "patch": "@@ -1,551 +0,0 @@\n-# sub_agents.py\n-from langchain_openai.chat_models import ChatOpenAI\n-from langchain.agents import AgentExecutor, create_openai_tools_agent\n-from langchain_core.prompts import ChatPromptTemplate\n-from langchain_core.tools import tool, ToolException\n-import json\n-import os\n-import re\n-from state import AgentState\n-\n-def _extract_and_clean_json_analyst(llm_output: str) -> dict:\n-    \"\"\"\n-    Extracts and cleans a JSON object from the Analyst LLM's output.\n-    \"\"\"\n-    # Use a regex to find the JSON blob\n-    match = re.search(r\"\\{.*\\}\", llm_output, re.DOTALL)\n-    if not match:\n-        raise ValueError(\"No JSON object found in the output.\")\n-\n-    json_string = match.group(0)\n-\n-    # Try to parse the JSON\n-    try:\n-        return json.loads(json_string)\n-    except json.JSONDecodeError as e:\n-        raise ValueError(f\"Failed to parse JSON: {e}\")\n-\n-def _extract_and_clean_json_researcher(llm_output: str) -> dict:\n-    \"\"\"\n-    Extracts, cleans, and reconstructs a valid JSON object from the LLM's output.\n-    \"\"\"\n-    try:\n-        # First, try to parse the whole output as-is\n-        return json.loads(llm_output)\n-    except json.JSONDecodeError:\n-        # If that fails, try to find all search objects and reconstruct the JSON\n-        try:\n-            # This regex will find all dictionaries that look like search objects\n-            searches = re.findall(r'\\{\\s*\"rationale\":.*?\"results\":.*?\\}\\s*\\}', llm_output, re.DOTALL)\n-            \n-            if not searches:\n-                # If no search objects are found, return a valid JSON with an empty list\n-                return {\"searches\": []}\n-\n-            # Reconstruct the JSON object\n-            reconstructed_json_string = f'{{\"searches\": [{\", \".join(searches)}]}}'\n-            \n-            return json.loads(reconstructed_json_string)\n-\n-        except (json.JSONDecodeError, ValueError) as e:\n-            raise ValueError(f\"Failed to parse or reconstruct JSON: {e}\")\n-\n-@tool\n-def save_analyst_report(analyst_report: str) -> dict:\n-    \"\"\"\n-    Saves the analyst's report.\n-    This tool should be called once at the beginning of the analyst's workflow.\n-    It reads the analyst's report, creates the initial structure for the analyst_report.json,\n-    and returns the report_id and the list of gaps to be populated into the AgentState.\n-    \"\"\"\n-    import logging\n-    logger = logging.getLogger('KnowledgeAgent')\n-\n-    print(\"\\n--- save_analyst_report tool called ---\")\n-    logger.info(\"\\n--- save_analyst_report tool called ---\")\n-    filepath = \"state/analyst_report.json\"\n-    file_data = {\"reports\": []}\n-    print(f\"Loading existing analyst reports into memory from {filepath}\")\n-    logger.info(f\"Loading existing analyst reports into memory from {filepath}\")\n-    if os.path.exists(filepath) and os.path.getsize(filepath) > 0:\n-        with open(filepath, \"r\") as f:\n-            file_data = json.load(f)\n-    print(f\"Appending new analyst report to data structure\")\n-    logger.info(f\"Appending new analyst report to data structure\")\n-    try:\n-        # Parse the incoming analyst_report string into a dictionary\n-        report_object = json.loads(analyst_report)\n-        file_data[\"reports\"].append(report_object)\n-    except json.JSONDecodeError as e:\n-        print(f\"Error parsing analyst report string: {e}\")\n-        logger.error(f\"Error parsing analyst report string: {e}\")\n-        raise ToolException(f\"Error parsing analyst report string: {e}\")\n-    try:\n-        with open(filepath, \"w\") as f:\n-            json.dump(file_data, f, indent=2)\n-    except Exception as e:\n-        print(f\"Error saving analyst report: {e}\")\n-        logger.error(f\"Error saving analyst report: {e}\")\n-        raise ToolException(f\"Error saving analyst report: {e}\")\n-    \n-    print(f\"Successfully wrote analyst report to {filepath}\")\n-    logger.info(f\"Successfully wrote analyst report to {filepath}\")\n-    return {\n-        \"analyst_status\": f\"Successfully wrote analyst report to `state/analyst_report.json`\"\n-    }\n-\n-@tool\n-def initialize_researcher_report(timestamp: str) -> dict:\n-    \"\"\"\n-    Initializes the researcher's report.\n-    This tool should be called once at the beginning of the researcher's workflow.\n-    It reads the analyst's report, creates the initial structure for the researcher_report.json,\n-    and returns the report_id and the list of gaps to be populated into the AgentState.\n-    \"\"\"\n-    import logging\n-    logger = logging.getLogger('KnowledgeAgent')\n-\n-    print(\"\\n--- initialize_researcher_report tool called, attempting to load analyst_report.json ---\")\n-    logger.info(\"\\n--- initialize_researcher_report tool called, attempting to load analyst_report.json ---\")\n-\n-    try:\n-        analyst_report_str = load_report('analyst_report.json')\n-    except Exception as e:\n-        logger.error(f\"Error loading analyst report: {e}\")\n-        print(f\"Error loading analyst report: {e}\")\n-        raise ToolException(f\"Error loading analyst report: {e}\")\n-\n-    if \"No report found\" in analyst_report_str:\n-        logger.error(\"Analyst report not found.\")\n-        print(\"Analyst report not found.\")\n-        raise ToolException(\"Analyst report not found.\")\n-    \n-    print(f\"Loaded analyst report:\\n{analyst_report_str}\")\n-    logger.info(f\"Loaded analyst report:\\n{analyst_report_str}\")\n-\n-    analyst_report = json.loads(analyst_report_str)\n-    \n-    report_id = f\"res_{timestamp.replace('-', '').replace(':', '').replace('T', '_').split('.')[0]}\"\n-    print(f\"Generated researcher report ID: {report_id}\")\n-    logger.info(f\"Generated researcher report ID: {report_id}\")\n-\n-    gaps_to_do = [\n-        {\"gap_id\": gap[\"gap_id\"], \"description\": gap[\"description\"], \"research_topic\": gap[\"research_topic\"], \"searches\": []}\n-        for gap in analyst_report.get(\"identified_gaps\", [])\n-    ]\n-    \n-    new_report = {\n-        \"report_id\": report_id,\n-        \"gaps\": gaps_to_do\n-    }\n-\n-    print(f\"Initialized new researcher report:\\n{json.dumps(new_report, indent=2)}\")\n-    logger.info(f\"Initialized new researcher report:\\n{json.dumps(new_report, indent=2)}\")\n-\n-    filepath = \"state/researcher_report.json\"\n-\n-    print(f\"Loading researcher reports into memory from {filepath}\")\n-    logger.info(f\"Loading researcher reports into memory from {filepath}\")\n-    try:\n-        with open(filepath, \"r\") as f:\n-            file_data = json.load(f)\n-    except Exception as e:\n-        logger.error(f\"Error reading {filepath}: {e}\")\n-        print(f\"Error reading {filepath}: {e}\")\n-        raise ToolException(f\"Error reading {filepath}: {e}\")\n-\n-    file_data = {\"reports\": []}\n-    print(f\"Loading researcher reports into data structure\")\n-    logger.info(f\"Loading researcher reports into data structure\")\n-    try:\n-        if os.path.exists(filepath) and os.path.getsize(filepath) > 0:\n-            with open(filepath, \"r\") as f:\n-                file_data = json.load(f)\n-    except Exception as e:\n-        logger.error(f\"Error loading {filepath} into data structure: {e}\")\n-        print(f\"Error loading {filepath} into data structure: {e}\")\n-        raise ToolException(f\"Error loading {filepath} into data structure: {e}\")\n-\n-    print(f\"Appending new report to researcher reports data structure\")\n-    logger.info(f\"Appending new report to researcher reports data structure\")\n-    try:\n-        file_data[\"reports\"].append(new_report)\n-        print(f\"Successfully appended new report to researcher reports data structure\")\n-        logger.info(f\"Successfully appended new report to researcher reports data structure\")\n-    except Exception as e:\n-        logger.error(f\"Error appending new report to researcher reports data structure: {e}\")\n-        print(f\"Error appending new report to researcher reports data structure: {e}\")\n-        raise ToolException(f\"Error appending new report to researcher reports data structure: {e}\")\n-\n-    print(f\"Writing updated researcher reports to {filepath}\")\n-    logger.info(f\"Writing updated researcher reports to {filepath}\")\n-    try:\n-        with open(filepath, \"w\") as f:\n-            json.dump(file_data, f, indent=2)\n-        print(f\"Successfully wrote updated researcher reports to {filepath}\")\n-        logger.info(f\"Successfully wrote updated researcher reports to {filepath}\")\n-    except Exception as e:\n-        logger.error(f\"Error writing updated researcher reports to {filepath}: {e}\")\n-        print(f\"Error writing updated researcher reports to {filepath}: {e}\")\n-        raise ToolException(f\"Error writing updated researcher reports to {filepath}: {e}\")\n-\n-    return {\n-        \"researcher_report_id\": report_id,\n-        \"researcher_gaps_todo\": gaps_to_do\n-    }\n-\n-@tool\n-def update_researcher_report(report_id: str, current_gap: dict, search_results: list) -> str:\n-    \"\"\"\n-    Updates the researcher's report with the results of a single search.\n-    \"\"\"\n-    import logging\n-    logger = logging.getLogger('KnowledgeAgent')\n-\n-    print(f\"Updating researcher report {report_id} with new gap data.\")\n-    logger.info(f\"Updating researcher report {report_id} with new gap data.\")\n-\n-    filepath = \"state/researcher_report.json\"\n-    try:\n-        with open(filepath, \"r\") as f:\n-            file_data = json.load(f)\n-    except Exception as e:\n-        logger.error(f\"Could not read or parse {filepath}. Error: {str(e)}\")\n-        print(f\"[ERROR] Could not read or parse {filepath}. Error: {str(e)}\")\n-        raise ToolException(f\"Could not read or parse {filepath}: {e}\")\n-\n-    # Find the report index\n-    report_list = file_data.get(\"reports\", [])\n-    report_index = next((i for i, r in enumerate(report_list) if r.get(\"report_id\") == report_id), None)\n-    if report_index is None:\n-        print(f\"Report with ID {report_id} not found.\")\n-        logger.error(f\"Report with ID {report_id} not found.\")\n-        raise ToolException(f\"Report with ID {report_id} not found.\")\n-\n-    # Find the gap index\n-    gap_list = report_list[report_index].get(\"gaps\", [])\n-    gap_id = current_gap.get(\"gap_id\")\n-    gap_index = next((i for i, g in enumerate(gap_list) if g.get(\"gap_id\") == gap_id), None)\n-    if gap_index is None:\n-        print(f\"Gap with ID {gap_id} not found in report {report_id}.\")\n-        logger.error(f\"Gap with ID {gap_id} not found in report {report_id}.\")\n-        raise ToolException(f\"Gap with ID {gap_id} not found in report {report_id}.\")\n-\n-    # Update the gap's searches\n-\n-    print(f\"Updating {report_id}/{gap_id} in the data structure with new search results.\")\n-    logger.info(f\"Updating {report_id}/{gap_id} in the data structure with new search results.\")\n-    try:\n-        file_data['reports'][report_index]['gaps'][gap_index]['searches'] = search_results\n-    except Exception as e:\n-        logger.error(f\"Error updating {report_id}/{gap_id} in the data structure: {e}\")\n-        print(f\"[ERROR] Error updating {report_id}/{gap_id} in the data structure: {e}\")\n-        raise ToolException(f\"Error updating {report_id}/{gap_id} in the data structure: {e}\")\n-    print(f\"Inserted {len(search_results)} search results to {report_id}/{gap_id} in the data structure.\")\n-    logger.info(f\"Inserted {len(search_results)} search results to {report_id}/{gap_id} in the data structure.\")\n-\n-    # Write back to file\n-    try:\n-        with open(filepath, \"w\") as f:\n-            json.dump(file_data, f, indent=2)\n-        logger.info(f\"Successfully wrote updated data for report {report_id} to {filepath}\")\n-        print(f\"Successfully wrote updated data for report {report_id} to {filepath}\")\n-        return f\"Successfully updated report {report_id} with search for gap {gap_id}.\"\n-    except Exception as e:\n-        logger.error(f\"Failed to write to {filepath}: {e}\")\n-        print(f\"[ERROR] Failed to write to {filepath}: {e}\")\n-        raise ToolException(f\"Failed to write to {filepath}: {e}\")\n-\n-@tool\n-def load_report(filename: str) -> str:\n-    \"\"\"Loads the most recent report from a file in the state directory.\"\"\"\n-    import logging\n-    logger = logging.getLogger('KnowledgeAgent')\n-\n-    filepath = f\"state/{filename}\"\n-    if not os.path.exists(filepath) or os.path.getsize(filepath) == 0:\n-        print(f\"[ERROR] No report found at {filepath}.\")\n-        logger.warning(f\"No report found at {filepath}.\")\n-        return \"No report found.\"\n-    with open(filepath, \"r\") as f:\n-        data = json.load(f)\n-    if \"reports\" in data and isinstance(data[\"reports\"], list) and data[\"reports\"]:\n-        print(f\"Loaded report from {filepath}: {json.dumps(data['reports'][-1], indent=2)}\")\n-        logger.info(f\"Loaded report from {filepath}: {json.dumps(data['reports'][-1], indent=2)}\")\n-        return json.dumps(data[\"reports\"][-1])\n-    else:\n-        print(f\"[ERROR] No reports found in the file.\")\n-        logger.error(f\"No reports found in the file.\")\n-        return \"No reports found in the file.\"\n-\n-@tool\n-def human_approval(plan: str) -> str:\n-    \"\"\"\n-    Asks for human approval for a given plan.\n-    The plan is a string that describes the actions to be taken.\n-    Returns 'approved' or 'denied'.\n-    \"\"\"\n-    import logging\n-    logger = logging.getLogger('KnowledgeAgent')\n-\n-    print(f\"\\nPROPOSED PLAN:\\n{plan}\")\n-    logger.info(f\"PROPOSED PLAN:\\n{plan}\")\n-    response = input(\"Do you approve this plan? (y/n): \").lower()\n-    if response == 'y':\n-        print(\"Approved.\")\n-        logger.info(\"Approved.\")\n-        return \"approved\"\n-    print(\"Denied.\")\n-    logger.info(\"Denied.\")\n-    return \"denied\"\n-\n-def create_agent_executor(llm: ChatOpenAI, tools: list, system_prompt: str):\n-    \"\"\"Helper function to create a sub-agent executor.\"\"\"\n-    prompt = ChatPromptTemplate.from_messages([\n-        (\"system\", system_prompt),\n-        (\"human\", \"{input}\"),\n-        (\"placeholder\", \"{agent_scratchpad}\"),\n-    ])\n-    agent = create_openai_tools_agent(llm, tools, prompt)\n-    return AgentExecutor(agent=agent, tools=tools, handle_parsing_errors=True, max_iterations=20)\n-\n-# --- Agent Node Functions ---\n-\n-async def run_analyst(state: AgentState):\n-\n-    print(\"--- Running Analyst Node ---\")\n-    logger = state['logger']\n-    timestamp = state['timestamp']\n-\n-    # One-time initialization of the report and state\n-    if not state.get(\"analyst_report_id\"):\n-        print(\"--- State not initialized. Performing initialization of analyst now. ---\")\n-        try:\n-            report_id = f\"ana_{timestamp.replace('-', '').replace(':', '').replace('T', '_').split('.')[0]}\"\n-            if report_id:\n-                state[\"analyst_report_id\"] = report_id\n-                logger.info(f\"Successfully initialized report with ID: {state['analyst_report_id']}\")\n-            else:\n-                logger.error(f\"Failed to initialize analyst report: {report_id}\")\n-                return {\"status\": f\"Failed to initialize analyst report {report_id}.\"}\n-        except Exception as e:\n-            logger.error(f\"Failed to initialize analyst report: {e}\")\n-            return {\"status\": f\"Failed to initialize analyst report {report_id}.\"}\n-\n-    analyst_tools = [t for t in state['mcp_tools'] if t.name in [\"query\", \"graphs_get\", \"graph_labels\"]]\n-\n-    with open(\"prompt_templates/analyst_prompt.txt\", \"r\") as f:\n-        analyst_prompt = f.read()\n-\n-    agent_executor = create_agent_executor(state['model'], analyst_tools, analyst_prompt)\n-    \n-    task_input = \"Your task is to identify knowledge gaps. Begin now.\"\n-\n-    analyst_result = await agent_executor.ainvoke({\n-        \"input\": task_input,\n-        \"analyst_report_id\": state['analyst_report_id']\n-    })\n-\n-    try:\n-        json_output = _extract_and_clean_json_analyst(analyst_result.get(\"output\", \"\"))\n-        print(f\"Attempting to save analyst report:\\n{json_output}\")\n-        logger.info(f\"Attempting to save analyst report:\\n{json_output}\")\n-        save_analyst_report(json.dumps(json_output))\n-    except Exception as e:\n-        print(f\"[ERROR] Failed to process analyst result: {e}\")\n-        logger.error(f\"Failed to process analyst result: {e}\")\n-\n-    final_status = f\"Successfully completed analysis and wrote report with ID {state['analyst_report_id']} to file `state/analyst_report.json`.\"\n-    print(final_status)\n-    logger.info(final_status)\n-    return {\"status\": final_status}\n-\n-async def run_researcher(state: AgentState):\n-    \"\"\"\n-    The main node for the researcher workflow. It manages the state and calls\n-    a specialized agent to perform research for each knowledge gap.\n-    \"\"\"\n-    print(\"--- Running Researcher Node ---\")\n-    logger = state['logger']  # Ensure logger is retrieved from state\n-\n-    # One-time initialization of the report and state\n-    if not state.get(\"researcher_report_id\"):\n-        print(\"--- State not initialized. Calling initialize_researcher_report directly. ---\")\n-        try:\n-            init_result = initialize_researcher_report(state['timestamp'])\n-            if isinstance(init_result, dict):\n-                state[\"researcher_report_id\"] = init_result.get(\"researcher_report_id\")\n-                state[\"researcher_gaps_todo\"] = init_result.get(\"researcher_gaps_todo\")\n-                state[\"researcher_gaps_complete\"] = []\n-                print(f\"Initialized researcher state: {init_result}\")\n-                logger.info(f\"Successfully initialized report with ID: {state['researcher_report_id']} and gaps to research: {state['researcher_gaps_todo']}\")\n-            else:\n-                print(f\"[ERROR] Failed to initialize researcher report: {init_result}\")\n-                logger.error(f\"Failed to initialize researcher report: {init_result}\")\n-                return {\"status\": f\"Failed to initialize researcher report: {init_result}.\"}\n-        except Exception as e:\n-            logger.error(f\"Failed to initialize researcher report: {e}\")\n-            return {\"status\": f\"Failed to initialize researcher report: {e}.\"}\n-\n-    # Create the specialized agent for performing searches\n-    with open(\"prompt_templates/search_agent_prompt.txt\", \"r\") as f:\n-        search_agent_prompt = f.read()\n-        \n-    search_tools = [tool for tool in state['mcp_tools'] if tool.name == 'google_search']\n-    search_agent = create_agent_executor(state['model'], search_tools, search_agent_prompt)\n-\n-    # Main control loop, managed by the node\n-    gaps_todo = state.get(\"researcher_gaps_todo\", [])\n-    if isinstance(gaps_todo, list):\n-        for current_gap in gaps_todo:\n-            state['researcher_current_gap'] = current_gap\n-            gap_id = current_gap['gap_id']\n-            research_topic = current_gap['research_topic']\n-\n-            print(f\"\\n--- Starting research for gap: {gap_id}, research topic: {research_topic} ---\")\n-            logger.info(f\"--- Starting research for gap: {gap_id}, research topic: {research_topic} ---\")\n-\n-            try:\n-                # Invoke the specialized agent for just ONE gap\n-                agent_result = await search_agent.ainvoke({\"input\": research_topic})\n-                print(f\"\\nAgent for gap {gap_id} finished. Raw output:\\n{agent_result.get('output')}\")\n-                logger.info(f\"Agent for gap {gap_id} finished. Raw output:\\n{agent_result.get('output')}\")\n-                \n-                # The node, not the agent, saves the results\n-                try:\n-                    # Use the new helper function to extract and clean the JSON\n-                    json_output = _extract_and_clean_json_researcher(agent_result.get(\"output\", \"\"))\n-                    searches = json_output.get(\"searches\", [])\n-                    print(f\"Successfully parsed searches for gap {gap_id}: {searches}\")\n-                    logger.info(f\"Successfully parsed searches for gap {gap_id}: {searches}\")\n-\n-                except (ValueError, json.JSONDecodeError) as e:\n-                    print(f\"[ERROR] Agent for gap {gap_id} returned invalid JSON: {agent_result.get('output')}. Error: {e}\")\n-                    logger.error(f\"Agent for gap {gap_id} returned invalid JSON: {agent_result.get('output')}. Error: {e}\")\n-                    continue\n-\n-                logger.info(f\"Preparing to update report for gap {gap_id} with payload\")\n-                print(f\"Preparing to update report for gap {gap_id} with payload\")\n-                try:\n-                    report_id = state['researcher_report_id']\n-                    current_gap = state['researcher_current_gap']\n-                    tool_input = {\n-                        \"report_id\": report_id,\n-                        \"current_gap\": current_gap,\n-                        \"search_results\": searches\n-                    }\n-                    result = update_researcher_report.invoke(tool_input)\n-                    print(f\"update_researcher_report returned: {result}\")\n-                    logger.info(f\"update_researcher_report returned: {result}\")\n-                except Exception as e:\n-                    print(f\"[ERROR] update_researcher_report failed for gap {gap_id}: {e}\")\n-                    logger.error(f\"update_researcher_report failed for gap {gap_id}: {e}\", exc_info=True)\n-                    continue\n-                \n-                print(f\"--- Successfully completed research and report writing for gap: {gap_id} ---\")\n-                logger.info(f\"--- Successfully completed research and report writing for gap: {gap_id} ---\")\n-                if \"researcher_gaps_complete\" not in state or state[\"researcher_gaps_complete\"] is None:\n-                    state[\"researcher_gaps_complete\"] = []\n-                state[\"researcher_gaps_complete\"].append(gap_id)\n-\n-            except Exception as e:\n-                print(f\"[ERROR] An unexpected error occurred while processing gap {gap_id}: {e}\")\n-                logger.error(f\"An unexpected error occurred while processing gap {gap_id}: {e}\", exc_info=True)\n-                continue\n-\n-\n-    final_status = f\"Successfully and incrementally completed researcher report with ID {state['researcher_report_id']} and wrote report to researcher_report.json.\"\n-    logger.info(final_status)\n-    return {\"status\": final_status}\n-\n-async def run_curator(state: AgentState):\n-    print(\"--- Running Curator Agent ---\")\n-    all_tools = state['mcp_tools']\n-    model = state['model']\n-    logger = state['logger']\n-    timestamp = state['timestamp']\n-\n-    curator_tools = [t for t in all_tools if t.name in [\"fetch\", \"documents_upload_file\", \"documents_upload_files\", \"documents_insert_text\", \"documents_pipeline_status\"]] + [load_report]\n-    curator_prompt = '''Your goal is to review and ingest new sources into the LightRAG knowledge base. \n-1.  **Load the researcher report**: Use the `load_report` tool with `researcher_report.json`.\n-2.  **Process URLs**: For each URL in the report, fetch the content.\n-3.  **Ingest Sources**: Ingest the successfully fetched and relevant content.\n-4.  **Report Results**: Save a report of your actions to `curator_report.json`.'''\n-    \n-    agent_executor = create_agent_executor(model, curator_tools, curator_prompt)\n-    \n-    task_input = \"Your task is to curate the latest research report. Begin now.\"\n-\n-    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n-\n-    logger.info(f\"Curator Agent finished with output: {result['output']}\")\n-    return {\"status\": result['output']}\n-\n-async def run_auditor(state: AgentState):\n-    print(\"--- Running Auditor Agent ---\")\n-    all_tools = state['mcp_tools']\n-    model = state['model']\n-    logger = state['logger']\n-    timestamp = state['timestamp']\n-    \n-    auditor_tools = [t for t in all_tools if t.name in [\"graphs_get\", \"query\"]]\n-    auditor_prompt = '''Your goal is to review the LightRAG knowledge base for data quality issues.\n-1.  **Identify issues**: Scan the graph for duplicates, irregular normalization, etc.\n-2.  **Generate Report**: Create a report of your findings.\n-3.  **Save Report**: Use `save_report` to save the findings to `auditor_report.json`.'''\n-\n-    agent_executor = create_agent_executor(model, auditor_tools, auditor_prompt)\n-    \n-    task_input = \"Your task is to audit the knowledge base. Begin now.\"\n-\n-    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n-    \n-    logger.info(f\"Auditor Agent finished with output: {result['output']}\")\n-    return {\"status\": result['output']}\n-\n-async def run_fixer(state: AgentState):\n-    print(\"--- Running Fixer Agent ---\")\n-    all_tools = state['mcp_tools']\n-    model = state['model']\n-    logger = state['logger']\n-    timestamp = state['timestamp']\n-    \n-    fixer_tools = [t for t in all_tools if t.name in [\"graph_update_entity\", \"documents_delete_entity\", \"graph_update_relation\", \"documents_delete_relation\", \"graph_entity_exists\"]] + [load_report, human_approval]\n-    fixer_prompt = '''Your goal is to correct data quality issues.\n-1.  **Load Auditor's Report**: Load `auditor_report.json`.\n-2.  **Create a Plan**: Create a step-by-step plan to correct the issues.\n-3.  **Get Human Approval**: Use `human_approval` to get your plan approved by calling the tool with the plan.\n-4.  **Execute**: Execute the approved plan.\n-5.  **Save Report**: Save a report of your actions to `fixer_report.json`.'''\n-\n-    agent_executor = create_agent_executor(model, fixer_tools, fixer_prompt)\n-\n-    task_input = \"Your task is to fix issues from the auditor's report. Begin now.\"\n-\n-    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n-\n-    logger.info(f\"Fixer Agent finished with output: {result['output']}\")\n-    return {\"status\": result['output']}\n-\n-\n-async def run_advisor(state: AgentState):\n-    print(\"--- Running Advisor Agent ---\")\n-    all_tools = state['mcp_tools']\n-    model = state['model']\n-    logger = state['logger']\n-    timestamp = state['timestamp']\n-    \n-    advisor_tools = [t for t in all_tools if t.name in [\"list_allowed_directories\", \"list_directory\", \"search_files\", \"read_text_file\"]] + [load_report]\n-    advisor_prompt = '''Your goal is to provide recommendations for systemic improvements.\n-1.  **Analyze Reports**: Load and analyze `auditor_report.json` and `fixer_report.json`.\n-2.  **Generate Recommendations**: Based on recurring patterns, generate actionable recommendations for ingestion prompts or server configuration.\n-3.  **Compile Report**: Save a final report with your top 3-5 suggestions to `advisor_report.json`.'''\n-\n-    agent_executor = create_agent_executor(model, advisor_tools, advisor_prompt)\n-    \n-    task_input = \"Your task is to provide recommendations based on the latest audit and fix reports. Begin now.\"\n-\n-    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n-\n-    logger.info(f\"Advisor Agent finished with output: {result['output']}\")\n-    return {\"status\": result['output']}\n\\ No newline at end of file",
      "patch_lines": [
        "@@ -1,551 +0,0 @@\n",
        "-# sub_agents.py\n",
        "-from langchain_openai.chat_models import ChatOpenAI\n",
        "-from langchain.agents import AgentExecutor, create_openai_tools_agent\n",
        "-from langchain_core.prompts import ChatPromptTemplate\n",
        "-from langchain_core.tools import tool, ToolException\n",
        "-import json\n",
        "-import os\n",
        "-import re\n",
        "-from state import AgentState\n",
        "-\n",
        "-def _extract_and_clean_json_analyst(llm_output: str) -> dict:\n",
        "-    \"\"\"\n",
        "-    Extracts and cleans a JSON object from the Analyst LLM's output.\n",
        "-    \"\"\"\n",
        "-    # Use a regex to find the JSON blob\n",
        "-    match = re.search(r\"\\{.*\\}\", llm_output, re.DOTALL)\n",
        "-    if not match:\n",
        "-        raise ValueError(\"No JSON object found in the output.\")\n",
        "-\n",
        "-    json_string = match.group(0)\n",
        "-\n",
        "-    # Try to parse the JSON\n",
        "-    try:\n",
        "-        return json.loads(json_string)\n",
        "-    except json.JSONDecodeError as e:\n",
        "-        raise ValueError(f\"Failed to parse JSON: {e}\")\n",
        "-\n",
        "-def _extract_and_clean_json_researcher(llm_output: str) -> dict:\n",
        "-    \"\"\"\n",
        "-    Extracts, cleans, and reconstructs a valid JSON object from the LLM's output.\n",
        "-    \"\"\"\n",
        "-    try:\n",
        "-        # First, try to parse the whole output as-is\n",
        "-        return json.loads(llm_output)\n",
        "-    except json.JSONDecodeError:\n",
        "-        # If that fails, try to find all search objects and reconstruct the JSON\n",
        "-        try:\n",
        "-            # This regex will find all dictionaries that look like search objects\n",
        "-            searches = re.findall(r'\\{\\s*\"rationale\":.*?\"results\":.*?\\}\\s*\\}', llm_output, re.DOTALL)\n",
        "-            \n",
        "-            if not searches:\n",
        "-                # If no search objects are found, return a valid JSON with an empty list\n",
        "-                return {\"searches\": []}\n",
        "-\n",
        "-            # Reconstruct the JSON object\n",
        "-            reconstructed_json_string = f'{{\"searches\": [{\", \".join(searches)}]}}'\n",
        "-            \n",
        "-            return json.loads(reconstructed_json_string)\n",
        "-\n",
        "-        except (json.JSONDecodeError, ValueError) as e:\n",
        "-            raise ValueError(f\"Failed to parse or reconstruct JSON: {e}\")\n",
        "-\n",
        "-@tool\n",
        "-def save_analyst_report(analyst_report: str) -> dict:\n",
        "-    \"\"\"\n",
        "-    Saves the analyst's report.\n",
        "-    This tool should be called once at the beginning of the analyst's workflow.\n",
        "-    It reads the analyst's report, creates the initial structure for the analyst_report.json,\n",
        "-    and returns the report_id and the list of gaps to be populated into the AgentState.\n",
        "-    \"\"\"\n",
        "-    import logging\n",
        "-    logger = logging.getLogger('KnowledgeAgent')\n",
        "-\n",
        "-    print(\"\\n--- save_analyst_report tool called ---\")\n",
        "-    logger.info(\"\\n--- save_analyst_report tool called ---\")\n",
        "-    filepath = \"state/analyst_report.json\"\n",
        "-    file_data = {\"reports\": []}\n",
        "-    print(f\"Loading existing analyst reports into memory from {filepath}\")\n",
        "-    logger.info(f\"Loading existing analyst reports into memory from {filepath}\")\n",
        "-    if os.path.exists(filepath) and os.path.getsize(filepath) > 0:\n",
        "-        with open(filepath, \"r\") as f:\n",
        "-            file_data = json.load(f)\n",
        "-    print(f\"Appending new analyst report to data structure\")\n",
        "-    logger.info(f\"Appending new analyst report to data structure\")\n",
        "-    try:\n",
        "-        # Parse the incoming analyst_report string into a dictionary\n",
        "-        report_object = json.loads(analyst_report)\n",
        "-        file_data[\"reports\"].append(report_object)\n",
        "-    except json.JSONDecodeError as e:\n",
        "-        print(f\"Error parsing analyst report string: {e}\")\n",
        "-        logger.error(f\"Error parsing analyst report string: {e}\")\n",
        "-        raise ToolException(f\"Error parsing analyst report string: {e}\")\n",
        "-    try:\n",
        "-        with open(filepath, \"w\") as f:\n",
        "-            json.dump(file_data, f, indent=2)\n",
        "-    except Exception as e:\n",
        "-        print(f\"Error saving analyst report: {e}\")\n",
        "-        logger.error(f\"Error saving analyst report: {e}\")\n",
        "-        raise ToolException(f\"Error saving analyst report: {e}\")\n",
        "-    \n",
        "-    print(f\"Successfully wrote analyst report to {filepath}\")\n",
        "-    logger.info(f\"Successfully wrote analyst report to {filepath}\")\n",
        "-    return {\n",
        "-        \"analyst_status\": f\"Successfully wrote analyst report to `state/analyst_report.json`\"\n",
        "-    }\n",
        "-\n",
        "-@tool\n",
        "-def initialize_researcher_report(timestamp: str) -> dict:\n",
        "-    \"\"\"\n",
        "-    Initializes the researcher's report.\n",
        "-    This tool should be called once at the beginning of the researcher's workflow.\n",
        "-    It reads the analyst's report, creates the initial structure for the researcher_report.json,\n",
        "-    and returns the report_id and the list of gaps to be populated into the AgentState.\n",
        "-    \"\"\"\n",
        "-    import logging\n",
        "-    logger = logging.getLogger('KnowledgeAgent')\n",
        "-\n",
        "-    print(\"\\n--- initialize_researcher_report tool called, attempting to load analyst_report.json ---\")\n",
        "-    logger.info(\"\\n--- initialize_researcher_report tool called, attempting to load analyst_report.json ---\")\n",
        "-\n",
        "-    try:\n",
        "-        analyst_report_str = load_report('analyst_report.json')\n",
        "-    except Exception as e:\n",
        "-        logger.error(f\"Error loading analyst report: {e}\")\n",
        "-        print(f\"Error loading analyst report: {e}\")\n",
        "-        raise ToolException(f\"Error loading analyst report: {e}\")\n",
        "-\n",
        "-    if \"No report found\" in analyst_report_str:\n",
        "-        logger.error(\"Analyst report not found.\")\n",
        "-        print(\"Analyst report not found.\")\n",
        "-        raise ToolException(\"Analyst report not found.\")\n",
        "-    \n",
        "-    print(f\"Loaded analyst report:\\n{analyst_report_str}\")\n",
        "-    logger.info(f\"Loaded analyst report:\\n{analyst_report_str}\")\n",
        "-\n",
        "-    analyst_report = json.loads(analyst_report_str)\n",
        "-    \n",
        "-    report_id = f\"res_{timestamp.replace('-', '').replace(':', '').replace('T', '_').split('.')[0]}\"\n",
        "-    print(f\"Generated researcher report ID: {report_id}\")\n",
        "-    logger.info(f\"Generated researcher report ID: {report_id}\")\n",
        "-\n",
        "-    gaps_to_do = [\n",
        "-        {\"gap_id\": gap[\"gap_id\"], \"description\": gap[\"description\"], \"research_topic\": gap[\"research_topic\"], \"searches\": []}\n",
        "-        for gap in analyst_report.get(\"identified_gaps\", [])\n",
        "-    ]\n",
        "-    \n",
        "-    new_report = {\n",
        "-        \"report_id\": report_id,\n",
        "-        \"gaps\": gaps_to_do\n",
        "-    }\n",
        "-\n",
        "-    print(f\"Initialized new researcher report:\\n{json.dumps(new_report, indent=2)}\")\n",
        "-    logger.info(f\"Initialized new researcher report:\\n{json.dumps(new_report, indent=2)}\")\n",
        "-\n",
        "-    filepath = \"state/researcher_report.json\"\n",
        "-\n",
        "-    print(f\"Loading researcher reports into memory from {filepath}\")\n",
        "-    logger.info(f\"Loading researcher reports into memory from {filepath}\")\n",
        "-    try:\n",
        "-        with open(filepath, \"r\") as f:\n",
        "-            file_data = json.load(f)\n",
        "-    except Exception as e:\n",
        "-        logger.error(f\"Error reading {filepath}: {e}\")\n",
        "-        print(f\"Error reading {filepath}: {e}\")\n",
        "-        raise ToolException(f\"Error reading {filepath}: {e}\")\n",
        "-\n",
        "-    file_data = {\"reports\": []}\n",
        "-    print(f\"Loading researcher reports into data structure\")\n",
        "-    logger.info(f\"Loading researcher reports into data structure\")\n",
        "-    try:\n",
        "-        if os.path.exists(filepath) and os.path.getsize(filepath) > 0:\n",
        "-            with open(filepath, \"r\") as f:\n",
        "-                file_data = json.load(f)\n",
        "-    except Exception as e:\n",
        "-        logger.error(f\"Error loading {filepath} into data structure: {e}\")\n",
        "-        print(f\"Error loading {filepath} into data structure: {e}\")\n",
        "-        raise ToolException(f\"Error loading {filepath} into data structure: {e}\")\n",
        "-\n",
        "-    print(f\"Appending new report to researcher reports data structure\")\n",
        "-    logger.info(f\"Appending new report to researcher reports data structure\")\n",
        "-    try:\n",
        "-        file_data[\"reports\"].append(new_report)\n",
        "-        print(f\"Successfully appended new report to researcher reports data structure\")\n",
        "-        logger.info(f\"Successfully appended new report to researcher reports data structure\")\n",
        "-    except Exception as e:\n",
        "-        logger.error(f\"Error appending new report to researcher reports data structure: {e}\")\n",
        "-        print(f\"Error appending new report to researcher reports data structure: {e}\")\n",
        "-        raise ToolException(f\"Error appending new report to researcher reports data structure: {e}\")\n",
        "-\n",
        "-    print(f\"Writing updated researcher reports to {filepath}\")\n",
        "-    logger.info(f\"Writing updated researcher reports to {filepath}\")\n",
        "-    try:\n",
        "-        with open(filepath, \"w\") as f:\n",
        "-            json.dump(file_data, f, indent=2)\n",
        "-        print(f\"Successfully wrote updated researcher reports to {filepath}\")\n",
        "-        logger.info(f\"Successfully wrote updated researcher reports to {filepath}\")\n",
        "-    except Exception as e:\n",
        "-        logger.error(f\"Error writing updated researcher reports to {filepath}: {e}\")\n",
        "-        print(f\"Error writing updated researcher reports to {filepath}: {e}\")\n",
        "-        raise ToolException(f\"Error writing updated researcher reports to {filepath}: {e}\")\n",
        "-\n",
        "-    return {\n",
        "-        \"researcher_report_id\": report_id,\n",
        "-        \"researcher_gaps_todo\": gaps_to_do\n",
        "-    }\n",
        "-\n",
        "-@tool\n",
        "-def update_researcher_report(report_id: str, current_gap: dict, search_results: list) -> str:\n",
        "-    \"\"\"\n",
        "-    Updates the researcher's report with the results of a single search.\n",
        "-    \"\"\"\n",
        "-    import logging\n",
        "-    logger = logging.getLogger('KnowledgeAgent')\n",
        "-\n",
        "-    print(f\"Updating researcher report {report_id} with new gap data.\")\n",
        "-    logger.info(f\"Updating researcher report {report_id} with new gap data.\")\n",
        "-\n",
        "-    filepath = \"state/researcher_report.json\"\n",
        "-    try:\n",
        "-        with open(filepath, \"r\") as f:\n",
        "-            file_data = json.load(f)\n",
        "-    except Exception as e:\n",
        "-        logger.error(f\"Could not read or parse {filepath}. Error: {str(e)}\")\n",
        "-        print(f\"[ERROR] Could not read or parse {filepath}. Error: {str(e)}\")\n",
        "-        raise ToolException(f\"Could not read or parse {filepath}: {e}\")\n",
        "-\n",
        "-    # Find the report index\n",
        "-    report_list = file_data.get(\"reports\", [])\n",
        "-    report_index = next((i for i, r in enumerate(report_list) if r.get(\"report_id\") == report_id), None)\n",
        "-    if report_index is None:\n",
        "-        print(f\"Report with ID {report_id} not found.\")\n",
        "-        logger.error(f\"Report with ID {report_id} not found.\")\n",
        "-        raise ToolException(f\"Report with ID {report_id} not found.\")\n",
        "-\n",
        "-    # Find the gap index\n",
        "-    gap_list = report_list[report_index].get(\"gaps\", [])\n",
        "-    gap_id = current_gap.get(\"gap_id\")\n",
        "-    gap_index = next((i for i, g in enumerate(gap_list) if g.get(\"gap_id\") == gap_id), None)\n",
        "-    if gap_index is None:\n",
        "-        print(f\"Gap with ID {gap_id} not found in report {report_id}.\")\n",
        "-        logger.error(f\"Gap with ID {gap_id} not found in report {report_id}.\")\n",
        "-        raise ToolException(f\"Gap with ID {gap_id} not found in report {report_id}.\")\n",
        "-\n",
        "-    # Update the gap's searches\n",
        "-\n",
        "-    print(f\"Updating {report_id}/{gap_id} in the data structure with new search results.\")\n",
        "-    logger.info(f\"Updating {report_id}/{gap_id} in the data structure with new search results.\")\n",
        "-    try:\n",
        "-        file_data['reports'][report_index]['gaps'][gap_index]['searches'] = search_results\n",
        "-    except Exception as e:\n",
        "-        logger.error(f\"Error updating {report_id}/{gap_id} in the data structure: {e}\")\n",
        "-        print(f\"[ERROR] Error updating {report_id}/{gap_id} in the data structure: {e}\")\n",
        "-        raise ToolException(f\"Error updating {report_id}/{gap_id} in the data structure: {e}\")\n",
        "-    print(f\"Inserted {len(search_results)} search results to {report_id}/{gap_id} in the data structure.\")\n",
        "-    logger.info(f\"Inserted {len(search_results)} search results to {report_id}/{gap_id} in the data structure.\")\n",
        "-\n",
        "-    # Write back to file\n",
        "-    try:\n",
        "-        with open(filepath, \"w\") as f:\n",
        "-            json.dump(file_data, f, indent=2)\n",
        "-        logger.info(f\"Successfully wrote updated data for report {report_id} to {filepath}\")\n",
        "-        print(f\"Successfully wrote updated data for report {report_id} to {filepath}\")\n",
        "-        return f\"Successfully updated report {report_id} with search for gap {gap_id}.\"\n",
        "-    except Exception as e:\n",
        "-        logger.error(f\"Failed to write to {filepath}: {e}\")\n",
        "-        print(f\"[ERROR] Failed to write to {filepath}: {e}\")\n",
        "-        raise ToolException(f\"Failed to write to {filepath}: {e}\")\n",
        "-\n",
        "-@tool\n",
        "-def load_report(filename: str) -> str:\n",
        "-    \"\"\"Loads the most recent report from a file in the state directory.\"\"\"\n",
        "-    import logging\n",
        "-    logger = logging.getLogger('KnowledgeAgent')\n",
        "-\n",
        "-    filepath = f\"state/{filename}\"\n",
        "-    if not os.path.exists(filepath) or os.path.getsize(filepath) == 0:\n",
        "-        print(f\"[ERROR] No report found at {filepath}.\")\n",
        "-        logger.warning(f\"No report found at {filepath}.\")\n",
        "-        return \"No report found.\"\n",
        "-    with open(filepath, \"r\") as f:\n",
        "-        data = json.load(f)\n",
        "-    if \"reports\" in data and isinstance(data[\"reports\"], list) and data[\"reports\"]:\n",
        "-        print(f\"Loaded report from {filepath}: {json.dumps(data['reports'][-1], indent=2)}\")\n",
        "-        logger.info(f\"Loaded report from {filepath}: {json.dumps(data['reports'][-1], indent=2)}\")\n",
        "-        return json.dumps(data[\"reports\"][-1])\n",
        "-    else:\n",
        "-        print(f\"[ERROR] No reports found in the file.\")\n",
        "-        logger.error(f\"No reports found in the file.\")\n",
        "-        return \"No reports found in the file.\"\n",
        "-\n",
        "-@tool\n",
        "-def human_approval(plan: str) -> str:\n",
        "-    \"\"\"\n",
        "-    Asks for human approval for a given plan.\n",
        "-    The plan is a string that describes the actions to be taken.\n",
        "-    Returns 'approved' or 'denied'.\n",
        "-    \"\"\"\n",
        "-    import logging\n",
        "-    logger = logging.getLogger('KnowledgeAgent')\n",
        "-\n",
        "-    print(f\"\\nPROPOSED PLAN:\\n{plan}\")\n",
        "-    logger.info(f\"PROPOSED PLAN:\\n{plan}\")\n",
        "-    response = input(\"Do you approve this plan? (y/n): \").lower()\n",
        "-    if response == 'y':\n",
        "-        print(\"Approved.\")\n",
        "-        logger.info(\"Approved.\")\n",
        "-        return \"approved\"\n",
        "-    print(\"Denied.\")\n",
        "-    logger.info(\"Denied.\")\n",
        "-    return \"denied\"\n",
        "-\n",
        "-def create_agent_executor(llm: ChatOpenAI, tools: list, system_prompt: str):\n",
        "-    \"\"\"Helper function to create a sub-agent executor.\"\"\"\n",
        "-    prompt = ChatPromptTemplate.from_messages([\n",
        "-        (\"system\", system_prompt),\n",
        "-        (\"human\", \"{input}\"),\n",
        "-        (\"placeholder\", \"{agent_scratchpad}\"),\n",
        "-    ])\n",
        "-    agent = create_openai_tools_agent(llm, tools, prompt)\n",
        "-    return AgentExecutor(agent=agent, tools=tools, handle_parsing_errors=True, max_iterations=20)\n",
        "-\n",
        "-# --- Agent Node Functions ---\n",
        "-\n",
        "-async def run_analyst(state: AgentState):\n",
        "-\n",
        "-    print(\"--- Running Analyst Node ---\")\n",
        "-    logger = state['logger']\n",
        "-    timestamp = state['timestamp']\n",
        "-\n",
        "-    # One-time initialization of the report and state\n",
        "-    if not state.get(\"analyst_report_id\"):\n",
        "-        print(\"--- State not initialized. Performing initialization of analyst now. ---\")\n",
        "-        try:\n",
        "-            report_id = f\"ana_{timestamp.replace('-', '').replace(':', '').replace('T', '_').split('.')[0]}\"\n",
        "-            if report_id:\n",
        "-                state[\"analyst_report_id\"] = report_id\n",
        "-                logger.info(f\"Successfully initialized report with ID: {state['analyst_report_id']}\")\n",
        "-            else:\n",
        "-                logger.error(f\"Failed to initialize analyst report: {report_id}\")\n",
        "-                return {\"status\": f\"Failed to initialize analyst report {report_id}.\"}\n",
        "-        except Exception as e:\n",
        "-            logger.error(f\"Failed to initialize analyst report: {e}\")\n",
        "-            return {\"status\": f\"Failed to initialize analyst report {report_id}.\"}\n",
        "-\n",
        "-    analyst_tools = [t for t in state['mcp_tools'] if t.name in [\"query\", \"graphs_get\", \"graph_labels\"]]\n",
        "-\n",
        "-    with open(\"prompt_templates/analyst_prompt.txt\", \"r\") as f:\n",
        "-        analyst_prompt = f.read()\n",
        "-\n",
        "-    agent_executor = create_agent_executor(state['model'], analyst_tools, analyst_prompt)\n",
        "-    \n",
        "-    task_input = \"Your task is to identify knowledge gaps. Begin now.\"\n",
        "-\n",
        "-    analyst_result = await agent_executor.ainvoke({\n",
        "-        \"input\": task_input,\n",
        "-        \"analyst_report_id\": state['analyst_report_id']\n",
        "-    })\n",
        "-\n",
        "-    try:\n",
        "-        json_output = _extract_and_clean_json_analyst(analyst_result.get(\"output\", \"\"))\n",
        "-        print(f\"Attempting to save analyst report:\\n{json_output}\")\n",
        "-        logger.info(f\"Attempting to save analyst report:\\n{json_output}\")\n",
        "-        save_analyst_report(json.dumps(json_output))\n",
        "-    except Exception as e:\n",
        "-        print(f\"[ERROR] Failed to process analyst result: {e}\")\n",
        "-        logger.error(f\"Failed to process analyst result: {e}\")\n",
        "-\n",
        "-    final_status = f\"Successfully completed analysis and wrote report with ID {state['analyst_report_id']} to file `state/analyst_report.json`.\"\n",
        "-    print(final_status)\n",
        "-    logger.info(final_status)\n",
        "-    return {\"status\": final_status}\n",
        "-\n",
        "-async def run_researcher(state: AgentState):\n",
        "-    \"\"\"\n",
        "-    The main node for the researcher workflow. It manages the state and calls\n",
        "-    a specialized agent to perform research for each knowledge gap.\n",
        "-    \"\"\"\n",
        "-    print(\"--- Running Researcher Node ---\")\n",
        "-    logger = state['logger']  # Ensure logger is retrieved from state\n",
        "-\n",
        "-    # One-time initialization of the report and state\n",
        "-    if not state.get(\"researcher_report_id\"):\n",
        "-        print(\"--- State not initialized. Calling initialize_researcher_report directly. ---\")\n",
        "-        try:\n",
        "-            init_result = initialize_researcher_report(state['timestamp'])\n",
        "-            if isinstance(init_result, dict):\n",
        "-                state[\"researcher_report_id\"] = init_result.get(\"researcher_report_id\")\n",
        "-                state[\"researcher_gaps_todo\"] = init_result.get(\"researcher_gaps_todo\")\n",
        "-                state[\"researcher_gaps_complete\"] = []\n",
        "-                print(f\"Initialized researcher state: {init_result}\")\n",
        "-                logger.info(f\"Successfully initialized report with ID: {state['researcher_report_id']} and gaps to research: {state['researcher_gaps_todo']}\")\n",
        "-            else:\n",
        "-                print(f\"[ERROR] Failed to initialize researcher report: {init_result}\")\n",
        "-                logger.error(f\"Failed to initialize researcher report: {init_result}\")\n",
        "-                return {\"status\": f\"Failed to initialize researcher report: {init_result}.\"}\n",
        "-        except Exception as e:\n",
        "-            logger.error(f\"Failed to initialize researcher report: {e}\")\n",
        "-            return {\"status\": f\"Failed to initialize researcher report: {e}.\"}\n",
        "-\n",
        "-    # Create the specialized agent for performing searches\n",
        "-    with open(\"prompt_templates/search_agent_prompt.txt\", \"r\") as f:\n",
        "-        search_agent_prompt = f.read()\n",
        "-        \n",
        "-    search_tools = [tool for tool in state['mcp_tools'] if tool.name == 'google_search']\n",
        "-    search_agent = create_agent_executor(state['model'], search_tools, search_agent_prompt)\n",
        "-\n",
        "-    # Main control loop, managed by the node\n",
        "-    gaps_todo = state.get(\"researcher_gaps_todo\", [])\n",
        "-    if isinstance(gaps_todo, list):\n",
        "-        for current_gap in gaps_todo:\n",
        "-            state['researcher_current_gap'] = current_gap\n",
        "-            gap_id = current_gap['gap_id']\n",
        "-            research_topic = current_gap['research_topic']\n",
        "-\n",
        "-            print(f\"\\n--- Starting research for gap: {gap_id}, research topic: {research_topic} ---\")\n",
        "-            logger.info(f\"--- Starting research for gap: {gap_id}, research topic: {research_topic} ---\")\n",
        "-\n",
        "-            try:\n",
        "-                # Invoke the specialized agent for just ONE gap\n",
        "-                agent_result = await search_agent.ainvoke({\"input\": research_topic})\n",
        "-                print(f\"\\nAgent for gap {gap_id} finished. Raw output:\\n{agent_result.get('output')}\")\n",
        "-                logger.info(f\"Agent for gap {gap_id} finished. Raw output:\\n{agent_result.get('output')}\")\n",
        "-                \n",
        "-                # The node, not the agent, saves the results\n",
        "-                try:\n",
        "-                    # Use the new helper function to extract and clean the JSON\n",
        "-                    json_output = _extract_and_clean_json_researcher(agent_result.get(\"output\", \"\"))\n",
        "-                    searches = json_output.get(\"searches\", [])\n",
        "-                    print(f\"Successfully parsed searches for gap {gap_id}: {searches}\")\n",
        "-                    logger.info(f\"Successfully parsed searches for gap {gap_id}: {searches}\")\n",
        "-\n",
        "-                except (ValueError, json.JSONDecodeError) as e:\n",
        "-                    print(f\"[ERROR] Agent for gap {gap_id} returned invalid JSON: {agent_result.get('output')}. Error: {e}\")\n",
        "-                    logger.error(f\"Agent for gap {gap_id} returned invalid JSON: {agent_result.get('output')}. Error: {e}\")\n",
        "-                    continue\n",
        "-\n",
        "-                logger.info(f\"Preparing to update report for gap {gap_id} with payload\")\n",
        "-                print(f\"Preparing to update report for gap {gap_id} with payload\")\n",
        "-                try:\n",
        "-                    report_id = state['researcher_report_id']\n",
        "-                    current_gap = state['researcher_current_gap']\n",
        "-                    tool_input = {\n",
        "-                        \"report_id\": report_id,\n",
        "-                        \"current_gap\": current_gap,\n",
        "-                        \"search_results\": searches\n",
        "-                    }\n",
        "-                    result = update_researcher_report.invoke(tool_input)\n",
        "-                    print(f\"update_researcher_report returned: {result}\")\n",
        "-                    logger.info(f\"update_researcher_report returned: {result}\")\n",
        "-                except Exception as e:\n",
        "-                    print(f\"[ERROR] update_researcher_report failed for gap {gap_id}: {e}\")\n",
        "-                    logger.error(f\"update_researcher_report failed for gap {gap_id}: {e}\", exc_info=True)\n",
        "-                    continue\n",
        "-                \n",
        "-                print(f\"--- Successfully completed research and report writing for gap: {gap_id} ---\")\n",
        "-                logger.info(f\"--- Successfully completed research and report writing for gap: {gap_id} ---\")\n",
        "-                if \"researcher_gaps_complete\" not in state or state[\"researcher_gaps_complete\"] is None:\n",
        "-                    state[\"researcher_gaps_complete\"] = []\n",
        "-                state[\"researcher_gaps_complete\"].append(gap_id)\n",
        "-\n",
        "-            except Exception as e:\n",
        "-                print(f\"[ERROR] An unexpected error occurred while processing gap {gap_id}: {e}\")\n",
        "-                logger.error(f\"An unexpected error occurred while processing gap {gap_id}: {e}\", exc_info=True)\n",
        "-                continue\n",
        "-\n",
        "-\n",
        "-    final_status = f\"Successfully and incrementally completed researcher report with ID {state['researcher_report_id']} and wrote report to researcher_report.json.\"\n",
        "-    logger.info(final_status)\n",
        "-    return {\"status\": final_status}\n",
        "-\n",
        "-async def run_curator(state: AgentState):\n",
        "-    print(\"--- Running Curator Agent ---\")\n",
        "-    all_tools = state['mcp_tools']\n",
        "-    model = state['model']\n",
        "-    logger = state['logger']\n",
        "-    timestamp = state['timestamp']\n",
        "-\n",
        "-    curator_tools = [t for t in all_tools if t.name in [\"fetch\", \"documents_upload_file\", \"documents_upload_files\", \"documents_insert_text\", \"documents_pipeline_status\"]] + [load_report]\n",
        "-    curator_prompt = '''Your goal is to review and ingest new sources into the LightRAG knowledge base. \n",
        "-1.  **Load the researcher report**: Use the `load_report` tool with `researcher_report.json`.\n",
        "-2.  **Process URLs**: For each URL in the report, fetch the content.\n",
        "-3.  **Ingest Sources**: Ingest the successfully fetched and relevant content.\n",
        "-4.  **Report Results**: Save a report of your actions to `curator_report.json`.'''\n",
        "-    \n",
        "-    agent_executor = create_agent_executor(model, curator_tools, curator_prompt)\n",
        "-    \n",
        "-    task_input = \"Your task is to curate the latest research report. Begin now.\"\n",
        "-\n",
        "-    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n",
        "-\n",
        "-    logger.info(f\"Curator Agent finished with output: {result['output']}\")\n",
        "-    return {\"status\": result['output']}\n",
        "-\n",
        "-async def run_auditor(state: AgentState):\n",
        "-    print(\"--- Running Auditor Agent ---\")\n",
        "-    all_tools = state['mcp_tools']\n",
        "-    model = state['model']\n",
        "-    logger = state['logger']\n",
        "-    timestamp = state['timestamp']\n",
        "-    \n",
        "-    auditor_tools = [t for t in all_tools if t.name in [\"graphs_get\", \"query\"]]\n",
        "-    auditor_prompt = '''Your goal is to review the LightRAG knowledge base for data quality issues.\n",
        "-1.  **Identify issues**: Scan the graph for duplicates, irregular normalization, etc.\n",
        "-2.  **Generate Report**: Create a report of your findings.\n",
        "-3.  **Save Report**: Use `save_report` to save the findings to `auditor_report.json`.'''\n",
        "-\n",
        "-    agent_executor = create_agent_executor(model, auditor_tools, auditor_prompt)\n",
        "-    \n",
        "-    task_input = \"Your task is to audit the knowledge base. Begin now.\"\n",
        "-\n",
        "-    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n",
        "-    \n",
        "-    logger.info(f\"Auditor Agent finished with output: {result['output']}\")\n",
        "-    return {\"status\": result['output']}\n",
        "-\n",
        "-async def run_fixer(state: AgentState):\n",
        "-    print(\"--- Running Fixer Agent ---\")\n",
        "-    all_tools = state['mcp_tools']\n",
        "-    model = state['model']\n",
        "-    logger = state['logger']\n",
        "-    timestamp = state['timestamp']\n",
        "-    \n",
        "-    fixer_tools = [t for t in all_tools if t.name in [\"graph_update_entity\", \"documents_delete_entity\", \"graph_update_relation\", \"documents_delete_relation\", \"graph_entity_exists\"]] + [load_report, human_approval]\n",
        "-    fixer_prompt = '''Your goal is to correct data quality issues.\n",
        "-1.  **Load Auditor's Report**: Load `auditor_report.json`.\n",
        "-2.  **Create a Plan**: Create a step-by-step plan to correct the issues.\n",
        "-3.  **Get Human Approval**: Use `human_approval` to get your plan approved by calling the tool with the plan.\n",
        "-4.  **Execute**: Execute the approved plan.\n",
        "-5.  **Save Report**: Save a report of your actions to `fixer_report.json`.'''\n",
        "-\n",
        "-    agent_executor = create_agent_executor(model, fixer_tools, fixer_prompt)\n",
        "-\n",
        "-    task_input = \"Your task is to fix issues from the auditor's report. Begin now.\"\n",
        "-\n",
        "-    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n",
        "-\n",
        "-    logger.info(f\"Fixer Agent finished with output: {result['output']}\")\n",
        "-    return {\"status\": result['output']}\n",
        "-\n",
        "-\n",
        "-async def run_advisor(state: AgentState):\n",
        "-    print(\"--- Running Advisor Agent ---\")\n",
        "-    all_tools = state['mcp_tools']\n",
        "-    model = state['model']\n",
        "-    logger = state['logger']\n",
        "-    timestamp = state['timestamp']\n",
        "-    \n",
        "-    advisor_tools = [t for t in all_tools if t.name in [\"list_allowed_directories\", \"list_directory\", \"search_files\", \"read_text_file\"]] + [load_report]\n",
        "-    advisor_prompt = '''Your goal is to provide recommendations for systemic improvements.\n",
        "-1.  **Analyze Reports**: Load and analyze `auditor_report.json` and `fixer_report.json`.\n",
        "-2.  **Generate Recommendations**: Based on recurring patterns, generate actionable recommendations for ingestion prompts or server configuration.\n",
        "-3.  **Compile Report**: Save a final report with your top 3-5 suggestions to `advisor_report.json`.'''\n",
        "-\n",
        "-    agent_executor = create_agent_executor(model, advisor_tools, advisor_prompt)\n",
        "-    \n",
        "-    task_input = \"Your task is to provide recommendations based on the latest audit and fix reports. Begin now.\"\n",
        "-\n",
        "-    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n",
        "-\n",
        "-    logger.info(f\"Advisor Agent finished with output: {result['output']}\")\n",
        "-    return {\"status\": result['output']}\n",
        "\\ No newline at end of file\n"
      ]
    },
    {
      "path": "sub_agents/__init__.py",
      "status": "renamed",
      "additions": 0,
      "deletions": 0,
      "patch": "",
      "patch_lines": [],
      "previous_filename": "prompt_templates/curator_prompt.txt"
    },
    {
      "path": "sub_agents/advisor.py",
      "status": "added",
      "additions": 57,
      "deletions": 0,
      "patch": "@@ -0,0 +1,57 @@\n+# advisor.py\n+from langchain.agents import create_openai_tools_agent, AgentExecutor\n+from langchain_core.prompts import ChatPromptTemplate\n+from langchain_core.tools import tool, ToolException\n+from langchain_core.messages import AIMessage\n+import json\n+import os\n+import re\n+from state import AgentState\n+from tools import load_report, extract_and_clean_json\n+\n+async def advisor_agent_node(state: AgentState):\n+    print(\"--- Running Advisor Agent ---\")\n+    all_tools = state['mcp_tools']\n+    model = state['model']\n+    logger = state['logger']\n+    timestamp = state['timestamp']\n+    \n+    advisor_tools = [t for t in all_tools if t.name in [\"list_allowed_directories\", \"list_directory\", \"search_files\", \"read_text_file\"]] + [load_report]\n+    advisor_prompt = '''Your goal is to provide recommendations for systemic improvements.\n+1.  **Analyze Reports**: Load and analyze `auditor_report.json` and `fixer_report.json`.\n+2.  **Generate Recommendations**: Based on recurring patterns, generate actionable recommendations for ingestion prompts or server configuration.\n+3.  **Compile Report**: Save a final report with your top 3-5 suggestions to `advisor_report.json`.'''\n+\n+    prompt = ChatPromptTemplate.from_template(advisor_prompt)\n+    agent_executor = create_openai_tools_agent(model, advisor_tools, prompt)\n+    \n+    task_input = \"Your task is to provide recommendations based on the latest audit and fix reports. Begin now.\"\n+\n+    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n+\n+    logger.info(f\"Advisor Agent finished with output: {result['output']}\")\n+    return {\"messages\": state['messages'] + [AIMessage(content=result['output'])]}\n+\n+def save_advisor_report_node(state: AgentState):\n+    \"\"\"Saves the final report from the last AI message.\"\"\"\n+    logger = state['logger']\n+    final_message_from_agent = state['messages'][-1]\n+\n+    status = f\"--- Saving Advisor Report ---\\n{final_message_from_agent.content}\"\n+    print(f\"[INFO] {status}\")\n+    logger.info(status)\n+\n+    try:\n+        report_json = extract_and_clean_json(final_message_from_agent.content)\n+        if 'report_id' not in report_json:\n+            report_json['report_id'] = state.get('advisor_report_id', 'unknown_id')\n+        save_advisor_report.invoke({\"advisor_report\": json.dumps(report_json)})\n+        status = f\"Successfully saved advisor report with ID {report_json.get('report_id')}\"\n+        print(f\"[INFO] {status}\")\n+        logger.info(status)\n+    except (ValueError, KeyError) as e:\n+        status = f\"Error processing or saving advisor report: {e}\"\n+        print(f\"[ERROR] {status}\")\n+        logger.error(status, exc_info=True)\n+\n+    return {\"messages\": state['messages'] + [AIMessage(content=status)]}",
      "patch_lines": [
        "@@ -0,0 +1,57 @@\n",
        "+# advisor.py\n",
        "+from langchain.agents import create_openai_tools_agent, AgentExecutor\n",
        "+from langchain_core.prompts import ChatPromptTemplate\n",
        "+from langchain_core.tools import tool, ToolException\n",
        "+from langchain_core.messages import AIMessage\n",
        "+import json\n",
        "+import os\n",
        "+import re\n",
        "+from state import AgentState\n",
        "+from tools import load_report, extract_and_clean_json\n",
        "+\n",
        "+async def advisor_agent_node(state: AgentState):\n",
        "+    print(\"--- Running Advisor Agent ---\")\n",
        "+    all_tools = state['mcp_tools']\n",
        "+    model = state['model']\n",
        "+    logger = state['logger']\n",
        "+    timestamp = state['timestamp']\n",
        "+    \n",
        "+    advisor_tools = [t for t in all_tools if t.name in [\"list_allowed_directories\", \"list_directory\", \"search_files\", \"read_text_file\"]] + [load_report]\n",
        "+    advisor_prompt = '''Your goal is to provide recommendations for systemic improvements.\n",
        "+1.  **Analyze Reports**: Load and analyze `auditor_report.json` and `fixer_report.json`.\n",
        "+2.  **Generate Recommendations**: Based on recurring patterns, generate actionable recommendations for ingestion prompts or server configuration.\n",
        "+3.  **Compile Report**: Save a final report with your top 3-5 suggestions to `advisor_report.json`.'''\n",
        "+\n",
        "+    prompt = ChatPromptTemplate.from_template(advisor_prompt)\n",
        "+    agent_executor = create_openai_tools_agent(model, advisor_tools, prompt)\n",
        "+    \n",
        "+    task_input = \"Your task is to provide recommendations based on the latest audit and fix reports. Begin now.\"\n",
        "+\n",
        "+    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n",
        "+\n",
        "+    logger.info(f\"Advisor Agent finished with output: {result['output']}\")\n",
        "+    return {\"messages\": state['messages'] + [AIMessage(content=result['output'])]}\n",
        "+\n",
        "+def save_advisor_report_node(state: AgentState):\n",
        "+    \"\"\"Saves the final report from the last AI message.\"\"\"\n",
        "+    logger = state['logger']\n",
        "+    final_message_from_agent = state['messages'][-1]\n",
        "+\n",
        "+    status = f\"--- Saving Advisor Report ---\\n{final_message_from_agent.content}\"\n",
        "+    print(f\"[INFO] {status}\")\n",
        "+    logger.info(status)\n",
        "+\n",
        "+    try:\n",
        "+        report_json = extract_and_clean_json(final_message_from_agent.content)\n",
        "+        if 'report_id' not in report_json:\n",
        "+            report_json['report_id'] = state.get('advisor_report_id', 'unknown_id')\n",
        "+        save_advisor_report.invoke({\"advisor_report\": json.dumps(report_json)})\n",
        "+        status = f\"Successfully saved advisor report with ID {report_json.get('report_id')}\"\n",
        "+        print(f\"[INFO] {status}\")\n",
        "+        logger.info(status)\n",
        "+    except (ValueError, KeyError) as e:\n",
        "+        status = f\"Error processing or saving advisor report: {e}\"\n",
        "+        print(f\"[ERROR] {status}\")\n",
        "+        logger.error(status, exc_info=True)\n",
        "+\n",
        "+    return {\"messages\": state['messages'] + [AIMessage(content=status)]}\n"
      ]
    },
    {
      "path": "sub_agents/analyst.py",
      "status": "added",
      "additions": 84,
      "deletions": 0,
      "patch": "@@ -0,0 +1,84 @@\n+# analyst.py\n+from langchain.agents import create_openai_tools_agent, AgentExecutor\n+from langchain_core.prompts import ChatPromptTemplate\n+from langchain_core.tools import tool, ToolException\n+from langchain_core.messages import AIMessage\n+import json\n+import os\n+import re\n+from state import AgentState\n+from tools import save_analyst_report, extract_and_clean_json\n+\n+async def analyst_agent_node(state: AgentState):\n+    \"\"\"This node encapsulates the entire agent execution loop.\"\"\"\n+    logger = state['logger']\n+    \n+    if not state.get(\"analyst_report_id\"):\n+        timestamp = state['timestamp']\n+        report_id = f\"ana_{timestamp.replace('-', '').replace(':', '').replace('T', '_').split('.')[0]}\"\n+        state[\"analyst_report_id\"] = report_id\n+        status = f\"Initialized analyst report with ID: {report_id}\"\n+        print(f\"[INFO] {status}\")\n+        logger.info(status)\n+\n+    analyst_prompt = ChatPromptTemplate.from_template(open(\"prompts/analyst_prompt.txt\", \"r\").read())    \n+    analyst_tools = [t for t in state['mcp_tools'] if t.name in [\"query\", \"graphs_get\", \"graph_labels\", \"google_search\", \"fetch\"]]\n+\n+    status = f\"Attempting to invoke analyst agent executor with tools: {analyst_tools}\"\n+    print(f\"[INFO] {status}\")\n+    logger.info(status)\n+    try:\n+        agent_runnable = create_openai_tools_agent(state['model'], analyst_tools, analyst_prompt)\n+        executor = AgentExecutor(agent=agent_runnable, tools=analyst_tools, verbose=True)\n+    except Exception as e:\n+        status = f\"Failed to create agent executor: {e}\"\n+        print(f\"[ERROR] {status}\")\n+        logger.error(status, exc_info=True)\n+        return {\"status\": status}\n+\n+    status = f\"Attempting to run agent executor with input: {state['messages'][0].content}\"\n+    print(f\"[INFO] {status}\")\n+    logger.info(status)\n+    try:\n+        # The executor handles the entire loop of tool calls and reasoning.\n+        analyst_result = await executor.ainvoke({\n+            \"input\": state['messages'][0].content,\n+            \"analyst_report_id\": state.get(\"analyst_report_id\", \"\")\n+        })\n+        final_output = analyst_result.get('output', '')\n+    except Exception as e:\n+        status = f\"AgentExecutor failed: {e}\"\n+        print(f\"[ERROR] {status}\")\n+        logger.error(status, exc_info=True)\n+        final_output = f\"Error in Analyst Agent: {e}\"\n+\n+    # The node returns a single AIMessage with the final report.\n+    # This message is then passed to the next node in the graph.\n+    status = f\"Successfully generated analyst report: {final_output}\"\n+    print(f\"[INFO] {status}\")\n+    logger.info(status)\n+    return {\"messages\": state['messages'] + [AIMessage(content=final_output)]}\n+\n+def save_analyst_report_node(state: AgentState):\n+    \"\"\"Saves the final report from the last AI message.\"\"\"\n+    logger = state['logger']\n+    final_message_from_agent = state['messages'][-1]\n+\n+    status = f\"--- Saving Analyst Report ---\\n{final_message_from_agent.content}\"\n+    print(f\"[INFO] {status}\")\n+    logger.info(status)\n+\n+    try:\n+        report_json = extract_and_clean_json(final_message_from_agent.content)\n+        if 'report_id' not in report_json:\n+            report_json['report_id'] = state.get('analyst_report_id', 'unknown_id')\n+        save_analyst_report.invoke({\"analyst_report\": json.dumps(report_json)})\n+        status = f\"Successfully saved analyst report with ID {report_json.get('report_id')}\"\n+        print(f\"[INFO] {status}\")\n+        logger.info(status)\n+    except (ValueError, KeyError) as e:\n+        status = f\"Error processing or saving analyst report: {e}\"\n+        print(f\"[ERROR] {status}\")\n+        logger.error(status)\n+    \n+    return {\"messages\": state['messages'] + [AIMessage(content=status)]}",
      "patch_lines": [
        "@@ -0,0 +1,84 @@\n",
        "+# analyst.py\n",
        "+from langchain.agents import create_openai_tools_agent, AgentExecutor\n",
        "+from langchain_core.prompts import ChatPromptTemplate\n",
        "+from langchain_core.tools import tool, ToolException\n",
        "+from langchain_core.messages import AIMessage\n",
        "+import json\n",
        "+import os\n",
        "+import re\n",
        "+from state import AgentState\n",
        "+from tools import save_analyst_report, extract_and_clean_json\n",
        "+\n",
        "+async def analyst_agent_node(state: AgentState):\n",
        "+    \"\"\"This node encapsulates the entire agent execution loop.\"\"\"\n",
        "+    logger = state['logger']\n",
        "+    \n",
        "+    if not state.get(\"analyst_report_id\"):\n",
        "+        timestamp = state['timestamp']\n",
        "+        report_id = f\"ana_{timestamp.replace('-', '').replace(':', '').replace('T', '_').split('.')[0]}\"\n",
        "+        state[\"analyst_report_id\"] = report_id\n",
        "+        status = f\"Initialized analyst report with ID: {report_id}\"\n",
        "+        print(f\"[INFO] {status}\")\n",
        "+        logger.info(status)\n",
        "+\n",
        "+    analyst_prompt = ChatPromptTemplate.from_template(open(\"prompts/analyst_prompt.txt\", \"r\").read())    \n",
        "+    analyst_tools = [t for t in state['mcp_tools'] if t.name in [\"query\", \"graphs_get\", \"graph_labels\", \"google_search\", \"fetch\"]]\n",
        "+\n",
        "+    status = f\"Attempting to invoke analyst agent executor with tools: {analyst_tools}\"\n",
        "+    print(f\"[INFO] {status}\")\n",
        "+    logger.info(status)\n",
        "+    try:\n",
        "+        agent_runnable = create_openai_tools_agent(state['model'], analyst_tools, analyst_prompt)\n",
        "+        executor = AgentExecutor(agent=agent_runnable, tools=analyst_tools, verbose=True)\n",
        "+    except Exception as e:\n",
        "+        status = f\"Failed to create agent executor: {e}\"\n",
        "+        print(f\"[ERROR] {status}\")\n",
        "+        logger.error(status, exc_info=True)\n",
        "+        return {\"status\": status}\n",
        "+\n",
        "+    status = f\"Attempting to run agent executor with input: {state['messages'][0].content}\"\n",
        "+    print(f\"[INFO] {status}\")\n",
        "+    logger.info(status)\n",
        "+    try:\n",
        "+        # The executor handles the entire loop of tool calls and reasoning.\n",
        "+        analyst_result = await executor.ainvoke({\n",
        "+            \"input\": state['messages'][0].content,\n",
        "+            \"analyst_report_id\": state.get(\"analyst_report_id\", \"\")\n",
        "+        })\n",
        "+        final_output = analyst_result.get('output', '')\n",
        "+    except Exception as e:\n",
        "+        status = f\"AgentExecutor failed: {e}\"\n",
        "+        print(f\"[ERROR] {status}\")\n",
        "+        logger.error(status, exc_info=True)\n",
        "+        final_output = f\"Error in Analyst Agent: {e}\"\n",
        "+\n",
        "+    # The node returns a single AIMessage with the final report.\n",
        "+    # This message is then passed to the next node in the graph.\n",
        "+    status = f\"Successfully generated analyst report: {final_output}\"\n",
        "+    print(f\"[INFO] {status}\")\n",
        "+    logger.info(status)\n",
        "+    return {\"messages\": state['messages'] + [AIMessage(content=final_output)]}\n",
        "+\n",
        "+def save_analyst_report_node(state: AgentState):\n",
        "+    \"\"\"Saves the final report from the last AI message.\"\"\"\n",
        "+    logger = state['logger']\n",
        "+    final_message_from_agent = state['messages'][-1]\n",
        "+\n",
        "+    status = f\"--- Saving Analyst Report ---\\n{final_message_from_agent.content}\"\n",
        "+    print(f\"[INFO] {status}\")\n",
        "+    logger.info(status)\n",
        "+\n",
        "+    try:\n",
        "+        report_json = extract_and_clean_json(final_message_from_agent.content)\n",
        "+        if 'report_id' not in report_json:\n",
        "+            report_json['report_id'] = state.get('analyst_report_id', 'unknown_id')\n",
        "+        save_analyst_report.invoke({\"analyst_report\": json.dumps(report_json)})\n",
        "+        status = f\"Successfully saved analyst report with ID {report_json.get('report_id')}\"\n",
        "+        print(f\"[INFO] {status}\")\n",
        "+        logger.info(status)\n",
        "+    except (ValueError, KeyError) as e:\n",
        "+        status = f\"Error processing or saving analyst report: {e}\"\n",
        "+        print(f\"[ERROR] {status}\")\n",
        "+        logger.error(status)\n",
        "+    \n",
        "+    return {\"messages\": state['messages'] + [AIMessage(content=status)]}\n"
      ]
    },
    {
      "path": "sub_agents/auditor.py",
      "status": "added",
      "additions": 57,
      "deletions": 0,
      "patch": "@@ -0,0 +1,57 @@\n+# auditor.py\n+from langchain.agents import create_openai_tools_agent, AgentExecutor\n+from langchain_core.prompts import ChatPromptTemplate\n+from langchain_core.tools import tool, ToolException\n+from langchain_core.messages import AIMessage\n+import json\n+import os\n+import re\n+from state import AgentState\n+from tools import load_report, extract_and_clean_json\n+\n+async def auditor_agent_node(state: AgentState):\n+    print(\"--- Running Auditor Agent ---\")\n+    all_tools = state['mcp_tools']\n+    model = state['model']\n+    logger = state['logger']\n+    timestamp = state['timestamp']\n+    \n+    auditor_tools = [t for t in all_tools if t.name in [\"graphs_get\", \"query\"]]\n+    auditor_prompt = '''Your goal is to review the LightRAG knowledge base for data quality issues.\n+1.  **Identify issues**: Scan the graph for duplicates, irregular normalization, etc.\n+2.  **Generate Report**: Create a report of your findings.\n+3.  **Save Report**: Use `save_report` to save the findings to `auditor_report.json`.'''\n+\n+    prompt = ChatPromptTemplate.from_template(auditor_prompt)\n+    agent_executor = create_openai_tools_agent(model, auditor_tools, prompt)\n+\n+    task_input = \"Your task is to audit the knowledge base. Begin now.\"\n+\n+    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n+    \n+    logger.info(f\"Auditor Agent finished with output: {result['output']}\")\n+    return {\"messages\": state['messages'] + [AIMessage(content=result['output'])]}\n+\n+def save_auditor_report_node(state: AgentState):\n+    \"\"\"Saves the final report from the last AI message.\"\"\"\n+    logger = state['logger']\n+    final_message_from_agent = state['messages'][-1]\n+\n+    status = f\"--- Saving Auditor Report ---\\n{final_message_from_agent.content}\"\n+    print(f\"[INFO] {status}\")\n+    logger.info(status)\n+\n+    try:\n+        report_json = extract_and_clean_json(final_message_from_agent.content)\n+        if 'report_id' not in report_json:\n+            report_json['report_id'] = state.get('auditor_report_id', 'unknown_id')\n+        save_auditor_report.invoke({\"auditor_report\": json.dumps(report_json)})\n+        status = f\"Successfully saved auditor report with ID {report_json.get('report_id')}\"\n+        print(f\"[INFO] {status}\")\n+        logger.info(status)\n+    except (ValueError, KeyError) as e:\n+        status = f\"Error processing or saving auditor report: {e}\"\n+        print(f\"[ERROR] {status}\")\n+        logger.error(status, exc_info=True)\n+\n+    return {\"messages\": state['messages'] + [AIMessage(content=status)]}",
      "patch_lines": [
        "@@ -0,0 +1,57 @@\n",
        "+# auditor.py\n",
        "+from langchain.agents import create_openai_tools_agent, AgentExecutor\n",
        "+from langchain_core.prompts import ChatPromptTemplate\n",
        "+from langchain_core.tools import tool, ToolException\n",
        "+from langchain_core.messages import AIMessage\n",
        "+import json\n",
        "+import os\n",
        "+import re\n",
        "+from state import AgentState\n",
        "+from tools import load_report, extract_and_clean_json\n",
        "+\n",
        "+async def auditor_agent_node(state: AgentState):\n",
        "+    print(\"--- Running Auditor Agent ---\")\n",
        "+    all_tools = state['mcp_tools']\n",
        "+    model = state['model']\n",
        "+    logger = state['logger']\n",
        "+    timestamp = state['timestamp']\n",
        "+    \n",
        "+    auditor_tools = [t for t in all_tools if t.name in [\"graphs_get\", \"query\"]]\n",
        "+    auditor_prompt = '''Your goal is to review the LightRAG knowledge base for data quality issues.\n",
        "+1.  **Identify issues**: Scan the graph for duplicates, irregular normalization, etc.\n",
        "+2.  **Generate Report**: Create a report of your findings.\n",
        "+3.  **Save Report**: Use `save_report` to save the findings to `auditor_report.json`.'''\n",
        "+\n",
        "+    prompt = ChatPromptTemplate.from_template(auditor_prompt)\n",
        "+    agent_executor = create_openai_tools_agent(model, auditor_tools, prompt)\n",
        "+\n",
        "+    task_input = \"Your task is to audit the knowledge base. Begin now.\"\n",
        "+\n",
        "+    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n",
        "+    \n",
        "+    logger.info(f\"Auditor Agent finished with output: {result['output']}\")\n",
        "+    return {\"messages\": state['messages'] + [AIMessage(content=result['output'])]}\n",
        "+\n",
        "+def save_auditor_report_node(state: AgentState):\n",
        "+    \"\"\"Saves the final report from the last AI message.\"\"\"\n",
        "+    logger = state['logger']\n",
        "+    final_message_from_agent = state['messages'][-1]\n",
        "+\n",
        "+    status = f\"--- Saving Auditor Report ---\\n{final_message_from_agent.content}\"\n",
        "+    print(f\"[INFO] {status}\")\n",
        "+    logger.info(status)\n",
        "+\n",
        "+    try:\n",
        "+        report_json = extract_and_clean_json(final_message_from_agent.content)\n",
        "+        if 'report_id' not in report_json:\n",
        "+            report_json['report_id'] = state.get('auditor_report_id', 'unknown_id')\n",
        "+        save_auditor_report.invoke({\"auditor_report\": json.dumps(report_json)})\n",
        "+        status = f\"Successfully saved auditor report with ID {report_json.get('report_id')}\"\n",
        "+        print(f\"[INFO] {status}\")\n",
        "+        logger.info(status)\n",
        "+    except (ValueError, KeyError) as e:\n",
        "+        status = f\"Error processing or saving auditor report: {e}\"\n",
        "+        print(f\"[ERROR] {status}\")\n",
        "+        logger.error(status, exc_info=True)\n",
        "+\n",
        "+    return {\"messages\": state['messages'] + [AIMessage(content=status)]}\n"
      ]
    },
    {
      "path": "sub_agents/curator.py",
      "status": "added",
      "additions": 197,
      "deletions": 0,
      "patch": "@@ -0,0 +1,197 @@\n+# curator.py\n+from langchain.agents import create_openai_tools_agent, AgentExecutor\n+from langchain_core.prompts import ChatPromptTemplate\n+from langchain_core.tools import tool, ToolException\n+from langchain_core.messages import AIMessage\n+import json\n+import os\n+import re\n+from state import AgentState\n+from tools import initialize_curator, update_curator_report, extract_and_clean_json\n+    \n+async def curator_agent_node(state: AgentState):\n+    logger = state['logger']\n+\n+    # One-time initialization of the curator state\n+    if not state.get(\"curator_report_id\"):\n+        status = f\"--- Curator state not initialized. Calling initialize_curator. ---\"\n+        print(status)\n+        logger.info(status)\n+        try:\n+            init_result = initialize_curator(state['timestamp'])\n+            if isinstance(init_result, dict):\n+                state[\"curator_report_id\"] = init_result.get(\"curator_report_id\")\n+                state[\"curator_searches_todo\"] = init_result.get(\"curator_searches_todo\")\n+                state[\"curator_current_search\"] = {}\n+                state[\"curator_urls_for_ingestion\"] = []\n+                status = f\"--- Initialized curator state: {init_result} ---\"\n+                print(f\"[INFO] {status}\")\n+                logger.info(status)\n+        except Exception as e:\n+            status = f\"Failed to initialize curator report: {e}\"\n+            print(f\"[ERROR] {status}\")\n+            logger.error(status, exc_info=True)\n+            return {\"status\": status}\n+\n+    # Create the specialized agent for search ranking\n+    search_ranker_prompt = ChatPromptTemplate.from_template(open(\"prompts/search_ranker_prompt.txt\", \"r\").read())\n+    search_ranker_tools = [t for t in state['mcp_tools'] if t.name in [\"google_search\", \"fetch\"]]\n+    status = f\"Attempting to invoke search ranker agent executor with tools: {search_ranker_tools}\"\n+    print(f\"[INFO] {status}\")\n+    logger.info(status)\n+    try:\n+        agent_runnable = create_openai_tools_agent(state['model'], search_ranker_tools, search_ranker_prompt)\n+        executor = AgentExecutor(agent=agent_runnable, tools=search_ranker_tools, verbose=True)\n+    except Exception as e:\n+        status = f\"Failed to create search ranker agent executor: {e}\"\n+        print(f\"[ERROR] {status}\")\n+        logger.error(status, exc_info=True)\n+        return {\"status\": status}\n+\n+    # Main control loop for search ranking\n+    task = \"Rank the search results in `{search_results}` based on relevance to the rationale in `{search_rationale}`\"\n+    searches_todo = state.get(\"curator_searches_todo\", [])\n+    if isinstance(searches_todo, list) and searches_todo:\n+        for current_search in searches_todo:\n+            state[\"curator_current_search\"] = current_search\n+            search_rationale = current_search['rationale']\n+            search_results = current_search['results']\n+\n+            status = f\"Processing search: {current_search['search_id']}\"\n+            print(f\"[INFO] {status}\")\n+            logger.info(status)\n+            try:\n+                search_ranker_result = await executor.ainvoke({\n+                    \"input\": task,\n+                    \"search_rationale\": search_rationale,\n+                    \"search_results\": search_results\n+                })\n+                status = f\"Curator agent for search {current_search['search_id']} completed. Raw output: {search_ranker_result.get('output', '')}\"\n+                print(f\"[INFO] {status}\")\n+                logger.info(status)\n+                \n+                try:\n+                    json_output = extract_and_clean_json(search_ranker_result.get('output', ''))\n+                    ranked_urls = json_output.get(\"urls_for_ingestion\", [])\n+                    state[\"curator_urls_for_ingestion\"].extend(ranked_urls)\n+                    status = f\"Successfully parsed ranked URLs for search {current_search['search_id']}: {ranked_urls}.\"\n+                    print(f\"[INFO] {status}\")\n+                    logger.info(status)\n+                except Exception as e:\n+                    status = f\"Failed to parse ranked URLs for search {current_search['search_id']}: {e}\"\n+                    print(f\"[ERROR] {status}\")\n+                    logger.error(status, exc_info=True)\n+                    continue\n+\n+                status = f\"Preparing to update report for search {current_search['search_id']} with {len(ranked_urls)} URLs.\"\n+                print(f\"[INFO] {status}\")\n+                logger.info(status)\n+                try:\n+                    tool_input = {\n+                        \"curator_report_id\": state.get(\"curator_report_id\", \"\"),\n+                        \"current_search\": current_search,\n+                        \"job\": \"urls_for_ingestion\",\n+                        \"results\": ranked_urls\n+                    }\n+                    result = update_curator_report.invoke(tool_input)\n+                    status = f\"Updated report for search {current_search['search_id']} with {len(ranked_urls)} URLs.\"\n+                    print(f\"[INFO] {status}\")\n+                    logger.info(status)\n+                except Exception as e:\n+                    status = f\"Failed to update report for search {current_search['search_id']}: {e}\"\n+                    print(f\"[ERROR] {status}\")\n+                    logger.error(status, exc_info=True)\n+                    continue\n+\n+                status = f\"Successfully updated report for search {current_search['search_id']} with {len(ranked_urls)} URLs.\"\n+                print(f\"[INFO] {status}\")\n+                logger.info(status)\n+\n+            except Exception as e:\n+                status = f\"AgentExecutor failed: {e}\"\n+                print(f\"[ERROR] {status}\")\n+                logger.error(status, exc_info=True)\n+                continue\n+\n+    status = f\"Successfully completed ranking of all searches for report: {state.get('curator_report_id', 'unknown_id')}\"\n+    print(f\"[INFO] {status}\")\n+    logger.info(status)\n+\n+    # Create the specialized agent for url ingestion\n+    ingester_prompt = ChatPromptTemplate.from_template(open(\"prompts/ingester_prompt.txt\", \"r\").read())\n+    ingester_tools = [t for t in state['mcp_tools'] if t.name in [\"fetch\", \"documents_upload_file\", \"documents_upload_files\", \"documents_insert_text\", \"documents_pipeline_status\"]]\n+    status = f\"Attempting to invoke url ingestion agent executor with tools: {ingester_tools}\"\n+    print(f\"[INFO] {status}\")\n+    logger.info(status)\n+    try:\n+        agent_runnable = create_openai_tools_agent(state['model'], ingester_tools, ingester_prompt)\n+        executor = AgentExecutor(agent=agent_runnable, tools=ingester_tools, verbose=True)\n+    except Exception as e:\n+        status = f\"Failed to create url ingestion agent executor: {e}\"\n+        print(f\"[ERROR] {status}\")\n+        logger.error(status, exc_info=True)\n+        return {\"status\": status}\n+\n+   # Main control for url ingestion\n+\n+    task = \"Ingest the URLs in `{urls_for_ingestion}` and return the ingestion status for each URL.\"\n+    status = f\"Attempting to run agent executor for url ingestion\"\n+    print(f\"[INFO] {status}\")\n+    logger.info(status)\n+    try:\n+        # The executor handles the entire loop of tool calls and reasoning.\n+        ingestion_result = await executor.ainvoke({\n+            \"input\": task,\n+            \"urls_for_ingestion\": state.get(\"curator_urls_for_ingestion\", [])\n+        })\n+        status = f\"Curator agent ingestion for report {state.get('curator_report_id', 'unknown_id')} completed.\\nRaw output: {ingestion_result.get('output', '')}\"\n+        print(f\"[INFO] {status}\")\n+        logger.info(status)\n+        \n+        try:\n+            json_output = extract_and_clean_json(ingestion_result.get('output', ''))\n+            url_ingestion_status = json_output.get(\"url_ingestion_status\", [])\n+            status = f\"Successfully parsed URL ingestion status: {url_ingestion_status}.\"\n+            print(f\"[INFO] {status}\")\n+            logger.info(status)\n+        except Exception as e:\n+            status = f\"Failed to parse URL ingestion status: {e}\"\n+            print(f\"[ERROR] {status}\")\n+            logger.error(status, exc_info=True)\n+            return {\"status\": status}\n+\n+        status = f\"Preparing to update report: {state.get('curator_report_id', 'unknown_id')} with ingestion status for {len(url_ingestion_status)} URLs.\"\n+        print(f\"[INFO] {status}\")\n+        logger.info(status)\n+        try:\n+            tool_input = {\n+                \"curator_report_id\": state.get(\"curator_report_id\", \"\"),\n+                \"current_search\": current_search,\n+                \"job\": \"url_ingestion_status\",\n+                \"results\": url_ingestion_status\n+            }\n+            ingestion_result = update_curator_report.invoke(tool_input)\n+            status = f\"Updated report {state.get('curator_report_id', 'unknown_id')} with ingestions status for {len(url_ingestion_status)} URLs.\"\n+            print(f\"[INFO] {status}\")\n+            logger.info(status)\n+        except Exception as e:\n+            status = f\"Failed to update report {state.get('curator_report_id', 'unknown_id')}: {e}\"\n+            print(f\"[ERROR] {status}\")\n+            logger.error(status, exc_info=True)\n+            return {\"status\": status}\n+\n+        status = f\"Successfully updated report {state.get('curator_report_id', 'unknown_id')} with {len(url_ingestion_status)} URLs.\"\n+        print(f\"[INFO] {status}\")\n+        logger.info(status)\n+    except Exception as e:\n+        status = f\"Curator agent failed to run ingestion of ranked URLs: {e}\"\n+        print(f\"[ERROR] {status}\")\n+        logger.error(status, exc_info=True)\n+        return {\"status\": status}\n+\n+    # The node returns a single AIMessage with the final report.\n+    # This message is then passed to the next node in the graph.\n+    status = f\"Curator successfully ranked and ingested URLs, generating curator report summary written to file `state/curator_report.json`\"\n+    print(f\"[INFO] {status}\")\n+    logger.info(status)\n+    return {\"messages\": state['messages'] + [AIMessage(content=status)]}",
      "patch_lines": [
        "@@ -0,0 +1,197 @@\n",
        "+# curator.py\n",
        "+from langchain.agents import create_openai_tools_agent, AgentExecutor\n",
        "+from langchain_core.prompts import ChatPromptTemplate\n",
        "+from langchain_core.tools import tool, ToolException\n",
        "+from langchain_core.messages import AIMessage\n",
        "+import json\n",
        "+import os\n",
        "+import re\n",
        "+from state import AgentState\n",
        "+from tools import initialize_curator, update_curator_report, extract_and_clean_json\n",
        "+    \n",
        "+async def curator_agent_node(state: AgentState):\n",
        "+    logger = state['logger']\n",
        "+\n",
        "+    # One-time initialization of the curator state\n",
        "+    if not state.get(\"curator_report_id\"):\n",
        "+        status = f\"--- Curator state not initialized. Calling initialize_curator. ---\"\n",
        "+        print(status)\n",
        "+        logger.info(status)\n",
        "+        try:\n",
        "+            init_result = initialize_curator(state['timestamp'])\n",
        "+            if isinstance(init_result, dict):\n",
        "+                state[\"curator_report_id\"] = init_result.get(\"curator_report_id\")\n",
        "+                state[\"curator_searches_todo\"] = init_result.get(\"curator_searches_todo\")\n",
        "+                state[\"curator_current_search\"] = {}\n",
        "+                state[\"curator_urls_for_ingestion\"] = []\n",
        "+                status = f\"--- Initialized curator state: {init_result} ---\"\n",
        "+                print(f\"[INFO] {status}\")\n",
        "+                logger.info(status)\n",
        "+        except Exception as e:\n",
        "+            status = f\"Failed to initialize curator report: {e}\"\n",
        "+            print(f\"[ERROR] {status}\")\n",
        "+            logger.error(status, exc_info=True)\n",
        "+            return {\"status\": status}\n",
        "+\n",
        "+    # Create the specialized agent for search ranking\n",
        "+    search_ranker_prompt = ChatPromptTemplate.from_template(open(\"prompts/search_ranker_prompt.txt\", \"r\").read())\n",
        "+    search_ranker_tools = [t for t in state['mcp_tools'] if t.name in [\"google_search\", \"fetch\"]]\n",
        "+    status = f\"Attempting to invoke search ranker agent executor with tools: {search_ranker_tools}\"\n",
        "+    print(f\"[INFO] {status}\")\n",
        "+    logger.info(status)\n",
        "+    try:\n",
        "+        agent_runnable = create_openai_tools_agent(state['model'], search_ranker_tools, search_ranker_prompt)\n",
        "+        executor = AgentExecutor(agent=agent_runnable, tools=search_ranker_tools, verbose=True)\n",
        "+    except Exception as e:\n",
        "+        status = f\"Failed to create search ranker agent executor: {e}\"\n",
        "+        print(f\"[ERROR] {status}\")\n",
        "+        logger.error(status, exc_info=True)\n",
        "+        return {\"status\": status}\n",
        "+\n",
        "+    # Main control loop for search ranking\n",
        "+    task = \"Rank the search results in `{search_results}` based on relevance to the rationale in `{search_rationale}`\"\n",
        "+    searches_todo = state.get(\"curator_searches_todo\", [])\n",
        "+    if isinstance(searches_todo, list) and searches_todo:\n",
        "+        for current_search in searches_todo:\n",
        "+            state[\"curator_current_search\"] = current_search\n",
        "+            search_rationale = current_search['rationale']\n",
        "+            search_results = current_search['results']\n",
        "+\n",
        "+            status = f\"Processing search: {current_search['search_id']}\"\n",
        "+            print(f\"[INFO] {status}\")\n",
        "+            logger.info(status)\n",
        "+            try:\n",
        "+                search_ranker_result = await executor.ainvoke({\n",
        "+                    \"input\": task,\n",
        "+                    \"search_rationale\": search_rationale,\n",
        "+                    \"search_results\": search_results\n",
        "+                })\n",
        "+                status = f\"Curator agent for search {current_search['search_id']} completed. Raw output: {search_ranker_result.get('output', '')}\"\n",
        "+                print(f\"[INFO] {status}\")\n",
        "+                logger.info(status)\n",
        "+                \n",
        "+                try:\n",
        "+                    json_output = extract_and_clean_json(search_ranker_result.get('output', ''))\n",
        "+                    ranked_urls = json_output.get(\"urls_for_ingestion\", [])\n",
        "+                    state[\"curator_urls_for_ingestion\"].extend(ranked_urls)\n",
        "+                    status = f\"Successfully parsed ranked URLs for search {current_search['search_id']}: {ranked_urls}.\"\n",
        "+                    print(f\"[INFO] {status}\")\n",
        "+                    logger.info(status)\n",
        "+                except Exception as e:\n",
        "+                    status = f\"Failed to parse ranked URLs for search {current_search['search_id']}: {e}\"\n",
        "+                    print(f\"[ERROR] {status}\")\n",
        "+                    logger.error(status, exc_info=True)\n",
        "+                    continue\n",
        "+\n",
        "+                status = f\"Preparing to update report for search {current_search['search_id']} with {len(ranked_urls)} URLs.\"\n",
        "+                print(f\"[INFO] {status}\")\n",
        "+                logger.info(status)\n",
        "+                try:\n",
        "+                    tool_input = {\n",
        "+                        \"curator_report_id\": state.get(\"curator_report_id\", \"\"),\n",
        "+                        \"current_search\": current_search,\n",
        "+                        \"job\": \"urls_for_ingestion\",\n",
        "+                        \"results\": ranked_urls\n",
        "+                    }\n",
        "+                    result = update_curator_report.invoke(tool_input)\n",
        "+                    status = f\"Updated report for search {current_search['search_id']} with {len(ranked_urls)} URLs.\"\n",
        "+                    print(f\"[INFO] {status}\")\n",
        "+                    logger.info(status)\n",
        "+                except Exception as e:\n",
        "+                    status = f\"Failed to update report for search {current_search['search_id']}: {e}\"\n",
        "+                    print(f\"[ERROR] {status}\")\n",
        "+                    logger.error(status, exc_info=True)\n",
        "+                    continue\n",
        "+\n",
        "+                status = f\"Successfully updated report for search {current_search['search_id']} with {len(ranked_urls)} URLs.\"\n",
        "+                print(f\"[INFO] {status}\")\n",
        "+                logger.info(status)\n",
        "+\n",
        "+            except Exception as e:\n",
        "+                status = f\"AgentExecutor failed: {e}\"\n",
        "+                print(f\"[ERROR] {status}\")\n",
        "+                logger.error(status, exc_info=True)\n",
        "+                continue\n",
        "+\n",
        "+    status = f\"Successfully completed ranking of all searches for report: {state.get('curator_report_id', 'unknown_id')}\"\n",
        "+    print(f\"[INFO] {status}\")\n",
        "+    logger.info(status)\n",
        "+\n",
        "+    # Create the specialized agent for url ingestion\n",
        "+    ingester_prompt = ChatPromptTemplate.from_template(open(\"prompts/ingester_prompt.txt\", \"r\").read())\n",
        "+    ingester_tools = [t for t in state['mcp_tools'] if t.name in [\"fetch\", \"documents_upload_file\", \"documents_upload_files\", \"documents_insert_text\", \"documents_pipeline_status\"]]\n",
        "+    status = f\"Attempting to invoke url ingestion agent executor with tools: {ingester_tools}\"\n",
        "+    print(f\"[INFO] {status}\")\n",
        "+    logger.info(status)\n",
        "+    try:\n",
        "+        agent_runnable = create_openai_tools_agent(state['model'], ingester_tools, ingester_prompt)\n",
        "+        executor = AgentExecutor(agent=agent_runnable, tools=ingester_tools, verbose=True)\n",
        "+    except Exception as e:\n",
        "+        status = f\"Failed to create url ingestion agent executor: {e}\"\n",
        "+        print(f\"[ERROR] {status}\")\n",
        "+        logger.error(status, exc_info=True)\n",
        "+        return {\"status\": status}\n",
        "+\n",
        "+   # Main control for url ingestion\n",
        "+\n",
        "+    task = \"Ingest the URLs in `{urls_for_ingestion}` and return the ingestion status for each URL.\"\n",
        "+    status = f\"Attempting to run agent executor for url ingestion\"\n",
        "+    print(f\"[INFO] {status}\")\n",
        "+    logger.info(status)\n",
        "+    try:\n",
        "+        # The executor handles the entire loop of tool calls and reasoning.\n",
        "+        ingestion_result = await executor.ainvoke({\n",
        "+            \"input\": task,\n",
        "+            \"urls_for_ingestion\": state.get(\"curator_urls_for_ingestion\", [])\n",
        "+        })\n",
        "+        status = f\"Curator agent ingestion for report {state.get('curator_report_id', 'unknown_id')} completed.\\nRaw output: {ingestion_result.get('output', '')}\"\n",
        "+        print(f\"[INFO] {status}\")\n",
        "+        logger.info(status)\n",
        "+        \n",
        "+        try:\n",
        "+            json_output = extract_and_clean_json(ingestion_result.get('output', ''))\n",
        "+            url_ingestion_status = json_output.get(\"url_ingestion_status\", [])\n",
        "+            status = f\"Successfully parsed URL ingestion status: {url_ingestion_status}.\"\n",
        "+            print(f\"[INFO] {status}\")\n",
        "+            logger.info(status)\n",
        "+        except Exception as e:\n",
        "+            status = f\"Failed to parse URL ingestion status: {e}\"\n",
        "+            print(f\"[ERROR] {status}\")\n",
        "+            logger.error(status, exc_info=True)\n",
        "+            return {\"status\": status}\n",
        "+\n",
        "+        status = f\"Preparing to update report: {state.get('curator_report_id', 'unknown_id')} with ingestion status for {len(url_ingestion_status)} URLs.\"\n",
        "+        print(f\"[INFO] {status}\")\n",
        "+        logger.info(status)\n",
        "+        try:\n",
        "+            tool_input = {\n",
        "+                \"curator_report_id\": state.get(\"curator_report_id\", \"\"),\n",
        "+                \"current_search\": current_search,\n",
        "+                \"job\": \"url_ingestion_status\",\n",
        "+                \"results\": url_ingestion_status\n",
        "+            }\n",
        "+            ingestion_result = update_curator_report.invoke(tool_input)\n",
        "+            status = f\"Updated report {state.get('curator_report_id', 'unknown_id')} with ingestions status for {len(url_ingestion_status)} URLs.\"\n",
        "+            print(f\"[INFO] {status}\")\n",
        "+            logger.info(status)\n",
        "+        except Exception as e:\n",
        "+            status = f\"Failed to update report {state.get('curator_report_id', 'unknown_id')}: {e}\"\n",
        "+            print(f\"[ERROR] {status}\")\n",
        "+            logger.error(status, exc_info=True)\n",
        "+            return {\"status\": status}\n",
        "+\n",
        "+        status = f\"Successfully updated report {state.get('curator_report_id', 'unknown_id')} with {len(url_ingestion_status)} URLs.\"\n",
        "+        print(f\"[INFO] {status}\")\n",
        "+        logger.info(status)\n",
        "+    except Exception as e:\n",
        "+        status = f\"Curator agent failed to run ingestion of ranked URLs: {e}\"\n",
        "+        print(f\"[ERROR] {status}\")\n",
        "+        logger.error(status, exc_info=True)\n",
        "+        return {\"status\": status}\n",
        "+\n",
        "+    # The node returns a single AIMessage with the final report.\n",
        "+    # This message is then passed to the next node in the graph.\n",
        "+    status = f\"Curator successfully ranked and ingested URLs, generating curator report summary written to file `state/curator_report.json`\"\n",
        "+    print(f\"[INFO] {status}\")\n",
        "+    logger.info(status)\n",
        "+    return {\"messages\": state['messages'] + [AIMessage(content=status)]}\n"
      ]
    },
    {
      "path": "sub_agents/fixer.py",
      "status": "added",
      "additions": 60,
      "deletions": 0,
      "patch": "@@ -0,0 +1,60 @@\n+# sub_agents.py\n+from langchain.agents import create_openai_tools_agent, AgentExecutor\n+from langchain_core.prompts import ChatPromptTemplate\n+from langchain_core.tools import tool, ToolException\n+from langchain_core.messages import AIMessage\n+import json\n+import os\n+import re\n+from state import AgentState\n+from tools import load_report, human_approval, extract_and_clean_json\n+\n+\n+async def fixer_agent_node(state: AgentState):\n+    print(\"--- Running Fixer Agent ---\")\n+    all_tools = state['mcp_tools']\n+    model = state['model']\n+    logger = state['logger']\n+    timestamp = state['timestamp']\n+    \n+    fixer_tools = [t for t in all_tools if t.name in [\"graph_update_entity\", \"documents_delete_entity\", \"graph_update_relation\", \"documents_delete_relation\", \"graph_entity_exists\"]] + [load_report, human_approval]\n+    fixer_prompt = '''Your goal is to correct data quality issues.\n+1.  **Load Auditor's Report**: Load `auditor_report.json`.\n+2.  **Create a Plan**: Create a step-by-step plan to correct the issues.\n+3.  **Get Human Approval**: Use `human_approval` to get your plan approved by calling the tool with the plan.\n+4.  **Execute**: Execute the approved plan.\n+5.  **Save Report**: Save a report of your actions to `fixer_report.json`.'''\n+\n+    prompt = ChatPromptTemplate.from_template(fixer_prompt)\n+    agent_executor = create_openai_tools_agent(model, fixer_tools, prompt)\n+\n+    task_input = \"Your task is to fix issues from the auditor's report. Begin now.\"\n+\n+    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n+\n+    logger.info(f\"Fixer Agent finished with output: {result['output']}\")\n+    return {\"messages\": state['messages'] + [AIMessage(content=result['output'])]}\n+\n+def save_fixer_report_node(state: AgentState):\n+    \"\"\"Saves the final report from the last AI message.\"\"\"\n+    logger = state['logger']\n+    final_message_from_agent = state['messages'][-1]\n+\n+    status = f\"--- Saving Fixer Report ---\\n{final_message_from_agent.content}\"\n+    print(f\"[INFO] {status}\")\n+    logger.info(status)\n+\n+    try:\n+        report_json = extract_and_clean_json(final_message_from_agent.content)\n+        if 'report_id' not in report_json:\n+            report_json['report_id'] = state.get('fixer_report_id', 'unknown_id')\n+        save_fixer_report.invoke({\"fixer_report\": json.dumps(report_json)})\n+        status = f\"Successfully saved fixer report with ID {report_json.get('report_id')}\"\n+        print(f\"[INFO] {status}\")\n+        logger.info(status)\n+    except (ValueError, KeyError) as e:\n+        status = f\"Error processing or saving fixer report: {e}\"\n+        print(f\"[ERROR] {status}\")\n+        logger.error(status, exc_info=True)\n+\n+    return {\"messages\": state['messages'] + [AIMessage(content=status)]}",
      "patch_lines": [
        "@@ -0,0 +1,60 @@\n",
        "+# sub_agents.py\n",
        "+from langchain.agents import create_openai_tools_agent, AgentExecutor\n",
        "+from langchain_core.prompts import ChatPromptTemplate\n",
        "+from langchain_core.tools import tool, ToolException\n",
        "+from langchain_core.messages import AIMessage\n",
        "+import json\n",
        "+import os\n",
        "+import re\n",
        "+from state import AgentState\n",
        "+from tools import load_report, human_approval, extract_and_clean_json\n",
        "+\n",
        "+\n",
        "+async def fixer_agent_node(state: AgentState):\n",
        "+    print(\"--- Running Fixer Agent ---\")\n",
        "+    all_tools = state['mcp_tools']\n",
        "+    model = state['model']\n",
        "+    logger = state['logger']\n",
        "+    timestamp = state['timestamp']\n",
        "+    \n",
        "+    fixer_tools = [t for t in all_tools if t.name in [\"graph_update_entity\", \"documents_delete_entity\", \"graph_update_relation\", \"documents_delete_relation\", \"graph_entity_exists\"]] + [load_report, human_approval]\n",
        "+    fixer_prompt = '''Your goal is to correct data quality issues.\n",
        "+1.  **Load Auditor's Report**: Load `auditor_report.json`.\n",
        "+2.  **Create a Plan**: Create a step-by-step plan to correct the issues.\n",
        "+3.  **Get Human Approval**: Use `human_approval` to get your plan approved by calling the tool with the plan.\n",
        "+4.  **Execute**: Execute the approved plan.\n",
        "+5.  **Save Report**: Save a report of your actions to `fixer_report.json`.'''\n",
        "+\n",
        "+    prompt = ChatPromptTemplate.from_template(fixer_prompt)\n",
        "+    agent_executor = create_openai_tools_agent(model, fixer_tools, prompt)\n",
        "+\n",
        "+    task_input = \"Your task is to fix issues from the auditor's report. Begin now.\"\n",
        "+\n",
        "+    result = await agent_executor.ainvoke({\"input\": task_input, \"timestamp\": timestamp})\n",
        "+\n",
        "+    logger.info(f\"Fixer Agent finished with output: {result['output']}\")\n",
        "+    return {\"messages\": state['messages'] + [AIMessage(content=result['output'])]}\n",
        "+\n",
        "+def save_fixer_report_node(state: AgentState):\n",
        "+    \"\"\"Saves the final report from the last AI message.\"\"\"\n",
        "+    logger = state['logger']\n",
        "+    final_message_from_agent = state['messages'][-1]\n",
        "+\n",
        "+    status = f\"--- Saving Fixer Report ---\\n{final_message_from_agent.content}\"\n",
        "+    print(f\"[INFO] {status}\")\n",
        "+    logger.info(status)\n",
        "+\n",
        "+    try:\n",
        "+        report_json = extract_and_clean_json(final_message_from_agent.content)\n",
        "+        if 'report_id' not in report_json:\n",
        "+            report_json['report_id'] = state.get('fixer_report_id', 'unknown_id')\n",
        "+        save_fixer_report.invoke({\"fixer_report\": json.dumps(report_json)})\n",
        "+        status = f\"Successfully saved fixer report with ID {report_json.get('report_id')}\"\n",
        "+        print(f\"[INFO] {status}\")\n",
        "+        logger.info(status)\n",
        "+    except (ValueError, KeyError) as e:\n",
        "+        status = f\"Error processing or saving fixer report: {e}\"\n",
        "+        print(f\"[ERROR] {status}\")\n",
        "+        logger.error(status, exc_info=True)\n",
        "+\n",
        "+    return {\"messages\": state['messages'] + [AIMessage(content=status)]}\n"
      ]
    },
    {
      "path": "sub_agents/researcher.py",
      "status": "added",
      "additions": 122,
      "deletions": 0,
      "patch": "@@ -0,0 +1,122 @@\n+# researcher.py\n+from langchain.agents import create_openai_tools_agent, AgentExecutor\n+from langchain_core.prompts import ChatPromptTemplate\n+from langchain_core.tools import tool, ToolException\n+from langchain_core.messages import AIMessage\n+import json\n+import os\n+import re\n+from state import AgentState\n+from tools import initialize_researcher, update_researcher_report, extract_and_clean_json\n+\n+async def researcher_agent_node(state: AgentState):\n+    logger = state['logger']\n+\n+    # One-time initialization of the researcher state\n+    if not state.get(\"researcher_report_id\"):\n+        status = f\"--- Researcher state not initialized. Calling initialize_researcher directly. ---\"\n+        print(status)\n+        logger.info(status)\n+        try:\n+            init_result = initialize_researcher(state['timestamp'])\n+            if isinstance(init_result, dict):\n+                state[\"researcher_report_id\"] = init_result.get(\"researcher_report_id\")\n+                state[\"researcher_gaps_todo\"] = init_result.get(\"researcher_gaps_todo\")\n+                state[\"researcher_gaps_complete\"] = []\n+                status = f\"--- Initialized researcher state: {init_result} ---\"\n+                print(f\"[INFO] {status}\")\n+                logger.info(status)\n+        except Exception as e:\n+            status = f\"Failed to initialize researcher state: {e}\"\n+            print(f\"[ERROR] {status}\")\n+            logger.error(status)\n+            return {\"status\": status}\n+\n+    # Create the specialized agent for performing searches\n+    searcher_prompt = ChatPromptTemplate.from_template(open(\"prompts/searcher_prompt.txt\", \"r\").read())\n+    searcher_tools = [tool for tool in state['mcp_tools'] if tool.name == 'google_search']\n+\n+    status = f\"Attempting to invoke searcher agent executor with tools: {searcher_tools}\"\n+    print(f\"[INFO] {status}\")\n+    logger.info(status)\n+    try:\n+        agent_runnable = create_openai_tools_agent(state['model'], searcher_tools, searcher_prompt)\n+        executor = AgentExecutor(agent=agent_runnable, tools=searcher_tools, verbose=True)\n+    except Exception as e:\n+        status = f\"Failed to create searcher agent executor: {e}\"\n+        print(f\"[ERROR] {status}\")\n+        logger.error(status)\n+        return {\"status\": status}\n+\n+    # Main control loop, managed by the node\n+    gaps_todo = state.get(\"researcher_gaps_todo\", [])\n+    if isinstance(gaps_todo, list):\n+        for current_gap in gaps_todo:\n+            state['researcher_current_gap'] = current_gap\n+            gap_id = current_gap['gap_id']\n+            research_topic = current_gap['research_topic']\n+\n+            status = f\"Starting research for gap: {gap_id}, research topic: {research_topic}\"\n+            print(f\"[INFO] {status}\")\n+            logger.info(status)\n+\n+            try:\n+                # Invoke the specialized agent for just ONE gap\n+                searcher_result = await executor.ainvoke({\"input\": research_topic})\n+                status = f\"Agent for gap {gap_id} finished. Raw output:\\n{searcher_result.get('output')}\"\n+                print(f\"[INFO] {status}\")\n+                logger.info(status)\n+\n+                # The node, not the agent, saves the results\n+                try:\n+                    # Use the new helper function to extract and clean the JSON\n+                    json_output = extract_and_clean_json(searcher_result.get(\"output\", \"\"))\n+                    searches = json_output.get(\"searches\", [])\n+                    status = f\"Successfully parsed searches for gap {gap_id}: {searches}\"\n+                    print(f\"[INFO] {status}\")\n+                    logger.info(status)\n+\n+                except (ValueError, json.JSONDecodeError) as e:\n+                    status = f\"Agent for gap {gap_id} returned invalid JSON: {searcher_result.get('output')}. Error: {e}\"\n+                    print(f\"[ERROR] {status}\")\n+                    logger.error(status)\n+                    continue\n+\n+                status = f\"Preparing to update report for gap {gap_id} with {len(searches)} searches\"\n+                print(f\"[INFO] {status}\")\n+                logger.info(status)\n+                try:\n+                    report_id = state['researcher_report_id']\n+                    current_gap = state['researcher_current_gap']\n+                    tool_input = {\n+                        \"report_id\": report_id,\n+                        \"current_gap\": current_gap,\n+                        \"search_results\": searches\n+                    }\n+                    result = update_researcher_report.invoke(tool_input)\n+                    status = f\"Updated researcher report for gap {gap_id}: {result}\"\n+                    print(f\"[INFO] {status}\")\n+                    logger.info(status)\n+                except Exception as e:\n+                    status = f\"update_researcher_report failed for gap {gap_id}: {e}\"\n+                    print(f\"[ERROR] {status}\")\n+                    logger.error(status, exc_info=True)\n+                    continue\n+\n+                status = f\"--- Successfully completed research and report writing for gap: {gap_id} ---\"\n+                print(f\"[INFO] {status}\")\n+                logger.info(status)\n+                if \"researcher_gaps_complete\" not in state or state[\"researcher_gaps_complete\"] is None:\n+                    state[\"researcher_gaps_complete\"] = []\n+                state[\"researcher_gaps_complete\"].append(gap_id)\n+\n+            except Exception as e:\n+                status = f\"An unexpected error occurred while processing gap {gap_id}: {e}\"\n+                print(f\"[ERROR] {status}\")\n+                logger.error(status, exc_info=True)\n+                continue\n+\n+\n+    final_status = f\"Successfully and incrementally completed researcher report with ID {state['researcher_report_id']} and wrote report to researcher_report.json.\"\n+    logger.info(final_status)\n+    return {\"messages\": state['messages'] + [AIMessage(content=final_status)]}",
      "patch_lines": [
        "@@ -0,0 +1,122 @@\n",
        "+# researcher.py\n",
        "+from langchain.agents import create_openai_tools_agent, AgentExecutor\n",
        "+from langchain_core.prompts import ChatPromptTemplate\n",
        "+from langchain_core.tools import tool, ToolException\n",
        "+from langchain_core.messages import AIMessage\n",
        "+import json\n",
        "+import os\n",
        "+import re\n",
        "+from state import AgentState\n",
        "+from tools import initialize_researcher, update_researcher_report, extract_and_clean_json\n",
        "+\n",
        "+async def researcher_agent_node(state: AgentState):\n",
        "+    logger = state['logger']\n",
        "+\n",
        "+    # One-time initialization of the researcher state\n",
        "+    if not state.get(\"researcher_report_id\"):\n",
        "+        status = f\"--- Researcher state not initialized. Calling initialize_researcher directly. ---\"\n",
        "+        print(status)\n",
        "+        logger.info(status)\n",
        "+        try:\n",
        "+            init_result = initialize_researcher(state['timestamp'])\n",
        "+            if isinstance(init_result, dict):\n",
        "+                state[\"researcher_report_id\"] = init_result.get(\"researcher_report_id\")\n",
        "+                state[\"researcher_gaps_todo\"] = init_result.get(\"researcher_gaps_todo\")\n",
        "+                state[\"researcher_gaps_complete\"] = []\n",
        "+                status = f\"--- Initialized researcher state: {init_result} ---\"\n",
        "+                print(f\"[INFO] {status}\")\n",
        "+                logger.info(status)\n",
        "+        except Exception as e:\n",
        "+            status = f\"Failed to initialize researcher state: {e}\"\n",
        "+            print(f\"[ERROR] {status}\")\n",
        "+            logger.error(status)\n",
        "+            return {\"status\": status}\n",
        "+\n",
        "+    # Create the specialized agent for performing searches\n",
        "+    searcher_prompt = ChatPromptTemplate.from_template(open(\"prompts/searcher_prompt.txt\", \"r\").read())\n",
        "+    searcher_tools = [tool for tool in state['mcp_tools'] if tool.name == 'google_search']\n",
        "+\n",
        "+    status = f\"Attempting to invoke searcher agent executor with tools: {searcher_tools}\"\n",
        "+    print(f\"[INFO] {status}\")\n",
        "+    logger.info(status)\n",
        "+    try:\n",
        "+        agent_runnable = create_openai_tools_agent(state['model'], searcher_tools, searcher_prompt)\n",
        "+        executor = AgentExecutor(agent=agent_runnable, tools=searcher_tools, verbose=True)\n",
        "+    except Exception as e:\n",
        "+        status = f\"Failed to create searcher agent executor: {e}\"\n",
        "+        print(f\"[ERROR] {status}\")\n",
        "+        logger.error(status)\n",
        "+        return {\"status\": status}\n",
        "+\n",
        "+    # Main control loop, managed by the node\n",
        "+    gaps_todo = state.get(\"researcher_gaps_todo\", [])\n",
        "+    if isinstance(gaps_todo, list):\n",
        "+        for current_gap in gaps_todo:\n",
        "+            state['researcher_current_gap'] = current_gap\n",
        "+            gap_id = current_gap['gap_id']\n",
        "+            research_topic = current_gap['research_topic']\n",
        "+\n",
        "+            status = f\"Starting research for gap: {gap_id}, research topic: {research_topic}\"\n",
        "+            print(f\"[INFO] {status}\")\n",
        "+            logger.info(status)\n",
        "+\n",
        "+            try:\n",
        "+                # Invoke the specialized agent for just ONE gap\n",
        "+                searcher_result = await executor.ainvoke({\"input\": research_topic})\n",
        "+                status = f\"Agent for gap {gap_id} finished. Raw output:\\n{searcher_result.get('output')}\"\n",
        "+                print(f\"[INFO] {status}\")\n",
        "+                logger.info(status)\n",
        "+\n",
        "+                # The node, not the agent, saves the results\n",
        "+                try:\n",
        "+                    # Use the new helper function to extract and clean the JSON\n",
        "+                    json_output = extract_and_clean_json(searcher_result.get(\"output\", \"\"))\n",
        "+                    searches = json_output.get(\"searches\", [])\n",
        "+                    status = f\"Successfully parsed searches for gap {gap_id}: {searches}\"\n",
        "+                    print(f\"[INFO] {status}\")\n",
        "+                    logger.info(status)\n",
        "+\n",
        "+                except (ValueError, json.JSONDecodeError) as e:\n",
        "+                    status = f\"Agent for gap {gap_id} returned invalid JSON: {searcher_result.get('output')}. Error: {e}\"\n",
        "+                    print(f\"[ERROR] {status}\")\n",
        "+                    logger.error(status)\n",
        "+                    continue\n",
        "+\n",
        "+                status = f\"Preparing to update report for gap {gap_id} with {len(searches)} searches\"\n",
        "+                print(f\"[INFO] {status}\")\n",
        "+                logger.info(status)\n",
        "+                try:\n",
        "+                    report_id = state['researcher_report_id']\n",
        "+                    current_gap = state['researcher_current_gap']\n",
        "+                    tool_input = {\n",
        "+                        \"report_id\": report_id,\n",
        "+                        \"current_gap\": current_gap,\n",
        "+                        \"search_results\": searches\n",
        "+                    }\n",
        "+                    result = update_researcher_report.invoke(tool_input)\n",
        "+                    status = f\"Updated researcher report for gap {gap_id}: {result}\"\n",
        "+                    print(f\"[INFO] {status}\")\n",
        "+                    logger.info(status)\n",
        "+                except Exception as e:\n",
        "+                    status = f\"update_researcher_report failed for gap {gap_id}: {e}\"\n",
        "+                    print(f\"[ERROR] {status}\")\n",
        "+                    logger.error(status, exc_info=True)\n",
        "+                    continue\n",
        "+\n",
        "+                status = f\"--- Successfully completed research and report writing for gap: {gap_id} ---\"\n",
        "+                print(f\"[INFO] {status}\")\n",
        "+                logger.info(status)\n",
        "+                if \"researcher_gaps_complete\" not in state or state[\"researcher_gaps_complete\"] is None:\n",
        "+                    state[\"researcher_gaps_complete\"] = []\n",
        "+                state[\"researcher_gaps_complete\"].append(gap_id)\n",
        "+\n",
        "+            except Exception as e:\n",
        "+                status = f\"An unexpected error occurred while processing gap {gap_id}: {e}\"\n",
        "+                print(f\"[ERROR] {status}\")\n",
        "+                logger.error(status, exc_info=True)\n",
        "+                continue\n",
        "+\n",
        "+\n",
        "+    final_status = f\"Successfully and incrementally completed researcher report with ID {state['researcher_report_id']} and wrote report to researcher_report.json.\"\n",
        "+    logger.info(final_status)\n",
        "+    return {\"messages\": state['messages'] + [AIMessage(content=final_status)]}\n"
      ]
    },
    {
      "path": "tools.py",
      "status": "added",
      "additions": 143,
      "deletions": 0,
      "patch": "@@ -0,0 +1,143 @@\n+# tools.py\n+import json_repair\n+from langchain_core.tools import tool, ToolException\n+import json\n+from db_utils import (\n+    db_save_report, \n+    db_load_latest_report, \n+    db_update_researcher_report,\n+    db_update_curator_report\n+)\n+\n+def extract_and_clean_json(llm_output: str) -> dict:\n+    \n+    # Use json_repair.loads() directly as a robust, drop-in replacement for json_repair.loads()\n+    try:\n+        return json_repair.loads(llm_output)\n+    except Exception as e:\n+        raise ValueError(f\"Failed to repair or parse JSON: {e}\")\n+\n+@tool\n+def load_report(report_type: str) -> str:\n+    \"\"\"Loads the most recent report from the database. `report_type` must be one of 'analyst', 'researcher', or 'curator'.\"\"\"\n+    table_map = {\n+        \"analyst\": \"analyst_reports\",\n+        \"researcher\": \"researcher_reports\",\n+        \"curator\": \"curator_reports\"\n+    }\n+    table_name = table_map.get(report_type)\n+    if not table_name:\n+        raise ToolException(f\"Invalid report_type '{report_type}'.\")\n+    try:\n+        return db_load_latest_report(table_name)\n+    except FileNotFoundError as e:\n+        raise ToolException(str(e))\n+\n+@tool\n+def human_approval(plan: str) -> str:\n+    \"\"\"\n+    Asks for human approval for a given plan.\n+    The plan is a string that describes the actions to be taken.\n+    Returns 'approved' or 'denied'.\n+    \"\"\"\n+    import logging\n+    logger = logging.getLogger('KnowledgeAgent')\n+\n+    status = f\"PROPOSED PLAN:\\n{plan}\"\n+    print(f\"\\n{status}\")\n+    logger.info(f\"{status}\")\n+    response = input(\"Do you approve this plan? (y/n): \").lower()\n+    if response == 'y':\n+        status = \"Approved.\"\n+        print(status)\n+        logger.info(status)\n+        return \"approved\"\n+    status = \"Denied.\"\n+    print(status)\n+    logger.info(status)\n+    return \"denied\"\n+\n+@tool\n+def save_analyst_report(analyst_report: str) -> dict:\n+    \"\"\"Saves the analyst's report to the database.\"\"\"\n+    import logging\n+    logger = logging.getLogger('KnowledgeAgent')\n+    try:\n+        report_data = json_repair.loads(analyst_report)\n+        status = f\"Parsed analyst report as: {report_data}.\"\n+        print(status)\n+        logger.info(status)\n+        report_id = report_data.get(\"report_id\")\n+        print(f\"Report ID: {report_id}\")\n+        logger.info(f\"Report ID: {report_id}\")\n+        if not report_id:\n+            raise ValueError(\"Report data must include a 'report_id'\")\n+        db_save_report(\"analyst_reports\", report_id, report_data)\n+        status = f\"Successfully saved analyst report {report_id} to database.\"\n+        print(status)\n+        logger.info(status)\n+        return {\"status\": status}\n+    except Exception as e:\n+        status = f\"Error saving analyst report: {e}\"\n+        print(status)\n+        logger.error(status)\n+        raise ToolException(f\"Error saving analyst report: {e}\")\n+\n+@tool\n+def initialize_researcher(timestamp: str) -> dict:\n+    \"\"\"Initializes the researcher's report in the database.\"\"\"\n+    try:\n+        analyst_report_str = db_load_latest_report('analyst_reports')\n+        analyst_report = json_repair.loads(analyst_report_str)\n+    except (FileNotFoundError, json.JSONDecodeError) as e:\n+        raise ToolException(f\"Error loading or parsing analyst report: {e}\")\n+\n+    report_id = f\"res_{timestamp.replace('-', '').replace(':', '').replace('T', '_').split('.')[0]}\"\n+    gaps_to_do = [\n+        {\"gap_id\": gap[\"gap_id\"], \"description\": gap[\"description\"], \"research_topic\": gap[\"research_topic\"]}\n+        for gap in analyst_report.get(\"identified_gaps\", [])\n+    ]\n+    \n+    new_report = {\"report_id\": report_id, \"gaps\": gaps_to_do}\n+    db_save_report(\"researcher_reports\", report_id, new_report)\n+\n+    return {\"researcher_report_id\": report_id, \"researcher_gaps_todo\": gaps_to_do}\n+\n+@tool\n+def update_researcher_report(report_id: str, current_gap: dict, search_results: list) -> str:\n+    \"\"\"Updates a researcher report in the database with search results.\"\"\"\n+    try:\n+        gap_id = current_gap[\"gap_id\"]\n+        db_update_researcher_report(report_id, gap_id, search_results)\n+        return f\"Successfully updated searches for gap {gap_id} in report {report_id}.\"\n+    except Exception as e:\n+        raise ToolException(f\"Failed to update researcher report: {e}\")\n+\n+@tool\n+def initialize_curator(timestamp: str) -> dict:\n+    \"\"\"Initializes the curator's report in the database.\"\"\"\n+    try:\n+        researcher_report_str = db_load_latest_report('researcher_reports')\n+        researcher_report = json_repair.loads(researcher_report_str)\n+    except (FileNotFoundError, json.JSONDecodeError) as e:\n+        raise ToolException(f\"Error loading or parsing researcher report: {e}\")\n+\n+    report_id = f\"cur_{timestamp.replace('-', '').replace(':', '').replace('T', '_').split('.')[0]}\"\n+    searches_todo = [\n+        search for gap in researcher_report.get(\"gaps\", []) \n+        for search in gap.get(\"searches\", [])\n+    ]\n+    \n+    new_report = {\"report_id\": report_id, \"urls_for_ingestion\": [], \"url_ingestion_status\": []}\n+    db_save_report(\"curator_reports\", report_id, new_report)\n+\n+    return {\"curator_report_id\": report_id, \"curator_searches_todo\": searches_todo}\n+\n+@tool\n+def update_curator_report(report_id: str, job: str, results: list) -> str:\n+    \"\"\"Updates a curator report in the database.\"\"\"\n+    try:\n+        db_update_curator_report(report_id, job, results)\n+        return f\"Successfully updated {job} for report {report_id}.\"\n+    except Exception as e:\n+        raise ToolException(f\"Failed to update curator report: {e}\")",
      "patch_lines": [
        "@@ -0,0 +1,143 @@\n",
        "+# tools.py\n",
        "+import json_repair\n",
        "+from langchain_core.tools import tool, ToolException\n",
        "+import json\n",
        "+from db_utils import (\n",
        "+    db_save_report, \n",
        "+    db_load_latest_report, \n",
        "+    db_update_researcher_report,\n",
        "+    db_update_curator_report\n",
        "+)\n",
        "+\n",
        "+def extract_and_clean_json(llm_output: str) -> dict:\n",
        "+    \n",
        "+    # Use json_repair.loads() directly as a robust, drop-in replacement for json_repair.loads()\n",
        "+    try:\n",
        "+        return json_repair.loads(llm_output)\n",
        "+    except Exception as e:\n",
        "+        raise ValueError(f\"Failed to repair or parse JSON: {e}\")\n",
        "+\n",
        "+@tool\n",
        "+def load_report(report_type: str) -> str:\n",
        "+    \"\"\"Loads the most recent report from the database. `report_type` must be one of 'analyst', 'researcher', or 'curator'.\"\"\"\n",
        "+    table_map = {\n",
        "+        \"analyst\": \"analyst_reports\",\n",
        "+        \"researcher\": \"researcher_reports\",\n",
        "+        \"curator\": \"curator_reports\"\n",
        "+    }\n",
        "+    table_name = table_map.get(report_type)\n",
        "+    if not table_name:\n",
        "+        raise ToolException(f\"Invalid report_type '{report_type}'.\")\n",
        "+    try:\n",
        "+        return db_load_latest_report(table_name)\n",
        "+    except FileNotFoundError as e:\n",
        "+        raise ToolException(str(e))\n",
        "+\n",
        "+@tool\n",
        "+def human_approval(plan: str) -> str:\n",
        "+    \"\"\"\n",
        "+    Asks for human approval for a given plan.\n",
        "+    The plan is a string that describes the actions to be taken.\n",
        "+    Returns 'approved' or 'denied'.\n",
        "+    \"\"\"\n",
        "+    import logging\n",
        "+    logger = logging.getLogger('KnowledgeAgent')\n",
        "+\n",
        "+    status = f\"PROPOSED PLAN:\\n{plan}\"\n",
        "+    print(f\"\\n{status}\")\n",
        "+    logger.info(f\"{status}\")\n",
        "+    response = input(\"Do you approve this plan? (y/n): \").lower()\n",
        "+    if response == 'y':\n",
        "+        status = \"Approved.\"\n",
        "+        print(status)\n",
        "+        logger.info(status)\n",
        "+        return \"approved\"\n",
        "+    status = \"Denied.\"\n",
        "+    print(status)\n",
        "+    logger.info(status)\n",
        "+    return \"denied\"\n",
        "+\n",
        "+@tool\n",
        "+def save_analyst_report(analyst_report: str) -> dict:\n",
        "+    \"\"\"Saves the analyst's report to the database.\"\"\"\n",
        "+    import logging\n",
        "+    logger = logging.getLogger('KnowledgeAgent')\n",
        "+    try:\n",
        "+        report_data = json_repair.loads(analyst_report)\n",
        "+        status = f\"Parsed analyst report as: {report_data}.\"\n",
        "+        print(status)\n",
        "+        logger.info(status)\n",
        "+        report_id = report_data.get(\"report_id\")\n",
        "+        print(f\"Report ID: {report_id}\")\n",
        "+        logger.info(f\"Report ID: {report_id}\")\n",
        "+        if not report_id:\n",
        "+            raise ValueError(\"Report data must include a 'report_id'\")\n",
        "+        db_save_report(\"analyst_reports\", report_id, report_data)\n",
        "+        status = f\"Successfully saved analyst report {report_id} to database.\"\n",
        "+        print(status)\n",
        "+        logger.info(status)\n",
        "+        return {\"status\": status}\n",
        "+    except Exception as e:\n",
        "+        status = f\"Error saving analyst report: {e}\"\n",
        "+        print(status)\n",
        "+        logger.error(status)\n",
        "+        raise ToolException(f\"Error saving analyst report: {e}\")\n",
        "+\n",
        "+@tool\n",
        "+def initialize_researcher(timestamp: str) -> dict:\n",
        "+    \"\"\"Initializes the researcher's report in the database.\"\"\"\n",
        "+    try:\n",
        "+        analyst_report_str = db_load_latest_report('analyst_reports')\n",
        "+        analyst_report = json_repair.loads(analyst_report_str)\n",
        "+    except (FileNotFoundError, json.JSONDecodeError) as e:\n",
        "+        raise ToolException(f\"Error loading or parsing analyst report: {e}\")\n",
        "+\n",
        "+    report_id = f\"res_{timestamp.replace('-', '').replace(':', '').replace('T', '_').split('.')[0]}\"\n",
        "+    gaps_to_do = [\n",
        "+        {\"gap_id\": gap[\"gap_id\"], \"description\": gap[\"description\"], \"research_topic\": gap[\"research_topic\"]}\n",
        "+        for gap in analyst_report.get(\"identified_gaps\", [])\n",
        "+    ]\n",
        "+    \n",
        "+    new_report = {\"report_id\": report_id, \"gaps\": gaps_to_do}\n",
        "+    db_save_report(\"researcher_reports\", report_id, new_report)\n",
        "+\n",
        "+    return {\"researcher_report_id\": report_id, \"researcher_gaps_todo\": gaps_to_do}\n",
        "+\n",
        "+@tool\n",
        "+def update_researcher_report(report_id: str, current_gap: dict, search_results: list) -> str:\n",
        "+    \"\"\"Updates a researcher report in the database with search results.\"\"\"\n",
        "+    try:\n",
        "+        gap_id = current_gap[\"gap_id\"]\n",
        "+        db_update_researcher_report(report_id, gap_id, search_results)\n",
        "+        return f\"Successfully updated searches for gap {gap_id} in report {report_id}.\"\n",
        "+    except Exception as e:\n",
        "+        raise ToolException(f\"Failed to update researcher report: {e}\")\n",
        "+\n",
        "+@tool\n",
        "+def initialize_curator(timestamp: str) -> dict:\n",
        "+    \"\"\"Initializes the curator's report in the database.\"\"\"\n",
        "+    try:\n",
        "+        researcher_report_str = db_load_latest_report('researcher_reports')\n",
        "+        researcher_report = json_repair.loads(researcher_report_str)\n",
        "+    except (FileNotFoundError, json.JSONDecodeError) as e:\n",
        "+        raise ToolException(f\"Error loading or parsing researcher report: {e}\")\n",
        "+\n",
        "+    report_id = f\"cur_{timestamp.replace('-', '').replace(':', '').replace('T', '_').split('.')[0]}\"\n",
        "+    searches_todo = [\n",
        "+        search for gap in researcher_report.get(\"gaps\", []) \n",
        "+        for search in gap.get(\"searches\", [])\n",
        "+    ]\n",
        "+    \n",
        "+    new_report = {\"report_id\": report_id, \"urls_for_ingestion\": [], \"url_ingestion_status\": []}\n",
        "+    db_save_report(\"curator_reports\", report_id, new_report)\n",
        "+\n",
        "+    return {\"curator_report_id\": report_id, \"curator_searches_todo\": searches_todo}\n",
        "+\n",
        "+@tool\n",
        "+def update_curator_report(report_id: str, job: str, results: list) -> str:\n",
        "+    \"\"\"Updates a curator report in the database.\"\"\"\n",
        "+    try:\n",
        "+        db_update_curator_report(report_id, job, results)\n",
        "+        return f\"Successfully updated {job} for report {report_id}.\"\n",
        "+    except Exception as e:\n",
        "+        raise ToolException(f\"Failed to update curator report: {e}\")\n"
      ]
    }
  ]
}