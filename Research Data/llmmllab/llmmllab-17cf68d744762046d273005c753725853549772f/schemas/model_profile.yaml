$schema: http://json-schema.org/draft-07/schema#
title: ModelProfile
description: ModelProfile represents a model profile used for generating responses
type: object
properties:
  id:
    type: string
    format: uuid
    description: Unique identifier for the profile
  user_id:
    type: string
    description: Id of the user who owns the profile
  name:
    type: string
    description: Name of the profile
  description:
    type: string
    description: Description of the profile
  model_name:
    type: string
    description: Name of the model to use
  parameters:
    $ref: "#/definitions/ModelParameters"
    description: Parameters for configuring the model
  system_prompt:
    type: string
    description: System prompt to send to the model
  created_at:
    type: string
    format: date-time
    description: Timestamp of when the profile was created
  updated_at:
    type: string
    format: date-time
    description: Timestamp of when the profile was last updated
  model_version:
    type: string
    description: Version of the model
  type:
    type: integer
    description: Type of the model profile
  image_settings:
    $ref: model_profile_image_settings.yaml
    description: Image settings for the model profile
  circuit_breaker:
    $ref: circuit_breaker_config.yaml
    description: Optional circuit breaker configuration that overrides global settings
  gpu_config:
    $ref: gpu_config.yaml
    description: Optional GPU configuration that overrides global settings
required:
  - user_id
  - name
  - model_name
  - parameters
  - system_prompt
  - type
definitions:
  ModelParameters:
    $ref: model_parameters.yaml
