$schema: http://json-schema.org/draft-07/schema#
title: ChatReq
description: ChatReq represents a request to the Ollama API
type: object
properties:
  messages:
    type: array
    items:
      $ref: "#/definitions/Message"
    description: Messages to send to the model, each message is a struct with role and content
  stream:
    type: boolean
    description: If true, the response will be streamed back as a series of events
  format:
    type: object
    additionalProperties: true
    description: The format to return a response in. Format can be json or a JSON schema
  conversation_id:
    type: integer
    description: The ID of the conversation this message belongs to
  keep_alive:
    type: integer
    description: Controls how long the model will stay loaded into memory
  options:
    $ref: "#/definitions/ModelParameters"
    description: Additional model parameters listed in the documentation for the Modelfile such as temperature
  tools:
    type: array
    items:
      type: object
    description: Tools to use for the request, if any
  think:
    type: boolean
    description: If true, the model will think before responding, useful for complex queries
required:
  - messages
  - stream
  - conversation_id
definitions:
  Message:
    $ref: message.yaml
  ModelParameters:
    $ref: model_parameters.yaml
