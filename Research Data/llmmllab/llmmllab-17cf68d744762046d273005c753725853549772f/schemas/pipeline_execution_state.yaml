$schema: "http://json-schema.org/draft-07/schema#"
type: object
title: PipelineExecutionState
description: "State tracking for pipeline execution"
properties:
  pipeline_id:
    type: string
    description: "Unique identifier for the pipeline execution"
  conversation_id:
    type: integer
    description: "Associated conversation ID"
  user_id:
    type: string
    description: "User ID for the execution"
  status:
    type: string
    enum: ["initializing", "running", "completed", "failed", "cancelled"]
    description: "Current execution status"
  start_time:
    type: string
    format: "date-time"
    description: "When execution started"
  end_time:
    type: string
    format: "date-time"
    description: "When execution completed"
  error_message:
    type: string
    description: "Error message if execution failed"
    maxLength: 1000
  metrics:
    $ref: "pipeline_metrics.yaml"
required: ["pipeline_id", "conversation_id", "user_id", "status", "start_time"]
additionalProperties: false
