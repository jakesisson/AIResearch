$schema: http://json-schema.org/draft-07/schema#
title: ChatResponse
description: ChatResponse represents a response from the chat API
type: object
properties:
  done:
    type: boolean
    description: Indicates whether the generation is complete
  message:
    $ref: "#/definitions/Message"
    description: The message content and metadata returned by the model
  created_at:
    type: string
    format: date-time
    description: Timestamp when the response was created
  context:
    type: array
    items:
      type: array
      items:
        type: number
    description: Vectors representing the tokenized context (embeddings)
  finish_reason:
    type: string
    description: Specific indicator of how or why the generation finished
    enum:
      - "stop"
      - "length"
      - "error"
      - "load"
      - "unload"
      - "timeout"
      - "cancel"
  total_duration:
    type: number
    description: Total time taken for the entire generation process in milliseconds
  load_duration:
    type: number
    description: Time taken to load the model in milliseconds
  prompt_eval_count:
    type: number
    description: Number of tokens in the prompt that were evaluated
  prompt_eval_duration:
    type: number
    description: Time taken to evaluate the prompt tokens in milliseconds
  eval_count:
    type: number
    description: Total number of tokens evaluated
  eval_duration:
    type: number
    description: Time taken for token evaluation in milliseconds
  thinking:
    type: string
    description: The thinking/reasoning process from the assistant before the response
  channels:
    type: object
    description: Additional structured channels extracted from the response (tool calls, status, etc.)
    additionalProperties: true
  observer_messages:
    type: array
    description: OBSERVER role messages that should be displayed as temporary floating notifications
    items:
      type: string
required:
  - done
definitions:
  Message:
    $ref: message.yaml
